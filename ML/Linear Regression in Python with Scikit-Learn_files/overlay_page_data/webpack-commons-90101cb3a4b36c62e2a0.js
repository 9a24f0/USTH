/*!For license information please see webpack-commons-90101cb3a4b36c62e2a0.chunk.js.LICENSE.txt*/(("undefined"!==typeof self?self:this).webpackJsonp=("undefined"!==typeof self?self:this).webpackJsonp||[]).push([[1],[function(e,t,n){"use strict";e.exports=n(538)},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){return null!=e&&"object"===typeof e&&"parsingError"===e._tag}function c(e,t,n,r){return{_tag:"parsingError",path:e,data:t,message:n,suberrors:r||[]}}function u(e){var t=[];return function e(n,r){r.suberrors.length>0?r.suberrors.forEach((function(t){var r=null!=t.path?n+"."+t.path:n;e(r,t)})):t.push({fullPath:n||".",error:r})}("",e),t.map((function(e){return"path ".concat(e.fullPath,": ").concat(e.error.message," (got value '").concat(e.error.data,"')")})).map((function(e){return"- ".concat(e)})).join("\n")}n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"l",(function(){return d})),n.d(t,"n",(function(){return f})),n.d(t,"f",(function(){return h})),n.d(t,"j",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"i",(function(){return g})),n.d(t,"g",(function(){return v})),n.d(t,"h",(function(){return y})),n.d(t,"k",(function(){return b})),n.d(t,"o",(function(){return w})),n.d(t,"e",(function(){return _})),n.d(t,"m",(function(){return S})),n.d(t,"a",(function(){return C})),n.d(t,"p",(function(){return x}));var d=function(e){return"number"===typeof e?e:c(null,e,"is not a number")},f=function(e){return"string"===typeof e?e:c(null,e,"is not a string")},h=function(e){return"boolean"===typeof e?e:c(null,e,"is not a boolean")},p=function(e){if("string"!==typeof e)return c(null,e,"is not a date string");var t=Date.parse(e);return Number.isNaN(t)?c(null,e,"is not a valid ISO date string"):new Date(t)},m=function(e){return e};function g(e){return function(t){return t===e?t:c(null,t,"does not much literal value ".concat(e))}}function v(e){return y(e.map((function(e){return g(e)})))}function y(e){return function(t){var n,r=e.map((function(e){return e(t)})),i=a(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(!l(o))return o}}catch(u){i.e(u)}finally{i.f()}var s=r.filter(l);return c(null,t,"does not match either parser",s)}}var b=function(e){return y([g(null),e])},w=function(e){return function(t){if(void 0!==t){var n=e(t);if(l(n)){var r=c(null,t,"is not undefined nor matches type",[n]);return r.___isForUndefined=!0,r}return n}}};function _(e){return function(t){if("object"===typeof t&&Array.isArray(t)){var n=t.map(e),r=[];return n.forEach((function(e,n){l(e)&&r.push(c("".concat(n),t[n],"element does not match",[e]))})),r.length>0?c(null,t,"some elements don't match",r):n}return c(null,t,"is not an array")}}function S(e){return function(t){if("object"===typeof t&&null!=t){var n={},r=[];return Object.keys(e).forEach((function(i){var o=(0,e[i])(t[i]);l(o)?r.push({key:i,error:o}):n[i]=o})),r.length>0?c(null,t,"does not match schema",r.map((function(e){var n=e.key in t,r=e.___isForUndefined||!1;if(n||r){var i=t[e.key];return c(e.key,i,"value of key '".concat(e.key,"' does not match"),[e.error])}return c(e.key,void 0,"key '".concat(e.key,"' does not exist"),[e.error])}))):n}return c(null,t,"is not an object")}}function C(e,t){return function(n){var r=e(n),o=t(n);return l(r)?r:l(o)?o:i(i({},r),o)}}function x(e){return function(t){if("object"===typeof t&&null!=t){var n={},r=[];return Object.keys(t).forEach((function(i){var o=t[i],a=e(o);l(a)?r.push({key:i,error:a}):n[i]=a})),r.length>0?c(null,t,"does not match schema",r.map((function(e){var n=t[e.key];return c(e.key,n,"value of key '".concat(e.key,"' does not match"),[e.error])}))):n}return c(null,t,"is not an object")}}},function(e,t,n){var r,i;r=[n(306),n(94),n(31),n(307),n(113),n(308),n(154)],void 0===(i=function(e,t,n,r,i,o,a){"use strict";var s=/function (.*?)\s?\(/,l={withBase:!0,withLogging:!0};function c(){var e=i.findComponentInfo(this);e&&Object.keys(e.instances).forEach((function(t){var n=e.instances[t];n&&n.instance&&n.instance.teardown()}))}function u(e){for(var n=arguments.length,r=new Array(n-1),o=1;o<n;o++)r[o-1]=arguments[o];if(!e)throw new Error("Component needs to be attachTo'd a jQuery object, native node or selector string");var a=t.merge.apply(t,r),s=i.findComponentInfo(this);$(e).each(function(e,t){s&&s.isAttachedTo(t)||(new this).initialize(t,a)}.bind(this))}function d(){return(this.mixedIn||this.prototype.mixedIn||[]).map((function(e){if(null==e.name){var t=e.toString().match(s);return t&&t[1]?t[1]:""}return l[e.name]?"":e.name})).filter(Boolean).join(", ")}function f(){for(var s=arguments.length,l=new Array(s),h=0;h<s;h++)l[h]=arguments[h];var p=function(){};return p.toString=p.prototype.toString=d,a.enabled&&(p.describe=p.prototype.describe=p.toString()),p.attachTo=u,p.mixin=function(){var e=f(),r=Object.create(p.prototype);return r.mixedIn=[].concat(p.prototype.mixedIn),r.defaults=t.merge(p.prototype.defaults),r.attrDef=p.prototype.attrDef,n.mixin(r,arguments),e.prototype=r,e.prototype.constructor=e,e},p.teardownAll=c,a.enabled&&l.unshift(o),l.unshift(r,e.withAdvice,i.withRegistration),n.mixin(p.prototype,l),p}return f.teardownAll=function(){i.components.slice().forEach((function(e){e.component.teardownAll()})),i.reset()},f}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(10)],void 0===(i=function(e){function t(e,t){return e="js."+e,void 0!==t.hash?I18n.t(e,t.hash):I18n.t(e)}return e.registerHelper("t",t),t}.apply(t,r))||(e.exports=i)},,function(e,t,n){"use strict";n.d(t,"b",(function(){return _})),n.d(t,"e",(function(){return O})),n.d(t,"a",(function(){return N})),n.d(t,"o",(function(){return D})),n.d(t,"p",(function(){return R})),n.d(t,"n",(function(){return F})),n.d(t,"m",(function(){return M})),n.d(t,"i",(function(){return L})),n.d(t,"g",(function(){return B})),n.d(t,"d",(function(){return U})),n.d(t,"k",(function(){return H})),n.d(t,"j",(function(){return W})),n.d(t,"f",(function(){return q})),n.d(t,"l",(function(){return V})),n.d(t,"h",(function(){return Y})),n.d(t,"c",(function(){return G}));var r=n(0),i=n(16),o=n(1),a=n(18),s=n(60),l=n(33),c=n(26),u=n(49),d=n(23),f=n(48),h=n(12),p=n(38);function m(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _="self",S=o.m({price_cents:o.l,suggested_price_cents:o.k(o.l)}),C=o.m({monthly:o.o(S),quarterly:o.o(S),biannually:o.o(S),yearly:o.o(S)}),x=o.m({id:o.n,name:o.n,is_sold_out:o.f,quantity_left:o.k(o.l),description:o.n,price_difference_cents:o.k(o.l),recurrence_values:o.k(C),is_customizable:o.f}),E=o.m({id:o.n,name:o.n,options:o.e(x)}),P=x,k=o.h([o.m({kind:o.i("categories"),variant_categories:o.e(E)}),o.m({kind:o.i("skus"),title:o.n,skus:o.e(P)})]),T=o.m({price_id:o.n,recurrence_id:l.e,base_price_cents_for_recurrence:o.l}),A=o.m({default_recurrence_id:l.e,available_recurrences:o.e(T)}),O=o.m({external_id:o.n,seller_id:o.l,permalink:o.n,name:o.n,currency:d.d,exchange_rate:o.l,long_url:o.n,product_duration_in_months:o.k(o.l),is_sales_limited:o.f,is_customizable:o.f,suggested_price_cents:o.k(o.l),is_physical:o.f,is_preorder:o.f,is_stream_only:o.f,is_tiered_membership:o.f,is_price_tax_exclusive:o.f,is_shipping_info_required:o.f,has_offer_codes:o.f,base_price_cents:o.l,base_rental_price_cents:o.k(o.l),recurrences:o.k(A),variant_list:k,purchase_type:l.d,quantity_remaining:o.k(o.l),quantity_enabled:o.f,custom_summary:o.k(o.n),file_info_attributes:o.e(o.m({name:o.n,value:o.n})),custom_attributes:o.e(o.m({name:o.n,value:o.n})),custom_fields:o.e(o.m({name:o.n,required:o.f})),preorder_release_date_fmt:o.k(o.n),vat_countries:o.e(o.n)}),I=r.createContext(null),j=r.createContext(null),N=function(e){var t=e.initialProductData,n=e.children,i=t.permalink,o=b(r.useState((function(){return U(t)})),2),s=o[0],l=o[1];Object(a.b)("uiSyncCheckoutProductState",(function(e,t){t.permalink===i&&l(t.productCheckoutState)}));var c=Object(a.a)("uiPerformProductCheckoutStateAction"),u=r.useCallback((function(e){c({permalink:i,action:e})}),[i,c]);return r.createElement(I.Provider,{value:s},r.createElement(j.Provider,{value:u},n))},D=function(){return r.useContext(I)},R=function(e){return e(function(){var e=r.useContext(I);if(null==e)throw new Error("Cannot access checkout state, make sure ProductCheckoutProvider is present");return e}())},F=function(){return r.useContext(j)},M=function(){var e=r.useContext(j);if(null==e)throw new Error("Cannot access checkout dispatch, make sure ProductCheckoutProvider is present");return e},L={findSelfEntry:function(e){return h.g.forceFindProductEntry(e.paymentState,_)},getIsFreePurchase:function(e){var t=L.getPayWhatYouWantCentsAfterDiscount(e),n=h.g.getTotalShippingInUSDCents(e.paymentState),r=L.getIsPayWhatYouWant(e),i=L.getTotalPriceCents(e),o=0===n;return!(!(r&&0===t&&o)&&!(!r&&0===i&&o))},getHasVariants:function(e){var t=e.productData;return"categories"===t.variant_list.kind?t.variant_list.variant_categories.length>0:t.variant_list.skus.length>0},getSelectedRecurrence:function(e){var t=e.productData;return null!=t.recurrences&&null!=e.selection.selectedRecurrenceId&&t.recurrences.available_recurrences.find((function(t){return t.recurrence_id===e.selection.selectedRecurrenceId}))||null},getSelectedBasePriceCents:function(e){var t=e.productData;if("rent"===e.selection.mode)return t.base_rental_price_cents||0;var n=L.getSelectedRecurrence(e);return null!=n?n.base_price_cents_for_recurrence:t.base_price_cents},getSelectedPriceCents:function(e){var t=L.getSelectedBasePriceCents(e),n=L.getRecurrenceValueForSelectedTierAndRecurrence(e);return null!=n?t+n.price_cents:t},getSelectedPriceInfo:function(e){var t=L.getSelectedRecurrence(e);return null!=t?{id:t.price_id,recurrence:t.recurrence_id,price_cents:t.base_price_cents_for_recurrence}:null},getSelectedVariantIds:function(e){return Object(p.e)(e.selection.variantSelection).filter(f.a)},getBeforeDiscountAndOptionsCents:function(e){return e.precomputedPricing.beforeDiscountAndOptionsCents},getBeforeDiscountCents:function(e){return e.precomputedPricing.beforeDiscountCents},getOfferCode:function(e){var t=L.findSelfEntry(e);return null!=t.appliedOfferCode&&"inputted"===t.appliedOfferCode.type?t.appliedOfferCode.offerCodePerOneQty:null},getHasOfferCode:function(e){return null!=L.getOfferCode(e)},getPriceCentsAfterDiscount:function(e){if(L.getIsPayWhatYouWant(e))return L.getPayWhatYouWantCentsAfterDiscount(e)||0;var t=L.getBeforeDiscountCents(e),n=L.getOfferCode(e);return Object(u.a)(n,t)},getTotalPriceCents:function(e){var t=L.getIsPayWhatYouWant(e),n=e.selection.quantity;return L.getPriceCentsAfterDiscount(e)*(t?1:n)},getSelectedVariantOptionNames:function(e){return Object(p.f)(e.selection.variantSelection,e.productData.variant_list).filter(f.a)},getVariantQuantityLeft:function(e){return Object(p.a)(e.selection.variantSelection,e.productData.variant_list)},getTotalOfSelectedVariantsPriceCentsChanges:function(e){return Object(p.b)(e.selection.variantSelection,e.productData.variant_list,(function(t){return L.getVariantOptionPriceDifference(e,t)}))},getVariantOptionPriceDifference:function(e,t){return Object(p.g)(e.productData.variant_list,e.selection.selectedRecurrenceId,t)||0},getVariantOptionIsPWYW:function(e,t){var n=e.productData;if(n.is_tiered_membership){var r=Object(p.c)(t,n.variant_list);return null!=r&&r.is_customizable}return n.is_customizable},getIsRecurringBilling:function(e){return null!=e.productData.recurrences},getSelectedTier:function(e){var t=e.productData;if(t.is_tiered_membership){var n=Object(p.e)(e.selection.variantSelection),r=n?n[0]:null;if(null==r)return null;var i=Object(p.c)(r,t.variant_list);return null==i?null:i}return null},getRecurrenceValueForSelectedTierAndRecurrence:function(e){var t=e.selection.selectedRecurrenceId;if(null==t)return null;var n=L.getSelectedTier(e);if(null==n)return null;if(null==n.recurrence_values)return null;var r=n.recurrence_values[t];return null==r?null:r},getIsPayWhatYouWant:function(e){var t=e.productData;if(t.is_tiered_membership){var n=L.getSelectedTier(e);return null!=n&&n.is_customizable}return t.is_customizable},getPayWhatYouWantCentsInput:function(e){var t=e.selection.customizedPrice;return null!=t?t.cents:null},getPayWhatYouWantCentsAfterDiscount:function(e){var t=e.selection.customizedPrice;if(null==t)return null;if("after-discount"===t.type)return t.cents;var n=L.getOfferCode(e);return Object(u.a)(n,t.cents)},getBaseMinimumPWYWCents:function(e){var t=L.getSelectedPriceCents(e),n=L.getTotalOfSelectedVariantsPriceCentsChanges(e);return e.productData.is_tiered_membership?t:t+n},getMinimumPWYWCents:function(e){var t=L.getBaseMinimumPWYWCents(e);if(null==t)return null;var n=e.selection.quantity,r=L.getOfferCode(e);return Object(u.a)(r,t*n)},getBaseSuggestedPWYWCents:function(e){var t=e.productData;if(t.is_tiered_membership){var n=L.getRecurrenceValueForSelectedTierAndRecurrence(e);if(null!=n)return n.suggested_price_cents||n.price_cents}else if(null!=t.suggested_price_cents)return t.suggested_price_cents;return L.getSelectedPriceCents(e)},getSuggestedPWYWCents:function(e){var t=L.getBaseSuggestedPWYWCents(e),n=e.selection.quantity*t,r=L.getPriceCentsAfterDiscount(e);return n<r?r:n},getIsValidPWYWInput:function(e){if(!L.getIsPayWhatYouWant(e))return!0;var t=L.getMinimumPWYWCents(e),n=L.getPayWhatYouWantCentsAfterDiscount(e);return null!=t&&(null!=n&&(n>=0&&n>=t))},getCustomFieldErrors:function(e){var t=e.productData.custom_fields,n=L.findSelfEntry(e).customFieldValues;return Object(h.c)(t,n)},getAreCustomFieldsValid:function(e){var t=L.getCustomFieldErrors(e);return Object.keys(t).every((function(e){return!t[e]}))},getProductQuantityLeft:function(e){return e.productData.quantity_remaining},getMaximumSelectableQuantity:function(e){var t=L.getVariantQuantityLeft(e),n=L.getProductQuantityLeft(e);return null==t&&null==n?null:null==t?n:null==n?t:Math.min(t,n)},getAllowIncreasingOfQuantity:function(e){var t=L.getMaximumSelectableQuantity(e);return null==t||e.selection.quantity<t},getIsValidQuantity:function(e){var t=L.getMaximumSelectableQuantity(e);return null==t||e.selection.quantity<=t}},B=function(e,t){return Object(i.a)(e,(function(n){switch(t.type){case"set-interactive":return void(n.isInteractive=!0);case"switch-mode":return void("buy_and_rent"===e.productData.purchase_type&&(n.selection.mode=t.mode));case"switch-recurrence":if(null!=e.productData.recurrences)-1!==e.productData.recurrences.available_recurrences.map((function(e){return e.recurrence_id})).indexOf(t.recurrenceId)&&(n.selection.selectedRecurrenceId=t.recurrenceId);return;case"select-variant-options-by-names":return void(n.selection.variantSelection=Object(p.j)(e.selection.variantSelection,e.productData.variant_list,t.optionNames));case"select-variant-options-by-ids":return void(n.selection.variantSelection=Object(p.i)(e.selection.variantSelection,e.productData.variant_list,t.optionIds));case"set-initial-customized-price-and-quantity":if(null!=t.quantity&&(n.selection.quantity=t.quantity),L.getIsPayWhatYouWant(n)&&null!=t.priceQueryParam){var r=Object(c.b)(t.priceQueryParam,e.productData.currency.is_single_unit),i=null!=r?Object(c.d)(r,e.productData.currency.is_single_unit):null;if(null!=i){var o=i*n.selection.quantity;n.selection.customizedPrice=t.withOfferCode?{type:"after-discount",cents:o}:{type:"before-discount",cents:o}}}return;case"change-customized-price-cents":return null==t.cents?void(n.selection.customizedPrice=null):void(null!=n.selection.customizedPrice?n.selection.customizedPrice.cents=t.cents:n.selection.customizedPrice=h.g.getIsUsingPresetOfferCode(n.paymentState)?{type:"after-discount",cents:t.cents}:{type:"before-discount",cents:t.cents});case"increase-quantity":var a=L.getMaximumSelectableQuantity(e);return void(a?n.selection.quantity=Math.min(a,n.selection.quantity+1):n.selection.quantity+=1);case"decrease-quantity":return void(n.selection.quantity=Math.max(1,n.selection.quantity-1));case"reset-quantity":return void(n.selection.quantity=1);case"update-precomputed-pricing":return void(n.precomputedPricing=t.pricing);case"pass-through-payment-action":return void(n.paymentState=Object(h.a)(e.paymentState,t.action));case"reset-product-data":var s=v(v({},e.productData),t.newPartialProductData);return v(v({},U(s)),{},{isInteractive:!0})}}))},U=function(e,t){var n=null!=e.recurrences?t&&t.defaultRecurrenceIdSelection?t.defaultRecurrenceIdSelection:e.recurrences.default_recurrence_id:null,r=t?t.defaultVariantOptionIdsSelection:void 0,i=Object(p.d)(e.variant_list);r&&r.forEach((function(t){i=Object(p.h)(t,i,e.variant_list)}));var o=t&&t.customizedPriceCents?{type:"before-discount",cents:t.customizedPriceCents}:null;return z({isInteractive:!1,productData:e,selection:{mode:"rent_only"===e.purchase_type?"rent":"buy",selectedRecurrenceId:n,variantSelection:i,customizedPrice:o,quantity:1}})},z=function(e){var t=e.productData,n="buy"===e.selection.mode?t.base_price_cents:t.base_rental_price_cents||0,r={beforeDiscountAndOptionsCents:n,beforeDiscountCents:n+Object(p.b)(e.selection.variantSelection,t.variant_list,(function(n){return Object(p.g)(t.variant_list,e.selection.selectedRecurrenceId,n)||0}))},i=v(v({},e),{},{precomputedPricing:r,paymentState:Object(h.d)({availableVatCountries:t.vat_countries,initialProduct:{uid:_,permalink:t.permalink,externalId:t.external_id,sellerId:t.seller_id,currency:t.currency,exchangeRate:t.exchange_rate,beforeDiscountPriceCents:r.beforeDiscountCents,finalPriceCents:r.beforeDiscountCents,name:t.name,isPhysical:t.is_physical,isRecurringBilling:null!=t.recurrences,isTaxedExclusively:t.is_price_tax_exclusive,isPreorder:t.is_preorder,hasOfferCodeField:t.has_offer_codes,mode:e.selection.mode,quantity:e.selection.quantity,perceivedCents:r.beforeDiscountCents,pwywRangeUnit:null,variantIds:[],selectedPriceInfo:null,customFields:t.custom_fields}})}),o=L.getTotalPriceCents(i),a=L.getSelectedVariantIds(i),s=L.getSelectedPriceInfo(i);return v(v({},i),{},{paymentState:Object(h.d)({availableVatCountries:t.vat_countries,initialProduct:{uid:_,permalink:t.permalink,externalId:t.external_id,sellerId:t.seller_id,currency:t.currency,exchangeRate:t.exchange_rate,beforeDiscountPriceCents:r.beforeDiscountCents,finalPriceCents:r.beforeDiscountCents,name:t.name,isPhysical:t.is_physical,isRecurringBilling:null!=t.recurrences,isTaxedExclusively:t.is_price_tax_exclusive,isPreorder:t.is_preorder,hasOfferCodeField:t.has_offer_codes,mode:i.selection.mode,quantity:e.selection.quantity,perceivedCents:o,pwywRangeUnit:null,variantIds:a,selectedPriceInfo:s,customFields:t.custom_fields}})})},H=function(e,t){var n=t.uid,r=t.wasRecommended,i=t.recommendedBy,o=t.supportsNativePaypalPayment,a=t.serializedForm,s=e.productData.currency.is_single_unit,l=L.getTotalPriceCents(e),u=Object(c.c)(l,s),d=e.selection.quantity,f=L.getPayWhatYouWantCentsAfterDiscount(e),h=null!=f?Object(c.c)(f,s):null,p=L.findSelfEntry(e),m=p.appliedOfferCode?p.appliedOfferCode.offerCodeName:null;return{uid:n,permalink:e.productData.permalink,externalId:e.productData.external_id,name:e.productData.name,currency:e.productData.currency,price:u,isRentalModeActive:"rent"===e.selection.mode,shippingRequired:e.productData.is_shipping_info_required,isRecurringBilling:L.getIsRecurringBilling(e),hasOfferCodeField:e.productData.has_offer_codes&&!m,offerCodeName:m||"",offerCodeUsed:!!m,selectedPriceInfo:L.getSelectedPriceInfo(e),serializedForm:a,originalPriceCents:l,perceivedPriceCents:l,exchangeRate:e.productData.exchange_rate,priceRange:h,isPreorder:e.productData.is_preorder,isPhysical:e.productData.is_physical,isTaxedExclusively:e.productData.is_price_tax_exclusive,sellerId:e.productData.seller_id,variants:L.getSelectedVariantIds(e),customFields:e.productData.custom_fields,quantity:d,formattedPrice:u%1==0?u:u.toFixed(2),showQuantity:d>1,wasProductRecommended:r,recommendedBy:i,supportsNativePaypalPayment:o}},W=function(e,t){var n=Object(h.h)(e.paymentState,_,"single-product",t);return null!=e.selection.selectedRecurrenceId&&(n+="&"+$.param({"product[recurrence]":e.selection.selectedRecurrenceId})),n},q=function(e){var t=L.getSelectedBasePriceCents(e);return{beforeDiscountCents:t+L.getTotalOfSelectedVariantsPriceCentsChanges(e),beforeDiscountAndOptionsCents:t}},V=function(e){var t=e.flightComponent,n=e.stateGetter,r=e.stateDispatch,i=e.skipEffects,o=void 0===i?{creditCardFormVisibilityEffects:!1}:i,a=Object(h.i)({type:"product",flightComponent:t,paymentStateGetter:function(){return n().paymentState},paymentStateDispatch:function(e){return r({type:"pass-through-payment-action",action:e})}}).effectRunner;return{effectRunner:function(e){var n,i,l;a(Object(s.b)(e,(function(e){return e.paymentState}),(function(e){return"pass-through-payment-action"===e.type?e.action:null}))),function(e){e.onAction;var t=e.onChanged;t((function(e){return e.selection.quantity}),"reference",(function(e){r({type:"pass-through-payment-action",action:{type:"set-quantity-for-product",productUid:_,quantity:e}})})),t((function(e){return e.selection.mode}),"reference",(function(e){r({type:"pass-through-payment-action",action:{type:"set-mode-for-product",productUid:_,mode:e}})})),t((function(e){return L.getTotalPriceCents(e)}),"reference",(function(e){r({type:"pass-through-payment-action",action:{type:"set-original-and-perceived-cents-for-product",productUid:_,originalCents:e,perceivedCents:e}})})),t((function(e){return L.getIsPayWhatYouWant(e)?L.getPayWhatYouWantCentsAfterDiscount(e):null}),"reference",(function(e,t,n){var i=null;if(null!=e){var o=n.productData.currency;i=Object(c.c)(e,o.is_single_unit)}r({type:"pass-through-payment-action",action:{type:"set-pwyw-price-unit-for-product",productUid:_,pwywUnit:i}})})),t((function(e){return L.getSelectedVariantIds(e)}),(function(e,t){return e.join(",")===t.join(",")}),(function(e){r({type:"pass-through-payment-action",action:{type:"set-variant-ids-for-product",productUid:_,variantIds:e}})})),t((function(e){return L.getSelectedPriceInfo(e)}),"json-stringify",(function(e){r({type:"pass-through-payment-action",action:{type:"set-price-info-for-product",productUid:_,priceInfo:e}})}))}(e),o.creditCardFormVisibilityEffects||((n=e).onAction,(0,n.onChanged)((function(e){return e}),"reference",(function(e,n){if(e.paymentState.computed.sumUsdSurchargeData!==n.paymentState.computed.sumUsdSurchargeData||L.getBeforeDiscountCents(e)!==L.getBeforeDiscountCents(n)||L.getOfferCode(e)!==L.getOfferCode(n)||h.g.getIsUsingPresetOfferCode(e.paymentState)!==h.g.getIsUsingPresetOfferCode(n.paymentState)||e.selection.customizedPrice!==n.selection.customizedPrice){var r=L.getTotalPriceCents(e);t.setCreditCardFormVisibility(r)}}))),(i=e).onAction,(0,i.onChanged)((function(e){return L.getTotalPriceCents(e)}),"reference",(function(){setTimeout((function(){t.trigger("uiShouldDisablePayButton"),t.initiatePriceInformationUpdate()}),0)})),function(e){e.onAction;var n=e.onChanged;n((function(e){return e.selection}),"reference",(function(){t.setPrice()})),n((function(e){return L.getOfferCode(e)}),"reference",(function(){t.setPrice()}))}(e),(l=e).onAction,(0,l.onChanged)((function(e){return L.getPriceCentsAfterDiscount(e)}),"reference",(function(e){t.setPaymentBlurb(e)}))}}},Y=o.m({kind:o.i("product"),product_data:O}),G=function(e){var t=e.component,n=e.propParser,i=t;return{component:function(e){e.kind;var t=e.product_data,n=m(e,["kind","product_data"]);return r.createElement(N,{initialProductData:t},r.createElement(i,n))},propParser:o.a(Y,n)}}},function(e,t,n){var r;function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){"use strict";var o={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=i(n);if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)&&n.length){var s=a.apply(null,n);s&&e.push(s)}else if("object"===r)for(var l in n)o.call(n,l)&&n[l]&&e.push(l)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):"object"===i(n(284))&&n(284)?void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r):window.classNames=a}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"c",(function(){return P})),n.d(t,"b",(function(){return k}));var r=n(0),i=n(6),o=n.n(i),a=function(){return r.createElement("div",{className:"reordering-handle"})},s=n(32),l=n(152);function c(e){var t=e.ref.current;if(null!=t){var n=function(e){var t=Object.keys(e).find((function(e){return 0===e.indexOf("Sortable")}));if(null!=t)return e[t]}(t);if(null!=n)return n}}var u=n(40);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h,p=r.createContext(null),m=function(e){var t,n=e.currentOrder,i=e.onReorder,o=e.children,a=e.handleSelector,s=d(r.useState(!1),2),u=s[0],f=s[1],h=r.useRef(!1),m=(t=r.useRef([]),r.useLayoutEffect((function(){for(;t.current.length>0;){var e=t.current.pop();null!=e&&e()}})),function(e){t.current.push(e)}),g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{delay:!1},n=t.delay,r=e.getBoundingClientRect().y,i=function(){var t=e.getBoundingClientRect().y-r;window.scrollBy(0,t)};m(n?function(){setTimeout((function(){i()}),50)}:function(){i()})};return r.createElement(p.Provider,{value:u},r.createElement(l.a,Object.assign({ref:function(e){if(!h.current&&null!=e){var t=c(e);null!=t&&(!function(e){var t=e.scroll;if(null!=t){var n=t._handleAutoScroll;t._handleAutoScroll=function(e){return n.call(t,e,!0)}}}(t),h.current=!0)}},list:n.map((function(e){return{id:e}})),setList:function(e){var t=e.map((function(e){return e.id}));i(t)},handle:a,tag:"div",scrollSensitivity:150,setData:function(e,t){var n=b(t);null!=n&&function(e){var t=e.dataTransfer,n=e.elForDragBitmap,r=e.listNode;r.appendChild(n),setTimeout((function(){r.removeChild(n)}),0),t.setDragImage(n,0,0)}({dataTransfer:e,elForDragBitmap:n,listNode:t.parentNode})},onStart:function(e){var t=b(e.item);t&&function(e){var t=e.elForDragBitmap,n=document.querySelector(".sortable-fallback");null!=n&&(n.innerHTML=t.innerHTML,n.style.height="auto")}({elForDragBitmap:t}),g(e.item),f(!0)},onEnd:function(e){g(e.item,{delay:!0}),f(!1)}},{supportPointer:!1}),o))},g=function(e){var t=e.sortableId,n=e.children,i=Object(u.a)(),o=null!=r.useContext(p),a=r.cloneElement(n,{"data-id":t,"data-uid":i});return r.createElement(r.Fragment,null,a,o?r.createElement(w,{originalRow:a}):null)};if("undefined"!==typeof document){var v=document.createElement("div");v.style.display="none",document.body.appendChild(v),h=v}var y=function(e){var t=function(e){return $(e).data("uid")}(e);return function(e,t){return e.querySelector("[data-uid='".concat(t,"']"))}(h,t)},b=function(e){var t=y(e);if(null==t)return null;var n=t.cloneNode(!0);return n.style.display="block",n},w=function(e){var t=e.originalRow;return s.createPortal(r.createElement(p.Provider,{value:!0},r.cloneElement(t)),h)};function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var x=function(e){var t=e.className,n=C(e,["className"]);return r.createElement("div",Object.assign({className:o()("bordered-list-component",t)},n))},E=r.createContext(null),P=function(e){var t=e.currentOrder,n=e.onReorder,i=e.collapseDrawersOnDrag,o=void 0!==i&&i,a=e.children,s=r.useMemo((function(){return{collapseDrawersOnDrag:o}}),[o]);return r.createElement(E.Provider,{value:s},r.createElement(m,{currentOrder:t,onReorder:n,children:a,handleSelector:".generic-row-component__content__reordering-handle-container"}))},k=function(e){var t=e.clickable,n=e.sortableId,i=e.className,a=C(e,["clickable","sortableId","className"]);return r.createElement(g,{sortableId:n},r.createElement("div",Object.assign({className:o()("generic-row-component",{"generic-row-component--clickable":t},i)},a)))};k.Content=function(e){var t=e.hasReorderingHandle,n=e.className,i=C(e,["hasReorderingHandle","className"]);return r.createElement("div",Object.assign({className:o()("generic-row-component__content",{"generic-row-component__content--can-reorder":t},n)},i))},k.ContentFlexibleContainer=function(e){var t=e.className,n=C(e,["className"]);return r.createElement("div",Object.assign({className:o()("generic-row-component__content__flexible-part",t)},n))},k.ContentReorderingHandle=function(e){var t=e.show;return r.createElement("div",{className:"generic-row-component__content__reordering-handle-container",onClick:function(e){e.stopPropagation()}},t?r.createElement(a,null):null)},k.ContentActionBar=function(e){var t=e.className,n=C(e,["className"]);return r.createElement("div",Object.assign({className:o()("generic-row-component__content__action-bar",t)},n))},k.ContentCheckbox=function(e){var t=e.className,n=C(e,["className"]);return r.createElement("div",Object.assign({className:o()("generic-row-component__content__checkbox",t)},n))};var T=function(){var e,t=null!=(e=r.useContext(p))&&e,n=r.useContext(E);return null!=n&&(t&&n.collapseDrawersOnDrag)};k.Drawer=function(e){var t=e.anchorEl,n=e.className,i=e.children,a=C(e,["anchorEl","className","children"]),s=_(r.useState(null),2),l=s[0],c=s[1],u=r.useMemo((function(){if(null==l||null==t)return null;var e=l.getBoundingClientRect(),n=t.getBoundingClientRect();return e.x+e.width-n.x-n.width/2}),[l,t]),d=null!=u?{right:u-5}:{};return T()?null:r.createElement("div",Object.assign({ref:function(e){return c(e)},className:o()("generic-row-component__drawer",n)},a),r.createElement("div",{className:"generic-row-component__drawer__before",style:d}),r.createElement("div",{className:"generic-row-component__drawer__after",style:d}),i)},k.DrawerSection=function(e){var t=e.className,n=C(e,["className"]);return r.createElement("div",Object.assign({className:o()("generic-row-component__drawer__section",t)},n))},k.DrawerLabel=function(e){var t=e.className,n=C(e,["className"]);return r.createElement("label",Object.assign({className:o()("top-level-label","generic-row-component__drawer__label",t)},n))},k.DrawerInput=r.forwardRef((function(e,t){var n=e.className,i=C(e,["className"]);return r.createElement("input",Object.assign({ref:t,className:o()("generic-row-component__drawer__input",n)},i))})),k.DrawerTextarea=function(e){var t=e.className,n=C(e,["className"]);return r.createElement("textarea",Object.assign({className:o()("generic-row-component__drawer__textarea",t)},n))},k.FullSizeSublistContainer=function(e){var t=e.className,n=C(e,["className"]);return r.createElement("div",Object.assign({className:o()("generic-row-component__full-size-sublist-container",t)},n))},k.BottomButtonRow=function(e){var t=e.className,n=C(e,["className"]);return r.createElement("div",Object.assign({className:o()("generic-row-component__bottom-button-row",t)},n))}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),i=n(6),o=n.n(i);function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=r.forwardRef((function(e,t){var n=e.tag,i=void 0===n?"a":n,s=e.variant,l=e.block,c=e.size,u=e.className,d=e.disabled,f=e.onClick,h=a(e,["tag","variant","block","size","className","disabled","onClick"]),p=i;return r.createElement(p,Object.assign({ref:t,href:"#"},h,{onClick:function(e){null!=f&&(null!=h.href&&"#"!==h.href||e.preventDefault(),f&&f(e),e.stopPropagation())},className:o()("button",s&&"button-".concat(s),c&&"button-".concat(c),l&&"button-block",u,{disabled:d})}))}))},function(e,t,n){e.exports=n(325).default},function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"i",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"h",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"j",(function(){return g}));var r=n(0),i=n(6),o=n.n(i);function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=function(e){var t=e.name,n=e.spin,i=e.className,s=a(e,["name","spin","className"]);return r.createElement("i",Object.assign({className:o()("gi","gi-".concat(t),n&&"gi-spin",i)},s))},l=function(e){var t=e.className,n=a(e,["className"]);return r.createElement("i",Object.assign({className:o()("icn","close",t)},n))},c=function(e){var t=e.className,n=a(e,["className"]);return r.createElement("i",Object.assign({className:o()("trash-icon",t)},n))},u=function(e){var t=e.className,n=a(e,["className"]);return r.createElement("i",Object.assign({className:o()("new-post-icon",t)},n))},d=function(e){var t=e.className,n=a(e,["className"]);return r.createElement("i",Object.assign({className:o()("archive-icon",t)},n))},f=function(e){var t=e.className,n=a(e,["className"]);return r.createElement("i",Object.assign({className:o()("key-icon",t)},n))},h=function(e){var t=e.className,n=a(e,["className"]);return r.createElement("i",Object.assign({className:o()("folders-icon",t)},n))},p=function(e){var t=e.className,n=a(e,["className"]);return r.createElement("i",Object.assign({className:o()("folders-icon",t)},n))},m=function(e){var t=e.className,n=a(e,["className"]);return r.createElement("i",Object.assign({className:o()("flag-icon",t)},n))},g=function(e){var t=e.direction,n=e.className,i=a(e,["direction","className"]);return r.createElement("span",Object.assign({className:o()("triangle-chevron","triangle-chevron--".concat(t),n)},i))}},function(e,t,n){"use strict";n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return v})),n.d(t,"g",(function(){return y})),n.d(t,"h",(function(){return w})),n.d(t,"i",(function(){return _}));var r=n(16),i=n(48),o=n(23),a=n(49),s=n(5),l=n(43);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e){return e.reduce((function(e,t){return e[t.name]=null,e}),{})},d=function(e){return e.reduce((function(e,t){return e[t.name]=!1,e}),{})},f=function(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return t[n]=d(r),t}),{})},h=function(e,t){return e.reduce((function(e,n){var r=t[n.name];return e[n.name]=!!n.required&&(null==r||""===r),e}),{})},p=function(e,t){return Object.keys(e).reduce((function(n,r){var i=e[r],o=t[r]||{};return n[r]=h(i,o),n}),{})},m=function(e,t){return Object(r.a)(e,(function(e){switch(t.type){case"initialize-entry-for-product":return e.perProduct[t.product.uid]=g(t.product,t.initialParams),void(e.computed.sumUsdSurchargeData=b(e));case"remove-entry-for-product":return delete e.perProduct[t.productUid],void(e.computed.sumUsdSurchargeData=b(e));case"set-mode-for-product":var n=e.perProduct[t.productUid];if(null==n)return;return void(n.mode=t.mode);case"set-quantity-for-product":var r=e.perProduct[t.productUid];if(null==r)return;return void(r.quantity=t.quantity);case"set-original-and-perceived-cents-for-product":var i=e.perProduct[t.productUid];if(null==i)return;return i.originalCents=t.originalCents,i.perceivedCents=t.perceivedCents,void(i.manuallySetPerceivedCents=!0);case"set-pwyw-price-unit-for-product":var o=e.perProduct[t.productUid];if(null==o)return;return void(o.pwywPriceRangeUnit=t.pwywUnit);case"set-variant-ids-for-product":var l=e.perProduct[t.productUid];if(null==l)return;return void(l.variantIds=t.variantIds);case"set-price-info-for-product":var c=e.perProduct[t.productUid];if(null==c)return;return void(c.selectedPriceInfo=t.priceInfo);case"remove-all-product-entries":return e.perProduct={},void(e.computed.sumUsdSurchargeData=b(e));case"receive-surcharge-data-for-product":var u=e.perProduct[t.productUid];if(null==u)return;return u.surchargeData=t.surchargeData,t.surchargeData.vatCents>0&&null==e.vat&&(e.vat={vatId:null,vatCountry:t.surchargeData.taxCountry,isShowingVatCountrySelector:!1}),void(e.computed.sumUsdSurchargeData=b(e));case"set-custom-field-value":var d=e.perProduct[t.productUid];if(null==d)return;var f=d.customFieldValues;if(null==f)return;if(!(t.fieldName in f))return;return void(f[t.fieldName]=t.value);case"set-offer-code-from-query-params":return e.offerCode.name=t.offerCodeName,e.offerCode.wasManuallySet=!1,void(e.offerCode.isLoading=!0);case"set-offer-code-from-input-box":return e.offerCode.name=t.offerCodeName,e.offerCode.wasManuallySet=!0,void(e.offerCode.isLoading=!0);case"receive-offer-code-data":e.offerCode.isLoading=!1;var h=t.eventData;return void Object.keys(e.perProduct).forEach((function(t){var n=e.perProduct[t],r=h.products_data[t];if(null!=r){if(!h.error_message&&(n.appliedOfferCode={type:"inputted",offerCodeName:h.offer_code_name,offerCodePerOneQty:{is_percent:r.is_percent,amount:r.offer_code_amount}},!n.manuallySetPerceivedCents)){var i=Object(a.b)(n.appliedOfferCode.offerCodePerOneQty,(function(e){return n.quantity*e}));n.perceivedCents=Object(a.a)(i,n.originalCents)}n.hasOfferCodeField=!0}else t===s.b&&(n.appliedOfferCode=null)}));case"set-vat-id":if(null==e.vat)return;return void(e.vat.vatId=t.vatId);case"set-vat-country":if(null==e.vat)return;return void(e.vat.vatCountry=t.vatCountry);case"narrow-down-vat-countries-after-tax-mismatch":if(null==e.vat)return;return e.availableVatCountries=t.availableVatCountries,void(e.vat.vatCountry=e.availableVatCountries[0]);case"show-vat-country-selector":if(null==e.vat)return;return void(e.vat.isShowingVatCountrySelector=!0);case"hide-vat-country-selector":if(null==e.vat)return;return void(e.vat.isShowingVatCountrySelector=!1)}}))},g=function(e,t){var n=u(e.customFields);return Object.keys(n).forEach((function(e){e in t&&(n[e]=t[e]||null)})),{permalink:e.permalink,externalId:e.externalId,sellerId:e.sellerId,currency:e.currency,exchangeRate:e.exchangeRate,name:e.name,isPhysical:e.isPhysical,isRecurringBilling:e.isRecurringBilling,isTaxedExclusively:e.isTaxedExclusively,isPreorder:e.isPreorder,hasOfferCodeField:e.hasOfferCodeField,originalCents:e.originalPriceCents,mode:e.isRentalModeActive?"rent":"buy",quantity:e.quantity,perceivedCents:e.perceivedPriceCents,manuallySetPerceivedCents:!1,pwywPriceRangeUnit:e.priceRange,customFieldValues:n,variantIds:e.variants,selectedPriceInfo:e.selectedPriceInfo,appliedOfferCode:e.offerCodeName?{type:"restored",offerCodeName:e.offerCodeName,finalCents:e.perceivedPriceCents}:null,surchargeData:Object(l.e)(e.perceivedPriceCents)}},v=function(e){var t=e.availableVatCountries,n=e.initialProduct,r=null==n?null:{permalink:n.permalink,externalId:n.externalId,sellerId:n.sellerId,currency:n.currency,exchangeRate:n.exchangeRate,name:n.name,isPhysical:n.isPhysical,isRecurringBilling:n.isRecurringBilling,isTaxedExclusively:n.isTaxedExclusively,isPreorder:n.isPreorder,hasOfferCodeField:n.hasOfferCodeField,originalCents:n.beforeDiscountPriceCents,mode:n.mode,perceivedCents:n.perceivedCents,manuallySetPerceivedCents:!1,pwywPriceRangeUnit:n.pwywRangeUnit,quantity:n.quantity,variantIds:n.variantIds,selectedPriceInfo:n.selectedPriceInfo,customFieldValues:u(n.customFields),appliedOfferCode:null,surchargeData:Object(l.e)(n.finalPriceCents)};return{perProduct:null==n||null==r?{}:c({},n.uid,r),computed:{sumUsdSurchargeData:null==r?Object(l.e)(0):r.surchargeData},offerCode:{name:"",wasManuallySet:!0,isLoading:!1},vat:null,availableVatCountries:t}},y={findProductEntryMaybe:function(e,t){return e.perProduct[t]||null},forceFindProductEntry:function(e,t){var n=y.findProductEntryMaybe(e,t);if(null==n)throw new Error("Could not find product entry for UID '".concat(t,"'"));return n},getVATID:function(e){return null!=e.vat?e.vat.vatId:null},getTaxCountry:function(e){return null!=e.vat?e.vat.vatCountry:e.computed.sumUsdSurchargeData.taxCountry},getCustomFieldValuesByProduct:function(e){return Object.keys(e.perProduct).reduce((function(t,n){return t[n]=e.perProduct[n].customFieldValues,t}),{})},getTotalInUSDCents:function(e){return Object(l.b)(e.computed.sumUsdSurchargeData)},getTotalShippingInUSDCents:function(e){return e.computed.sumUsdSurchargeData.totalShippingCents},getHasProductsWithOfferCodeField:function(e){return Object.keys(e.perProduct).some((function(t){return e.perProduct[t].hasOfferCodeField}))},getIsUsingPresetOfferCode:function(e){return!e.offerCode.wasManuallySet&&""!=e.offerCode.name}},b=function(e){var t=Object.keys(e.perProduct).map((function(t){var n=e.perProduct[t],r=n.surchargeData;return Object(l.d)(r,n.currency,n.exchangeRate)}));return Object(l.a)(t)},w=function(e,t,n,r){var i=y.findProductEntryMaybe(e,t);if(null==i)throw new Error("Trying to serialize a non-existent product for payment: '".concat(t,"'"));var o=[];"multi-buy"===n&&o.push($.param({is_multi_buy:"true"})),o.push($.param({permalink:i.permalink})),o.push($.param({is_preorder:i.isPreorder})),o.push($.param({is_physical:i.isPhysical})),o.push($.param({is_rental:"rent"===i.mode})),o.push($.param({perceived_price_cents:i.perceivedCents})),o.push($.param({quantity:i.quantity})),null!=i.pwywPriceRangeUnit&&o.push($.param({price_range:i.pwywPriceRangeUnit})),i.isRecurringBilling&&null!=i.selectedPriceInfo&&o.push($.param({price_id:i.selectedPriceInfo.id})),i.variantIds.forEach((function(e,t){o.push($.param(c({},"variants[".concat(t,"]"),e)))}));var a=i.appliedOfferCode?i.appliedOfferCode.offerCodeName:"",s=e.offerCode.name,l="single-product"===n?s:a;return o.push($.param({offer_code_name:l})),o.push($.param({was_product_recommended:r.wasRecommended})),o.push($.param({recommended_by:r.recommendedBy})),o.push($.param({tax_country_election:y.getTaxCountry(e)})),o.push($.param({vat_id:y.getVATID(e)})),Object.keys(i.customFieldValues).forEach((function(e){var t=i.customFieldValues[e];o.push($.param(c({},"custom_fields[".concat(encodeURIComponent(e),"]"),t||"")))})),o.join("&")},_=function(e){var t=null,n=null,r=function(t,n){"is_tax_mismatch"in n&&n.is_tax_mismatch&&(e.paymentStateDispatch({type:"narrow-down-vat-countries-after-tax-mismatch",availableVatCountries:[n.card_country,n.ip_country].filter(i.a)}),setTimeout((function(){a()}),1e3))},a=function(){e.paymentStateDispatch({type:"show-vat-country-selector"})};return e.flightComponent.on(e.flightComponent.$node,"uiNeedsCustomerSurcharge",e.flightComponent.initiatePriceInformationUpdate),e.flightComponent.on(document,"dataOfferCode",(function(t,n){e.paymentStateDispatch({type:"receive-offer-code-data",eventData:n})})),e.flightComponent.on(document,"dataPurchaseFail",r),e.flightComponent.on(document,"uiBundledProductPaymentFailed",r),e.flightComponent.on(document,"uiNeedsToHideVatCountrySelector",(function(){e.paymentStateDispatch({type:"hide-vat-country-selector"})})),{effectRunner:function(r){var i=r.onAction,a=r.onChanged;i((function(t){"receive-surcharge-data-for-product"===t.type&&e.flightComponent.trigger("uiShouldEnablePayButton")})),a((function(e){return e}),"reference",(function(n,r){var i;null!=n.vat&&null!=r.vat&&(n.vat.vatCountry!==r.vat.vatCountry&&n.vat.vatCountry!==n.computed.sumUsdSurchargeData.taxCountry&&e.flightComponent.initiatePriceInformationUpdate(),n.vat.vatId!==r.vat.vatId&&(i=function(){e.flightComponent.initiatePriceInformationUpdate()},t&&clearTimeout(t),t=setTimeout((function(){return i()}),1e3)))})),a((function(e){return e.computed.sumUsdSurchargeData}),"reference",(function(t,n,r){var i=function(e){return e.perProduct[s.b]||null}(r);if(null!=i){var a=i,l=a.currency,c=a.surchargeData.totalShippingCents,u=Object(o.b)(l,c);e.flightComponent.updateShippingRate(c>0?u:null)}else{var d=t.totalShippingCents,f=Object(o.b)(o.e,d);e.flightComponent.updateShippingRate(d>0?f:null)}}));var c=function(t){var r,i,o,a=t.offerCode.name;e.flightComponent.trigger("uiShouldDisablePayButton"),r=function(){a?e.flightComponent.trigger("uiNeedsToComputeOfferDiscount",{offer_code_name:a,products:Object.keys(t.perProduct).reduce((function(e,n){var r=t.perProduct[n];return e[n]={permalink:r.permalink,quantity:r.quantity,variant_ids:r.variantIds,price_id:null!=r.selectedPriceInfo?r.selectedPriceInfo.id:null},e}),{})}):e.flightComponent.trigger("dataOfferCode",{error_code:null,error_message:null,offer_code_name:a,products_data:{}})},i={immediate:!t.offerCode.wasManuallySet},o=i.immediate,n&&clearTimeout(n),n=setTimeout((function(){return r()}),o?0:2e3)};a((function(e){return e.offerCode.name}),"reference",(function(e,t,n){c(n)})),i((function(e,t){"initialize-entry-for-product"===e.type&&c(t)})),i((function(t){if("receive-offer-code-data"===t.type){var n=t.eventData;n.error_message&&n.offer_code_name&&e.flightComponent.trigger("uiShowFlashMessage",{message:n.error_message}),e.flightComponent.trigger("uiShouldEnablePayButton")}})),a((function(e){return Object(l.b)(e.computed.sumUsdSurchargeData)}),"reference",(function(){e.flightComponent.trigger(e.flightComponent.node,"uiTotalPriceCentsChanged")})),a((function(e){return e}),"reference",(function(){setTimeout((function(){e.flightComponent.attr.isShowingReceipt||e.flightComponent.trigger("uiAnimatePaymentFormHeight",{animate:!0})}),10)}))}}}},function(e,t,n){"use strict";var r,i;r=[n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(114),n(322),n(323),n(345),n(246)],void 0===(i=function(e,t,n,r,i,o,a,s,l,c,u,d,f){var h=t.default;return{initialize:function(){$(document).ajaxSend((function(e,t,n){t.setRequestHeader("X-CSRF-Token",$("meta[name=csrf-token]").attr("content"))})),d.attachTo(document),e.attachTo(document),h.attachTo(".js-flash-message"),n.attachTo(".js-track-click-event"),r.attachTo(".click_to_select"),i.attachTo("body"),o.attachTo("body"),a.attachTo(":input[placeholder]"),s.attachTo(".input-prefix"),l.attachTo(document),u.attachTo(".js-discover-search"),c.attachTo(".js-facebook-share-trigger"),f.attachTo(".js-locale-holder-footer")}}}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";function r(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"c",(function(){return E})),n.d(t,"h",(function(){return k})),n.d(t,"e",(function(){return O})),n.d(t,"g",(function(){return I})),n.d(t,"i",(function(){return j})),n.d(t,"a",(function(){return N})),n.d(t,"k",(function(){return D})),n.d(t,"m",(function(){return R})),n.d(t,"l",(function(){return F})),n.d(t,"j",(function(){return M})),n.d(t,"f",(function(){return L})),n.d(t,"d",(function(){return B})),n.d(t,"b",(function(){return U}));var r=n(0),i=n(16),o=n(1),a=n(18),s=n(60),l=n(23),c=n(48),u=n(12),d=n(41),f=n.n(d),h=n(51),p=n.n(h),m=function(e){return encodeURIComponent(JSON.stringify(e))},g=function(e,t){"development"===p.a.current||"test"===p.a.current?document.cookie=e+"="+m(t):document.cookie=e+"="+m(t)+"; SameSite=None; Secure"},v=function(e){return{uid:e.uid,permalink:e.permalink,externalId:e.externalId,name:e.name,currency:e.currency.currency_symbol,currencyType:e.currency.currency_type,isSingleUnit:e.currency.is_single_unit,price:e.price,isRentalModeActive:e.isRentalModeActive,shippingRequired:e.shippingRequired,isRecurringBilling:e.isRecurringBilling,hasOfferCodeField:e.hasOfferCodeField,offerCodeName:e.offerCodeName,offerCodeUsed:e.offerCodeUsed,selectedPriceInfo:e.selectedPriceInfo,serializedForm:null,originalPriceCents:e.originalPriceCents,perceivedPriceCents:e.perceivedPriceCents,exchangeRate:e.exchangeRate,priceRange:e.priceRange,isPreorder:e.isPreorder,isPhysical:e.isPhysical,isTaxedExclusively:e.isTaxedExclusively,sellerId:e.sellerId,variants:e.variants,customFields:e.customFields,quantity:e.quantity,formattedPrice:e.formattedPrice,showQuantity:e.showQuantity,wasProductRecommended:e.wasProductRecommended,recommendedBy:e.recommendedBy,supportsNativePaypalPayment:e.supportsNativePaypalPayment}},y=function(e){return{uid:e.uid||f.a.generate(),permalink:e.permalink,externalId:e.externalId,name:e.name,currency:{currency_symbol:e.currency,currency_type:e.currencyType||e.currency,is_single_unit:e.isSingleUnit},price:e.price,isRentalModeActive:e.isRentalModeActive,shippingRequired:e.shippingRequired,isRecurringBilling:e.isRecurringBilling,hasOfferCodeField:e.hasOfferCodeField,offerCodeName:e.offerCodeName,offerCodeUsed:e.offerCodeUsed,selectedPriceInfo:e.selectedPriceInfo,serializedForm:null,originalPriceCents:e.originalPriceCents,perceivedPriceCents:e.perceivedPriceCents,exchangeRate:e.exchangeRate,priceRange:e.priceRange,isPreorder:e.isPreorder,isPhysical:e.isPhysical,isTaxedExclusively:e.isTaxedExclusively,sellerId:e.sellerId,variants:e.variants,customFields:e.customFields,quantity:e.quantity,formattedPrice:e.formattedPrice,showQuantity:e.showQuantity,wasProductRecommended:e.wasProductRecommended,recommendedBy:e.recommendedBy,supportsNativePaypalPayment:e.supportsNativePaypalPayment}},b="gumroad-bundle",w="gumroad-bundle",_=function(){var e=JSON.parse(window.localStorage.getItem(b)||"[]");return function(e){for(var t,n=document.cookie.split(";"),r=0;r<n.length;r++){var i=n[r].split("="),o=i[0].trim(),a=i[1];if(o===e&&"undefined"!==typeof a)try{return t=a,JSON.parse(decodeURIComponent(t))}catch(s){g(e,"")}}return!1}(w)&&e&&e.products?e.products.map(y):null};function S(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=function(e,t){return Object(i.a)(e,(function(n){switch(t.type){case"add-product-to-bundle-list":var r=P(t.product);return void(n.productItems[r.uid]=r);case"remove-product-from-bundle-list":return void delete n.productItems[t.productUid];case"reset-bundle-list-to-empty":case"reset-bundle-list-to-retry":return void(n.productItems={});case"set-persistent-bundle-products":return void(n.productListForPersistence=t.products);case"fetch-persistent-bundle":return;case"remove-product-from-persistent-bundle":return void(n.productListForPersistence=e.productListForPersistence.filter((function(e){return e.uid!==t.productUid})));case"add-product-to-persistent-bundle":return n.productListForPersistence=e.productListForPersistence.filter((function(e){return e.uid!==t.product.uid})),void n.productListForPersistence.push(t.product);case"move-products-from-persistent-bundle-to-cart":return void(n.productListForPersistence=[]);case"pass-through-payment-action":return void(n.paymentState=Object(u.a)(e.paymentState,t.action))}}))},P=function(e){return{uid:e.uid,price:e.price,shippingRequired:e.shippingRequired,serializedForm:e.serializedForm,priceRange:e.priceRange,customFields:e.customFields,formattedPrice:e.formattedPrice,showQuantity:e.showQuantity,wasProductRecommended:e.wasProductRecommended,recommendedBy:e.recommendedBy,supportsNativePaypalPayment:e.supportsNativePaypalPayment}},k=function(e,t){var n=I.maybeFindProduct(t,e);if(null==n)return"";var r=C(n,1)[0];return Object(u.h)(t.paymentState,e,"multi-buy",{wasRecommended:r.wasProductRecommended,recommendedBy:r.recommendedBy})},T=r.createContext(null),A=r.createContext(null),O=function(e){return{static:{exchangeRate:e.exchange_rate,currency:e.currency},productItems:{},productListForPersistence:[],paymentState:Object(u.d)({availableVatCountries:e.vat_countries,initialProduct:null})}},I={getAllProducts:function(e){return Object.keys(e.productItems).map((function(t){return I.maybeFindProduct(e,t)})).filter(c.a)},maybeFindProduct:function(e,t){var n=e.productItems[t],r=u.g.findProductEntryMaybe(e.paymentState,t);return null==n||null==r?null:[n,r]},forceFindProduct:function(e,t){var n=I.maybeFindProduct(e,t);if(null==n)throw new Error("Could not find product item for UID '".concat(t,"'"));return n},maybeFindProductByExternalId:function(e,t){return I.getAllProducts(e).find((function(e){var n=C(e,2);n[0];return n[1].externalId===t}))||null},maybeFindProductByPermalink:function(e,t){return I.getAllProducts(e).find((function(e){var n=C(e,2);n[0];return n[1].permalink===t}))||null},getIsFreePurchase:function(e){var t=e.paymentState.computed.sumUsdSurchargeData.totalPriceCentsBeforeShipping,n=u.g.getTotalShippingInUSDCents(e.paymentState);return 0===t&&0===n},getCustomFieldDescriptors:function(e){return I.getAllProducts(e).reduce((function(e,t){var n=C(t,2),r=n[0];n[1];return e[r.uid]=r.customFields,e}),{})},getCustomFieldErrors:function(e){var t=I.getCustomFieldDescriptors(e),n=u.g.getCustomFieldValuesByProduct(e.paymentState);return Object(u.b)(t,n)},getAreCustomFieldsValid:function(e){var t=I.getCustomFieldErrors(e);return Object.keys(t).every((function(e){var n=t[e];return Object.keys(n).every((function(e){return!n[e]}))}))}},j=function(e){var t=e.flightComponent,n=e.stateGetter,r=e.stateDispatch,i=Object(u.i)({type:"bundle",flightComponent:t,paymentStateGetter:function(){return n().paymentState},paymentStateDispatch:function(e){return r({type:"pass-through-payment-action",action:e})}}).effectRunner,o=function(e){var n=e.onAction,r=e.onChanged,i=function(e){e.forEach((function(e){e.externalId&&t.trigger("addProductToBundle",{product:e})}))};r((function(e){return e.productListForPersistence}),"reference",(function(e){var t;t=e.map(v),window.localStorage.setItem(b,JSON.stringify({products:t})),g(w,!0)})),n((function(e){if("fetch-persistent-bundle"===e.type){var t=_();t&&i(t)}})),n((function(e,t,n){"move-products-from-persistent-bundle-to-cart"===e.type&&i(n.productListForPersistence)}))},a=function(e){var t=e.onAction;e.onChanged;t((function(e,t){if("pass-through-payment-action"===e.type&&("receive-surcharge-data-for-product"===e.action.type||"initialize-entry-for-product"===e.action.type||"remove-entry-for-product"===e.action.type)){var n=function(e){return I.getAllProducts(e).map((function(e){var t,n,r,i=C(e,2);return t=i[0],r=(n=i[1]).appliedOfferCode?n.appliedOfferCode.offerCodeName:null,{uid:t.uid,permalink:n.permalink,externalId:n.externalId,name:n.name,currency:n.currency,price:t.price,isRentalModeActive:"rent"===n.mode,shippingRequired:t.shippingRequired,isRecurringBilling:n.isRecurringBilling,hasOfferCodeField:n.hasOfferCodeField,offerCodeName:r,offerCodeUsed:!!r,selectedPriceInfo:n.selectedPriceInfo,serializedForm:t.serializedForm,originalPriceCents:n.originalCents,perceivedPriceCents:n.perceivedCents,exchangeRate:n.exchangeRate,priceRange:t.priceRange,isPreorder:n.isPreorder,isPhysical:n.isPhysical,isTaxedExclusively:n.isTaxedExclusively,sellerId:n.sellerId,variants:n.variantIds,customFields:t.customFields,quantity:n.quantity,formattedPrice:t.formattedPrice,showQuantity:t.showQuantity,wasProductRecommended:t.wasProductRecommended,recommendedBy:t.recommendedBy,supportsNativePaypalPayment:t.supportsNativePaypalPayment}}))}(t);r({type:"set-persistent-bundle-products",products:n})}})),t((function(e){"reset-bundle-list-to-retry"===e.type&&r({type:"move-products-from-persistent-bundle-to-cart"})})),t((function(e){"add-product-to-bundle-list"===e.type&&r({type:"add-product-to-persistent-bundle",product:e.product})})),t((function(e){"remove-product-from-bundle-list"===e.type&&r({type:"remove-product-from-persistent-bundle",productUid:e.productUid})}))};return{effectRunner:function(e){var n,l;i(Object(s.b)(e,(function(e){return e.paymentState}),(function(e){return"pass-through-payment-action"===e.type?e.action:null}))),o(e),a(e),l=(n=e).onAction,n.onChanged,l((function(e){if("add-product-to-bundle-list"===e.type){var n=t.getBundleUrlParams();r({type:"pass-through-payment-action",action:{type:"initialize-entry-for-product",product:e.product,initialParams:n}})}})),l((function(e){"remove-product-from-bundle-list"===e.type&&r({type:"pass-through-payment-action",action:{type:"remove-entry-for-product",productUid:e.productUid}})})),l((function(e){"reset-bundle-list-to-retry"!==e.type&&"reset-bundle-list-to-empty"!==e.type||r({type:"pass-through-payment-action",action:{type:"remove-all-product-entries"}})})),function(e){var n=e.onAction;e.onChanged,n((function(e){"pass-through-payment-action"!==e.type||"receive-surcharge-data-for-product"!==e.action.type&&"receive-offer-code-data"!==e.action.type&&"initialize-entry-for-product"!==e.action.type&&"remove-entry-for-product"!==e.action.type||t.updateBundleButton()}))}(e),function(e){var n=e.onAction;e.onChanged,n((function(e){"pass-through-payment-action"!==e.type||"receive-offer-code-data"!==e.action.type&&"initialize-entry-for-product"!==e.action.type&&"remove-entry-for-product"!==e.action.type||t.initiatePriceInformationUpdate()}))}(e)}}},N=function(e){var t=e.initialBundleData,n=e.children,i=C(r.useState((function(){return O(t)})),2),o=i[0],s=i[1];Object(a.b)("uiSyncCheckoutBundleState",(function(e,t){s(t.state)}));var l=Object(a.a)("uiPerformBundleCheckoutStateAction"),c=r.useCallback((function(e){l({action:e})}),[l]);return r.createElement(T.Provider,{value:o},r.createElement(A.Provider,{value:c},n))},D=function(){return r.useContext(T)},R=function(e){return e(function(){var e=r.useContext(T);if(null==e)throw new Error("Cannot access checkout state, make sure BundleCheckoutProvider is present");return e}())},F=function(){return r.useContext(A)},M=function(){var e=r.useContext(A);if(null==e)throw new Error("Cannot access checkout dispatch, make sure BundleCheckoutProvider is present");return e},L=o.m({exchange_rate:o.l,currency:l.d,vat_countries:o.e(o.n)}),B=o.m({kind:o.i("bundle"),bundle_data:L}),U=function(e){var t=e.component,n=e.propParser,i=t;return{component:function(e){e.kind;var t=e.bundle_data,n=S(e,["kind","bundle_data"]);return r.createElement(N,{initialBundleData:t},r.createElement(i,n))},propParser:o.a(B,n)}}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function o(e){return!!e&&!!e[$]}function a(e){return!!e&&(function(e){if(!e||"object"!=r(e))return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(e)||Array.isArray(e)||!!e[V]||!!e.constructor[V]||h(e)||p(e))}function s(e,t,n){void 0===n&&(n=!1),0===l(e)?(n?Object.keys:Y)(e).forEach((function(i){n&&"symbol"==r(i)||t(i,e[i],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function l(e){var t=e[$];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:h(e)?2:p(e)?3:0}function c(e,t){return 2===l(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){return 2===l(e)?e.get(t):e[t]}function d(e,t,n){var r=l(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function f(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function h(e){return z&&e instanceof Map}function p(e){return H&&e instanceof Set}function m(e){return e.o||e.t}function g(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=G(e);delete t[$];for(var n=Y(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function v(e,t){b(e)||o(e)||!a(e)||(l(e)>1&&(e.set=e.add=e.clear=e.delete=y),Object.freeze(e),t&&s(e,(function(e,t){return v(t,!0)}),!0))}function y(){i(2)}function b(e){return null==e||"object"!=r(e)||Object.isFrozen(e)}function w(e){var t=K[e];return t||i(19,e),t}function _(){return B}function S(e,t){t&&(w("Patches"),e.u=[],e.s=[],e.v=t)}function C(e){x(e),e.p.forEach(P),e.p=null}function x(e){e===B&&(B=e.l)}function E(e){return B={p:[],l:B,h:e,m:!0,_:0}}function P(e){var t=e[$];0===t.i||1===t.i?t.j():t.g=!0}function k(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||w("ES5").S(t,e,r),r?(n[$].P&&(C(t),i(4)),a(e)&&(e=T(t,e),t.l||O(t,e)),t.u&&w("Patches").M(n[$],e,t.u,t.s)):e=T(t,n,[]),C(t),t.u&&t.v(t.u,t.s),e!==q?e:void 0}function T(e,t,n){if(b(t))return t;var r=t[$];if(!r)return s(t,(function(i,o){return A(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return O(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=g(r.k):r.o;s(3===r.i?new Set(i):i,(function(t,o){return A(e,r,i,t,o,n)})),O(e,i,!1),n&&e.u&&w("Patches").R(r,n,e.u,e.s)}return r.o}function A(e,t,n,r,i,s){if(o(i)){var l=T(e,i,s&&t&&3!==t.i&&!c(t.D,r)?s.concat(r):void 0);if(d(n,r,l),!o(l))return;e.m=!1}if(a(i)&&!b(i)){if(!e.h.N&&e._<1)return;T(e,i),t&&t.A.l||O(e,i)}}function O(e,t,n){void 0===n&&(n=!1),e.h.N&&e.m&&v(t,n)}function I(e,t){var n=e[$];return(n?m(n):e)[t]}function j(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function N(e){e.P||(e.P=!0,e.l&&N(e.l))}function D(e){e.o||(e.o=g(e.t))}function R(e,t,n){var r=h(t)?w("MapSet").T(t,n):p(t)?w("MapSet").F(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:_(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=Q;n&&(i=[r],o=X);var a=Proxy.revocable(i,o),s=a.revoke,l=a.proxy;return r.k=l,r.j=s,l}(t,n):w("ES5").J(t,n);return(n?n.A:_()).p.push(r),r}function F(e){return o(e)||i(22,e),function e(t){if(!a(t))return t;var n,r=t[$],i=l(t);if(r){if(!r.P&&(r.i<4||!w("ES5").K(r)))return r.t;r.I=!0,n=M(t,i),r.I=!1}else n=M(t,i);return s(n,(function(t,i){r&&u(r.t,t)===i||d(n,t,e(i))})),3===i?new Set(n):n}(e)}function M(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return g(e)}var L,B,U="undefined"!=typeof Symbol&&"symbol"==r(Symbol("x")),z="undefined"!=typeof Map,H="undefined"!=typeof Set,W="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,q=U?Symbol.for("immer-nothing"):((L={})["immer-nothing"]=!0,L),V=U?Symbol.for("immer-draftable"):"__$immer_draftable",$=U?Symbol.for("immer-state"):"__$immer_state",Y=("undefined"!=typeof Symbol&&Symbol.iterator,"undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames),G=Object.getOwnPropertyDescriptors||function(e){var t={};return Y(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},K={},Q={get:function(e,t){if(t===$)return e;var n=m(e);if(!c(n,t))return function(e,t,n){var r,i=j(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!a(r)?r:r===I(e.t,t)?(D(e),e.o[t]=R(e.A.h,r,e)):r},has:function(e,t){return t in m(e)},ownKeys:function(e){return Reflect.ownKeys(m(e))},set:function(e,t,n){var r=j(m(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=I(m(e),t),o=null==i?void 0:i[$];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(f(n,i)&&(void 0!==n||c(e.t,t)))return!0;D(e),N(e)}return e.o[t]=n,e.D[t]=!0,!0},deleteProperty:function(e,t){return void 0!==I(e.t,t)||t in e.t?(e.D[t]=!1,D(e),N(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=m(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){i(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){i(12)}},X={};s(Q,(function(e,t){X[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),X.deleteProperty=function(e,t){return Q.deleteProperty.call(this,e[0],t)},X.set=function(e,t,n){return Q.set.call(this,e[0],t,n,e[0])};var J=new(function(){function e(e){this.O=W,this.N=!1,"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var t=e.prototype;return t.produce=function(e,t,n){if("function"==typeof e&&"function"!=typeof t){var o=t;t=e;var s=this;return function(e){var n=this;void 0===e&&(e=o);for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return s.produce(e,(function(e){var r;return(r=t).call.apply(r,[n,e].concat(i))}))}}var l;if("function"!=typeof t&&i(6),void 0!==n&&"function"!=typeof n&&i(7),a(e)){var c=E(this),u=R(this,e,void 0),d=!0;try{l=t(u),d=!1}finally{d?C(c):x(c)}return"undefined"!=typeof Promise&&l instanceof Promise?l.then((function(e){return S(c,n),k(e,c)}),(function(e){throw C(c),e})):(S(c,n),k(l,c))}if(!e||"object"!=r(e)){if((l=t(e))===q)return;return void 0===l&&(l=e),this.N&&v(l,!0),l}i(21,e)},t.produceWithPatches=function(e,t){var n,r,i=this;return"function"==typeof e?function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return i.produceWithPatches(t,(function(t){return e.apply(void 0,[t].concat(r))}))}:[this.produce(e,t,(function(e,t){n=e,r=t})),n,r]},t.createDraft=function(e){a(e)||i(8),o(e)&&(e=F(e));var t=E(this),n=R(this,e,void 0);return n[$].C=!0,x(t),n},t.finishDraft=function(e,t){var n=(e&&e[$]).A;return S(n,t),k(void 0,n)},t.setAutoFreeze=function(e){this.N=e},t.setUseProxies=function(e){e&&!W&&i(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var i=w("Patches").$;return o(e)?i(e,t):this.produce(e,(function(e){return i(e,t.slice(n+1))}))},e}()),Z=J.produce;J.produceWithPatches.bind(J),J.setAutoFreeze.bind(J),J.setUseProxies.bind(J),J.applyPatches.bind(J),J.createDraft.bind(J),J.finishDraft.bind(J);t.a=Z},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(14);function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){Object(r.a)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===i(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n(0),i=n(59),o=function(e,t){if("undefined"!==typeof document){var n=Object(i.a)(t);r.useEffect((function(){var t=function(e,t){n.current(e,t)};return $(document).on(e,t),function(){$(document).off(e,t)}}),[])}},a=function(e){return"undefined"===typeof document?function(){}:function(t){$(document).trigger(e,t||{})}}},function(e,t,n){"use strict";n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return w})),n.d(t,"f",(function(){return _})),n.d(t,"c",(function(){return S})),n.d(t,"a",(function(){return E})),n.d(t,"k",(function(){return P})),n.d(t,"j",(function(){return k})),n.d(t,"i",(function(){return T})),n.d(t,"h",(function(){return A})),n.d(t,"g",(function(){return O})),n.d(t,"b",(function(){return I}));var r=n(0),i=n(16),o=n(1),a=n(18),s=n(33),l=n(5),c=n(38);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var g=o.m({email:o.n,full_name:o.n,street_address:o.n,city:o.n,state:o.n,zip_code:o.n,country:o.n}),v=o.m({states:o.e(o.n),countries:o.e(o.n)}),y=o.m({id:o.n,variant_ids:o.e(o.n),recurrence:s.e,prorated_discount_price_cents:o.l,current_displayed_price_cents:o.l,contact_info:g}),b=o.m({subscription_data:y,product_data:l.e,address_constants:v}),w={getSubscription:function(e){return e.subscriptionData},getCurrentPlanPriceCents:function(e){return w.getSubscription(e).current_displayed_price_cents},getProratedDiscountPriceCents:function(e){var t=w.getSubscription(e);return t?t.prorated_discount_price_cents:0},getIsCurrentPlanSelected:function(e){var t=w.getSubscription(e);if(null==t)return!1;var n=w.getSelectedRecurrence(e),r=w.getSelectedVariantIds(e).every((function(e){return t.variant_ids.includes(e)})),i=null!==n&&t.recurrence===n.recurrence_id;return r&&i},getVariantOptionPriceDifference:function(e,t){return l.i.getVariantOptionPriceDifference(e,t)},getVariantOptionIsPWYW:function(e,t){return l.i.getVariantOptionIsPWYW(e,t)},getSelectedRecurrence:function(e){return l.i.getSelectedRecurrence(e)},getSelectedPriceInfo:function(e){return l.i.getSelectedPriceInfo(e)},getSelectedVariantIds:function(e){return l.i.getSelectedVariantIds(e)},getBeforeProratedDiscountPriceCents:function(e){var t=w.getIsPayWhatYouWant(e)?w.getPayWhatYouWantCentsInput(e)||0:e.precomputedPricing.beforeDiscountCents;return w.getCurrentPlanPriceCents(e)>=t?0:t},getUpgradePriceCents:function(e){var t=w.getBeforeProratedDiscountPriceCents(e),n=w.getProratedDiscountPriceCents(e);return Math.max(t-n,0)},getSelectedBasePriceCents:function(e){return l.i.getSelectedBasePriceCents(e)},getTotalOfSelectedVariantsPriceCentsChanges:function(e){return l.i.getTotalOfSelectedVariantsPriceCentsChanges(e)},getIsPayWhatYouWant:function(e){return l.i.getIsPayWhatYouWant(e)},getPayWhatYouWantCentsInput:function(e){return l.i.getPayWhatYouWantCentsInput(e)},getIsValidPWYWInput:function(e){return l.i.getIsValidPWYWInput(e)},getSuggestedPWYWCents:function(e){var t=l.i.getBaseSuggestedPWYWCents(e),n=w.getBeforeProratedDiscountPriceCents(e);return t<n?n:t},getMinimumPWYWCents:function(e){return l.i.getMinimumPWYWCents(e)}},_=function(e,t){var n=function(e){return e.subscriptionData,m(e,["subscriptionData"])}(e);n=Object(l.g)(n,t);var r=h(h({},e),n);return Object(i.a)(r,(function(e){switch(t.type){case"update-contact-info":var n=h(h({},r.subscriptionData.contact_info),t.partialContactInfo);return void(e.subscriptionData.contact_info=n)}}))},S=function(e){var t,n,r,i=e.product_data,o=e.subscription_data,a=e.address_constants,s=(n=(t=e).product_data.variant_list,r=t.subscription_data.variant_ids,"categories"==n.kind&&r.some((function(e){var t=Object(c.c)(e,n);return t&&t.is_customizable}))),u={defaultRecurrenceIdSelection:o.recurrence,defaultVariantOptionIdsSelection:o.variant_ids,customizedPriceCents:s?o.current_displayed_price_cents:null};return h({subscriptionData:o,addressConstants:a},Object(l.d)(i,u))},C=r.createContext(null),x=r.createContext(null),E=function(e){var t=e.initialSubscriptionData,n=e.children,i=t.subscription_data.id,o=u(r.useState((function(){return S(t)})),2),s=o[0],l=o[1];Object(a.b)("uiSyncManageSubscriptionState",(function(e,t){t.id===i&&l(t.subscriptionManagerState)}));var c=Object(a.a)("uiPerformSubscriptionManagerStateAction"),d=r.useCallback((function(e){c({id:i,action:e})}),[i,c]);return r.createElement(C.Provider,{value:s},r.createElement(x.Provider,{value:d},n))},P=function(e){return e(function(){var e=r.useContext(C);if(null==e)throw new Error("Cannot access checkout state, make sure SubscriptionManagerProvider is present");return e}())},k=function(){return r.useContext(C)},T=function(){return r.useContext(x)},A=function(){var e=r.useContext(x);if(null==e)throw new Error("Cannot access checkout dispatch, make sure SubscriptionManagerProvider is present");return e},O=o.m({kind:o.i("subscription"),subscription_data:b}),I=function(e){var t=e.component,n=e.propParser,i=t;return{component:function(e){e.kind;var t=e.subscription_data,n=m(e,["kind","subscription_data"]);return r.createElement(E,{initialSubscriptionData:t},r.createElement(i,n))},propParser:o.a(O,n)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(0),i=n(44);var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var a=function(e,t,n){var r=t+e;return String(n?n(r):r)},s=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={quartz:t.props.idSource||i.a,prefix:Object(i.d)(t.props.idSource),id:Object(i.c)(t.props.idSource||i.a)},t.uid=function(e){return a(t.state.id+"-"+t.state.quartz.uid(e),t.state.prefix,t.props.name)},t}(function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.name,r=this.state,i=r.id,o=r.prefix;return t(a(i,o,n),this.uid)}}(r.Component),function(e){var t=e.children,n=e.prefix,o=void 0===n?"":n;return r.createElement(i.e.Provider,{value:Object(i.b)(o)},t)}),l=n(1),c=n(89),u=n(51),d=n.n(u),f=function(e){var t=e.component,n=e.propParser;return Object(c.a)(n,(function(e){var n=t;return r.createElement(r.StrictMode,null,r.createElement(s,null,r.createElement(n,e)))}),(function(e,t){var n=l.b(e);if("undefined"===typeof document&&"production"!==d.a.current)throw new Error(n);return console.error(n),r.createElement("p",null,"Cannot render this widget.")}))}},function(e,t,n){"use strict";n.d(t,"h",(function(){return i})),n.d(t,"i",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"g",(function(){return h}));var r=n(33),i=r.a,o=r.g,a={monthly:1,quarterly:3,biannually:6,yearly:12},s=function(e){return I18n.t("js.recurrence_labels.long_indicator.".concat(e))},l=function(e){return I18n.t("js.recurrence_labels.short_indicator.".concat(e))},c=function(e,t){return I18n.t("js.recurrence_labels.amount_per_recurrence.".concat(e),{amount:t})},u=function(e){return I18n.t("js.recurrence_labels.minimum_amount.".concat(e))},d=function(e){return I18n.t("js.recurrence_labels.suggested_amount.".concat(e))},f=function(e){return I18n.t("".concat(e))},h=function(e,t){var n=function(e){return a[e]}(e),r=s(e);return null==t?r:"".concat(r," x ").concat((t/n).toFixed(0))}},function(e,t,n){var r;void 0===(r=function(){var e={getReadableFileSize:function(e){return e>=1073741824?e=(e/1073741824).toFixed(1)+" GB":e>=1048576?e=(e/1048576).toFixed(1)+" MB":e>=1024?e=(e/1024).toFixed(1)+" KB":e>1?e+=" bytes":1==e?e+=" byte":e="0 byte",e},getFullFileSizeString:function(t){return e.getReadableFileSize(t)},getS3Key:function(e,t,n,r){return r+"/"+n+"/"+e+"/original/"+t},getGuidBase:function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx"},getGuidLength:function(){return e.getGuidBase().length},generateGuid:function(){return e.getGuidBase().replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},getFileExtension:function(e){var t=/(?:\.([^.]+))?$/.exec(e)[1];return void 0===t?"":t},getFilenameWithoutExtension:function(t){var n=e.getFileExtension(t).toUpperCase();return n.length>0?t.substr(0,t.length-n.length-1):t},extractUniqueUrlIdentifier:function(n){var r=e.getGuidLength(),i=n.split("/original/")[0].slice(-1*r);return i.length==r&&t(i)?i:encodeURIComponent(n)},determineS3BucketForForm:function(e){var t=e.data("s3-url");if(t){var n=t.split("/");return n[n.length-1]}throw"Could not determine S3 bucket, please make sure to set data-s3-url on your uploader form element"},determineAWSAccessKeyIdForForm:function(e){var t=e.data("aws-access-key-id");if(t)return t;throw"Could not determine AWSAccessKeyId, please make sure to set aws-access-key-id on your uploader form element"},determineUserExternalIdForForm:function(e){var t=e.data("user-external-id");if(t)return t;throw"Could not determine user external id, please make sure to set data-user-external-id on your uploader form element"}},t=function(e){return/^[a-zA-Z0-9]+$/.test(e)};return e}.apply(t,[]))||(e.exports=r)},function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c}));var r=n(1),i=n(26),o=r.m({is_single_unit:r.f,currency_symbol:r.n,currency_type:r.n}),a={currency_type:"usd",currency_symbol:"US$",is_single_unit:!1},s=function(e,t,n){var r="number"===typeof n?n:parseFloat(n),o=Object(i.c)(e,t.is_single_unit),a=Object(i.b)(o/r,!1);return Object(i.d)(a,!1)},l=function(e,t){return Object(i.a)(e.currency_symbol,Object(i.c)(t,e.is_single_unit),e.is_single_unit?0:2)},c=function(e,t){return Object(i.a)("",Object(i.c)(t,e.is_single_unit),e.is_single_unit?0:2)}},function(e,t,n){"use strict";var r;void 0===(r=function(){return function(){this.defaultAttrs({inputSelector:"input",textareaSelector:"textarea",selectSelector:"select",radioSelector:"input[type='radio']",requiredInputSelector:"input.required",requiredSelectSelector:"select.required",numericalInputSelector:"input.numerical",emailInputSelector:"input.email",minLengthInputSelector:"input[minlength]",emailValidationRegex:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}),this.validateRequiredInput=function(e){return 0==e.length||!e.is(":visible")||(0!=e.val().length||(e.hasClass("proxy")&&e.data("proxy")&&(e=$("."+e.data("proxy"))),this.showError(e),e.focus(),!1))},this.validateRadioInput=function(e){return!e.parent().is(":visible")||null!=e.filter(":checked").val()||(this.showError(e),e.focus(),!1)},this.validateSelectInput=function(e){return!e.is(":visible")||null!=e.val()||(this.showError(e),e.focus(),!1)},this.validateNumericalInput=function(e){return 0==e.length||!e.is(":visible")||0==e.val().length||(!isNaN(parseFloat(e.val()))||(this.showError(e),e.focus(),!1))},this.validateMinLengthInput=function(e){if(0==e.length||!e.is(":visible")||0==e.val().length)return!0;var t=parseInt(e.attr("minlength")),n=e.val();return!(n.length>0&&n.length<t)||(this.showError(e),e.focus(),!1)},this.validateEmails=function(e){var t=!0,n=this;return e.each((function(){var e=$(this);if(e.is(":visible")&&(e.hasClass("required")||""!=e.val())&&!n.attr.emailValidationRegex.test(e.val()))return n.showError(e),e.focus(),t=!1})),t},this.validateForm=function(e){var t=!0,n=this;return e.find(this.attr.numericalInputSelector).each((function(){return n.validateNumericalInput($(this))})),t?(e.find(this.attr.requiredInputSelector).each((function(){t=t&&n.validateRequiredInput($(this))})),t?(e.find(this.attr.requiredSelectSelector).each((function(){t=t&&n.validateSelectInput($(this))})),t?(e.find(this.attr.minLengthInputSelector).each((function(){t=t&&n.validateMinLengthInput($(this))})),t=t&&this.validateEmails(e.find(this.attr.emailInputSelector))):t):t):t},this.showError=function(e){e.addClass("error")},this.hideError=function(e){e.removeClass("error")},this.hideErrorIfNotEnterKey=function(e){13!=e.which&&("radio"==e.target.type?this.hideError($("input[name="+e.target.name+"]")):this.hideError($(e.target)))},this.validateRequiredInputs=function(e){var t=this,n=this.select(e),r=!0;return n.each((function(e,n){r=r&&t.validateRequiredInput($(n))})),r},this.after("initialize",(function(){this.on("keyup",{inputSelector:this.hideErrorIfNotEnterKey,textareaSelector:this.hideErrorIfNotEnterKey}),this.on("change",{selectSelector:this.hideErrorIfNotEnterKey,radioSelector:this.hideErrorIfNotEnterKey})}))}}.apply(t,[]))||(e.exports=r)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0);function i(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var o=function(e){var t=e.tip,n=e.children,o=i(e,["tip","children"]);return null==t?n((function(){})):r.createElement(a,Object.assign({tip:t,children:n},o))},a=function(e){var t=e.children,n=e.tip,i=e.trigger,o=void 0===i?"hover":i,a=e.gravity,s=void 0===a?"w":a,l=r.useRef(),c=r.useRef(n);return r.useEffect((function(){c.current=n}),[n]),t(r.useCallback((function(e){if(null===e)return $(".tipsy:last").remove(),void(l.current=null);l.current=e,$(e).tipsy({trigger:o,gravity:s,fallback:function(){return c.current},html:"true"})}),[o,s,n]))}},function(e,t,n){"use strict";function r(e,t,n){var r=Math.max(t,0);return e+function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}(r%1==0?r.toFixed(0):r.toFixed(n))}function i(e,t){return a(e/(t?1:100),t)}function o(e,t){return a(e*(t?1:100),!0)}function a(e,t){return Number(e.toFixed(t?0:2))}n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return s}));function s(e,t){var n=function(e){if("number"===typeof e)return e;if(null==e)return e;var t=function(e){if(!e)return null;var t=e.match(/\s*-/)?"-":"",n=e.replace(/[^0-9.,]/g,""),r=n.lastIndexOf("."),i=n.lastIndexOf(","),o=r>0&&r==n.length-4,a=i>0&&i==n.length-4;if(r>=n.length-3&&r>0||a){var s=(n=n.replace(/,/g,"")).match(/\./g);return t+(null!=s&&1==s.length?n.replace(/,/g,""):n.replace(/[^0-9]/g,""))}if(i>=n.length-3&&i>0||o){var l=(n=n.replace(/\./g,"")).match(/,/g);return t+(null!=l&&1==l.length?n.replace(",","."):n.replace(/[^0-9]/g,""))}return-1==i&&-1==r?t+n:null}(e);return null==t?null:parseFloat(t)}(e);return null==n?null:a(n,t)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var r=n(0),i=n(5),o=n(19),a=function(e){var t=e.productSelector,n=e.subscriptionSelector,r=Object(i.o)(),a=Object(o.j)();if(null!=r)return t(r);if(null!=a)return n(a);throw new Error("Cannot access checkout state, make sure either ProductCheckoutProvider or SubscriptionManagerProvider is present")},s=function(){var e=Object(i.n)(),t=Object(o.i)(),n="Cannot access checkout state, make sure either ProductCheckoutProvider or SubscriptionManagerProvider is present",a=r.useCallback((function(r){var i=r.productAction,o=r.subscriptionAction;if(null!=e)e(i);else{if(null==t)throw new Error(n);t(o)}}),[e,t]);if(null==e&&null==t)throw new Error(n);return a}},,,,function(e,t,n){var r,i;r=[n(94)],void 0===(i=function(e){"use strict";var t=["mixedIn","attrDef"];function n(n,r){Object.keys(n).forEach((function(i){t.indexOf(i)<0&&e.propertyWritability(n,i,r)}))}return{mixin:function(e,t){e.mixedIn=Object.prototype.hasOwnProperty.call(e,"mixedIn")?e.mixedIn:[];for(var r=0;r<t.length;r++)-1==e.mixedIn.indexOf(t[r])&&(n(e,!1),t[r].call(e),e.mixedIn.push(t[r]));n(e,!0)}}}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(564)},function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return d}));var r=n(1),i=["monthly","quarterly","biannually","yearly"],o=function(e){return{monthly:1,quarterly:3,biannually:6,yearly:12}[e]},a=r.g(["monthly","quarterly","biannually","yearly"]),s=r.m({url:r.n,file_name:r.n,extension:r.n,language:r.n,file_size:r.k(r.l),size:r.k(r.n)}),l=r.m({id:r.n,file_name:r.n,description:r.k(r.n),extension:r.n,file_size:r.k(r.l),pagelength:r.k(r.l),is_streamable:r.f,is_transcoding_in_progress:r.f,url:r.n,attached_product_name:r.k(r.n),file_icon_class:r.n,subtitle_files:r.o(r.e(s))}),c=r.m({type:r.g(["image","oembed","video"]),id:r.n,url:r.n,original_url:r.n,thumbnail:r.k(r.n),width:r.l,height:r.l,native_width:r.l,native_height:r.l}),u=r.g(["buy_only","rent_only","buy_and_rent"]),d=r.m({audio:r.f,can_enable_rentals:r.f,is_listenable:r.f,is_rentable:r.f,is_streamable:r.f,pdf_stamp_enabled:r.f,permalink:r.n,purchase_type:u,stream_only:r.f,custom_delivery_url:r.o(r.n)})},,function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=n(319),c=n(320),u=n(321);function d(e){if("string"!==typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function f(e,t){return t.encode?t.strict?l(e):encodeURIComponent(e):e}function h(e,t){return t.decode?c(e):e}function p(e){var t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function m(e){var t=(e=p(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function g(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"===typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function v(e,t){d((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return function(t,n,r){var i="string"===typeof n&&n.includes(e.arrayFormatSeparator),o="string"===typeof n&&!i&&h(n,e).includes(e.arrayFormatSeparator);n=o?h(n,e):n;var a=i||o?n.split(e.arrayFormatSeparator).map((function(t){return h(t,e)})):null===n?n:h(n,e);r[t]=a};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),o=Object.create(null);if("string"!==typeof e)return o;if(!(e=e.trim().replace(/^[?#&]/,"")))return o;var s,l=function(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}}(e.split("&"));try{for(l.s();!(s=l.n()).done;){var c=s.value,f=r(u(t.decode?c.replace(/\+/g," "):c,"="),2),p=f[0],m=f[1];m=void 0===m?null:["comma","separator"].includes(t.arrayFormat)?m:h(m,t),n(h(p,t),m,o)}}catch(x){l.e(x)}finally{l.f()}for(var v=0,y=Object.keys(o);v<y.length;v++){var b=y[v],w=o[b];if("object"===i(w)&&null!==w)for(var _=0,S=Object.keys(w);_<S.length;_++){var C=S[_];w[C]=g(w[C],t)}else o[b]=g(w,t)}return!1===t.sort?o:(!0===t.sort?Object.keys(o).sort():Object.keys(o).sort(t.sort)).reduce((function(e,t){var n=o[t];return Boolean(n)&&"object"===i(n)&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"===i(t)?e(Object.keys(t)).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return t[e]})):t}(n):e[t]=n,e}),Object.create(null))}t.extract=m,t.parse=v,t.stringify=function(e,t){if(!e)return"";d((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);for(var n=function(n){return t.skipNull&&(null===(r=e[n])||void 0===r)||t.skipEmptyString&&""===e[n];var r},r=function(e){switch(e.arrayFormat){case"index":return function(t){return function(n,r){var i=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(o(n),null===r?[[f(t,e),"[",i,"]"].join("")]:[[f(t,e),"[",f(i,e),"]=",f(r,e)].join("")])}};case"bracket":return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(o(n),null===r?[[f(t,e),"[]"].join("")]:[[f(t,e),"[]=",f(r,e)].join("")])}};case"comma":case"separator":return function(t){return function(n,r){return null===r||void 0===r||0===r.length?n:0===n.length?[[f(t,e),"=",f(r,e)].join("")]:[[n,f(r,e)].join(e.arrayFormatSeparator)]}};default:return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(o(n),null===r?[f(t,e)]:[[f(t,e),"=",f(r,e)].join("")])}}}}(t),i={},a=0,s=Object.keys(e);a<s.length;a++){var l=s[a];n(l)||(i[l]=e[l])}var c=Object.keys(i);return!1!==t.sort&&c.sort(t.sort),c.map((function(n){var i=e[n];return void 0===i?"":null===i?f(n,t):Array.isArray(i)?i.reduce(r(n),[]).join("&"):f(n,t)+"="+f(i,t)})).filter((function(e){return e.length>0})).join("&")},t.parseUrl=function(e,t){t=Object.assign({decode:!0},t);var n=r(u(e,"#"),2),i=n[0],o=n[1];return Object.assign({url:i.split("?")[0]||"",query:v(m(e),t)},t&&t.parseFragmentIdentifier&&o?{fragmentIdentifier:h(o,t)}:{})},t.stringifyUrl=function(e,n){n=Object.assign({encode:!0,strict:!0},n);var r=p(e.url).split("?")[0]||"",i=t.extract(e.url),o=t.parse(i,{sort:!1}),a=Object.assign(o,e.query),s=t.stringify(a,n);s&&(s="?".concat(s));var l=function(e){var t="",n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(l="#".concat(f(e.fragmentIdentifier,n))),"".concat(r).concat(s).concat(l)}},function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return p}));var r=n(0),i=n(1),o=n(18),a=n(5),s=n(19),l=n(15);function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var u=function(e){Object(o.b)("uiForceCheckoutComponentValidation",(function(t,n){e()}))},d=function(e){var t=e.productSelector,n=e.subscriptionSelector,r=e.bundleSelector,i=Object(a.o)(),o=Object(s.j)(),c=Object(l.k)();if(null!=i)return t(i);if(null!=o)return n(o);if(null!=c)return r(c);throw new Error("Cannot access checkout state, make sure ProductCheckoutProvider, SubscriptionManagerProvider, or BundleCheckoutProvider is present")},f=function(){var e=Object(a.n)(),t=Object(s.i)(),n=Object(l.l)(),i=r.useCallback((function(r){var i=r.productAction,o=r.subscriptionAction,a=r.bundleAction;if(null!=e)e(i);else if(null!=t)t(o);else{if(null==n)throw new Error("Cannot access checkout state, make sure ProductCheckoutProvider, SubscriptionManagerProvider, or BundleCheckoutProvider is present");n(a)}}),[e,t,n]);if(null==e&&null==t&&null==n)throw new Error("Cannot access checkout state, make sure ProductCheckoutProvider, SubscriptionManagerProvider, or BundleCheckoutProvider is present");return i},h=i.h([a.h,s.g,l.d]),p=function(e){var t=e.component,n=e.propParser,o=t;return{component:function(e){if("product"===e.kind){e.kind;var t=e.product_data,n=c(e,["kind","product_data"]);return r.createElement(a.a,{initialProductData:t},r.createElement(o,n))}if("subscription"==e.kind){e.kind;var i=e.subscription_data,u=c(e,["kind","subscription_data"]);return r.createElement(s.a,{initialSubscriptionData:i},r.createElement(o,u))}e.kind;var d=e.bundle_data,f=c(e,["kind","bundle_data"]);return r.createElement(l.a,{initialBundleData:d},r.createElement(o,f))},propParser:i.a(h,n)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"FlashMessageContextProvider",(function(){return a})),n.d(t,"useFlashMessage",(function(){return s})),n.d(t,"useFlashMessageFlightJs",(function(){return l}));var r=n(0),i=n(18),o=r.createContext(null),a=o.Provider,s=function(){var e=r.useContext(o);return null==e?function(e){console.error("Could not display a flash message; flash message context provider is not used but should be")}:function(t){e.displayMessage(t)}},l=function(){var e=Object(i.a)("uiShowFlashMessage");return function(t){e({message:t})}}},function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"h",(function(){return p})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return v})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return b})),n.d(t,"j",(function(){return w})),n.d(t,"i",(function(){return _}));var r=n(48);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=function(e){return e.find((function(e){return!e.is_sold_out}))},u=function(e){if("categories"===e.kind){var t={type:"categories",perCategory:{}};return e.variant_categories.forEach((function(e){var n;t.perCategory[e.id]=(null===(n=c(e.options))||void 0===n?void 0:n.id)||null})),t}var n;return{type:"skus",skuId:(null===(n=c(e.skus))||void 0===n?void 0:n.id)||null}},d=function(e,t,n){var r=f(n,e);if(null==r)throw new Error("Could not find option ".concat(n," to calculate price difference"));if(null==r.recurrence_values)return r.price_difference_cents||0;if(null==t)throw new Error("Cannot select tier pricing without 'selectedRecurrenceId'");var i=r.recurrence_values[t];return null==i?null:i.price_cents},f=function(e,t){return"skus"===t.kind?t.skus.find((function(t){return t.id===e})):t.variant_categories.reduce((function(e,t){return[].concat(s(e),s(t.options))}),[]).find((function(t){return t.id===e}))},h=function(e,t,n){return m(e,t,n,!0)},p=function(e,t,n){return m(e,t,n,!1)},m=function(e,t,n,r){if("skus"===t.type){var i=r?function(e,t){if("skus"===t.kind)return t.skus.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}))}(e,n):function(e,t){if("skus"===t.kind)return t.skus.find((function(t){return t.id.toLowerCase()===e.toLowerCase()}))}(e,n);return null==i?t:o(o({},t),{},{skuId:i.id})}if("categories"!==n.kind)return t;var s=[];if(r)s=function(e,t){if("categories"===t.kind){var n=[];return t.variant_categories.forEach((function(t){t.options.forEach((function(r){r.name.toLowerCase()===e.toLowerCase()&&n.push({categoryId:t.id,option:r})}))})),n}return[]}(e,n);else{var l=function(e,t){var n=null;return"categories"===t.kind&&t.variant_categories.forEach((function(t){var r=t.options.find((function(t){return t.id.toLowerCase()===e.toLowerCase()}));r&&(n={categoryId:t.id,option:r})})),n}(e,n);if(!l)return t;s.push(l)}return s.reduce((function(e,t){return o(o({},e),{},{perCategory:o(o({},e.perCategory),{},a({},t.categoryId,t.option.id))})}),t)},g=function(e){return"categories"===e.type?Object.keys(e.perCategory).map((function(t){return e.perCategory[t]})):[e.skuId]},v=function(e,t){return g(e).map((function(e){if(null==e)return null;var n=f(e,t);return null==n?null:n.name}))},y=function(e,t,n){return g(e).map((function(e){if(null==e)return 0;var r=f(e,t);return null==r?0:n(r.id)})).reduce((function(e,t){return e+t}),0)},b=function(e,t){var n=g(e).map((function(e){if(null==e)return null;var n=f(e,t);return null==n?null:n.quantity_left})).filter(r.a);return 0===n.length?null:Math.min.apply(Math,s(n))},w=function(e,t,n){if("skus"===e.type){var r=n.join(" - ");return h(r,e,t)}return n.reduce((function(e,n){return h(n,e,t)}),e)},_=function(e,t,n){return"skus"===e.type?p(n[0],e,t):n.reduce((function(e,n){return p(n,e,t)}),e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"h",(function(){return p})),n.d(t,"d",(function(){return m}));var r=n(0),i=n(6),o=n.n(i),a=/(\r\n|\n|\r)/gm,s=function(e){var t=e.text.split(a);return r.createElement(r.Fragment,null,t.map((function(e,n){if(a.test(e))return r.createElement("br",{key:n});t.length;return r.createElement(r.Fragment,{key:n},e)})))},l=function(e){var t=e.label,n=e.children;return r.createElement("div",{className:"variant-holder"},r.createElement("label",{className:"variant-holder__variant-category-label"},t),r.createElement("div",{className:"variant-holder__variant-category__variants-wrapper"},n))},c=function(e){var t=e.name;return r.createElement("a",{className:"variant-holder__variant-option disabled"},t)},u=function(e){var t=e.temporarilyDisabled,n=e.isSelected,i=e.onSelect,a=e.children;return r.createElement("a",{className:o()("variant-holder__variant-option",{disabled:t,selected:n}),href:"#",onClick:function(e){e.preventDefault(),i()}},a)},d=function(e){var t=e.children;return r.createElement("span",{className:"variant-holder__variant-option__price-tag"},t)},f=function(e){var t=e.children;return r.createElement("span",{className:"variant-holder__variant-option__price-tag__original-price"},t)},h=function(e){var t=e.children;return r.createElement("strong",{className:"variant-holder__variant-option__name"},t)},p=function(e){var t=e.children;return r.createElement("small",{className:"variant-holder__variant-option__name__notice"},t)},m=function(e){var t=e.children;return r.createElement("p",{className:"variant-holder__variant-option__description"},"string"===typeof t?r.createElement(s,{text:t}):t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=n(44),o=function(){return r.useState((e=r.useContext(i.e),t=e||i.a,{uid:n=Object(i.d)(t)+Object(i.c)(t),gen:function(e){return n+t.uid(e)}}));var e,t,n},a=function(){return o()[0].uid}},function(e,t,n){"use strict";var r;void 0===(r=function(){return{generate:function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e();function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}}}}.apply(t,[]))||(e.exports=r)},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),i=n(6),o=n.n(i);function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=function(e){var t=e.prefix,n=e.containerClassName,i=e.rightLabel,s=e.inputRef,l=a(e,["prefix","containerClassName","rightLabel","inputRef"]);return r.createElement("div",{className:o()("input-wrapper","has-prefix","relative",n)},r.createElement("span",{className:"input-prefix"},t),r.createElement("input",Object.assign({ref:s},l)),i?r.createElement("span",{className:"input-with-prefix__right-label"},i):null)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return l}));var r=n(23),i=function(e){return e.totalPriceCentsBeforeShipping+e.totalShippingCents+e.exclusiveTaxCents+e.exclusiveVatCents},o=function(e){return{totalPriceCentsBeforeShipping:e,totalShippingCents:0,totalTaxCents:0,exclusiveTaxCents:0,exclusiveVatCents:0,vatCents:0,taxCountry:null,businessVatStatus:null}},a=function(e){var t=e.price_cents,n=e.shipping_rate_cents,r=parseInt(e.tax_cents),i=e.is_price_tax_exclusive&&e.tax_info&&!e.tax_info.is_vat?parseInt(e.tax_cents):0,o=e.tax_info&&e.tax_info.is_vat?parseInt(e.tax_cents):0;return{totalPriceCentsBeforeShipping:t,totalShippingCents:n,totalTaxCents:r,exclusiveTaxCents:i,exclusiveVatCents:e.is_price_tax_exclusive?o:0,vatCents:o,taxCountry:e.tax_info&&e.tax_info.country,businessVatStatus:e.business_vat_status}},s=function(e,t,n){var i=function(e){return Object(r.a)(e,t,n)};return{totalPriceCentsBeforeShipping:i(e.totalPriceCentsBeforeShipping),totalShippingCents:i(e.totalShippingCents),totalTaxCents:i(e.totalTaxCents),exclusiveTaxCents:i(e.exclusiveTaxCents),exclusiveVatCents:i(e.exclusiveVatCents),vatCents:i(e.vatCents),taxCountry:e.taxCountry,businessVatStatus:e.businessVatStatus}},l=function(e){return{totalPriceCentsBeforeShipping:e.reduce((function(e,t){return e+t.totalPriceCentsBeforeShipping}),0),totalShippingCents:e.reduce((function(e,t){return e+t.totalShippingCents}),0),totalTaxCents:e.reduce((function(e,t){return e+t.totalTaxCents}),0),exclusiveTaxCents:e.reduce((function(e,t){return e+t.exclusiveTaxCents}),0),exclusiveVatCents:e.reduce((function(e,t){return e+t.exclusiveVatCents}),0),vatCents:e.reduce((function(e,t){return e+t.vatCents}),0),taxCountry:e.reduce((function(e,t){return t.taxCountry||e}),null),businessVatStatus:e.reduce((function(e,t){return t.businessVatStatus||e}),null)}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return c}));var r=n(0),i=function(){var e=1,t=new WeakMap;return function n(r,i){return"number"===typeof r||"string"===typeof r?i?"idx-"+i:"val-"+r:t.has(r)?"uid"+t.get(r):(t.set(r,e++),n(r))}},o=(i(),function(e){return void 0===e&&(e=""),{value:1,prefix:e,uid:i()}}),a=o(),s=r.createContext(o()),l=function(e){return e.value++},c=function(e){return e?e.prefix:""}},function(e,t,n){"use strict";var r,i;r=[n(35)],void 0===(i=function(e){return function(){this.getUrlParams=function(){if("undefined"==typeof this.urlParams){var t=window.location.search;this.urlParams=e.parse(t)}return this.urlParams}}}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";n.r(t),n.d(t,"formatDateWithMonthName",(function(){return i})),n.d(t,"toUSDateFormat",(function(){return o})),n.d(t,"getDateString",(function(){return a})),n.d(t,"getDateRangeFromHash",(function(){return s})),n.d(t,"getDashedDateString",(function(){return l})),n.d(t,"convertToDateIfNotAlready",(function(){return c})),n.d(t,"getMonthsBefore",(function(){return u}));var r=[I18n.t("js.january"),I18n.t("js.february"),I18n.t("js.march"),I18n.t("js.april"),I18n.t("js.may"),I18n.t("js.june"),I18n.t("js.july"),I18n.t("js.august"),I18n.t("js.september"),I18n.t("js.october"),I18n.t("js.november"),I18n.t("js.december")],i=function(e){return r[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear()},o=function(e){var t=e.val();return e.data("from-us")||(t=t.split("/")[1]+"/"+t.split("/")[0]+"/"+t.split("/")[2]),t},a=function(e){var t=o(e);return new Date(t).toDateString()},s=function(e,t,n,r){var i,o,a=/#(\d*)-(\d*)-(\d*)_(\d*)-(\d*)-(\d*)/.exec(window.location.hash);return a?(i=new Date(a[1],a[2]-1,a[3]),o=new Date(a[4],a[5]-1,a[6])):(o=r||new Date,i=n||new Date(o.getTime()-25056e5)),i<e&&(i=e),o>t&&(o=t),[i,o]},l=function(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},c=function(e){return e instanceof Date?e:new Date(e)},u=function(e,t,n){return new Date(e).setMonth(e.getMonth()-t,n)}},,function(e,t,n){"use strict";function r(e){return null!==e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));n(26);function r(e,t){if(null==e)return t;var n=function(e){return parseInt(e.toFixed(0))};if(e.is_percent){var r=n(t*(e.amount/100));return n(t-r)}return n(Math.max(t-e.amount,0))}var i=function(e,t){return e.is_percent?e:{is_percent:!1,amount:t(e.amount)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(0),i=n(111);function o(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var a=function(e){var t=e.extension,n=e.name,o=e.description,a=e.details;return r.createElement("div",{className:"file-row-content-component"},r.createElement("div",{className:"file-row-content-component__kind-icon"},r.createElement(l,{extension:t})),r.createElement("div",{className:"file-row-content-component__info"},r.createElement("h4",null,n),o?r.createElement("p",{className:"file-row-content-component__info__description"},o):null,r.createElement(i.a,{className:"file-row-content-component__info__summary-bullets"},a)))},s=function(e){var t=e.children,n=e.className;return r.createElement(i.b,{className:n},t)},l=function(e){var t=e.extension,n=o(e,["extension"]);return r.createElement("div",Object.assign({className:"file-kind-icon"},n),t?t.slice(0,4):"UNK")}},function(e,t,n){"use strict";var r={ENVIRONMENTS:{PRODUCTION:"production",TEST:"test"},isProduction:function(){return this.current==this.ENVIRONMENTS.PRODUCTION},isTest:function(){return this.current==this.ENVIRONMENTS.TEST}};r.current="undefined"!==typeof window?$('meta[property="gr:environment"]').attr("value"):globalThis._serverEnvironment,e.exports=r},function(e,t,n){(function(e){var n;function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(t,n){"use strict";"object"===r(e)&&"object"===r(e.exports)?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!==typeof window?window:this,(function(i,o){"use strict";var a=[],s=Object.getPrototypeOf,l=a.slice,c=a.flat?function(e){return a.flat.call(e)}:function(e){return a.concat.apply([],e)},u=a.push,d=a.indexOf,f={},h=f.toString,p=f.hasOwnProperty,m=p.toString,g=m.call(Object),v={},y=function(e){return"function"===typeof e&&"number"!==typeof e.nodeType},b=function(e){return null!=e&&e===e.window},w=i.document,_={type:!0,src:!0,nonce:!0,noModule:!0};function S(e,t,n){var r,i,o=(n=n||w).createElement("script");if(o.text=e,t)for(r in _)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function C(e){return null==e?e+"":"object"===r(e)||"function"===typeof e?f[h.call(e)]||"object":r(e)}var x="3.5.1",E=function e(t,n){return new e.fn.init(t,n)};function P(e){var t=!!e&&"length"in e&&e.length,n=C(e);return!y(e)&&!b(e)&&("array"===n||0===t||"number"===typeof t&&t>0&&t-1 in e)}E.fn=E.prototype={jquery:x,constructor:E,length:0,toArray:function(){return l.call(this)},get:function(e){return null==e?l.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=E.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return E.each(this,e)},map:function(e){return this.pushStack(E.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(E.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:a.sort,splice:a.splice},E.extend=E.fn.extend=function(){var e,t,n,i,o,a,s=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"===typeof s&&(u=s,s=arguments[l]||{},l++),"object"===r(s)||y(s)||(s={}),l===c&&(s=this,l--);l<c;l++)if(null!=(e=arguments[l]))for(t in e)i=e[t],"__proto__"!==t&&s!==i&&(u&&i&&(E.isPlainObject(i)||(o=Array.isArray(i)))?(n=s[t],a=o&&!Array.isArray(n)?[]:o||E.isPlainObject(n)?n:{},o=!1,s[t]=E.extend(u,a,i)):void 0!==i&&(s[t]=i));return s},E.extend({expando:"jQuery"+(x+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==h.call(e))&&(!(t=s(e))||"function"===typeof(n=p.call(t,"constructor")&&t.constructor)&&m.call(n)===g)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){S(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(P(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(P(Object(e))?E.merge(n,"string"===typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:d.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(P(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return c(a)},guid:1,support:v}),"function"===typeof Symbol&&(E.fn[Symbol.iterator]=a[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){f["[object "+t+"]"]=t.toLowerCase()}));var k=function(e){var t,n,r,i,o,a,s,l,c,u,d,f,h,p,m,g,v,y,b,w="sizzle"+1*new Date,_=e.document,S=0,C=0,x=le(),E=le(),P=le(),k=le(),T=function(e,t){return e===t&&(d=!0),0},A={}.hasOwnProperty,O=[],I=O.pop,j=O.push,N=O.push,D=O.slice,R=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",L="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",B="\\[[\\x20\\t\\r\\n\\f]*("+L+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+M+"*\\]",U=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",z=new RegExp(M+"+","g"),H=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),W=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),q=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),V=new RegExp(M+"|>"),$=new RegExp(U),Y=new RegExp("^"+L+"$"),G={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},K=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){f()},ae=we((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{N.apply(O=D.call(_.childNodes),_.childNodes),O[_.childNodes.length].nodeType}catch(Ee){N={apply:O.length?function(e,t){j.apply(e,D.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function se(e,t,r,i){var o,s,c,u,d,p,v,y=t&&t.ownerDocument,_=t?t.nodeType:9;if(r=r||[],"string"!==typeof e||!e||1!==_&&9!==_&&11!==_)return r;if(!i&&(f(t),t=t||h,m)){if(11!==_&&(d=Z.exec(e)))if(o=d[1]){if(9===_){if(!(c=t.getElementById(o)))return r;if(c.id===o)return r.push(c),r}else if(y&&(c=y.getElementById(o))&&b(t,c)&&c.id===o)return r.push(c),r}else{if(d[2])return N.apply(r,t.getElementsByTagName(e)),r;if((o=d[3])&&n.getElementsByClassName&&t.getElementsByClassName)return N.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!k[e+" "]&&(!g||!g.test(e))&&(1!==_||"object"!==t.nodeName.toLowerCase())){if(v=e,y=t,1===_&&(V.test(e)||q.test(e))){for((y=ee.test(e)&&ve(t.parentNode)||t)===t&&n.scope||((u=t.getAttribute("id"))?u=u.replace(re,ie):t.setAttribute("id",u=w)),s=(p=a(e)).length;s--;)p[s]=(u?"#"+u:":scope")+" "+be(p[s]);v=p.join(",")}try{return N.apply(r,y.querySelectorAll(v)),r}catch(S){k(e,!0)}finally{u===w&&t.removeAttribute("id")}}}return l(e.replace(H,"$1"),t,r,i)}function le(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function ce(e){return e[w]=!0,e}function ue(e){var t=h.createElement("fieldset");try{return!!e(t)}catch(Ee){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var n=e.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=t}function fe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function he(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function me(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ge(e){return ce((function(t){return t=+t,ce((function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}))}))}function ve(e){return e&&"undefined"!==typeof e.getElementsByTagName&&e}for(t in n=se.support={},o=se.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!K.test(t||n&&n.nodeName||"HTML")},f=se.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:_;return a!=h&&9===a.nodeType&&a.documentElement?(p=(h=a).documentElement,m=!o(h),_!=h&&(i=h.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",oe,!1):i.attachEvent&&i.attachEvent("onunload",oe)),n.scope=ue((function(e){return p.appendChild(e).appendChild(h.createElement("div")),"undefined"!==typeof e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=ue((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=ue((function(e){return e.appendChild(h.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=J.test(h.getElementsByClassName),n.getById=ue((function(e){return p.appendChild(e).id=w,!h.getElementsByName||!h.getElementsByName(w).length})),n.getById?(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if("undefined"!==typeof t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n="undefined"!==typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if("undefined"!==typeof t.getElementById&&m){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return"undefined"!==typeof t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if("undefined"!==typeof t.getElementsByClassName&&m)return t.getElementsByClassName(e)},v=[],g=[],(n.qsa=J.test(h.querySelectorAll))&&(ue((function(e){var t;p.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+F+")"),e.querySelectorAll("[id~="+w+"-]").length||g.push("~="),(t=h.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||g.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||g.push(".#.+[+~]"),e.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")})),ue((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=h.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=J.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ue((function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),v.push("!=",U)})),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=J.test(p.compareDocumentPosition),b=t||J.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},T=t?function(e,t){if(e===t)return d=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e==h||e.ownerDocument==_&&b(_,e)?-1:t==h||t.ownerDocument==_&&b(_,t)?1:u?R(u,e)-R(u,t):0:4&r?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==h?-1:t==h?1:i?-1:o?1:u?R(u,e)-R(u,t):0;if(i===o)return fe(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?fe(a[r],s[r]):a[r]==_?-1:s[r]==_?1:0},h):h},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(f(e),n.matchesSelector&&m&&!k[t+" "]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(Ee){k(t,!0)}return se(t,h,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!=h&&f(e),b(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=h&&f(e);var i=r.attrHandle[t.toLowerCase()],o=i&&A.call(r.attrHandle,t.toLowerCase())?i(e,t,!m):void 0;return void 0!==o?o:n.attributes||!m?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,r=[],i=0,o=0;if(d=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(T),d){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return u=null,e},i=se.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"===typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=se.selectors={cacheLength:50,createPseudo:ce,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&$.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=x[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+M+"|$)"))&&x(e,(function(e){return t.test("string"===typeof e.className&&e.className||"undefined"!==typeof e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=se.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(z," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,f,h,p,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(g){if(o){for(;m;){for(f=t;f=f[m];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(b=(h=(c=(u=(d=(f=g)[w]||(f[w]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]||[])[0]===S&&c[1])&&c[2],f=h&&g.childNodes[h];f=++h&&f&&f[m]||(b=h=0)||p.pop();)if(1===f.nodeType&&++b&&f===t){u[e]=[S,h,b];break}}else if(y&&(b=h=(c=(u=(d=(f=t)[w]||(f[w]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]||[])[0]===S&&c[1]),!1===b)for(;(f=++h&&f&&f[m]||(b=h=0)||p.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++b||(y&&((u=(d=f[w]||(f[w]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]=[S,b]),f!==t)););return(b-=i)===r||b%r===0&&b/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ce((function(e,n){for(var r,o=i(e,t),a=o.length;a--;)e[r=R(e,o[a])]=!(n[r]=o[a])})):function(e){return i(e,0,n)}):i}},pseudos:{not:ce((function(e){var t=[],n=[],r=s(e.replace(H,"$1"));return r[w]?ce((function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}})),has:ce((function(e){return function(t){return se(e,t).length>0}})),contains:ce((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||i(t)).indexOf(e)>-1}})),lang:ce((function(e){return Y.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge((function(){return[0]})),last:ge((function(e,t){return[t-1]})),eq:ge((function(e,t,n){return[n<0?n+t:n]})),even:ge((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ge((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ge((function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:ge((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=he(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=pe(t);function ye(){}function be(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function we(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=C++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,l){var c,u,d,f=[S,s];if(l){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(u=(d=t[w]||(t[w]={}))[t.uniqueID]||(d[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=u[o])&&c[0]===S&&c[1]===s)return f[2]=c[2];if(u[o]=f,f[2]=e(t,n,l))return!0}return!1}}function _e(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function Se(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),c&&t.push(s)));return a}function Ce(e,t,n,r,i,o){return r&&!r[w]&&(r=Ce(r)),i&&!i[w]&&(i=Ce(i,o)),ce((function(o,a,s,l){var c,u,d,f=[],h=[],p=a.length,m=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),g=!e||!o&&t?m:Se(m,f,e,s,l),v=n?i||(o?e:p||r)?[]:a:g;if(n&&n(g,v,s,l),r)for(c=Se(v,h),r(c,[],s,l),u=c.length;u--;)(d=c[u])&&(v[h[u]]=!(g[h[u]]=d));if(o){if(i||e){if(i){for(c=[],u=v.length;u--;)(d=v[u])&&c.push(g[u]=d);i(null,v=[],c,l)}for(u=v.length;u--;)(d=v[u])&&(c=i?R(o,d):f[u])>-1&&(o[c]=!(a[c]=d))}}else v=Se(v===a?v.splice(p,v.length):v),i?i(null,a,v,l):N.apply(a,v)}))}function xe(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],l=a?1:0,u=we((function(e){return e===t}),s,!0),d=we((function(e){return R(t,e)>-1}),s,!0),f=[function(e,n,r){var i=!a&&(r||n!==c)||((t=n).nodeType?u(e,n,r):d(e,n,r));return t=null,i}];l<o;l++)if(n=r.relative[e[l].type])f=[we(_e(f),n)];else{if((n=r.filter[e[l].type].apply(null,e[l].matches))[w]){for(i=++l;i<o&&!r.relative[e[i].type];i++);return Ce(l>1&&_e(f),l>1&&be(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(H,"$1"),n,l<i&&xe(e.slice(l,i)),i<o&&xe(e=e.slice(i)),i<o&&be(e))}f.push(n)}return _e(f)}return ye.prototype=r.filters=r.pseudos,r.setFilters=new ye,a=se.tokenize=function(e,t){var n,i,o,a,s,l,c,u=E[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=r.preFilter;s;){for(a in n&&!(i=W.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),n=!1,(i=q.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(H," ")}),s=s.slice(n.length)),r.filter)!(i=G[a].exec(s))||c[a]&&!(i=c[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?se.error(e):E(e,l).slice(0)},s=se.compile=function(e,t){var n,i=[],o=[],s=P[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=xe(t[n]))[w]?i.push(s):o.push(s);(s=P(e,function(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,l,u){var d,p,g,v=0,y="0",b=o&&[],w=[],_=c,C=o||i&&r.find.TAG("*",u),x=S+=null==_?1:Math.random()||.1,E=C.length;for(u&&(c=a==h||a||u);y!==E&&null!=(d=C[y]);y++){if(i&&d){for(p=0,a||d.ownerDocument==h||(f(d),s=!m);g=e[p++];)if(g(d,a||h,s)){l.push(d);break}u&&(S=x)}n&&((d=!g&&d)&&v--,o&&b.push(d))}if(v+=y,n&&y!==v){for(p=0;g=t[p++];)g(b,w,a,s);if(o){if(v>0)for(;y--;)b[y]||w[y]||(w[y]=I.call(l));w=Se(w)}N.apply(l,w),u&&!o&&w.length>0&&v+t.length>1&&se.uniqueSort(l)}return u&&(S=x,c=_),b};return n?ce(o):o}(o,i))).selector=e}return s},l=se.select=function(e,t,n,i){var o,l,c,u,d,f="function"===typeof e&&e,h=!i&&a(e=f.selector||e);if(n=n||[],1===h.length){if((l=h[0]=h[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===t.nodeType&&m&&r.relative[l[1].type]){if(!(t=(r.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return n;f&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(o=G.needsContext.test(e)?0:l.length;o--&&(c=l[o],!r.relative[u=c.type]);)if((d=r.find[u])&&(i=d(c.matches[0].replace(te,ne),ee.test(l[0].type)&&ve(t.parentNode)||t))){if(l.splice(o,1),!(e=i.length&&be(l)))return N.apply(n,i),n;break}}return(f||s(e,h))(i,t,!m,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},n.sortStable=w.split("").sort(T).join("")===w,n.detectDuplicates=!!d,f(),n.sortDetached=ue((function(e){return 1&e.compareDocumentPosition(h.createElement("fieldset"))})),ue((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||de("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&ue((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||de("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ue((function(e){return null==e.getAttribute("disabled")}))||de(F,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),se}(i);E.find=k,(E.expr=k.selectors)[":"]=E.expr.pseudos,E.uniqueSort=E.unique=k.uniqueSort,E.text=k.getText,E.isXMLDoc=k.isXML,E.contains=k.contains,E.escapeSelector=k.escape;var T=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&E(e).is(n))break;r.push(e)}return r},A=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},O=E.expr.match.needsContext;function I(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var j=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function N(e,t,n){return y(t)?E.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?E.grep(e,(function(e){return e===t!==n})):"string"!==typeof t?E.grep(e,(function(e){return d.call(t,e)>-1!==n})):E.filter(t,e,n)}E.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?E.find.matchesSelector(r,e)?[r]:[]:E.find.matches(e,E.grep(t,(function(e){return 1===e.nodeType})))},E.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!==typeof e)return this.pushStack(E(e).filter((function(){for(t=0;t<r;t++)if(E.contains(i[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)E.find(e,i[t],n);return r>1?E.uniqueSort(n):n},filter:function(e){return this.pushStack(N(this,e||[],!1))},not:function(e){return this.pushStack(N(this,e||[],!0))},is:function(e){return!!N(this,"string"===typeof e&&O.test(e)?E(e):e||[],!1).length}});var D,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||D,"string"===typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:R.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof E?t[0]:t,E.merge(this,E.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:w,!0)),j.test(r[1])&&E.isPlainObject(t))for(r in t)y(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=w.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==n.ready?n.ready(e):e(E):E.makeArray(e,this)}).prototype=E.fn,D=E(w);var F=/^(?:parents|prev(?:Until|All))/,M={children:!0,contents:!0,next:!0,prev:!0};function L(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}E.fn.extend({has:function(e){var t=E(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(E.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!==typeof e&&E(e);if(!O.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&E.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?E.uniqueSort(o):o)},index:function(e){return e?"string"===typeof e?d.call(E(e),this[0]):d.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),E.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return T(e,"parentNode")},parentsUntil:function(e,t,n){return T(e,"parentNode",n)},next:function(e){return L(e,"nextSibling")},prev:function(e){return L(e,"previousSibling")},nextAll:function(e){return T(e,"nextSibling")},prevAll:function(e){return T(e,"previousSibling")},nextUntil:function(e,t,n){return T(e,"nextSibling",n)},prevUntil:function(e,t,n){return T(e,"previousSibling",n)},siblings:function(e){return A((e.parentNode||{}).firstChild,e)},children:function(e){return A(e.firstChild)},contents:function(e){return null!=e.contentDocument&&s(e.contentDocument)?e.contentDocument:(I(e,"template")&&(e=e.content||e),E.merge([],e.childNodes))}},(function(e,t){E.fn[e]=function(n,r){var i=E.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"===typeof r&&(i=E.filter(r,i)),this.length>1&&(M[e]||E.uniqueSort(i),F.test(e)&&i.reverse()),this.pushStack(i)}}));var B=/[^\x20\t\r\n\f]+/g;function U(e){return e}function z(e){throw e}function H(e,t,n,r){var i;try{e&&y(i=e.promise)?i.call(e).done(t).fail(n):e&&y(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}E.Callbacks=function(e){e="string"===typeof e?function(e){var t={};return E.each(e.match(B)||[],(function(e,n){t[n]=!0})),t}(e):E.extend({},e);var t,n,r,i,o=[],a=[],s=-1,l=function(){for(i=i||e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){E.each(n,(function(n,r){y(r)?e.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==C(r)&&t(r)}))}(arguments),n&&!t&&l()),this},remove:function(){return E.each(arguments,(function(e,t){for(var n;(n=E.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--})),this},has:function(e){return e?E.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},E.extend({Deferred:function(e){var t=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return E.Deferred((function(n){E.each(t,(function(t,r){var i=y(e[r[4]])&&e[r[4]];a[r[1]]((function(){var e=i&&i.apply(this,arguments);e&&y(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,o){var a=0;function s(e,t,n,o){return function(){var l=this,c=arguments,u=function(){var i,u;if(!(e<a)){if((i=n.apply(l,c))===t.promise())throw new TypeError("Thenable self-resolution");u=i&&("object"===r(i)||"function"===typeof i)&&i.then,y(u)?o?u.call(i,s(a,t,U,o),s(a,t,z,o)):(a++,u.call(i,s(a,t,U,o),s(a,t,z,o),s(a,t,U,t.notifyWith))):(n!==U&&(l=void 0,c=[i]),(o||t.resolveWith)(l,c))}},d=o?u:function(){try{u()}catch(r){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(r,d.stackTrace),e+1>=a&&(n!==z&&(l=void 0,c=[r]),t.rejectWith(l,c))}};e?d():(E.Deferred.getStackHook&&(d.stackTrace=E.Deferred.getStackHook()),i.setTimeout(d))}}return E.Deferred((function(r){t[0][3].add(s(0,r,y(o)?o:U,r.notifyWith)),t[1][3].add(s(0,r,y(e)?e:U)),t[2][3].add(s(0,r,y(n)?n:z))})).promise()},promise:function(e){return null!=e?E.extend(e,o):o}},a={};return E.each(t,(function(e,r){var i=r[2],s=r[5];o[r[1]]=i.add,s&&i.add((function(){n=s}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),i.add(r[3].fire),a[r[0]]=function(){return a[r[0]+"With"](this===a?void 0:this,arguments),this},a[r[0]+"With"]=i.fireWith})),o.promise(a),e&&e.call(a,a),a},when:function(e){var t=arguments.length,n=t,r=Array(n),i=l.call(arguments),o=E.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?l.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(H(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||y(i[n]&&i[n].then)))return o.then();for(;n--;)H(i[n],a(n),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(e,t){i.console&&i.console.warn&&e&&W.test(e.name)&&i.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},E.readyException=function(e){i.setTimeout((function(){throw e}))};var q=E.Deferred();function V(){w.removeEventListener("DOMContentLoaded",V),i.removeEventListener("load",V),E.ready()}E.fn.ready=function(e){return q.then(e).catch((function(e){E.readyException(e)})),this},E.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--E.readyWait:E.isReady)||(E.isReady=!0,!0!==e&&--E.readyWait>0||q.resolveWith(w,[E]))}}),E.ready.then=q.then,"complete"===w.readyState||"loading"!==w.readyState&&!w.documentElement.doScroll?i.setTimeout(E.ready):(w.addEventListener("DOMContentLoaded",V),i.addEventListener("load",V));var $=function e(t,n,r,i,o,a,s){var l=0,c=t.length,u=null==r;if("object"===C(r))for(l in o=!0,r)e(t,n,l,r[l],!0,a,s);else if(void 0!==i&&(o=!0,y(i)||(s=!0),u&&(s?(n.call(t,i),n=null):(u=n,n=function(e,t,n){return u.call(E(e),n)})),n))for(;l<c;l++)n(t[l],r,s?i:i.call(t[l],l,n(t[l],r)));return o?t:u?n.call(t):c?n(t[0],r):a},Y=/^-ms-/,G=/-([a-z])/g;function K(e,t){return t.toUpperCase()}function Q(e){return e.replace(Y,"ms-").replace(G,K)}var X=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function J(){this.expando=E.expando+J.uid++}J.uid=1,J.prototype={cache:function(e){var t=e[this.expando];return t||(t={},X(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"===typeof t)i[Q(t)]=n;else for(r in t)i[Q(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Q(t)]},access:function(e,t,n){return void 0===t||t&&"string"===typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(Q):(t=Q(t))in r?[t]:t.match(B)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||E.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!E.isEmptyObject(t)}};var Z=new J,ee=new J,te=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ne=/[A-Z]/g;function re(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ne,"-$&").toLowerCase(),"string"===typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:te.test(e)?JSON.parse(e):e)}(n)}catch(i){}ee.set(e,t,n)}else n=void 0;return n}E.extend({hasData:function(e){return ee.hasData(e)||Z.hasData(e)},data:function(e,t,n){return ee.access(e,t,n)},removeData:function(e,t){ee.remove(e,t)},_data:function(e,t,n){return Z.access(e,t,n)},_removeData:function(e,t){Z.remove(e,t)}}),E.fn.extend({data:function(e,t){var n,i,o,a=this[0],s=a&&a.attributes;if(void 0===e){if(this.length&&(o=ee.get(a),1===a.nodeType&&!Z.get(a,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=Q(i.slice(5)),re(a,i,o[i]));Z.set(a,"hasDataAttrs",!0)}return o}return"object"===r(e)?this.each((function(){ee.set(this,e)})):$(this,(function(t){var n;if(a&&void 0===t)return void 0!==(n=ee.get(a,e))||void 0!==(n=re(a,e))?n:void 0;this.each((function(){ee.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){ee.remove(this,e)}))}}),E.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Z.get(e,t),n&&(!r||Array.isArray(n)?r=Z.access(e,t,E.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){var n=E.queue(e,t=t||"fx"),r=n.length,i=n.shift(),o=E._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,(function(){E.dequeue(e,t)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Z.get(e,n)||Z.access(e,n,{empty:E.Callbacks("once memory").add((function(){Z.remove(e,[t+"queue",n])}))})}}),E.fn.extend({queue:function(e,t){var n=2;return"string"!==typeof e&&(t=e,e="fx",n--),arguments.length<n?E.queue(this[0],e):void 0===t?this:this.each((function(){var n=E.queue(this,e,t);E._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&E.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){E.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=E.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!==typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Z.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ie=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,oe=new RegExp("^(?:([+-])=|)("+ie+")([a-z%]*)$","i"),ae=["Top","Right","Bottom","Left"],se=w.documentElement,le=function(e){return E.contains(e.ownerDocument,e)},ce={composed:!0};se.getRootNode&&(le=function(e){return E.contains(e.ownerDocument,e)||e.getRootNode(ce)===e.ownerDocument});var ue=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&le(e)&&"none"===E.css(e,"display")};function de(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return E.css(e,t,"")},l=s(),c=n&&n[3]||(E.cssNumber[t]?"":"px"),u=e.nodeType&&(E.cssNumber[t]||"px"!==c&&+l)&&oe.exec(E.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;a--;)E.style(e,t,u+c),(1-o)*(1-(o=s()/l||.5))<=0&&(a=0),u/=o;E.style(e,t,(u*=2)+c),n=n||[]}return n&&(u=+u||+l||0,i=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=u,r.end=i)),i}var fe={};function he(e){var t,n=e.ownerDocument,r=e.nodeName,i=fe[r];return i||(t=n.body.appendChild(n.createElement(r)),i=E.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),fe[r]=i,i)}function pe(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=Z.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ue(r)&&(i[o]=he(r))):"none"!==n&&(i[o]="none",Z.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}E.fn.extend({show:function(){return pe(this,!0)},hide:function(){return pe(this)},toggle:function(e){return"boolean"===typeof e?e?this.show():this.hide():this.each((function(){ue(this)?E(this).show():E(this).hide()}))}});var me,ge,ve=/^(?:checkbox|radio)$/i,ye=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,be=/^$|^module$|\/(?:java|ecma)script/i;me=w.createDocumentFragment().appendChild(w.createElement("div")),(ge=w.createElement("input")).setAttribute("type","radio"),ge.setAttribute("checked","checked"),ge.setAttribute("name","t"),me.appendChild(ge),v.checkClone=me.cloneNode(!0).cloneNode(!0).lastChild.checked,me.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!me.cloneNode(!0).lastChild.defaultValue,me.innerHTML="<option></option>",v.option=!!me.lastChild;var we={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function _e(e,t){var n;return n="undefined"!==typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!==typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&I(e,t)?E.merge([e],n):n}function Se(e,t){for(var n=0,r=e.length;n<r;n++)Z.set(e[n],"globalEval",!t||Z.get(t[n],"globalEval"))}we.tbody=we.tfoot=we.colgroup=we.caption=we.thead,we.th=we.td,v.option||(we.optgroup=we.option=[1,"<select multiple='multiple'>","</select>"]);var Ce=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,s,l,c,u,d=t.createDocumentFragment(),f=[],h=0,p=e.length;h<p;h++)if((o=e[h])||0===o)if("object"===C(o))E.merge(f,o.nodeType?[o]:o);else if(Ce.test(o)){for(a=a||d.appendChild(t.createElement("div")),s=(ye.exec(o)||["",""])[1].toLowerCase(),l=we[s]||we._default,a.innerHTML=l[1]+E.htmlPrefilter(o)+l[2],u=l[0];u--;)a=a.lastChild;E.merge(f,a.childNodes),(a=d.firstChild).textContent=""}else f.push(t.createTextNode(o));for(d.textContent="",h=0;o=f[h++];)if(r&&E.inArray(o,r)>-1)i&&i.push(o);else if(c=le(o),a=_e(d.appendChild(o),"script"),c&&Se(a),n)for(u=0;o=a[u++];)be.test(o.type||"")&&n.push(o);return d}var Ee=/^key/,Pe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ke=/^([^.]*)(?:\.(.+)|)/;function Te(){return!0}function Ae(){return!1}function Oe(e,t){return e===function(){try{return w.activeElement}catch(e){}}()===("focus"===t)}function Ie(e,t,n,i,o,a){var s,l;if("object"===r(t)){for(l in"string"!==typeof n&&(i=i||n,n=void 0),t)Ie(e,l,n,i,t[l],a);return e}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"===typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),!1===o)o=Ae;else if(!o)return e;return 1===a&&(s=o,(o=function(e){return E().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=E.guid++)),e.each((function(){E.event.add(this,t,o,i,n)}))}function je(e,t,n){n?(Z.set(e,t,!1),E.event.add(e,t,{namespace:!1,handler:function(e){var r,i,o=Z.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(E.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=l.call(arguments),Z.set(this,t,o),r=n(this,t),this[t](),o!==(i=Z.get(this,t))||r?Z.set(this,t,!1):i={},o!==i)return e.stopImmediatePropagation(),e.preventDefault(),i.value}else o.length&&(Z.set(this,t,{value:E.event.trigger(E.extend(o[0],E.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Z.get(e,t)&&E.event.add(e,t,Te)}E.event={global:{},add:function(e,t,n,r,i){var o,a,s,l,c,u,d,f,h,p,m,g=Z.get(e);if(X(e))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&E.find.matchesSelector(se,i),n.guid||(n.guid=E.guid++),(l=g.events)||(l=g.events=Object.create(null)),(a=g.handle)||(a=g.handle=function(t){return E.event.triggered!==t.type?E.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(B)||[""]).length;c--;)h=m=(s=ke.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),h&&(d=E.event.special[h]||{},h=(i?d.delegateType:d.bindType)||h,d=E.event.special[h]||{},u=E.extend({type:h,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&E.expr.match.needsContext.test(i),namespace:p.join(".")},o),(f=l[h])||((f=l[h]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,r,p,a)||e.addEventListener&&e.addEventListener(h,a)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,u):f.push(u),E.event.global[h]=!0)},remove:function(e,t,n,r,i){var o,a,s,l,c,u,d,f,h,p,m,g=Z.hasData(e)&&Z.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(B)||[""]).length;c--;)if(h=m=(s=ke.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),h){for(d=E.event.special[h]||{},f=l[h=(r?d.delegateType:d.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)u=f[o],!i&&m!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(f.splice(o,1),u.selector&&f.delegateCount--,d.remove&&d.remove.call(e,u));a&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,p,g.handle)||E.removeEvent(e,h,g.handle),delete l[h])}else for(h in l)E.event.remove(e,h+t[c],n,r,!0);E.isEmptyObject(l)&&Z.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),l=E.event.fix(e),c=(Z.get(this,"events")||Object.create(null))[l.type]||[],u=E.event.special[l.type]||{};for(s[0]=l,t=1;t<arguments.length;t++)s[t]=arguments[t];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(a=E.event.handlers.call(this,l,c),t=0;(i=a[t++])&&!l.isPropagationStopped();)for(l.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,void 0!==(r=((E.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(l.result=r)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,r,i,o,a,s=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],a={},n=0;n<l;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?E(i,this).index(c)>-1:E.find(i,this,null,[c]).length),a[i]&&o.push(r);o.length&&s.push({elem:c,handlers:o})}return c=this,l<t.length&&s.push({elem:c,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(E.Event.prototype,e,{enumerable:!0,configurable:!0,get:y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[E.expando]?e:new E.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ve.test(t.type)&&t.click&&I(t,"input")&&je(t,"click",Te),!1},trigger:function(e){var t=this||e;return ve.test(t.type)&&t.click&&I(t,"input")&&je(t,"click"),!0},_default:function(e){var t=e.target;return ve.test(t.type)&&t.click&&I(t,"input")&&Z.get(t,"click")||I(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},E.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},(E.Event=function(e,t){if(!(this instanceof E.Event))return new E.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Te:Ae,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&E.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[E.expando]=!0}).prototype={constructor:E.Event,isDefaultPrevented:Ae,isPropagationStopped:Ae,isImmediatePropagationStopped:Ae,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Te,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Te,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Te,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Ee.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Pe.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},(function(e,t){E.event.special[e]={setup:function(){return je(this,e,Oe),!1},trigger:function(){return je(this,e),!0},delegateType:t}})),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){E.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||E.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}})),E.fn.extend({on:function(e,t,n,r){return Ie(this,e,t,n,r)},one:function(e,t,n,r){return Ie(this,e,t,n,r,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,E(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"===r(e)){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!==typeof t||(n=t,t=void 0),!1===n&&(n=Ae),this.each((function(){E.event.remove(this,e,n,t)}))}});var Ne=/<script|<style|<link/i,De=/checked\s*(?:[^=]|=\s*.checked.)/i,Re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Fe(e,t){return I(e,"table")&&I(11!==t.nodeType?t:t.firstChild,"tr")&&E(e).children("tbody")[0]||e}function Me(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Le(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Be(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(Z.hasData(e)&&(s=Z.get(e).events))for(i in Z.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)E.event.add(t,i,s[i][n]);ee.hasData(e)&&(o=ee.access(e),a=E.extend({},o),ee.set(t,a))}}function Ue(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ve.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function ze(e,t,n,r){t=c(t);var i,o,a,s,l,u,d=0,f=e.length,h=f-1,p=t[0],m=y(p);if(m||f>1&&"string"===typeof p&&!v.checkClone&&De.test(p))return e.each((function(i){var o=e.eq(i);m&&(t[0]=p.call(this,i,o.html())),ze(o,t,n,r)}));if(f&&(o=(i=xe(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=(a=E.map(_e(i,"script"),Me)).length;d<f;d++)l=i,d!==h&&(l=E.clone(l,!0,!0),s&&E.merge(a,_e(l,"script"))),n.call(e[d],l,d);if(s)for(u=a[a.length-1].ownerDocument,E.map(a,Le),d=0;d<s;d++)l=a[d],be.test(l.type||"")&&!Z.access(l,"globalEval")&&E.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?E._evalUrl&&!l.noModule&&E._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},u):S(l.textContent.replace(Re,""),l,u))}return e}function He(e,t,n){for(var r,i=t?E.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||E.cleanData(_e(r)),r.parentNode&&(n&&le(r)&&Se(_e(r,"script")),r.parentNode.removeChild(r));return e}E.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),l=le(e);if(!v.noCloneChecked&&(1===e.nodeType||11===e.nodeType)&&!E.isXMLDoc(e))for(a=_e(s),r=0,i=(o=_e(e)).length;r<i;r++)Ue(o[r],a[r]);if(t)if(n)for(o=o||_e(e),a=a||_e(s),r=0,i=o.length;r<i;r++)Be(o[r],a[r]);else Be(e,s);return(a=_e(s,"script")).length>0&&Se(a,!l&&_e(e,"script")),s},cleanData:function(e){for(var t,n,r,i=E.event.special,o=0;void 0!==(n=e[o]);o++)if(X(n)){if(t=n[Z.expando]){if(t.events)for(r in t.events)i[r]?E.event.remove(n,r):E.removeEvent(n,r,t.handle);n[Z.expando]=void 0}n[ee.expando]&&(n[ee.expando]=void 0)}}}),E.fn.extend({detach:function(e){return He(this,e,!0)},remove:function(e){return He(this,e)},text:function(e){return $(this,(function(e){return void 0===e?E.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return ze(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Fe(this,e).appendChild(e)}))},prepend:function(){return ze(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Fe(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return ze(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return ze(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(E.cleanData(_e(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return E.clone(this,e,t)}))},html:function(e){return $(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"===typeof e&&!Ne.test(e)&&!we[(ye.exec(e)||["",""])[1].toLowerCase()]){e=E.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(E.cleanData(_e(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return ze(this,arguments,(function(t){var n=this.parentNode;E.inArray(this,e)<0&&(E.cleanData(_e(this)),n&&n.replaceChild(t,this))}),e)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){E.fn[e]=function(e){for(var n,r=[],i=E(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),E(i[a])[t](n),u.apply(r,n.get());return this.pushStack(r)}}));var We=new RegExp("^("+ie+")(?!px)[a-z%]+$","i"),qe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=i),t.getComputedStyle(e)},Ve=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},$e=new RegExp(ae.join("|"),"i");function Ye(e,t,n){var r,i,o,a,s=e.style;return(n=n||qe(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||le(e)||(a=E.style(e,t)),!v.pixelBoxStyles()&&We.test(a)&&$e.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Ge(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",se.appendChild(c).appendChild(u);var e=i.getComputedStyle(u);n="1%"!==e.top,l=12===t(e.marginLeft),u.style.right="60%",a=36===t(e.right),r=36===t(e.width),u.style.position="absolute",o=12===t(u.offsetWidth/3),se.removeChild(c),u=null}}function t(e){return Math.round(parseFloat(e))}var n,r,o,a,s,l,c=w.createElement("div"),u=w.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===u.style.backgroundClip,E.extend(v,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,t,n,r;return null==s&&(e=w.createElement("table"),t=w.createElement("tr"),n=w.createElement("div"),e.style.cssText="position:absolute;left:-11111px",t.style.height="1px",n.style.height="9px",se.appendChild(e).appendChild(t).appendChild(n),r=i.getComputedStyle(t),s=parseInt(r.height)>3,se.removeChild(e)),s}}))}();var Ke=["Webkit","Moz","ms"],Qe=w.createElement("div").style,Xe={};function Je(e){var t=E.cssProps[e]||Xe[e];return t||(e in Qe?e:Xe[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ke.length;n--;)if((e=Ke[n]+t)in Qe)return e}(e)||e)}var Ze=/^(none|table(?!-c[ea]).+)/,et=/^--/,tt={position:"absolute",visibility:"hidden",display:"block"},nt={letterSpacing:"0",fontWeight:"400"};function rt(e,t,n){var r=oe.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function it(e,t,n,r,i,o){var a="width"===t?1:0,s=0,l=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=E.css(e,n+ae[a],!0,i)),r?("content"===n&&(l-=E.css(e,"padding"+ae[a],!0,i)),"margin"!==n&&(l-=E.css(e,"border"+ae[a]+"Width",!0,i))):(l+=E.css(e,"padding"+ae[a],!0,i),"padding"!==n?l+=E.css(e,"border"+ae[a]+"Width",!0,i):s+=E.css(e,"border"+ae[a]+"Width",!0,i));return!r&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-s-.5))||0),l}function ot(e,t,n){var r=qe(e),i=(!v.boxSizingReliable()||n)&&"border-box"===E.css(e,"boxSizing",!1,r),o=i,a=Ye(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(We.test(a)){if(!n)return a;a="auto"}return(!v.boxSizingReliable()&&i||!v.reliableTrDimensions()&&I(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===E.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===E.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+it(e,t,n||(i?"border":"content"),o,r,a)+"px"}function at(e,t,n,r,i){return new at.prototype.init(e,t,n,r,i)}E.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ye(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,l=Q(t),c=et.test(t),u=e.style;if(c||(t=Je(l)),s=E.cssHooks[t]||E.cssHooks[l],void 0===n)return s&&"get"in s&&void 0!==(o=s.get(e,!1,i))?o:u[t];"string"===(a=r(n))&&(o=oe.exec(n))&&o[1]&&(n=de(e,t,o),a="number"),null!=n&&n===n&&("number"!==a||c||(n+=o&&o[3]||(E.cssNumber[l]?"":"px")),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,i))||(c?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,r){var i,o,a,s=Q(t);return et.test(t)||(t=Je(s)),(a=E.cssHooks[t]||E.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Ye(e,t,r)),"normal"===i&&t in nt&&(i=nt[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),E.each(["height","width"],(function(e,t){E.cssHooks[t]={get:function(e,n,r){if(n)return!Ze.test(E.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ot(e,t,r):Ve(e,tt,(function(){return ot(e,t,r)}))},set:function(e,n,r){var i,o=qe(e),a=!v.scrollboxSize()&&"absolute"===o.position,s=(a||r)&&"border-box"===E.css(e,"boxSizing",!1,o),l=r?it(e,t,r,s,o):0;return s&&a&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-it(e,t,"border",!1,o)-.5)),l&&(i=oe.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=E.css(e,t)),rt(0,n,l)}}})),E.cssHooks.marginLeft=Ge(v.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ye(e,"marginLeft"))||e.getBoundingClientRect().left-Ve(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),E.each({margin:"",padding:"",border:"Width"},(function(e,t){E.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"===typeof n?n.split(" "):[n];r<4;r++)i[e+ae[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(E.cssHooks[e+t].set=rt)})),E.fn.extend({css:function(e,t){return $(this,(function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=qe(e),i=t.length;a<i;a++)o[t[a]]=E.css(e,t[a],!1,r);return o}return void 0!==n?E.style(e,t,n):E.css(e,t)}),e,t,arguments.length>1)}}),E.Tween=at,at.prototype={constructor:at,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||E.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(E.cssNumber[n]?"":"px")},cur:function(){var e=at.propHooks[this.prop];return e&&e.get?e.get(this):at.propHooks._default.get(this)},run:function(e){var t,n=at.propHooks[this.prop];return this.options.duration?this.pos=t=E.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):at.propHooks._default.set(this),this}},at.prototype.init.prototype=at.prototype,at.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=E.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){E.fx.step[e.prop]?E.fx.step[e.prop](e):1!==e.elem.nodeType||!E.cssHooks[e.prop]&&null==e.elem.style[Je(e.prop)]?e.elem[e.prop]=e.now:E.style(e.elem,e.prop,e.now+e.unit)}}},at.propHooks.scrollTop=at.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},E.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},(E.fx=at.prototype.init).step={};var st,lt,ct=/^(?:toggle|show|hide)$/,ut=/queueHooks$/;function dt(){lt&&(!1===w.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(dt):i.setTimeout(dt,E.fx.interval),E.fx.tick())}function ft(){return i.setTimeout((function(){st=void 0})),st=Date.now()}function ht(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ae[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function pt(e,t,n){for(var r,i=(mt.tweeners[t]||[]).concat(mt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function mt(e,t,n){var r,i,o=0,a=mt.prefilters.length,s=E.Deferred().always((function(){delete l.elem})),l=function(){if(i)return!1;for(var t=st||ft(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(r);return s.notifyWith(e,[c,r,n]),r<1&&a?n:(a||s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:E.extend({},t),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},n),originalProperties:t,originalOptions:n,startTime:st||ft(),duration:n.duration,tweens:[],createTween:function(t,n){var r=E.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),u=c.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=Q(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=E.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(u,c.opts.specialEasing);o<a;o++)if(r=mt.prefilters[o].call(c,e,u,c.opts))return y(r.stop)&&(E._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return E.map(u,pt,c),y(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),E.fx.timer(E.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}E.Animation=E.extend(mt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return de(n.elem,e,oe.exec(t),n),n}]},tweener:function(e,t){y(e)?(t=e,e=["*"]):e=e.match(B);for(var n,r=0,i=e.length;r<i;r++)n=e[r],mt.tweeners[n]=mt.tweeners[n]||[],mt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,l,c,u,d="width"in t||"height"in t,f=this,h={},p=e.style,m=e.nodeType&&ue(e),g=Z.get(e,"fxshow");for(r in n.queue||(null==(a=E._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always((function(){f.always((function(){a.unqueued--,E.queue(e,"fx").length||a.empty.fire()}))}))),t)if(i=t[r],ct.test(i)){if(delete t[r],o=o||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;m=!0}h[r]=g&&g[r]||E.style(e,r)}if((l=!E.isEmptyObject(t))||!E.isEmptyObject(h))for(r in d&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=g&&g.display)&&(c=Z.get(e,"display")),"none"===(u=E.css(e,"display"))&&(c?u=c:(pe([e],!0),c=e.style.display||c,u=E.css(e,"display"),pe([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===E.css(e,"float")&&(l||(f.done((function(){p.display=c})),null==c&&(u=p.display,c="none"===u?"":u)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}))),l=!1,h)l||(g?"hidden"in g&&(m=g.hidden):g=Z.access(e,"fxshow",{display:c}),o&&(g.hidden=!m),m&&pe([e],!0),f.done((function(){for(r in m||pe([e]),Z.remove(e,"fxshow"),h)E.style(e,r,h[r])}))),l=pt(m?g[r]:0,r,f),r in g||(g[r]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?mt.prefilters.unshift(e):mt.prefilters.push(e)}}),E.speed=function(e,t,n){var i=e&&"object"===r(e)?E.extend({},e):{complete:n||!n&&t||y(e)&&e,duration:e,easing:n&&t||t&&!y(t)&&t};return E.fx.off?i.duration=0:"number"!==typeof i.duration&&(i.duration in E.fx.speeds?i.duration=E.fx.speeds[i.duration]:i.duration=E.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){y(i.old)&&i.old.call(this),i.queue&&E.dequeue(this,i.queue)},i},E.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ue).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=E.isEmptyObject(e),o=E.speed(t,n,r),a=function(){var t=mt(this,E.extend({},e),o);(i||Z.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!==typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",o=E.timers,a=Z.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&ut.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||E.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=Z.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=E.timers,a=r?r.length:0;for(n.finish=!0,E.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),E.each(["toggle","show","hide"],(function(e,t){var n=E.fn[t];E.fn[t]=function(e,r,i){return null==e||"boolean"===typeof e?n.apply(this,arguments):this.animate(ht(t,!0),e,r,i)}})),E.each({slideDown:ht("show"),slideUp:ht("hide"),slideToggle:ht("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){E.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),E.timers=[],E.fx.tick=function(){var e,t=0,n=E.timers;for(st=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||E.fx.stop(),st=void 0},E.fx.timer=function(e){E.timers.push(e),E.fx.start()},E.fx.interval=13,E.fx.start=function(){lt||(lt=!0,dt())},E.fx.stop=function(){lt=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(e,t){return e=E.fx&&E.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var r=i.setTimeout(t,e);n.stop=function(){i.clearTimeout(r)}}))},function(){var e=w.createElement("input"),t=w.createElement("select").appendChild(w.createElement("option"));e.type="checkbox",v.checkOn=""!==e.value,v.optSelected=t.selected,(e=w.createElement("input")).value="t",e.type="radio",v.radioValue="t"===e.value}();var gt,vt=E.expr.attrHandle;E.fn.extend({attr:function(e,t){return $(this,E.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){E.removeAttr(this,e)}))}}),E.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"===typeof e.getAttribute?E.prop(e,t,n):(1===o&&E.isXMLDoc(e)||(i=E.attrHooks[t.toLowerCase()]||(E.expr.match.bool.test(t)?gt:void 0)),void 0!==n?null===n?void E.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=E.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&I(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(B);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),gt={set:function(e,t,n){return!1===t?E.removeAttr(e,n):e.setAttribute(n,n),n}},E.each(E.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=vt[t]||E.find.attr;vt[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=vt[a],vt[a]=i,i=null!=n(e,t,r)?a:null,vt[a]=o),i}}));var yt=/^(?:input|select|textarea|button)$/i,bt=/^(?:a|area)$/i;function wt(e){return(e.match(B)||[]).join(" ")}function _t(e){return e.getAttribute&&e.getAttribute("class")||""}function St(e){return Array.isArray(e)?e:"string"===typeof e&&e.match(B)||[]}E.fn.extend({prop:function(e,t){return $(this,E.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[E.propFix[e]||e]}))}}),E.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&E.isXMLDoc(e)||(t=E.propFix[t]||t,i=E.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=E.find.attr(e,"tabindex");return t?parseInt(t,10):yt.test(e.nodeName)||bt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(E.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){E.propFix[this.toLowerCase()]=this})),E.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,l=0;if(y(e))return this.each((function(t){E(this).addClass(e.call(this,t,_t(this)))}));if((t=St(e)).length)for(;n=this[l++];)if(i=_t(n),r=1===n.nodeType&&" "+wt(i)+" "){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=wt(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,l=0;if(y(e))return this.each((function(t){E(this).removeClass(e.call(this,t,_t(this)))}));if(!arguments.length)return this.attr("class","");if((t=St(e)).length)for(;n=this[l++];)if(i=_t(n),r=1===n.nodeType&&" "+wt(i)+" "){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(s=wt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=r(e),i="string"===n||Array.isArray(e);return"boolean"===typeof t&&i?t?this.addClass(e):this.removeClass(e):y(e)?this.each((function(n){E(this).toggleClass(e.call(this,n,_t(this),t),t)})):this.each((function(){var t,r,o,a;if(i)for(r=0,o=E(this),a=St(e);t=a[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=_t(this))&&Z.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Z.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+wt(_t(n))+" ").indexOf(t)>-1)return!0;return!1}});var Ct=/\r/g;E.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=y(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,E(this).val()):e)?i="":"number"===typeof i?i+="":Array.isArray(i)&&(i=E.map(i,(function(e){return null==e?"":e+""}))),(t=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=E.valHooks[i.type]||E.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"===typeof(n=i.value)?n.replace(Ct,""):null==n?"":n:void 0}}),E.extend({valHooks:{option:{get:function(e){var t=E.find.attr(e,"value");return null!=t?t:wt(E.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],l=a?o+1:i.length;for(r=o<0?l:a?o:0;r<l;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!I(n.parentNode,"optgroup"))){if(t=E(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=E.makeArray(t),a=i.length;a--;)((r=i[a]).selected=E.inArray(E.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),E.each(["radio","checkbox"],(function(){E.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=E.inArray(E(e).val(),t)>-1}},v.checkOn||(E.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),v.focusin="onfocusin"in i;var xt=/^(?:focusinfocus|focusoutblur)$/,Et=function(e){e.stopPropagation()};E.extend(E.event,{trigger:function(e,t,n,o){var a,s,l,c,u,d,f,h,m=[n||w],g=p.call(e,"type")?e.type:e,v=p.call(e,"namespace")?e.namespace.split("."):[];if(s=h=l=n=n||w,3!==n.nodeType&&8!==n.nodeType&&!xt.test(g+E.event.triggered)&&(g.indexOf(".")>-1&&(v=g.split("."),g=v.shift(),v.sort()),u=g.indexOf(":")<0&&"on"+g,(e=e[E.expando]?e:new E.Event(g,"object"===r(e)&&e)).isTrigger=o?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:E.makeArray(t,[e]),f=E.event.special[g]||{},o||!f.trigger||!1!==f.trigger.apply(n,t))){if(!o&&!f.noBubble&&!b(n)){for(c=f.delegateType||g,xt.test(c+g)||(s=s.parentNode);s;s=s.parentNode)m.push(s),l=s;l===(n.ownerDocument||w)&&m.push(l.defaultView||l.parentWindow||i)}for(a=0;(s=m[a++])&&!e.isPropagationStopped();)h=s,e.type=a>1?c:f.bindType||g,(d=(Z.get(s,"events")||Object.create(null))[e.type]&&Z.get(s,"handle"))&&d.apply(s,t),(d=u&&s[u])&&d.apply&&X(s)&&(e.result=d.apply(s,t),!1===e.result&&e.preventDefault());return e.type=g,o||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(m.pop(),t)||!X(n)||u&&y(n[g])&&!b(n)&&((l=n[u])&&(n[u]=null),E.event.triggered=g,e.isPropagationStopped()&&h.addEventListener(g,Et),n[g](),e.isPropagationStopped()&&h.removeEventListener(g,Et),E.event.triggered=void 0,l&&(n[u]=l)),e.result}},simulate:function(e,t,n){var r=E.extend(new E.Event,n,{type:e,isSimulated:!0});E.event.trigger(r,null,t)}}),E.fn.extend({trigger:function(e,t){return this.each((function(){E.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return E.event.trigger(e,t,n,!0)}}),v.focusin||E.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){E.event.simulate(t,e.target,E.event.fix(e))};E.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,i=Z.access(r,t);i||r.addEventListener(e,n,!0),Z.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=Z.access(r,t)-1;i?Z.access(r,t,i):(r.removeEventListener(e,n,!0),Z.remove(r,t))}}}));var Pt=i.location,kt={guid:Date.now()},Tt=/\?/;E.parseXML=function(e){var t;if(!e||"string"!==typeof e)return null;try{t=(new i.DOMParser).parseFromString(e,"text/xml")}catch(n){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||E.error("Invalid XML: "+e),t};var At=/\[\]$/,Ot=/\r?\n/g,It=/^(?:submit|button|image|reset|file)$/i,jt=/^(?:input|select|textarea|keygen)/i;function Nt(e,t,n,i){var o;if(Array.isArray(t))E.each(t,(function(t,o){n||At.test(e)?i(e,o):Nt(e+"["+("object"===r(o)&&null!=o?t:"")+"]",o,n,i)}));else if(n||"object"!==C(t))i(e,t);else for(o in t)Nt(e+"["+o+"]",t[o],n,i)}E.param=function(e,t){var n,r=[],i=function(e,t){var n=y(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!E.isPlainObject(e))E.each(e,(function(){i(this.name,this.value)}));else for(n in e)Nt(n,e[n],t,i);return r.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=E.prop(this,"elements");return e?E.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!E(this).is(":disabled")&&jt.test(this.nodeName)&&!It.test(e)&&(this.checked||!ve.test(e))})).map((function(e,t){var n=E(this).val();return null==n?null:Array.isArray(n)?E.map(n,(function(e){return{name:t.name,value:e.replace(Ot,"\r\n")}})):{name:t.name,value:n.replace(Ot,"\r\n")}})).get()}});var Dt=/%20/g,Rt=/#.*$/,Ft=/([?&])_=[^&]*/,Mt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,Bt=/^\/\//,Ut={},zt={},Ht="*/".concat("*"),Wt=w.createElement("a");function qt(e){return function(t,n){"string"!==typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(B)||[];if(y(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Vt(e,t,n,r){var i={},o=e===zt;function a(s){var l;return i[s]=!0,E.each(e[s]||[],(function(e,s){var c=s(t,n,r);return"string"!==typeof c||o||i[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),a(c),!1)})),l}return a(t.dataTypes[0])||!i["*"]&&a("*")}function $t(e,t){var n,r,i=E.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&E.extend(!0,e,r),e}Wt.href=Pt.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Pt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Pt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ht,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?$t($t(e,E.ajaxSettings),t):$t(E.ajaxSettings,e)},ajaxPrefilter:qt(Ut),ajaxTransport:qt(zt),ajax:function(e,t){"object"===r(e)&&(t=e,e=void 0);var n,o,a,s,l,c,u,d,f,h,p=E.ajaxSetup({},t=t||{}),m=p.context||p,g=p.context&&(m.nodeType||m.jquery)?E(m):E.event,v=E.Deferred(),y=E.Callbacks("once memory"),b=p.statusCode||{},_={},S={},C="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(u){if(!s)for(s={};t=Mt.exec(a);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?a:null},setRequestHeader:function(e,t){return null==u&&(e=S[e.toLowerCase()]=S[e.toLowerCase()]||e,_[e]=t),this},overrideMimeType:function(e){return null==u&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)x.always(e[x.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||C;return n&&n.abort(t),P(0,t),this}};if(v.promise(x),p.url=((e||p.url||Pt.href)+"").replace(Bt,Pt.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(B)||[""],null==p.crossDomain){c=w.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=Wt.protocol+"//"+Wt.host!==c.protocol+"//"+c.host}catch(k){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!==typeof p.data&&(p.data=E.param(p.data,p.traditional)),Vt(Ut,p,t,x),u)return x;for(f in(d=E.event&&p.global)&&0===E.active++&&E.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Lt.test(p.type),o=p.url.replace(Rt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Dt,"+")):(h=p.url.slice(o.length),p.data&&(p.processData||"string"===typeof p.data)&&(o+=(Tt.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(Ft,"$1"),h=(Tt.test(o)?"&":"?")+"_="+kt.guid+++h),p.url=o+h),p.ifModified&&(E.lastModified[o]&&x.setRequestHeader("If-Modified-Since",E.lastModified[o]),E.etag[o]&&x.setRequestHeader("If-None-Match",E.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&x.setRequestHeader("Content-Type",p.contentType),x.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ht+"; q=0.01":""):p.accepts["*"]),p.headers)x.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(!1===p.beforeSend.call(m,x,p)||u))return x.abort();if(C="abort",y.add(p.complete),x.done(p.success),x.fail(p.error),n=Vt(zt,p,t,x)){if(x.readyState=1,d&&g.trigger("ajaxSend",[x,p]),u)return x;p.async&&p.timeout>0&&(l=i.setTimeout((function(){x.abort("timeout")}),p.timeout));try{u=!1,n.send(_,P)}catch(k){if(u)throw k;P(-1,k)}}else P(-1,"No Transport");function P(e,t,r,s){var c,f,h,w,_,S=t;u||(u=!0,l&&i.clearTimeout(l),n=void 0,a=s||"",x.readyState=e>0?4:0,c=e>=200&&e<300||304===e,r&&(w=function(e,t,n){for(var r,i,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}(p,x,r)),!c&&E.inArray("script",p.dataTypes)>-1&&(p.converters["text script"]=function(){}),w=function(e,t,n,r){var i,o,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=c[l+" "+o]||c["* "+o]))for(i in c)if((s=i.split(" "))[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[i]:!0!==c[i]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(k){return{state:"parsererror",error:a?k:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(p,w,x,c),c?(p.ifModified&&((_=x.getResponseHeader("Last-Modified"))&&(E.lastModified[o]=_),(_=x.getResponseHeader("etag"))&&(E.etag[o]=_)),204===e||"HEAD"===p.type?S="nocontent":304===e?S="notmodified":(S=w.state,f=w.data,c=!(h=w.error))):(h=S,!e&&S||(S="error",e<0&&(e=0))),x.status=e,x.statusText=(t||S)+"",c?v.resolveWith(m,[f,S,x]):v.rejectWith(m,[x,S,h]),x.statusCode(b),b=void 0,d&&g.trigger(c?"ajaxSuccess":"ajaxError",[x,p,c?f:h]),y.fireWith(m,[x,S]),d&&(g.trigger("ajaxComplete",[x,p]),--E.active||E.event.trigger("ajaxStop")))}return x},getJSON:function(e,t,n){return E.get(e,t,n,"json")},getScript:function(e,t){return E.get(e,void 0,t,"script")}}),E.each(["get","post"],(function(e,t){E[t]=function(e,n,r,i){return y(n)&&(i=i||r,r=n,n=void 0),E.ajax(E.extend({url:e,type:t,dataType:i,data:n,success:r},E.isPlainObject(e)&&e))}})),E.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),E._evalUrl=function(e,t,n){return E.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){E.globalEval(e,t,n)}})},E.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=E(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return y(e)?this.each((function(t){E(this).wrapInner(e.call(this,t))})):this.each((function(){var t=E(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=y(e);return this.each((function(n){E(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){E(this).replaceWith(this.childNodes)})),this}}),E.expr.pseudos.hidden=function(e){return!E.expr.pseudos.visible(e)},E.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(e){}};var Yt={0:200,1223:204},Gt=E.ajaxSettings.xhr();v.cors=!!Gt&&"withCredentials"in Gt,v.ajax=Gt=!!Gt,E.ajaxTransport((function(e){var t,n;if(v.cors||Gt&&!e.crossDomain)return{send:function(r,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(a,r[a]);t=function(e){return function(){t&&(t=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!==typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Yt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!==typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),n=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&i.setTimeout((function(){t&&n()}))},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(l){if(t)throw l}},abort:function(){t&&t()}}})),E.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return E.globalEval(e),e}}}),E.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),E.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,i){t=E("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),w.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Kt,Qt=[],Xt=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Qt.pop()||E.expando+"_"+kt.guid++;return this[e]=!0,e}}),E.ajaxPrefilter("json jsonp",(function(e,t,n){var r,o,a,s=!1!==e.jsonp&&(Xt.test(e.url)?"url":"string"===typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xt.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Xt,"$1"+r):!1!==e.jsonp&&(e.url+=(Tt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||E.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=i[r],i[r]=function(){a=arguments},n.always((function(){void 0===o?E(i).removeProp(r):i[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,Qt.push(r)),a&&y(o)&&o(a[0]),a=o=void 0})),"script"})),v.createHTMLDocument=((Kt=w.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Kt.childNodes.length),E.parseHTML=function(e,t,n){return"string"!==typeof e?[]:("boolean"===typeof t&&(n=t,t=!1),t||(v.createHTMLDocument?((r=(t=w.implementation.createHTMLDocument("")).createElement("base")).href=w.location.href,t.head.appendChild(r)):t=w),o=!n&&[],(i=j.exec(e))?[t.createElement(i[1])]:(i=xe([e],t,o),o&&o.length&&E(o).remove(),E.merge([],i.childNodes)));var r,i,o},E.fn.load=function(e,t,n){var i,o,a,s=this,l=e.indexOf(" ");return l>-1&&(i=wt(e.slice(l)),e=e.slice(0,l)),y(t)?(n=t,t=void 0):t&&"object"===r(t)&&(o="POST"),s.length>0&&E.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done((function(e){a=arguments,s.html(i?E("<div>").append(E.parseHTML(e)).find(i):e)})).always(n&&function(e,t){s.each((function(){n.apply(this,a||[e.responseText,t,e])}))}),this},E.expr.pseudos.animated=function(e){return E.grep(E.timers,(function(t){return e===t.elem})).length},E.offset={setOffset:function(e,t,n){var r,i,o,a,s,l,c=E.css(e,"position"),u=E(e),d={};"static"===c&&(e.style.position="relative"),s=u.offset(),o=E.css(e,"top"),l=E.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(a=(r=u.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),y(t)&&(t=t.call(e,n,E.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):("number"===typeof d.top&&(d.top+="px"),"number"===typeof d.left&&(d.left+="px"),u.css(d))}},E.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){E.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===E.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===E.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=E(e).offset()).top+=E.css(e,"borderTopWidth",!0),i.left+=E.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-E.css(r,"marginTop",!0),left:t.left-i.left-E.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===E.css(e,"position");)e=e.offsetParent;return e||se}))}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;E.fn[e]=function(r){return $(this,(function(e,r,i){var o;if(b(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i}),e,r,arguments.length)}})),E.each(["top","left"],(function(e,t){E.cssHooks[t]=Ge(v.pixelPosition,(function(e,n){if(n)return n=Ye(e,t),We.test(n)?E(e).position()[t]+"px":n}))})),E.each({Height:"height",Width:"width"},(function(e,t){E.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){E.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!==typeof i),s=n||(!0===i||!0===o?"margin":"border");return $(this,(function(t,n,i){var o;return b(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?E.css(t,n,s):E.style(t,n,i,s)}),t,a?i:void 0,a)}}))})),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){E.fn[t]=function(e){return this.on(t,e)}})),E.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){E.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var Jt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;E.proxy=function(e,t){var n,r,i;if("string"===typeof t&&(n=e[t],t=e,e=n),y(e))return r=l.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(l.call(arguments)))}).guid=e.guid=e.guid||E.guid++,i},E.holdReady=function(e){e?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=I,E.isFunction=y,E.isWindow=b,E.camelCase=Q,E.type=C,E.now=Date.now,E.isNumeric=function(e){var t=E.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},E.trim=function(e){return null==e?"":(e+"").replace(Jt,"")},void 0===(n=function(){return E}.apply(t,[]))||(e.exports=n);var Zt=i.jQuery,en=i.$;return E.noConflict=function(e){return i.$===E&&(i.$=en),e&&i.jQuery===E&&(i.jQuery=Zt),E},"undefined"===typeof o&&(i.jQuery=i.$=E),E}))}).call(this,n(98)(e))},,function(e,t,n){"use strict";var r;void 0===(r=function(){return{isOnMobile:function(){return window.innerWidth<=480},isOnTablet:function(){return navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i)},isOnMobileiOSDevice:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&-1==document.cookie.indexOf("iphone_redirect=false")},isOnAndroidDevice:function(){return navigator.userAgent.match(/Android/i)},isOnDesktop:function(){return window.innerWidth>992}}}.apply(t,[]))||(e.exports=r)},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.__esModule=!0,t.extend=l,t.indexOf=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},t.escapeExpression=function(e){if("string"!==typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}if(!a.test(e))return e;return e.replace(o,s)},t.isEmpty=function(e){return!e&&0!==e||!(!d(e)||0!==e.length)},t.createFrame=function(e){var t=l({},e);return t._parent=e,t},t.blockParams=function(e,t){return e.path=t,e},t.appendContextPath=function(e,t){return(e?e+".":"")+t};var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},o=/[&<>"'`=]/g,a=/[&<>"'`=]/;function s(e){return i[e]}function l(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}var c=Object.prototype.toString;t.toString=c;var u=function(e){return"function"===typeof e};u(/x/)&&(t.isFunction=u=function(e){return"function"===typeof e&&"[object Function]"===c.call(e)}),t.isFunction=u;var d=Array.isArray||function(e){return!(!e||"object"!==r(e))&&"[object Array]"===c.call(e)};t.isArray=d},function(e,t,n){function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(243),o="object"==("undefined"===typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,a=i||o||Function("return this")();e.exports=a},function(e,t,n){var r,i;!function(){function o(e){return e&&(e.ownerDocument||e.document||e).documentElement}function a(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}function s(e,t){return t>e?-1:e>t?1:e>=t?0:NaN}function l(e){return null===e?NaN:+e}function c(e){return!isNaN(e)}function u(e){return{left:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}function d(e){return e.length}function f(e){for(var t=1;e*t%1;)t*=10;return t}function h(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function p(){this._=Object.create(null)}function m(e){return(e+="")===_o||e[0]===So?So+e:e}function g(e){return(e+="")[0]===So?e.slice(1):e}function v(e){return m(e)in this._}function y(e){return(e=m(e))in this._&&delete this._[e]}function b(){var e=[];for(var t in this._)e.push(g(t));return e}function w(){var e=0;for(var t in this._)++e;return e}function _(){for(var e in this._)return!1;return!0}function S(){this._=Object.create(null)}function C(e){return e}function x(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function E(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=Co.length;r>n;++n){var i=Co[n]+t;if(i in e)return i}}function P(){}function k(){}function T(e){function t(){for(var t,r=n,i=-1,o=r.length;++i<o;)(t=r[i].on)&&t.apply(this,arguments);return e}var n=[],r=new p;return t.on=function(t,i){var o,a=r.get(t);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),r.remove(t)),i&&n.push(r.set(t,{on:i})),e)},t}function A(){co.event.preventDefault()}function O(){for(var e,t=co.event;e=t.sourceEvent;)t=e;return t}function I(e){for(var t=new k,n=0,r=arguments.length;++n<r;)t[arguments[n]]=T(t);return t.of=function(n,r){return function(i){try{var o=i.sourceEvent=co.event;i.target=e,co.event=i,t[i.type].apply(n,r)}finally{co.event=o}}},t}function j(e){return Eo(e,Ao),e}function N(e){return"function"==typeof e?e:function(){return Po(e,this)}}function D(e){return"function"==typeof e?e:function(){return ko(e,this)}}function R(e,t){return e=co.ns.qualify(e),null==t?e.local?function(){this.removeAttributeNS(e.space,e.local)}:function(){this.removeAttribute(e)}:"function"==typeof t?e.local?function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}:function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}:e.local?function(){this.setAttributeNS(e.space,e.local,t)}:function(){this.setAttribute(e,t)}}function F(e){return e.trim().replace(/\s+/g," ")}function M(e){return new RegExp("(?:^|\\s+)"+co.requote(e)+"(?:\\s+|$)","g")}function L(e){return(e+"").trim().split(/^|\s+/)}function B(e,t){var n=(e=L(e).map(U)).length;return"function"==typeof t?function(){for(var r=-1,i=t.apply(this,arguments);++r<n;)e[r](this,i)}:function(){for(var r=-1;++r<n;)e[r](this,t)}}function U(e){var t=M(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||n.setAttribute("class",F(i+" "+e))):n.setAttribute("class",F(i.replace(t," ")))}}function z(e,t,n){return null==t?function(){this.style.removeProperty(e)}:"function"==typeof t?function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}:function(){this.style.setProperty(e,t,n)}}function H(e,t){return null==t?function(){delete this[e]}:"function"==typeof t?function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}:function(){this[e]=t}}function W(e){return"function"==typeof e?e:(e=co.ns.qualify(e)).local?function(){return this.ownerDocument.createElementNS(e.space,e.local)}:function(){var t=this.ownerDocument,n=this.namespaceURI;return n?t.createElementNS(n,e):t.createElement(e)}}function q(){var e=this.parentNode;e&&e.removeChild(this)}function V(e){return{__data__:e}}function $(e){return function(){return To(this,e)}}function Y(e){return arguments.length||(e=s),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function G(e,t){for(var n=0,r=e.length;r>n;n++)for(var i,o=e[n],a=0,s=o.length;s>a;a++)(i=o[a])&&t(i,a,n);return e}function K(e){return Eo(e,Io),e}function Q(e){var t,n;return function(r,i,o){var a,s=e[o].update,l=s.length;for(o!=n&&(n=o,t=0),i>=t&&(t=i+1);!(a=s[t])&&++t<l;);return a}}function X(e,t,n){function r(){var t=this[i];t&&(this.removeEventListener(e,t,t.$),delete this[i])}var i="__on"+e,o=e.indexOf("."),a=J;o>0&&(e=e.slice(0,o));var s=jo.get(e);return s&&(e=s,a=Z),o?t?function(){var o=a(t,fo(arguments));r.call(this),this.addEventListener(e,this[i]=o,o.$=n),o._=t}:r:t?P:function(){var t,n=new RegExp("^__on([^.]+)"+co.requote(e)+"$");for(var r in this)if(t=r.match(n)){var i=this[r];this.removeEventListener(t[1],i,i.$),delete this[r]}}}function J(e,t){return function(n){var r=co.event;co.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{co.event=r}}}function Z(e,t){var n=J(e,t);return function(e){var t=this,r=e.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||n.call(t,e)}}function ee(e){var t=".dragsuppress-"+ ++Do,n="click"+t,r=co.select(a(e)).on("touchmove"+t,A).on("dragstart"+t,A).on("selectstart"+t,A);if(null==No&&(No=!("onselectstart"in e)&&E(e.style,"userSelect")),No){var i=o(e).style,s=i[No];i[No]="none"}return function(e){if(r.on(t,null),No&&(i[No]=s),e){var o=function(){r.on(n,null)};r.on(n,(function(){A(),o()}),!0),setTimeout(o,0)}}}function te(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();if(0>Ro){var i=a(e);if(i.scrollX||i.scrollY){var o=(n=co.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Ro=!(o.f||o.e),n.remove()}}return Ro?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}function ne(){return co.event.changedTouches[0].identifier}function re(e){return e>0?1:0>e?-1:0}function ie(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function oe(e){return e>1?0:-1>e?Lo:Math.acos(e)}function ae(e){return e>1?zo:-1>e?-zo:Math.asin(e)}function se(e){return((e=Math.exp(e))+1/e)/2}function le(e){return(e=Math.sin(e/2))*e}function ce(){}function ue(e,t,n){return this instanceof ue?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof ue?new ue(e.h,e.s,e.l):xe(""+e,Ee,ue):new ue(e,t,n)}function de(e,t,n){function r(e){return Math.round(255*function(e){return e>360?e-=360:0>e&&(e+=360),60>e?i+(o-i)*e/60:180>e?o:240>e?i+(o-i)*(240-e)/60:i}(e))}var i,o;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)||0>t?0:t>1?1:t,i=2*(n=0>n?0:n>1?1:n)-(o=.5>=n?n*(1+t):n+t-n*t),new we(r(e+120),r(e),r(e-120))}function fe(e,t,n){return this instanceof fe?(this.h=+e,this.c=+t,void(this.l=+n)):arguments.length<2?e instanceof fe?new fe(e.h,e.c,e.l):ge(e instanceof pe?e.l:(e=Pe((e=co.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new fe(e,t,n)}function he(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new pe(n,Math.cos(e*=Ho)*t,Math.sin(e)*t)}function pe(e,t,n){return this instanceof pe?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof pe?new pe(e.l,e.a,e.b):e instanceof fe?he(e.h,e.c,e.l):Pe((e=we(e)).r,e.g,e.b):new pe(e,t,n)}function me(e,t,n){var r=(e+16)/116,i=r+t/500,o=r-n/200;return new we(be(3.2404542*(i=ve(i)*Xo)-1.5371385*(r=ve(r)*Jo)-.4985314*(o=ve(o)*Zo)),be(-.969266*i+1.8760108*r+.041556*o),be(.0556434*i-.2040259*r+1.0572252*o))}function ge(e,t,n){return e>0?new fe(Math.atan2(n,t)*Wo,Math.sqrt(t*t+n*n),e):new fe(NaN,NaN,e)}function ve(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function ye(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function be(e){return Math.round(255*(.00304>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function we(e,t,n){return this instanceof we?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof we?new we(e.r,e.g,e.b):xe(""+e,we,de):new we(e,t,n)}function _e(e){return new we(e>>16,e>>8&255,255&e)}function Se(e){return _e(e)+""}function Ce(e){return 16>e?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function xe(e,t,n){var r,i,o,a=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(Te(i[0]),Te(i[1]),Te(i[2]))}return(o=na.get(e))?t(o.r,o.g,o.b):(null==e||"#"!==e.charAt(0)||isNaN(o=parseInt(e.slice(1),16))||(4===e.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,l=15&o,l|=l<<4):7===e.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,l=255&o)),t(a,s,l))}function Ee(e,t,n){var r,i,o=Math.min(e/=255,t/=255,n/=255),a=Math.max(e,t,n),s=a-o,l=(a+o)/2;return s?(i=.5>l?s/(a+o):s/(2-a-o),r=e==a?(t-n)/s+(n>t?6:0):t==a?(n-e)/s+2:(e-t)/s+4,r*=60):(r=NaN,i=l>0&&1>l?0:r),new ue(r,i,l)}function Pe(e,t,n){var r=ye((.4124564*(e=ke(e))+.3575761*(t=ke(t))+.1804375*(n=ke(n)))/Xo),i=ye((.2126729*e+.7151522*t+.072175*n)/Jo);return pe(116*i-16,500*(r-i),200*(i-ye((.0193339*e+.119192*t+.9503041*n)/Zo)))}function ke(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Te(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function Ae(e){return"function"==typeof e?e:function(){return e}}function Oe(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),Ie(t,n,e,r)}}function Ie(e,t,n,r){function i(){var e,t=l.status;if(!t&&function(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}(l)||t>=200&&300>t||304===t){try{e=n.call(o,l)}catch(r){return void a.error.call(o,r)}a.load.call(o,e)}else a.error.call(o,l)}var o={},a=co.dispatch("beforesend","progress","load","error"),s={},l=new XMLHttpRequest,c=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(e)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=i:l.onreadystatechange=function(){l.readyState>3&&i()},l.onprogress=function(e){var t=co.event;co.event=e;try{a.progress.call(o,l)}finally{co.event=t}},o.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?s[e]:(null==t?delete s[e]:s[e]=t+"",o)},o.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",o):t},o.responseType=function(e){return arguments.length?(c=e,o):c},o.response=function(e){return n=e,o},["get","post"].forEach((function(e){o[e]=function(){return o.send.apply(o,[e].concat(fo(arguments)))}})),o.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),l.open(n,e,!0),null==t||"accept"in s||(s.accept=t+",*/*"),l.setRequestHeader)for(var u in s)l.setRequestHeader(u,s[u]);return null!=t&&l.overrideMimeType&&l.overrideMimeType(t),null!=c&&(l.responseType=c),null!=i&&o.on("error",i).on("load",(function(e){i(null,e)})),a.beforesend.call(o,l),l.send(null==r?null:r),o},o.abort=function(){return l.abort(),o},co.rebind(o,a,"on"),null==r?o:o.get(function(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}(r))}function je(){var e=Ne(),t=De()-e;t>24?(isFinite(t)&&(clearTimeout(aa),aa=setTimeout(je,t)),oa=0):(oa=1,la(je))}function Ne(){var e=Date.now();for(sa=ra;sa;)e>=sa.t&&(sa.f=sa.c(e-sa.t)),sa=sa.n;return e}function De(){for(var e,t=ra,n=1/0;t;)t.f?t=e?e.n=t.n:ra=t.n:(t.t<n&&(n=t.t),t=(e=t).n);return ia=e,n}function Re(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function Fe(e){var t=e.decimal,n=e.thousands,r=e.grouping,i=e.currency,o=r&&n?function(e,t){for(var i=e.length,o=[],a=0,s=r[0],l=0;i>0&&s>0&&(l+s+1>t&&(s=Math.max(1,t-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>t));)s=r[a=(a+1)%r.length];return o.reverse().join(n)}:C;return function(e){var n=ua.exec(e),r=n[1]||" ",a=n[2]||">",s=n[3]||"-",l=n[4]||"",c=n[5],u=+n[6],d=n[7],f=n[8],h=n[9],p=1,m="",g="",v=!1,y=!0;switch(f&&(f=+f.substring(1)),(c||"0"===r&&"="===a)&&(c=r="0",a="="),h){case"n":d=!0,h="g";break;case"%":p=100,g="%",h="f";break;case"p":p=100,g="%",h="r";break;case"b":case"o":case"x":case"X":"#"===l&&(m="0"+h.toLowerCase());case"c":y=!1;case"d":v=!0,f=0;break;case"s":p=-1,h="r"}"$"===l&&(m=i[0],g=i[1]),"r"!=h||f||(h="g"),null!=f&&("g"==h?f=Math.max(1,Math.min(21,f)):("e"==h||"f"==h)&&(f=Math.max(0,Math.min(20,f)))),h=da.get(h)||Me;var b=c&&d;return function(e){var n=g;if(v&&e%1)return"";var i=0>e||0===e&&0>1/e?(e=-e,"-"):"-"===s?"":s;if(0>p){var l=co.formatPrefix(e,f);e=l.scale(e),n=l.symbol+g}else e*=p;var w,_,S=(e=h(e,f)).lastIndexOf(".");if(0>S){var C=y?e.lastIndexOf("e"):-1;0>C?(w=e,_=""):(w=e.substring(0,C),_=e.substring(C))}else w=e.substring(0,S),_=t+e.substring(S+1);!c&&d&&(w=o(w,1/0));var x=m.length+w.length+_.length+(b?0:i.length),E=u>x?new Array(x=u-x+1).join(r):"";return b&&(w=o(E+w,E.length?u-_.length:1/0)),i+=m,e=w+_,("<"===a?i+e+E:">"===a?E+i+e:"^"===a?E.substring(0,x>>=1)+i+e+E.substring(x):i+(b?e:E+e))+n}}}function Me(e){return e+""}function Le(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Be(e,t,n){function r(t){var n=e(t),r=o(n,1);return r-t>t-n?n:r}function i(n){return t(n=e(new ha(n-1)),1),n}function o(e,n){return t(e=new ha(+e),n),e}function a(e,r,o){var a=i(e),s=[];if(o>1)for(;r>a;)n(a)%o||s.push(new Date(+a)),t(a,1);else for(;r>a;)s.push(new Date(+a)),t(a,1);return s}e.floor=e,e.round=r,e.ceil=i,e.offset=o,e.range=a;var s=e.utc=Ue(e);return s.floor=s,s.round=Ue(r),s.ceil=Ue(i),s.offset=Ue(o),s.range=function(e,t,n){try{ha=Le;var r=new Le;return r._=e,a(r,t,n)}finally{ha=Date}},e}function Ue(e){return function(t,n){try{ha=Le;var r=new Le;return r._=t,e(r,n)._}finally{ha=Date}}}function ze(e){function t(e){function t(t){for(var n,i,o,a=[],s=-1,l=0;++s<r;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=ma[n=e.charAt(++s)])&&(n=e.charAt(++s)),(o=w[n])&&(n=o(t,null==i?"e"===n?" ":"0":i)),a.push(n),l=s+1);return a.push(e.slice(l,s)),a.join("")}var r=e.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(n(r,e,t,0)!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var i=null!=r.Z&&ha!==Le,o=new(i?Le:ha);return"j"in r?o.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(o.setFullYear(r.y,0,1),o.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(o.getDay()+5)%7:r.w+7*r.U-(o.getDay()+6)%7)):o.setFullYear(r.y,r.m,r.d),o.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),i?o._:o},t.toString=function(){return e},t}function n(e,t,n,r){for(var i,o,a,s=0,l=t.length,c=n.length;l>s;){if(r>=c)return-1;if(37===(i=t.charCodeAt(s++))){if(a=t.charAt(s++),!(o=_[a in ma?t.charAt(s++):a])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}var r=e.dateTime,i=e.date,o=e.time,a=e.periods,s=e.days,l=e.shortDays,c=e.months,u=e.shortMonths;t.utc=function(e){function n(e){try{var t=new(ha=Le);return t._=e,r(t)}finally{ha=Date}}var r=t(e);return n.parse=function(e){try{ha=Le;var t=r.parse(e);return t&&t._}finally{ha=Date}},n.toString=r.toString,n},t.multi=t.utc.multi=at;var d=co.map(),f=We(s),h=qe(s),p=We(l),m=qe(l),g=We(c),v=qe(c),y=We(u),b=qe(u);a.forEach((function(e,t){d.set(e.toLowerCase(),t)}));var w={a:function(e){return l[e.getDay()]},A:function(e){return s[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return c[e.getMonth()]},c:t(r),d:function(e,t){return He(e.getDate(),t,2)},e:function(e,t){return He(e.getDate(),t,2)},H:function(e,t){return He(e.getHours(),t,2)},I:function(e,t){return He(e.getHours()%12||12,t,2)},j:function(e,t){return He(1+fa.dayOfYear(e),t,3)},L:function(e,t){return He(e.getMilliseconds(),t,3)},m:function(e,t){return He(e.getMonth()+1,t,2)},M:function(e,t){return He(e.getMinutes(),t,2)},p:function(e){return a[+(e.getHours()>=12)]},S:function(e,t){return He(e.getSeconds(),t,2)},U:function(e,t){return He(fa.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return He(fa.mondayOfYear(e),t,2)},x:t(i),X:t(o),y:function(e,t){return He(e.getFullYear()%100,t,2)},Y:function(e,t){return He(e.getFullYear()%1e4,t,4)},Z:it,"%":function(){return"%"}},_={a:function(e,t,n){p.lastIndex=0;var r=p.exec(t.slice(n));return r?(e.w=m.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){f.lastIndex=0;var r=f.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){y.lastIndex=0;var r=y.exec(t.slice(n));return r?(e.m=b.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){g.lastIndex=0;var r=g.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,t,r){return n(e,w.c.toString(),t,r)},d:Je,e:Je,H:et,I:et,j:Ze,L:rt,m:Xe,M:tt,p:function(e,t,n){var r=d.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)},S:nt,U:$e,w:Ve,W:Ye,x:function(e,t,r){return n(e,w.x.toString(),t,r)},X:function(e,t,r){return n(e,w.X.toString(),t,r)},y:Ke,Y:Ge,Z:Qe,"%":ot};return t}function He(e,t,n){var r=0>e?"-":"",i=(r?-e:e)+"",o=i.length;return r+(n>o?new Array(n-o+1).join(t)+i:i)}function We(e){return new RegExp("^(?:"+e.map(co.requote).join("|")+")","i")}function qe(e){for(var t=new p,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function Ve(e,t,n){ga.lastIndex=0;var r=ga.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function $e(e,t,n){ga.lastIndex=0;var r=ga.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function Ye(e,t,n){ga.lastIndex=0;var r=ga.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function Ge(e,t,n){ga.lastIndex=0;var r=ga.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Ke(e,t,n){ga.lastIndex=0;var r=ga.exec(t.slice(n,n+2));return r?(e.y=function(e){return e+(e>68?1900:2e3)}(+r[0]),n+r[0].length):-1}function Qe(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function Xe(e,t,n){ga.lastIndex=0;var r=ga.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Je(e,t,n){ga.lastIndex=0;var r=ga.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Ze(e,t,n){ga.lastIndex=0;var r=ga.exec(t.slice(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function et(e,t,n){ga.lastIndex=0;var r=ga.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function tt(e,t,n){ga.lastIndex=0;var r=ga.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function nt(e,t,n){ga.lastIndex=0;var r=ga.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function rt(e,t,n){ga.lastIndex=0;var r=ga.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function it(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=wo(t)/60|0,i=wo(t)%60;return n+He(r,"0",2)+He(i,"0",2)}function ot(e,t,n){va.lastIndex=0;var r=va.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function at(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}function st(){}function lt(e,t,n){var r=n.s=e+t,i=r-e,o=r-i;n.t=e-o+(t-i)}function ct(e,t){e&&_a.hasOwnProperty(e.type)&&_a[e.type](e,t)}function ut(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function dt(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)ut(e[n],t,1);t.polygonEnd()}function ft(){function e(e,t){t=t*Ho/2+Lo/4;var n=(e*=Ho)-r,a=n>=0?1:-1,s=a*n,l=Math.cos(t),c=Math.sin(t),u=o*c,d=i*l+u*Math.cos(s),f=u*a*Math.sin(s);Ca.add(Math.atan2(f,d)),r=e,i=l,o=c}var t,n,r,i,o;xa.point=function(a,s){xa.point=e,r=(t=a)*Ho,i=Math.cos(s=(n=s)*Ho/2+Lo/4),o=Math.sin(s)},xa.lineEnd=function(){e(t,n)}}function ht(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function pt(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function mt(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function gt(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function vt(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function yt(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function bt(e){return[Math.atan2(e[1],e[0]),ae(e[2])]}function wt(e,t){return wo(e[0]-t[0])<Fo&&wo(e[1]-t[1])<Fo}function _t(e,t){e*=Ho;var n=Math.cos(t*=Ho);St(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function St(e,t,n){++Ea,ka+=(e-ka)/Ea,Ta+=(t-Ta)/Ea,Aa+=(n-Aa)/Ea}function Ct(){function e(e,i){e*=Ho;var o=Math.cos(i*=Ho),a=o*Math.cos(e),s=o*Math.sin(e),l=Math.sin(i),c=Math.atan2(Math.sqrt((c=n*l-r*s)*c+(c=r*a-t*l)*c+(c=t*s-n*a)*c),t*a+n*s+r*l);Pa+=c,Oa+=c*(t+(t=a)),Ia+=c*(n+(n=s)),ja+=c*(r+(r=l)),St(t,n,r)}var t,n,r;Fa.point=function(i,o){i*=Ho;var a=Math.cos(o*=Ho);t=a*Math.cos(i),n=a*Math.sin(i),r=Math.sin(o),Fa.point=e,St(t,n,r)}}function xt(){Fa.point=_t}function Et(){function e(e,t){e*=Ho;var n=Math.cos(t*=Ho),a=n*Math.cos(e),s=n*Math.sin(e),l=Math.sin(t),c=i*l-o*s,u=o*a-r*l,d=r*s-i*a,f=Math.sqrt(c*c+u*u+d*d),h=r*a+i*s+o*l,p=f&&-oe(h)/f,m=Math.atan2(f,h);Na+=p*c,Da+=p*u,Ra+=p*d,Pa+=m,Oa+=m*(r+(r=a)),Ia+=m*(i+(i=s)),ja+=m*(o+(o=l)),St(r,i,o)}var t,n,r,i,o;Fa.point=function(a,s){t=a,n=s,Fa.point=e,a*=Ho;var l=Math.cos(s*=Ho);r=l*Math.cos(a),i=l*Math.sin(a),o=Math.sin(s),St(r,i,o)},Fa.lineEnd=function(){e(t,n),Fa.lineEnd=xt,Fa.point=_t}}function Pt(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function kt(){return!0}function Tt(e,t,n,r,i){var o=[],a=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if(wt(n,r)){i.lineStart();for(var s=0;t>s;++s)i.point((n=e[s])[0],n[1]);return void i.lineEnd()}var l=new Ot(n,e,null,!0),c=new Ot(n,null,l,!1);l.o=c,o.push(l),a.push(c),l=new Ot(r,e,null,!1),c=new Ot(r,null,l,!0),l.o=c,o.push(l),a.push(c)}})),a.sort(t),At(o),At(a),o.length){for(var s=0,l=n,c=a.length;c>s;++s)a[s].e=l=!l;for(var u,d,f=o[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(s=0,c=u.length;c>s;++s)i.point((d=u[s])[0],d[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(s=(u=h.p.z).length-1;s>=0;--s)i.point((d=u[s])[0],d[1]);else r(h.x,h.p.x,-1,i);h=h.p}u=(h=h.o).z,p=!p}while(!h.v);i.lineEnd()}}}function At(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function Ot(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function It(e,t,n,r){return function(i,o){function a(t,n){var r=i(t,n);e(t=r[0],n=r[1])&&o.point(t,n)}function s(e,t){var n=i(e,t);g.point(n[0],n[1])}function l(){y.point=s,g.lineStart()}function c(){y.point=a,g.lineEnd()}function u(e,t){m.push([e,t]);var n=i(e,t);w.point(n[0],n[1])}function d(){w.lineStart(),m=[]}function f(){u(m[0][0],m[0][1]),w.lineEnd();var e,t=w.clean(),n=b.buffer(),r=n.length;if(m.pop(),p.push(m),m=null,r)if(1&t){var i,a=-1;if((r=(e=n[0]).length-1)>0){for(_||(o.polygonStart(),_=!0),o.lineStart();++a<r;)o.point((i=e[a])[0],i[1]);o.lineEnd()}}else r>1&&2&t&&n.push(n.pop().concat(n.shift())),h.push(n.filter(jt))}var h,p,m,g=t(o),v=i.invert(r[0],r[1]),y={point:a,lineStart:l,lineEnd:c,polygonStart:function(){y.point=u,y.lineStart=d,y.lineEnd=f,h=[],p=[]},polygonEnd:function(){y.point=a,y.lineStart=l,y.lineEnd=c,h=co.merge(h);var e=function(e,t){var n=e[0],r=e[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;Ca.reset();for(var s=0,l=t.length;l>s;++s){var c=t[s],u=c.length;if(u)for(var d=c[0],f=d[0],h=d[1]/2+Lo/4,p=Math.sin(h),m=Math.cos(h),g=1;;){g===u&&(g=0);var v=(e=c[g])[0],y=e[1]/2+Lo/4,b=Math.sin(y),w=Math.cos(y),_=v-f,S=_>=0?1:-1,C=S*_,x=C>Lo,E=p*b;if(Ca.add(Math.atan2(E*S*Math.sin(C),m*w+E*Math.cos(C))),o+=x?_+S*Bo:_,x^f>=n^v>=n){var P=mt(ht(d),ht(e));yt(P);var k=mt(i,P);yt(k);var T=(x^_>=0?-1:1)*ae(k[2]);(r>T||r===T&&(P[0]||P[1]))&&(a+=x^_>=0?1:-1)}if(!g++)break;f=v,p=b,m=w,d=e}}return(-Fo>o||Fo>o&&0>Ca)^1&a}(v,p);h.length?(_||(o.polygonStart(),_=!0),Tt(h,Dt,e,n,o)):e&&(_||(o.polygonStart(),_=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),_&&(o.polygonEnd(),_=!1),h=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},b=Nt(),w=t(b),_=!1;return y}}function jt(e){return e.length>1}function Nt(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:P,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Dt(e,t){return((e=e.x)[0]<0?e[1]-zo-Fo:zo-e[1])-((t=t.x)[0]<0?t[1]-zo-Fo:zo-t[1])}function Rt(e){function t(e,t){return Math.cos(e)*Math.cos(t)>i}function n(e,t,n){var r=[1,0,0],o=mt(ht(e),ht(t)),a=pt(o,o),s=o[0],l=a-s*s;if(!l)return!n&&e;var c=i*a/l,u=-i*s/l,d=mt(r,o),f=vt(r,c);gt(f,vt(o,u));var h=d,p=pt(f,h),m=pt(h,h),g=p*p-m*(pt(f,f)-1);if(!(0>g)){var v=Math.sqrt(g),y=vt(h,(-p-v)/m);if(gt(y,f),y=bt(y),!n)return y;var b,w=e[0],_=t[0],S=e[1],C=t[1];w>_&&(b=w,w=_,_=b);var x=_-w,E=wo(x-Lo)<Fo;if(!E&&S>C&&(b=S,S=C,C=b),E||Fo>x?E?S+C>0^y[1]<(wo(y[0]-w)<Fo?S:C):S<=y[1]&&y[1]<=C:x>Lo^(w<=y[0]&&y[0]<=_)){var P=vt(h,(-p+v)/m);return gt(P,f),[y,bt(P)]}}}function r(t,n){var r=o?e:Lo-e,i=0;return-r>t?i|=1:t>r&&(i|=2),-r>n?i|=4:n>r&&(i|=8),i}var i=Math.cos(e),o=i>0,a=wo(i)>Fo;return It(t,(function(e){var i,s,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(d,f){var h,p=[d,f],m=t(d,f),g=o?m?0:r(d,f):m?r(d+(0>d?Lo:-Lo),f):0;if(!i&&(c=l=m)&&e.lineStart(),m!==l&&(h=n(i,p),(wt(i,h)||wt(p,h))&&(p[0]+=Fo,p[1]+=Fo,m=t(p[0],p[1]))),m!==l)u=0,m?(e.lineStart(),h=n(p,i),e.point(h[0],h[1])):(h=n(i,p),e.point(h[0],h[1]),e.lineEnd()),i=h;else if(a&&i&&o^m){var v;g&s||!(v=n(p,i,!0))||(u=0,o?(e.lineStart(),e.point(v[0][0],v[0][1]),e.point(v[1][0],v[1][1]),e.lineEnd()):(e.point(v[1][0],v[1][1]),e.lineEnd(),e.lineStart(),e.point(v[0][0],v[0][1])))}!m||i&&wt(i,p)||e.point(p[0],p[1]),i=p,l=m,s=g},lineEnd:function(){l&&e.lineEnd(),i=null},clean:function(){return u|(c&&l)<<1}}}),ln(e,6*Ho),o?[0,-e]:[-Lo,e-Lo])}function Ft(e,t,n,r){return function(i){var o,a=i.a,s=i.b,l=a.x,c=a.y,u=0,d=1,f=s.x-l,h=s.y-c;if(o=e-l,f||!(o>0)){if(o/=f,0>f){if(u>o)return;d>o&&(d=o)}else if(f>0){if(o>d)return;o>u&&(u=o)}if(o=n-l,f||!(0>o)){if(o/=f,0>f){if(o>d)return;o>u&&(u=o)}else if(f>0){if(u>o)return;d>o&&(d=o)}if(o=t-c,h||!(o>0)){if(o/=h,0>h){if(u>o)return;d>o&&(d=o)}else if(h>0){if(o>d)return;o>u&&(u=o)}if(o=r-c,h||!(0>o)){if(o/=h,0>h){if(o>d)return;o>u&&(u=o)}else if(h>0){if(u>o)return;d>o&&(d=o)}return u>0&&(i.a={x:l+u*f,y:c+u*h}),1>d&&(i.b={x:l+d*f,y:c+d*h}),i}}}}}}function Mt(e,t,n,r){function i(r,i){return wo(r[0]-e)<Fo?i>0?0:3:wo(r[0]-n)<Fo?i>0?2:1:wo(r[1]-t)<Fo?i>0?1:0:i>0?3:2}function o(e,t){return a(e.x,t.x)}function a(e,t){var n=i(e,1),r=i(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(s){function l(o,s,l,c){var u=0,d=0;if(null==o||(u=i(o,l))!==(d=i(s,l))||a(o,s)<0^l>0)do{c.point(0===u||3===u?e:n,u>1?r:t)}while((u=(u+l+4)%4)!==d);else c.point(s[0],s[1])}function c(i,o){return i>=e&&n>=i&&o>=t&&r>=o}function u(e,t){c(e,t)&&s.point(e,t)}function d(e,t){var n=c(e=Math.max(-La,Math.min(La,e)),t=Math.max(-La,Math.min(La,t)));if(h&&p.push([e,t]),_)m=e,g=t,v=n,_=!1,n&&(s.lineStart(),s.point(e,t));else if(n&&w)s.point(e,t);else{var r={a:{x:y,y:b},b:{x:e,y:t}};E(r)?(w||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),S=!1):n&&(s.lineStart(),s.point(e,t),S=!1)}y=e,b=t,w=n}var f,h,p,m,g,v,y,b,w,_,S,C=s,x=Nt(),E=Ft(e,t,n,r),P={point:u,lineStart:function(){P.point=d,h&&h.push(p=[]),_=!0,w=!1,y=b=NaN},lineEnd:function(){f&&(d(m,g),v&&w&&x.rejoin(),f.push(x.buffer())),P.point=u,w&&s.lineEnd()},polygonStart:function(){s=x,f=[],h=[],S=!0},polygonEnd:function(){s=C,f=co.merge(f);var t=function(e){for(var t=0,n=h.length,r=e[1],i=0;n>i;++i)for(var o,a=1,s=h[i],l=s.length,c=s[0];l>a;++a)o=s[a],c[1]<=r?o[1]>r&&ie(c,o,e)>0&&++t:o[1]<=r&&ie(c,o,e)<0&&--t,c=o;return 0!==t}([e,r]),n=S&&t,i=f.length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),l(null,null,1,s),s.lineEnd()),i&&Tt(f,o,t,l,s),s.polygonEnd()),f=h=p=null}};return P}}function Lt(e){var t=0,n=Lo/3,r=Zt(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*Lo/180,n=e[1]*Lo/180):[t/Lo*180,n/Lo*180]},i}function Bt(e,t){function n(e,t){var n=Math.sqrt(o-2*i*Math.sin(t))/i;return[n*Math.sin(e*=i),a-n*Math.cos(e)]}var r=Math.sin(e),i=(r+Math.sin(t))/2,o=1+r*(2*i-r),a=Math.sqrt(o)/i;return n.invert=function(e,t){var n=a-t;return[Math.atan2(e,n)/i,ae((o-(e*e+n*n)*i*i)/(2*i))]},n}function Ut(){function e(e,t){Ua+=i*e-r*t,r=e,i=t}var t,n,r,i;Va.point=function(o,a){Va.point=e,t=r=o,n=i=a},Va.lineEnd=function(){e(t,n)}}function zt(){function e(e,t){a.push("M",e,",",t,o)}function t(e,t){a.push("M",e,",",t),s.point=n}function n(e,t){a.push("L",e,",",t)}function r(){s.point=e}function i(){a.push("Z")}var o=Ht(4.5),a=[],s={point:e,lineStart:function(){s.point=t},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=e},pointRadius:function(e){return o=Ht(e),s},result:function(){if(a.length){var e=a.join("");return a=[],e}}};return s}function Ht(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Wt(e,t){ka+=e,Ta+=t,++Aa}function qt(){function e(e,r){var i=e-t,o=r-n,a=Math.sqrt(i*i+o*o);Oa+=a*(t+e)/2,Ia+=a*(n+r)/2,ja+=a,Wt(t=e,n=r)}var t,n;Ya.point=function(r,i){Ya.point=e,Wt(t=r,n=i)}}function Vt(){Ya.point=Wt}function $t(){function e(e,t){var n=e-r,o=t-i,a=Math.sqrt(n*n+o*o);Oa+=a*(r+e)/2,Ia+=a*(i+t)/2,ja+=a,Na+=(a=i*e-r*t)*(r+e),Da+=a*(i+t),Ra+=3*a,Wt(r=e,i=t)}var t,n,r,i;Ya.point=function(o,a){Ya.point=e,Wt(t=r=o,n=i=a)},Ya.lineEnd=function(){e(t,n)}}function Yt(e){function t(t,n){e.moveTo(t+a,n),e.arc(t,n,a,0,Bo)}function n(t,n){e.moveTo(t,n),s.point=r}function r(t,n){e.lineTo(t,n)}function i(){s.point=t}function o(){e.closePath()}var a=4.5,s={point:t,lineStart:function(){s.point=n},lineEnd:i,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(e){return a=e,s},result:P};return s}function Gt(e){function t(e){return(s?r:n)(e)}function n(t){return Xt(t,(function(n,r){n=e(n,r),t.point(n[0],n[1])}))}function r(t){function n(n,r){n=e(n,r),t.point(n[0],n[1])}function r(){y=NaN,C.point=o,t.lineStart()}function o(n,r){var o=ht([n,r]),a=e(n,r);i(y,b,v,w,_,S,y=a[0],b=a[1],v=n,w=o[0],_=o[1],S=o[2],s,t),t.point(y,b)}function a(){C.point=n,t.lineEnd()}function l(){r(),C.point=c,C.lineEnd=u}function c(e,t){o(d=e,t),f=y,h=b,p=w,m=_,g=S,C.point=o}function u(){i(y,b,v,w,_,S,f,h,d,p,m,g,s,t),C.lineEnd=a,a()}var d,f,h,p,m,g,v,y,b,w,_,S,C={point:n,lineStart:r,lineEnd:a,polygonStart:function(){t.polygonStart(),C.lineStart=l},polygonEnd:function(){t.polygonEnd(),C.lineStart=r}};return C}function i(t,n,r,s,l,c,u,d,f,h,p,m,g,v){var y=u-t,b=d-n,w=y*y+b*b;if(w>4*o&&g--){var _=s+h,S=l+p,C=c+m,x=Math.sqrt(_*_+S*S+C*C),E=Math.asin(C/=x),P=wo(wo(C)-1)<Fo||wo(r-f)<Fo?(r+f)/2:Math.atan2(S,_),k=e(P,E),T=k[0],A=k[1],O=T-t,I=A-n,j=b*O-y*I;(j*j/w>o||wo((y*O+b*I)/w-.5)>.3||a>s*h+l*p+c*m)&&(i(t,n,r,s,l,c,T,A,P,_/=x,S/=x,C,g,v),v.point(T,A),i(T,A,P,_,S,C,u,d,f,h,p,m,g,v))}}var o=.5,a=Math.cos(30*Ho),s=16;return t.precision=function(e){return arguments.length?(s=(o=e*e)>0&&16,t):Math.sqrt(o)},t}function Kt(e){var t=Gt((function(t,n){return e([t*Wo,n*Wo])}));return function(e){return en(t(e))}}function Qt(e){this.stream=e}function Xt(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function Jt(e){return Zt((function(){return e}))()}function Zt(e){function t(e){return[(e=s(e[0]*Ho,e[1]*Ho))[0]*f+l,c-e[1]*f]}function n(e){return(e=s.invert((e[0]-l)/f,(c-e[1])/f))&&[e[0]*Wo,e[1]*Wo]}function r(){s=Pt(a=rn(v,y,b),o);var e=o(m,g);return l=h-e[0]*f,c=p+e[1]*f,i()}function i(){return u&&(u.valid=!1,u=null),t}var o,a,s,l,c,u,d=Gt((function(e,t){return[(e=o(e,t))[0]*f+l,c-e[1]*f]})),f=150,h=480,p=250,m=0,g=0,v=0,y=0,b=0,w=Ma,_=C,S=null,x=null;return t.stream=function(e){return u&&(u.valid=!1),(u=en(w(a,d(_(e))))).valid=!0,u},t.clipAngle=function(e){return arguments.length?(w=null==e?(S=e,Ma):Rt((S=+e)*Ho),i()):S},t.clipExtent=function(e){return arguments.length?(x=e,_=e?Mt(e[0][0],e[0][1],e[1][0],e[1][1]):C,i()):x},t.scale=function(e){return arguments.length?(f=+e,r()):f},t.translate=function(e){return arguments.length?(h=+e[0],p=+e[1],r()):[h,p]},t.center=function(e){return arguments.length?(m=e[0]%360*Ho,g=e[1]%360*Ho,r()):[m*Wo,g*Wo]},t.rotate=function(e){return arguments.length?(v=e[0]%360*Ho,y=e[1]%360*Ho,b=e.length>2?e[2]%360*Ho:0,r()):[v*Wo,y*Wo,b*Wo]},co.rebind(t,d,"precision"),function(){return o=e.apply(this,arguments),t.invert=o.invert&&n,r()}}function en(e){return Xt(e,(function(t,n){e.point(t*Ho,n*Ho)}))}function tn(e,t){return[e,t]}function nn(e,t){return[e>Lo?e-Bo:-Lo>e?e+Bo:e,t]}function rn(e,t,n){return e?t||n?Pt(an(e),sn(t,n)):an(e):t||n?sn(t,n):nn}function on(e){return function(t,n){return[(t+=e)>Lo?t-Bo:-Lo>t?t+Bo:t,n]}}function an(e){var t=on(e);return t.invert=on(-e),t}function sn(e,t){function n(e,t){var n=Math.cos(t),s=Math.cos(e)*n,l=Math.sin(e)*n,c=Math.sin(t),u=c*r+s*i;return[Math.atan2(l*o-u*a,s*r-c*i),ae(u*o+l*a)]}var r=Math.cos(e),i=Math.sin(e),o=Math.cos(t),a=Math.sin(t);return n.invert=function(e,t){var n=Math.cos(t),s=Math.cos(e)*n,l=Math.sin(e)*n,c=Math.sin(t),u=c*o-l*a;return[Math.atan2(l*o+c*a,s*r+u*i),ae(u*r-s*i)]},n}function ln(e,t){var n=Math.cos(e),r=Math.sin(e);return function(i,o,a,s){var l=a*t;null!=i?(i=cn(n,i),o=cn(n,o),(a>0?o>i:i>o)&&(i+=a*Bo)):(i=e+a*Bo,o=e-.5*l);for(var c,u=i;a>0?u>o:o>u;u-=l)s.point((c=bt([n,-r*Math.cos(u),-r*Math.sin(u)]))[0],c[1])}}function cn(e,t){var n=ht(t);n[0]-=e,yt(n);var r=oe(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Fo)%(2*Math.PI)}function un(e,t,n){var r=co.range(e,t-Fo,n).concat(t);return function(e){return r.map((function(t){return[e,t]}))}}function dn(e,t,n){var r=co.range(e,t-Fo,n).concat(t);return function(e){return r.map((function(t){return[t,e]}))}}function fn(e){return e.source}function hn(e){return e.target}function pn(e,t){function n(t,n){var r=Math.cos(t),i=Math.cos(n),o=e(r*i);return[o*i*Math.sin(t),o*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),i=t(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(e*o,r*a),Math.asin(r&&n*o/r)]},n}function mn(e,t){function n(e,t){a>0?-zo+Fo>t&&(t=-zo+Fo):t>zo-Fo&&(t=zo-Fo);var n=a/Math.pow(i(t),o);return[n*Math.sin(o*e),a-n*Math.cos(o*e)]}var r=Math.cos(e),i=function(e){return Math.tan(Lo/4+e/2)},o=e===t?Math.sin(e):Math.log(r/Math.cos(t))/Math.log(i(t)/i(e)),a=r*Math.pow(i(e),o)/o;return o?(n.invert=function(e,t){var n=a-t,r=re(o)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/o,2*Math.atan(Math.pow(a/r,1/o))-zo]},n):vn}function gn(e,t){function n(e,t){var n=o-t;return[n*Math.sin(i*e),o-n*Math.cos(i*e)]}var r=Math.cos(e),i=e===t?Math.sin(e):(r-Math.cos(t))/(t-e),o=r/i+e;return wo(i)<Fo?tn:(n.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/i,o-re(i)*Math.sqrt(e*e+n*n)]},n)}function vn(e,t){return[e,Math.log(Math.tan(Lo/4+t/2))]}function yn(e){var t,n=Jt(e),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var a=o.apply(n,arguments);if(a===n){if(t=null==e){var s=Lo*r(),l=i();o([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else t&&(a=null);return a},n.clipExtent(null)}function bn(e,t){return[Math.log(Math.tan(Lo/4+t/2)),-e]}function wn(e){return e[0]}function _n(e){return e[1]}function Sn(e){for(var t=e.length,n=[0,1],r=2,i=2;t>i;i++){for(;r>1&&ie(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Cn(e,t){return e[0]-t[0]||e[1]-t[1]}function xn(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function En(e,t,n,r){var i=e[0],o=n[0],a=t[0]-i,s=r[0]-o,l=e[1],c=n[1],u=t[1]-l,d=r[1]-c,f=(s*(l-c)-d*(i-o))/(d*a-s*u);return[i+f*a,l+f*u]}function Pn(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function kn(){$n(this),this.edge=this.site=this.circle=null}function Tn(e){var t=ss.pop()||new kn;return t.site=e,t}function An(e){Ln(e),is.remove(e),ss.push(e),$n(e)}function On(e){var t=e.circle,n=t.x,r=t.cy,i={x:n,y:r},o=e.P,a=e.N,s=[e];An(e);for(var l=o;l.circle&&wo(n-l.circle.x)<Fo&&wo(r-l.circle.cy)<Fo;)o=l.P,s.unshift(l),An(l),l=o;s.unshift(l),Ln(l);for(var c=a;c.circle&&wo(n-c.circle.x)<Fo&&wo(r-c.circle.cy)<Fo;)a=c.N,s.push(c),An(c),c=a;s.push(c),Ln(c);var u,d=s.length;for(u=1;d>u;++u)c=s[u],l=s[u-1],Wn(c.edge,l.site,c.site,i);l=s[0],(c=s[d-1]).edge=zn(l.site,c.site,null,i),Mn(l),Mn(c)}function In(e){for(var t,n,r,i,o=e.x,a=e.y,s=is._;s;)if((r=jn(s,a)-o)>Fo)s=s.L;else{if(!((i=o-Nn(s,a))>Fo)){r>-Fo?(t=s.P,n=s):i>-Fo?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}var l=Tn(e);if(is.insert(t,l),t||n){if(t===n)return Ln(t),n=Tn(t.site),is.insert(l,n),l.edge=n.edge=zn(t.site,l.site),Mn(t),void Mn(n);if(!n)return void(l.edge=zn(t.site,l.site));Ln(t),Ln(n);var c=t.site,u=c.x,d=c.y,f=e.x-u,h=e.y-d,p=n.site,m=p.x-u,g=p.y-d,v=2*(f*g-h*m),y=f*f+h*h,b=m*m+g*g,w={x:(g*y-h*b)/v+u,y:(f*b-m*y)/v+d};Wn(n.edge,c,p,w),l.edge=zn(c,e,null,w),n.edge=zn(e,p,null,w),Mn(t),Mn(n)}}function jn(e,t){var n=e.site,r=n.x,i=n.y,o=i-t;if(!o)return r;var a=e.P;if(!a)return-1/0;var s=(n=a.site).x,l=n.y,c=l-t;if(!c)return s;var u=s-r,d=1/o-1/c,f=u/c;return d?(-f+Math.sqrt(f*f-2*d*(u*u/(-2*c)-l+c/2+i-o/2)))/d+r:(r+s)/2}function Nn(e,t){var n=e.N;if(n)return jn(n,t);var r=e.site;return r.y===t?r.x:1/0}function Dn(e){this.site=e,this.edges=[]}function Rn(e,t){return t.angle-e.angle}function Fn(){$n(this),this.x=this.y=this.arc=this.site=this.cy=null}function Mn(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,o=n.site;if(r!==o){var a=i.x,s=i.y,l=r.x-a,c=r.y-s,u=o.x-a,d=2*(l*(g=o.y-s)-c*u);if(!(d>=-Mo)){var f=l*l+c*c,h=u*u+g*g,p=(g*f-c*h)/d,m=(l*h-u*f)/d,g=m+s,v=ls.pop()||new Fn;v.arc=e,v.site=i,v.x=p+a,v.y=g+Math.sqrt(p*p+m*m),v.cy=g,e.circle=v;for(var y=null,b=as._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}as.insert(y,v),y||(os=v)}}}}function Ln(e){var t=e.circle;t&&(t.P||(os=t.N),as.remove(t),ls.push(t),$n(t),e.circle=null)}function Bn(e,t){var n=e.b;if(n)return!0;var r,i,o=e.a,a=t[0][0],s=t[1][0],l=t[0][1],c=t[1][1],u=e.l,d=e.r,f=u.x,h=u.y,p=d.x,m=d.y,g=(f+p)/2,v=(h+m)/2;if(m===h){if(a>g||g>=s)return;if(f>p){if(o){if(o.y>=c)return}else o={x:g,y:l};n={x:g,y:c}}else{if(o){if(o.y<l)return}else o={x:g,y:c};n={x:g,y:l}}}else if(i=v-(r=(f-p)/(m-h))*g,-1>r||r>1)if(f>p){if(o){if(o.y>=c)return}else o={x:(l-i)/r,y:l};n={x:(c-i)/r,y:c}}else{if(o){if(o.y<l)return}else o={x:(c-i)/r,y:c};n={x:(l-i)/r,y:l}}else if(m>h){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return e.a=o,e.b=n,!0}function Un(e,t){this.l=e,this.r=t,this.a=this.b=null}function zn(e,t,n,r){var i=new Un(e,t);return ns.push(i),n&&Wn(i,e,t,n),r&&Wn(i,t,e,r),rs[e.i].edges.push(new qn(i,e,t)),rs[t.i].edges.push(new qn(i,t,e)),i}function Hn(e,t,n){var r=new Un(e,null);return r.a=t,r.b=n,ns.push(r),r}function Wn(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function qn(e,t,n){var r=e.a,i=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function Vn(){this._=null}function $n(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function Yn(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Gn(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Kn(e){for(;e.L;)e=e.L;return e}function Qn(e,t){var n,r,i,o=e.sort(Xn).pop();for(ns=[],rs=new Array(e.length),is=new Vn,as=new Vn;;)if(i=os,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))(o.x!==n||o.y!==r)&&(rs[o.i]=new Dn(o),In(o),n=o.x,r=o.y),o=e.pop();else{if(!i)break;On(i.arc)}t&&(function(e){for(var t,n=ns,r=Ft(e[0][0],e[0][1],e[1][0],e[1][1]),i=n.length;i--;)(!Bn(t=n[i],e)||!r(t)||wo(t.a.x-t.b.x)<Fo&&wo(t.a.y-t.b.y)<Fo)&&(t.a=t.b=null,n.splice(i,1))}(t),function(e){for(var t,n,r,i,o,a,s,l,c,u,d=e[0][0],f=e[1][0],h=e[0][1],p=e[1][1],m=rs,g=m.length;g--;)if((o=m[g])&&o.prepare())for(l=(s=o.edges).length,a=0;l>a;)r=(u=s[a].end()).x,i=u.y,t=(c=s[++a%l].start()).x,n=c.y,(wo(r-t)>Fo||wo(i-n)>Fo)&&(s.splice(a,0,new qn(Hn(o.site,u,wo(r-d)<Fo&&p-i>Fo?{x:d,y:wo(t-d)<Fo?n:p}:wo(i-p)<Fo&&f-r>Fo?{x:wo(n-p)<Fo?t:f,y:p}:wo(r-f)<Fo&&i-h>Fo?{x:f,y:wo(t-f)<Fo?n:h}:wo(i-h)<Fo&&r-d>Fo?{x:wo(n-h)<Fo?t:d,y:h}:null),o.site,null)),++l)}(t));var a={cells:rs,edges:ns};return is=as=ns=rs=null,a}function Xn(e,t){return t.y-e.y||t.x-e.x}function Jn(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function Zn(e){return e.x}function er(e){return e.y}function tr(e,t,n,r,i,o){if(!e(t,n,r,i,o)){var a=.5*(n+i),s=.5*(r+o),l=t.nodes;l[0]&&tr(e,l[0],n,r,a,s),l[1]&&tr(e,l[1],a,r,i,s),l[2]&&tr(e,l[2],n,s,a,o),l[3]&&tr(e,l[3],a,s,i,o)}}function nr(e,t,n,r,i,o,a){var s,l=1/0;return function e(c,u,d,f,h){if(!(u>o||d>a||r>f||i>h)){if(p=c.point){var p,m=t-c.x,g=n-c.y,v=m*m+g*g;if(l>v){var y=Math.sqrt(l=v);r=t-y,i=n-y,o=t+y,a=n+y,s=p}}for(var b=c.nodes,w=.5*(u+f),_=.5*(d+h),S=(n>=_)<<1|t>=w,C=S+4;C>S;++S)if(c=b[3&S])switch(3&S){case 0:e(c,u,d,w,_);break;case 1:e(c,w,d,f,_);break;case 2:e(c,u,_,w,h);break;case 3:e(c,w,_,f,h)}}}(e,r,i,o,a),s}function rr(e,t){e=co.rgb(e),t=co.rgb(t);var n=e.r,r=e.g,i=e.b,o=t.r-n,a=t.g-r,s=t.b-i;return function(e){return"#"+Ce(Math.round(n+o*e))+Ce(Math.round(r+a*e))+Ce(Math.round(i+s*e))}}function ir(e,t){var n,r={},i={};for(n in e)n in t?r[n]=sr(e[n],t[n]):i[n]=e[n];for(n in t)n in e||(i[n]=t[n]);return function(e){for(n in r)i[n]=r[n](e);return i}}function or(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ar(e,t){var n,r,i,o=us.lastIndex=ds.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=us.exec(e))&&(r=ds.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:or(n,r)})),o=ds.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?(t=l[0].x,function(e){return t(e)+""}):function(){return t}:(t=l.length,function(e){for(var n,r=0;t>r;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function sr(e,t){for(var n,r=co.interpolators.length;--r>=0&&!(n=co.interpolators[r](e,t)););return n}function lr(e,t){var n,r=[],i=[],o=e.length,a=t.length,s=Math.min(e.length,t.length);for(n=0;s>n;++n)r.push(sr(e[n],t[n]));for(;o>n;++n)i[n]=e[n];for(;a>n;++n)i[n]=t[n];return function(e){for(n=0;s>n;++n)i[n]=r[n](e);return i}}function cr(e){return function(t){return 0>=t?0:t>=1?1:e(t)}}function ur(e){return function(t){return 1-e(1-t)}}function dr(e){return function(t){return.5*(.5>t?e(2*t):2-e(2-2*t))}}function fr(e){return e*e}function hr(e){return e*e*e}function pr(e){if(0>=e)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(.5>e?n:3*(e-t)+n-.75)}function mr(e){return 1-Math.cos(e*zo)}function gr(e){return Math.pow(2,10*(e-1))}function vr(e){return 1-Math.sqrt(1-e*e)}function yr(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function br(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function wr(e){var t=[e.a,e.b],n=[e.c,e.d],r=Sr(t),i=_r(t,n),o=Sr(function(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*Wo,this.translate=[e.e,e.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*Wo:0}function _r(e,t){return e[0]*t[0]+e[1]*t[1]}function Sr(e){var t=Math.sqrt(_r(e,e));return t&&(e[0]/=t,e[1]/=t),t}function Cr(e,t){var n,r=[],i=[],o=co.transform(e),a=co.transform(t),s=o.translate,l=a.translate,c=o.rotate,u=a.rotate,d=o.skew,f=a.skew,h=o.scale,p=a.scale;return s[0]!=l[0]||s[1]!=l[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:or(s[0],l[0])},{i:3,x:or(s[1],l[1])})):r.push(l[0]||l[1]?"translate("+l+")":""),c!=u?(c-u>180?u+=360:u-c>180&&(c+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:or(c,u)})):u&&r.push(r.pop()+"rotate("+u+")"),d!=f?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:or(d,f)}):f&&r.push(r.pop()+"skewX("+f+")"),h[0]!=p[0]||h[1]!=p[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:n-4,x:or(h[0],p[0])},{i:n-2,x:or(h[1],p[1])})):(1!=p[0]||1!=p[1])&&r.push(r.pop()+"scale("+p+")"),n=i.length,function(e){for(var t,o=-1;++o<n;)r[(t=i[o]).i]=t.x(e);return r.join("")}}function xr(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function Er(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function Pr(e){for(var t=e.source,n=e.target,r=function(e,t){if(e===t)return e;for(var n=kr(e),r=kr(t),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}(t,n),i=[t];t!==r;)t=t.parent,i.push(t);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function kr(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function Tr(e){e.fixed|=2}function Ar(e){e.fixed&=-7}function Or(e){e.fixed|=4,e.px=e.x,e.py=e.y}function Ir(e){e.fixed&=-5}function jr(e,t){return co.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=Lr,e}function Nr(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(i=e.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function Dr(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(o=e.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(e=r.pop());)t(e)}function Rr(e){return e.children}function Fr(e){return e.value}function Mr(e,t){return t.value-e.value}function Lr(e){return co.merge(e.map((function(e){return(e.children||[]).map((function(t){return{source:e,target:t}}))})))}function Br(e){return e.x}function Ur(e){return e.y}function zr(e,t,n){e.y0=t,e.y=n}function Hr(e){return co.range(e.length)}function Wr(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function qr(e){for(var t,n=1,r=0,i=e[0][1],o=e.length;o>n;++n)(t=e[n][1])>i&&(r=n,i=t);return r}function Vr(e){return e.reduce($r,0)}function $r(e,t){return e+t[1]}function Yr(e,t){return Gr(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function Gr(e,t){for(var n=-1,r=+e[0],i=(e[1]-r)/t,o=[];++n<=t;)o[n]=i*n+r;return o}function Kr(e){return[co.min(e),co.max(e)]}function Qr(e,t){return e.value-t.value}function Xr(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function Jr(e,t){e._pack_next=t,t._pack_prev=e}function Zr(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return.999*i*i>n*n+r*r}function ei(e){function t(e){u=Math.min(e.x-e.r,u),d=Math.max(e.x+e.r,d),f=Math.min(e.y-e.r,f),h=Math.max(e.y+e.r,h)}if((n=e.children)&&(c=n.length)){var n,r,i,o,a,s,l,c,u=1/0,d=-1/0,f=1/0,h=-1/0;if(n.forEach(ti),(r=n[0]).x=-r.r,r.y=0,t(r),c>1&&((i=n[1]).x=i.r,i.y=0,t(i),c>2))for(ri(r,i,o=n[2]),t(o),Xr(r,o),r._pack_prev=o,Xr(o,i),i=r._pack_next,a=3;c>a;a++){ri(r,i,o=n[a]);var p=0,m=1,g=1;for(s=i._pack_next;s!==i;s=s._pack_next,m++)if(Zr(s,o)){p=1;break}if(1==p)for(l=r._pack_prev;l!==s._pack_prev&&!Zr(l,o);l=l._pack_prev,g++);p?(g>m||m==g&&i.r<r.r?Jr(r,i=s):Jr(r=l,i),a--):(Xr(r,o),i=o,t(o))}var v=(u+d)/2,y=(f+h)/2,b=0;for(a=0;c>a;a++)(o=n[a]).x-=v,o.y-=y,b=Math.max(b,o.r+Math.sqrt(o.x*o.x+o.y*o.y));e.r=b,n.forEach(ni)}}function ti(e){e._pack_next=e._pack_prev=e}function ni(e){delete e._pack_next,delete e._pack_prev}function ri(e,t,n){var r=e.r+n.r,i=t.x-e.x,o=t.y-e.y;if(r&&(i||o)){var a=t.r+n.r,s=i*i+o*o,l=.5+((r*=r)-(a*=a))/(2*s),c=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=e.x+l*i+c*o,n.y=e.y+l*o-c*i}else n.x=e.x+r,n.y=e.y}function ii(e,t){return e.parent==t.parent?1:2}function oi(e){var t=e.children;return t.length?t[0]:e.t}function ai(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function si(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function li(e,t,n){return e.a.parent===t.parent?e.a:n}function ci(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function ui(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],o=e.dy-t[0]-t[2];return 0>i&&(n+=i/2,i=0),0>o&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function di(e){var t=e[0],n=e[e.length-1];return n>t?[t,n]:[n,t]}function fi(e){return e.rangeExtent?e.rangeExtent():di(e.range())}function hi(e,t,n,r){var i=n(e[0],e[1]),o=r(t[0],t[1]);return function(e){return o(i(e))}}function pi(e,t){var n,r=0,i=e.length-1,o=e[r],a=e[i];return o>a&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function mi(e,t,n,r){var i=[],o=[],a=0,s=Math.min(e.length,t.length)-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<=s;)i.push(n(e[a-1],e[a])),o.push(r(t[a-1],t[a]));return function(t){var n=co.bisect(e,t,1,s)-1;return o[n](i[n](t))}}function gi(e,t){return co.rebind(e,t,"range","rangeRound","interpolate","clamp")}function vi(e,t){return pi(e,function(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:Ss}(yi(e,t)[2]))}function yi(e,t){null==t&&(t=10);var n=di(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),o=t/r*i;return.15>=o?i*=10:.35>=o?i*=5:.75>=o&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function bi(e,t){return co.range.apply(co,yi(e,t))}function wi(e,t,n){var r=yi(e,t);if(n){var i=ua.exec(n);if(i.shift(),"s"===i[8]){var o=co.formatPrefix(Math.max(wo(r[0]),wo(r[1])));return i[7]||(i[7]="."+_i(o.scale(r[2]))),i[8]="f",n=co.format(i.join("")),function(e){return n(o.scale(e))+o.symbol}}i[7]||(i[7]="."+function(e,t){var n=_i(t[2]);return e in Cs?Math.abs(n-_i(Math.max(wo(t[0]),wo(t[1]))))+ +("e"!==e):n-2*("%"===e)}(i[8],r)),n=i.join("")}else n=",."+_i(r[2])+"f";return co.format(n)}function _i(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function Si(e){return function(t){return 0>t?-Math.pow(-t,e):Math.pow(t,e)}}function Ci(){return 0}function xi(e){return e.innerRadius}function Ei(e){return e.outerRadius}function Pi(e){return e.startAngle}function ki(e){return e.endAngle}function Ti(e){return e&&e.padAngle}function Ai(e,t,n,r){return(e-n)*t-(t-r)*e>0?0:1}function Oi(e,t,n,r,i){var o=e[0]-t[0],a=e[1]-t[1],s=(i?r:-r)/Math.sqrt(o*o+a*a),l=s*a,c=-s*o,u=e[0]+l,d=e[1]+c,f=t[0]+l,h=t[1]+c,p=(u+f)/2,m=(d+h)/2,g=f-u,v=h-d,y=g*g+v*v,b=n-r,w=u*h-f*d,_=(0>v?-1:1)*Math.sqrt(b*b*y-w*w),S=(w*v-g*_)/y,C=(-w*g-v*_)/y,x=(w*v+g*_)/y,E=(-w*g+v*_)/y,P=S-p,k=C-m,T=x-p,A=E-m;return P*P+k*k>T*T+A*A&&(S=x,C=E),[[S-l,C-c],[S*n/b,C*n/b]]}function Ii(e){function t(t){function a(){c.push("M",o(e(u),s))}for(var l,c=[],u=[],d=-1,f=t.length,h=Ae(n),p=Ae(r);++d<f;)i.call(this,l=t[d],d)?u.push([+h.call(this,l,d),+p.call(this,l,d)]):u.length&&(a(),u=[]);return u.length&&a(),c.length?c.join(""):null}var n=wn,r=_n,i=kt,o=ji,a=o.key,s=.7;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t.defined=function(e){return arguments.length?(i=e,t):i},t.interpolate=function(e){return arguments.length?(a="function"==typeof e?o=e:(o=Is.get(e)||ji).key,t):a},t.tension=function(e){return arguments.length?(s=e,t):s},t}function ji(e){return e.join("L")}function Ni(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function Di(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function Ri(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return ji(e);var n=e.length!=t.length,r="",i=e[0],o=e[1],a=t[0],s=a,l=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=e[1],l=2),t.length>1){s=t[1],o=e[l],l++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var c=2;c<t.length;c++,l++)o=e[l],s=t[c],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var u=e[l];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+u[0]+","+u[1]}return r}function Fi(e,t){for(var n,r=[],i=(1-t)/2,o=e[0],a=e[1],s=1,l=e.length;++s<l;)n=o,o=a,a=e[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function Mi(e){if(e.length<3)return ji(e);var t=1,n=e.length,r=e[0],i=r[0],o=r[1],a=[i,i,i,(r=e[1])[0]],s=[o,o,o,r[1]],l=[i,",",o,"L",Li(Ds,a),",",Li(Ds,s)];for(e.push(e[n-1]);++t<=n;)r=e[t],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),Bi(l,a,s);return e.pop(),l.push("L",r),l.join("")}function Li(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Bi(e,t,n){e.push("C",Li(js,t),",",Li(js,n),",",Li(Ns,t),",",Li(Ns,n),",",Li(Ds,t),",",Li(Ds,n))}function Ui(e,t){return(t[1]-e[1])/(t[0]-e[0])}function zi(e){for(var t,n,r,i,o=[],a=function(e){for(var t=0,n=e.length-1,r=[],i=e[0],o=e[1],a=r[0]=Ui(i,o);++t<n;)r[t]=(a+(a=Ui(i=o,o=e[t+1])))/2;return r[t]=a,r}(e),s=-1,l=e.length-1;++s<l;)t=Ui(e[s],e[s+1]),wo(t)<Fo?a[s]=a[s+1]=0:(i=(n=a[s]/t)*n+(r=a[s+1]/t)*r)>9&&(i=3*t/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r);for(s=-1;++s<=l;)i=(e[Math.min(l,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}function Hi(e){for(var t,n,r,i=-1,o=e.length;++i<o;)n=(t=e[i])[0],r=t[1]-zo,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function Wi(e){function t(t){function l(){m.push("M",s(e(v),d),u,c(e(g.reverse()),d),"Z")}for(var f,h,p,m=[],g=[],v=[],y=-1,b=t.length,w=Ae(n),_=Ae(i),S=n===r?function(){return h}:Ae(r),C=i===o?function(){return p}:Ae(o);++y<b;)a.call(this,f=t[y],y)?(g.push([h=+w.call(this,f,y),p=+_.call(this,f,y)]),v.push([+S.call(this,f,y),+C.call(this,f,y)])):g.length&&(l(),g=[],v=[]);return g.length&&l(),m.length?m.join(""):null}var n=wn,r=wn,i=0,o=_n,a=kt,s=ji,l=s.key,c=s,u="L",d=.7;return t.x=function(e){return arguments.length?(n=r=e,t):r},t.x0=function(e){return arguments.length?(n=e,t):n},t.x1=function(e){return arguments.length?(r=e,t):r},t.y=function(e){return arguments.length?(i=o=e,t):o},t.y0=function(e){return arguments.length?(i=e,t):i},t.y1=function(e){return arguments.length?(o=e,t):o},t.defined=function(e){return arguments.length?(a=e,t):a},t.interpolate=function(e){return arguments.length?(l="function"==typeof e?s=e:(s=Is.get(e)||ji).key,c=s.reverse||s,u=s.closed?"M":"L",t):l},t.tension=function(e){return arguments.length?(d=e,t):d},t}function qi(e){return e.radius}function Vi(e){return[e.x,e.y]}function $i(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]-zo;return[n*Math.cos(r),n*Math.sin(r)]}}function Yi(){return 64}function Gi(){return"circle"}function Ki(e){var t=Math.sqrt(e/Lo);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Qi(e){return function(){var t,n;(t=this[e])&&(n=t[t.active])&&(--t.count?delete t[t.active]:delete this[e],t.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Xi(e,t,n){return Eo(e,zs),e.namespace=t,e.id=n,e}function Ji(e,t,n,r){var i=e.id,o=e.namespace;return G(e,"function"==typeof n?function(e,a,s){e[o][i].tween.set(t,r(n.call(e,e.__data__,a,s)))}:(n=r(n),function(e){e[o][i].tween.set(t,n)}))}function Zi(e){return null==e&&(e=""),function(){this.textContent=e}}function eo(e){return null==e?"__transition__":"__transition_"+e+"__"}function to(e,t,n,r,i){var o=e[n]||(e[n]={active:0,count:0}),a=o[r];if(!a){var s=i.time;a=o[r]={tween:new p,time:s,delay:i.delay,duration:i.duration,ease:i.ease,index:t},i=null,++o.count,co.timer((function(i){function l(n){if(o.active>r)return u();var i=o[o.active];i&&(--o.count,delete o[o.active],i.event&&i.event.interrupt.call(e,e.__data__,i.index)),o.active=r,a.event&&a.event.start.call(e,e.__data__,t),a.tween.forEach((function(n,r){(r=r.call(e,e.__data__,t))&&m.push(r)})),f=a.ease,d=a.duration,co.timer((function(){return p.c=c(n||1)?kt:c,1}),0,s)}function c(n){if(o.active!==r)return 1;for(var i=n/d,s=f(i),l=m.length;l>0;)m[--l].call(e,s);return i>=1?(a.event&&a.event.end.call(e,e.__data__,t),u()):void 0}function u(){return--o.count?delete o[r]:delete e[n],1}var d,f,h=a.delay,p=sa,m=[];return p.t=h+s,i>=h?l(i-h):void(p.c=l)}),0,s)}}function no(e,t,n){e.attr("transform",(function(e){var r=t(e);return"translate("+(isFinite(r)?r:n(e))+",0)"}))}function ro(e,t,n){e.attr("transform",(function(e){var r=t(e);return"translate(0,"+(isFinite(r)?r:n(e))+")"}))}function io(e){return e.toISOString()}function oo(e,t,n){function r(t){return e(t)}function i(e,n){var r=(e[1]-e[0])/n,i=co.bisect(Qs,r);return i==Qs.length?[t.year,yi(e.map((function(e){return e/31536e6})),n)[2]]:i?t[r/Qs[i-1]<Qs[i]/r?i-1:i]:[Zs,yi(e,n)[2]]}return r.invert=function(t){return ao(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain(t),r):e.domain().map(ao)},r.nice=function(e,t){function n(n){return!isNaN(n)&&!e.range(n,ao(+n+1),t).length}var o=r.domain(),a=di(o),s=null==e?i(a,10):"number"==typeof e&&i(a,e);return s&&(e=s[0],t=s[1]),r.domain(pi(o,t>1?{floor:function(t){for(;n(t=e.floor(t));)t=ao(t-1);return t},ceil:function(t){for(;n(t=e.ceil(t));)t=ao(+t+1);return t}}:e))},r.ticks=function(e,t){var n=di(r.domain()),o=null==e?i(n,10):"number"==typeof e?i(n,e):!e.range&&[{range:e},t];return o&&(e=o[0],t=o[1]),e.range(n[0],ao(+n[1]+1),1>t?1:t)},r.tickFormat=function(){return n},r.copy=function(){return oo(e.copy(),t,n)},gi(r,e)}function ao(e){return new Date(e)}function so(e){return JSON.parse(e.responseText)}function lo(e){var t=ho.createRange();return t.selectNode(ho.body),t.createContextualFragment(e.responseText)}var co={version:"3.5.6"},uo=[].slice,fo=function(e){return uo.call(e)},ho=this.document;if(ho)try{fo(ho.documentElement.childNodes)[0].nodeType}catch(nl){fo=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),ho)try{ho.createElement("DIV").style.setProperty("opacity",0,"")}catch(rl){var po=this.Element.prototype,mo=po.setAttribute,go=po.setAttributeNS,vo=this.CSSStyleDeclaration.prototype,yo=vo.setProperty;po.setAttribute=function(e,t){mo.call(this,e,t+"")},po.setAttributeNS=function(e,t,n){go.call(this,e,t,n+"")},vo.setProperty=function(e,t,n){yo.call(this,e,t+"",n)}}co.ascending=s,co.descending=function(e,t){return e>t?-1:t>e?1:t>=e?0:NaN},co.min=function(e,t){var n,r,i=-1,o=e.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=e[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=t.call(e,e[i],i))&&n>r&&(n=r)}return n},co.max=function(e,t){var n,r,i=-1,o=e.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=e[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=t.call(e,e[i],i))&&r>n&&(n=r)}return n},co.extent=function(e,t){var n,r,i,o=-1,a=e.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=e[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e[o])&&(n>r&&(n=r),r>i&&(i=r))}else{for(;++o<a;)if(null!=(r=t.call(e,e[o],o))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t.call(e,e[o],o))&&(n>r&&(n=r),r>i&&(i=r))}return[n,i]},co.sum=function(e,t){var n,r=0,i=e.length,o=-1;if(1===arguments.length)for(;++o<i;)c(n=+e[o])&&(r+=n);else for(;++o<i;)c(n=+t.call(e,e[o],o))&&(r+=n);return r},co.mean=function(e,t){var n,r=0,i=e.length,o=-1,a=i;if(1===arguments.length)for(;++o<i;)c(n=l(e[o]))?r+=n:--a;else for(;++o<i;)c(n=l(t.call(e,e[o],o)))?r+=n:--a;return a?r/a:void 0},co.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],o=n-r;return o?i+o*(e[r]-i):i},co.median=function(e,t){var n,r=[],i=e.length,o=-1;if(1===arguments.length)for(;++o<i;)c(n=l(e[o]))&&r.push(n);else for(;++o<i;)c(n=l(t.call(e,e[o],o)))&&r.push(n);return r.length?co.quantile(r.sort(s),.5):void 0},co.variance=function(e,t){var n,r,i=e.length,o=0,a=0,s=-1,u=0;if(1===arguments.length)for(;++s<i;)c(n=l(e[s]))&&(a+=(r=n-o)*(n-(o+=r/++u)));else for(;++s<i;)c(n=l(t.call(e,e[s],s)))&&(a+=(r=n-o)*(n-(o+=r/++u)));return u>1?a/(u-1):void 0},co.deviation=function(){var e=co.variance.apply(this,arguments);return e?Math.sqrt(e):e};var bo=u(s);co.bisectLeft=bo.left,co.bisect=co.bisectRight=bo.right,co.bisector=function(e){return u(1===e.length?function(t,n){return s(e(t),n)}:e)},co.shuffle=function(e,t,n){(o=arguments.length)<3&&(n=e.length,2>o&&(t=0));for(var r,i,o=n-t;o;)i=Math.random()*o--|0,r=e[o+t],e[o+t]=e[i+t],e[i+t]=r;return e},co.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},co.pairs=function(e){for(var t=0,n=e.length-1,r=e[0],i=new Array(0>n?0:n);n>t;)i[t]=[r,r=e[++t]];return i},co.zip=function(){if(!(r=arguments.length))return[];for(var e=-1,t=co.min(arguments,d),n=new Array(t);++e<t;)for(var r,i=-1,o=n[e]=new Array(r);++i<r;)o[i]=arguments[i][e];return n},co.transpose=function(e){return co.zip.apply(co,e)},co.keys=function(e){var t=[];for(var n in e)t.push(n);return t},co.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},co.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},co.merge=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(t=(r=e[i]).length;--t>=0;)n[--a]=r[t];return n};var wo=Math.abs;co.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n===1/0)throw new Error("infinite range");var r,i=[],o=f(wo(n)),a=-1;if(e*=o,t*=o,0>(n*=o))for(;(r=e+n*++a)>t;)i.push(r/o);else for(;(r=e+n*++a)<t;)i.push(r/o);return i},co.map=function(e,t){var n=new p;if(e instanceof p)e.forEach((function(e,t){n.set(e,t)}));else if(Array.isArray(e)){var r,i=-1,o=e.length;if(1===arguments.length)for(;++i<o;)n.set(i,e[i]);else for(;++i<o;)n.set(t.call(e,r=e[i],i),r)}else for(var a in e)n.set(a,e[a]);return n};var _o="__proto__",So="\0";h(p,{has:v,get:function(e){return this._[m(e)]},set:function(e,t){return this._[m(e)]=t},remove:y,keys:b,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:g(t),value:this._[t]});return e},size:w,empty:_,forEach:function(e){for(var t in this._)e.call(this,g(t),this._[t])}}),co.nest=function(){function e(o,a,s){if(s>=i.length)return n?n.call(r,a):t?a.sort(t):a;for(var l,c,u,d,f=-1,h=a.length,m=i[s++],g=new p;++f<h;)(d=g.get(l=m(c=a[f])))?d.push(c):g.set(l,[c]);return o?(c=o(),u=function(t,n){c.set(t,e(o,n,s))}):(c={},u=function(t,n){c[t]=e(o,n,s)}),g.forEach(u),c}var t,n,r={},i=[],o=[];return r.map=function(t,n){return e(n,t,0)},r.entries=function(t){return function e(t,n){if(n>=i.length)return t;var r=[],a=o[n++];return t.forEach((function(t,i){r.push({key:t,values:e(i,n)})})),a?r.sort((function(e,t){return a(e.key,t.key)})):r}(e(co.map,t,0),0)},r.key=function(e){return i.push(e),r},r.sortKeys=function(e){return o[i.length-1]=e,r},r.sortValues=function(e){return t=e,r},r.rollup=function(e){return n=e,r},r},co.set=function(e){var t=new S;if(e)for(var n=0,r=e.length;r>n;++n)t.add(e[n]);return t},h(S,{has:v,add:function(e){return this._[m(e+="")]=!0,e},remove:y,values:b,size:w,empty:_,forEach:function(e){for(var t in this._)e.call(this,g(t))}}),co.behavior={},co.rebind=function(e,t){for(var n,r=1,i=arguments.length;++r<i;)e[n=arguments[r]]=x(e,t,t[n]);return e};var Co=["webkit","ms","moz","Moz","o","O"];co.dispatch=function(){for(var e=new k,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=T(e);return e},k.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},co.event=null,co.requote=function(e){return e.replace(xo,"\\$&")};var xo=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Eo={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},Po=function(e,t){return t.querySelector(e)},ko=function(e,t){return t.querySelectorAll(e)},To=function(e,t){var n=e.matches||e[E(e,"matchesSelector")];return(To=function(e,t){return n.call(e,t)})(e,t)};"function"==typeof Sizzle&&(Po=function(e,t){return Sizzle(e,t)[0]||null},ko=Sizzle,To=Sizzle.matchesSelector),co.selection=function(){return co.select(ho.documentElement)};var Ao=co.selection.prototype=[];Ao.select=function(e){var t,n,r,i,o=[];e=N(e);for(var a=-1,s=this.length;++a<s;){o.push(t=[]),t.parentNode=(r=this[a]).parentNode;for(var l=-1,c=r.length;++l<c;)(i=r[l])?(t.push(n=e.call(i,i.__data__,l,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):t.push(null)}return j(o)},Ao.selectAll=function(e){var t,n,r=[];e=D(e);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],s=-1,l=a.length;++s<l;)(n=a[s])&&(r.push(t=fo(e.call(n,n.__data__,s,i))),t.parentNode=n);return j(r)};var Oo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};co.ns={prefix:Oo,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&(n=e.slice(0,t),e=e.slice(t+1)),Oo.hasOwnProperty(n)?{space:Oo[n],local:e}:e}},Ao.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return(e=co.ns.qualify(e)).local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(R(t,e[t]));return this}return this.each(R(e,t))},Ao.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=L(e)).length,i=-1;if(t=n.classList){for(;++i<r;)if(!t.contains(e[i]))return!1}else for(t=n.getAttribute("class");++i<r;)if(!M(e[i]).test(t))return!1;return!0}for(t in e)this.each(B(t,e[t]));return this}return this.each(B(e,t))},Ao.style=function(e,t,n){var r=arguments.length;if(3>r){if("string"!=typeof e){for(n in 2>r&&(t=""),e)this.each(z(n,e[n],t));return this}if(2>r){var i=this.node();return a(i).getComputedStyle(i,null).getPropertyValue(e)}n=""}return this.each(z(e,t,n))},Ao.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(H(t,e[t]));return this}return this.each(H(e,t))},Ao.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},Ao.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},Ao.append=function(e){return e=W(e),this.select((function(){return this.appendChild(e.apply(this,arguments))}))},Ao.insert=function(e,t){return e=W(e),t=N(t),this.select((function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)}))},Ao.remove=function(){return this.each(q)},Ao.data=function(e,t){function n(e,n){var r,i,o,a=e.length,u=n.length,d=Math.min(a,u),f=new Array(u),h=new Array(u),m=new Array(a);if(t){var g,v=new p,y=new Array(a);for(r=-1;++r<a;)v.has(g=t.call(i=e[r],i.__data__,r))?m[r]=i:v.set(g,i),y[r]=g;for(r=-1;++r<u;)(i=v.get(g=t.call(n,o=n[r],r)))?!0!==i&&(f[r]=i,i.__data__=o):h[r]=V(o),v.set(g,!0);for(r=-1;++r<a;)!0!==v.get(y[r])&&(m[r]=e[r])}else{for(r=-1;++r<d;)i=e[r],o=n[r],i?(i.__data__=o,f[r]=i):h[r]=V(o);for(;u>r;++r)h[r]=V(n[r]);for(;a>r;++r)m[r]=e[r]}h.update=f,h.parentNode=f.parentNode=m.parentNode=e.parentNode,s.push(h),l.push(f),c.push(m)}var r,i,o=-1,a=this.length;if(!arguments.length){for(e=new Array(a=(r=this[0]).length);++o<a;)(i=r[o])&&(e[o]=i.__data__);return e}var s=K([]),l=j([]),c=j([]);if("function"==typeof e)for(;++o<a;)n(r=this[o],e.call(r,r.parentNode.__data__,o));else for(;++o<a;)n(r=this[o],e);return l.enter=function(){return s},l.exit=function(){return c},l},Ao.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},Ao.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=$(e));for(var o=0,a=this.length;a>o;o++){i.push(t=[]),t.parentNode=(n=this[o]).parentNode;for(var s=0,l=n.length;l>s;s++)(r=n[s])&&e.call(r,r.__data__,s,o)&&t.push(r)}return j(i)},Ao.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Ao.sort=function(e){e=Y.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},Ao.each=function(e){return G(this,(function(t,n,r){e.call(t,t.__data__,n,r)}))},Ao.call=function(e){var t=fo(arguments);return e.apply(t[0]=this,t),this},Ao.empty=function(){return!this.node()},Ao.node=function(){for(var e=0,t=this.length;t>e;e++)for(var n=this[e],r=0,i=n.length;i>r;r++){var o=n[r];if(o)return o}return null},Ao.size=function(){var e=0;return G(this,(function(){++e})),e};var Io=[];co.selection.enter=K,co.selection.enter.prototype=Io,Io.append=Ao.append,Io.empty=Ao.empty,Io.node=Ao.node,Io.call=Ao.call,Io.size=Ao.size,Io.select=function(e){for(var t,n,r,i,o,a=[],s=-1,l=this.length;++s<l;){r=(i=this[s]).update,a.push(t=[]),t.parentNode=i.parentNode;for(var c=-1,u=i.length;++c<u;)(o=i[c])?(t.push(r[c]=n=e.call(i.parentNode,o.__data__,c,s)),n.__data__=o.__data__):t.push(null)}return j(a)},Io.insert=function(e,t){return arguments.length<2&&(t=Q(this)),Ao.insert.call(this,e,t)},co.select=function(e){var t;return"string"==typeof e?(t=[Po(e,ho)]).parentNode=ho.documentElement:(t=[e]).parentNode=o(e),j([t])},co.selectAll=function(e){var t;return"string"==typeof e?(t=fo(ko(e,ho))).parentNode=ho.documentElement:(t=e).parentNode=null,j([t])},Ao.on=function(e,t,n){var r=arguments.length;if(3>r){if("string"!=typeof e){for(n in 2>r&&(t=!1),e)this.each(X(n,e[n],t));return this}if(2>r)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(X(e,t,n))};var jo=co.map({mouseenter:"mouseover",mouseleave:"mouseout"});ho&&jo.forEach((function(e){"on"+e in ho&&jo.remove(e)}));var No,Do=0;co.mouse=function(e){return te(e,O())};var Ro=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;co.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=O().changedTouches),t)for(var r,i=0,o=t.length;o>i;++i)if((r=t[i]).identifier===n)return te(e,r)},co.behavior.drag=function(){function e(){this.on("mousedown.drag",i).on("touchstart.drag",o)}function t(e,t,i,o,a){return function(){function s(){var e,n,r=t(f,m);r&&(e=r[0]-b[0],n=r[1]-b[1],p|=e|n,b=r,h({type:"drag",x:r[0]+c[0],y:r[1]+c[1],dx:e,dy:n}))}function l(){t(f,m)&&(v.on(o+g,null).on(a+g,null),y(p&&co.event.target===d),h({type:"dragend"}))}var c,u=this,d=co.event.target,f=u.parentNode,h=n.of(u,arguments),p=0,m=e(),g=".drag"+(null==m?"":"-"+m),v=co.select(i(d)).on(o+g,s).on(a+g,l),y=ee(d),b=t(f,m);r?c=[(c=r.apply(u,arguments)).x-b[0],c.y-b[1]]:c=[0,0],h({type:"dragstart"})}}var n=I(e,"drag","dragstart","dragend"),r=null,i=t(P,co.mouse,a,"mousemove","mouseup"),o=t(ne,co.touch,C,"touchmove","touchend");return e.origin=function(t){return arguments.length?(r=t,e):r},co.rebind(e,n,"on")},co.touches=function(e,t){return arguments.length<2&&(t=O().touches),t?fo(t).map((function(t){var n=te(e,t);return n.identifier=t.identifier,n})):[]};var Fo=1e-6,Mo=Fo*Fo,Lo=Math.PI,Bo=2*Lo,Uo=Bo-Fo,zo=Lo/2,Ho=Lo/180,Wo=180/Lo,qo=Math.SQRT2;co.interpolateZoom=function(e,t){function n(e){var t=e*v;if(g){var n=se(m),a=o/(2*f)*(n*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(qo*t+m)-function(e){return((e=Math.exp(e))-1/e)/2}(m));return[r+a*c,i+a*u,o*n/se(qo*t+m)]}return[r+e*c,i+e*u,o*Math.exp(qo*t)]}var r=e[0],i=e[1],o=e[2],a=t[0],s=t[1],l=t[2],c=a-r,u=s-i,d=c*c+u*u,f=Math.sqrt(d),h=(l*l-o*o+4*d)/(2*o*2*f),p=(l*l-o*o-4*d)/(2*l*2*f),m=Math.log(Math.sqrt(h*h+1)-h),g=Math.log(Math.sqrt(p*p+1)-p)-m,v=(g||Math.log(l/o))/qo;return n.duration=1e3*v,n},co.behavior.zoom=function(){function e(e){e.on(T,u).on($o+".zoom",f).on("dblclick.zoom",h).on(N,d)}function t(e){return[(e[0]-C.x)/C.k,(e[1]-C.y)/C.k]}function n(e){C.k=Math.max(E[0],Math.min(E[1],e))}function r(e,t){t=function(e){return[e[0]*C.k+C.x,e[1]*C.k+C.y]}(t),C.x+=e[0]-t[0],C.y+=e[1]-t[1]}function i(t,i,o,a){t.__chart__={x:C.x,y:C.y,k:C.k},n(Math.pow(2,a)),r(m=i,o),t=co.select(t),P>0&&(t=t.transition().duration(P)),t.call(e.event)}function o(){w&&w.domain(b.range().map((function(e){return(e-C.x)/C.k})).map(b.invert)),S&&S.domain(_.range().map((function(e){return(e-C.y)/C.k})).map(_.invert))}function s(e){k++||e({type:"zoomstart"})}function l(e){o(),e({type:"zoom",scale:C.k,translate:[C.x,C.y]})}function c(e){--k||(e({type:"zoomend"}),m=null)}function u(){function e(){d=1,r(co.mouse(i),h),l(u)}function n(){f.on(O,null).on(j,null),p(d&&co.event.target===o),c(u)}var i=this,o=co.event.target,u=D.of(i,arguments),d=0,f=co.select(a(i)).on(O,e).on(j,n),h=t(co.mouse(i)),p=ee(i);Us.call(i),s(u)}function d(){function e(){var e=co.touches(p);return h=C.k,e.forEach((function(e){e.identifier in g&&(g[e.identifier]=t(e))})),e}function o(){var t=co.event.target;co.select(t).on(w,a).on(_,f),S.push(t);for(var n=co.event.changedTouches,r=0,o=n.length;o>r;++r)g[n[r].identifier]=null;var s=e(),l=Date.now();if(1===s.length){if(500>l-y){var c=s[0];i(p,c,g[c.identifier],Math.floor(Math.log(C.k)/Math.LN2)+1),A()}y=l}else if(s.length>1){c=s[0];var u=s[1],d=c[0]-u[0],h=c[1]-u[1];v=d*d+h*h}}function a(){var e,t,i,o,a=co.touches(p);Us.call(p);for(var s=0,c=a.length;c>s;++s,o=null)if(i=a[s],o=g[i.identifier]){if(t)break;e=i,t=o}if(o){var u=(u=i[0]-e[0])*u+(u=i[1]-e[1])*u,d=v&&Math.sqrt(u/v);e=[(e[0]+i[0])/2,(e[1]+i[1])/2],t=[(t[0]+o[0])/2,(t[1]+o[1])/2],n(d*h)}y=null,r(e,t),l(m)}function f(){if(co.event.touches.length){for(var t=co.event.changedTouches,n=0,r=t.length;r>n;++n)delete g[t[n].identifier];for(var i in g)return void e()}co.selectAll(S).on(b,null),x.on(T,u).on(N,d),E(),c(m)}var h,p=this,m=D.of(p,arguments),g={},v=0,b=".zoom-"+co.event.changedTouches[0].identifier,w="touchmove"+b,_="touchend"+b,S=[],x=co.select(p),E=ee(p);o(),s(m),x.on(T,null).on(N,o)}function f(){var e=D.of(this,arguments);v?clearTimeout(v):(Us.call(this),p=t(m=g||co.mouse(this)),s(e)),v=setTimeout((function(){v=null,c(e)}),50),A(),n(Math.pow(2,.002*Vo())*C.k),r(m,p),l(e)}function h(){var e=co.mouse(this),n=Math.log(C.k)/Math.LN2;i(this,e,t(e),co.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}var p,m,g,v,y,b,w,_,S,C={x:0,y:0,k:1},x=[960,500],E=Yo,P=250,k=0,T="mousedown.zoom",O="mousemove.zoom",j="mouseup.zoom",N="touchstart.zoom",D=I(e,"zoomstart","zoom","zoomend");return $o||($o="onwheel"in ho?(Vo=function(){return-co.event.deltaY*(co.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ho?(Vo=function(){return co.event.wheelDelta},"mousewheel"):(Vo=function(){return-co.event.detail},"MozMousePixelScroll")),e.event=function(e){e.each((function(){var e=D.of(this,arguments),t=C;Ls?co.select(this).transition().each("start.zoom",(function(){C=this.__chart__||{x:0,y:0,k:1},s(e)})).tween("zoom:zoom",(function(){var n=x[0],r=x[1],i=m?m[0]:n/2,o=m?m[1]:r/2,a=co.interpolateZoom([(i-C.x)/C.k,(o-C.y)/C.k,n/C.k],[(i-t.x)/t.k,(o-t.y)/t.k,n/t.k]);return function(t){var r=a(t),s=n/r[2];this.__chart__=C={x:i-r[0]*s,y:o-r[1]*s,k:s},l(e)}})).each("interrupt.zoom",(function(){c(e)})).each("end.zoom",(function(){c(e)})):(this.__chart__=C,s(e),l(e),c(e))}))},e.translate=function(t){return arguments.length?(C={x:+t[0],y:+t[1],k:C.k},o(),e):[C.x,C.y]},e.scale=function(t){return arguments.length?(C={x:C.x,y:C.y,k:+t},o(),e):C.k},e.scaleExtent=function(t){return arguments.length?(E=null==t?Yo:[+t[0],+t[1]],e):E},e.center=function(t){return arguments.length?(g=t&&[+t[0],+t[1]],e):g},e.size=function(t){return arguments.length?(x=t&&[+t[0],+t[1]],e):x},e.duration=function(t){return arguments.length?(P=+t,e):P},e.x=function(t){return arguments.length?(w=t,b=t.copy(),C={x:0,y:0,k:1},e):w},e.y=function(t){return arguments.length?(S=t,_=t.copy(),C={x:0,y:0,k:1},e):S},co.rebind(e,D,"on")};var Vo,$o,Yo=[0,1/0];co.color=ce,ce.prototype.toString=function(){return this.rgb()+""},co.hsl=ue;var Go=ue.prototype=new ce;Go.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new ue(this.h,this.s,this.l/e)},Go.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new ue(this.h,this.s,e*this.l)},Go.rgb=function(){return de(this.h,this.s,this.l)},co.hcl=fe;var Ko=fe.prototype=new ce;Ko.brighter=function(e){return new fe(this.h,this.c,Math.min(100,this.l+Qo*(arguments.length?e:1)))},Ko.darker=function(e){return new fe(this.h,this.c,Math.max(0,this.l-Qo*(arguments.length?e:1)))},Ko.rgb=function(){return he(this.h,this.c,this.l).rgb()},co.lab=pe;var Qo=18,Xo=.95047,Jo=1,Zo=1.08883,ea=pe.prototype=new ce;ea.brighter=function(e){return new pe(Math.min(100,this.l+Qo*(arguments.length?e:1)),this.a,this.b)},ea.darker=function(e){return new pe(Math.max(0,this.l-Qo*(arguments.length?e:1)),this.a,this.b)},ea.rgb=function(){return me(this.l,this.a,this.b)},co.rgb=we;var ta=we.prototype=new ce;ta.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return t||n||r?(t&&i>t&&(t=i),n&&i>n&&(n=i),r&&i>r&&(r=i),new we(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))):new we(i,i,i)},ta.darker=function(e){return new we((e=Math.pow(.7,arguments.length?e:1))*this.r,e*this.g,e*this.b)},ta.hsl=function(){return Ee(this.r,this.g,this.b)},ta.toString=function(){return"#"+Ce(this.r)+Ce(this.g)+Ce(this.b)};var na=co.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});na.forEach((function(e,t){na.set(e,_e(t))})),co.functor=Ae,co.xhr=Oe(C),co.dsv=function(e,t){function n(e,n,o){arguments.length<3&&(o=n,n=null);var a=Ie(e,t,null==n?r:i(n),o);return a.row=function(e){return arguments.length?a.response(null==(n=e)?r:i(e)):n},a}function r(e){return n.parse(e.responseText)}function i(e){return function(t){return n.parse(t.responseText,e)}}function o(t){return t.map(a).join(e)}function a(e){return s.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var s=new RegExp('["'+e+"\n]"),l=e.charCodeAt(0);return n.parse=function(e,t){var r;return n.parseRows(e,(function(e,n){if(r)return r(e,n-1);var i=new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+"]"})).join(",")+"}");r=t?function(e,n){return t(i(e),n)}:i}))},n.parseRows=function(e,t){function n(){if(u>=c)return a;if(i)return i=!1,o;var t=u;if(34===e.charCodeAt(t)){for(var n=t;n++<c;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}return u=n+2,13===(r=e.charCodeAt(n+1))?(i=!0,10===e.charCodeAt(n+2)&&++u):10===r&&(i=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;c>u;){var r,s=1;if(10===(r=e.charCodeAt(u++)))i=!0;else if(13===r)i=!0,10===e.charCodeAt(u)&&(++u,++s);else if(r!==l)continue;return e.slice(t,u-s)}return e.slice(t)}for(var r,i,o={},a={},s=[],c=e.length,u=0,d=0;(r=n())!==a;){for(var f=[];r!==o&&r!==a;)f.push(r),r=n();t&&null==(f=t(f,d++))||s.push(f)}return s},n.format=function(t){if(Array.isArray(t[0]))return n.formatRows(t);var r=new S,i=[];return t.forEach((function(e){for(var t in e)r.has(t)||i.push(r.add(t))})),[i.map(a).join(e)].concat(t.map((function(t){return i.map((function(e){return a(t[e])})).join(e)}))).join("\n")},n.formatRows=function(e){return e.map(o).join("\n")},n},co.csv=co.dsv(",","text/csv"),co.tsv=co.dsv("\t","text/tab-separated-values");var ra,ia,oa,aa,sa,la=this[E(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};co.timer=function(e,t,n){var r=arguments.length;2>r&&(t=0),3>r&&(n=Date.now());var i=n+t,o={c:e,t:i,f:!1,n:null};ia?ia.n=o:ra=o,ia=o,oa||(aa=clearTimeout(aa),oa=1,la(je))},co.timer.flush=function(){Ne(),De()},co.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var ca=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map((function(e,t){var n=Math.pow(10,3*wo(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}));co.formatPrefix=function(e,t){var n=0;return e&&(0>e&&(e*=-1),t&&(e=co.round(e,Re(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),ca[8+n/3]};var ua=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,da=co.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=co.round(e,Re(e,t))).toFixed(Math.max(0,Math.min(20,Re(e*(1+1e-15),t))))}}),fa=co.time={},ha=Date;Le.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){pa.setUTCDate.apply(this._,arguments)},setDay:function(){pa.setUTCDay.apply(this._,arguments)},setFullYear:function(){pa.setUTCFullYear.apply(this._,arguments)},setHours:function(){pa.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){pa.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){pa.setUTCMinutes.apply(this._,arguments)},setMonth:function(){pa.setUTCMonth.apply(this._,arguments)},setSeconds:function(){pa.setUTCSeconds.apply(this._,arguments)},setTime:function(){pa.setTime.apply(this._,arguments)}};var pa=Date.prototype;fa.year=Be((function(e){return(e=fa.day(e)).setMonth(0,1),e}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e){return e.getFullYear()})),fa.years=fa.year.range,fa.years.utc=fa.year.utc.range,fa.day=Be((function(e){var t=new ha(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e){return e.getDate()-1})),fa.days=fa.day.range,fa.days.utc=fa.day.utc.range,fa.dayOfYear=function(e){var t=fa.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach((function(e,t){t=7-t;var n=fa[e]=Be((function(e){return(e=fa.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e}),(function(e,t){e.setDate(e.getDate()+7*Math.floor(t))}),(function(e){var n=fa.year(e).getDay();return Math.floor((fa.dayOfYear(e)+(n+t)%7)/7)-(n!==t)}));fa[e+"s"]=n.range,fa[e+"s"].utc=n.utc.range,fa[e+"OfYear"]=function(e){var n=fa.year(e).getDay();return Math.floor((fa.dayOfYear(e)+(n+t)%7)/7)}})),fa.week=fa.sunday,fa.weeks=fa.sunday.range,fa.weeks.utc=fa.sunday.utc.range,fa.weekOfYear=fa.sundayOfYear;var ma={"-":"",_:" ",0:"0"},ga=/^\s*\d+/,va=/^%/;co.locale=function(e){return{numberFormat:Fe(e),timeFormat:ze(e)}};var ya=co.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});co.format=ya.numberFormat,co.geo={},st.prototype={s:0,t:0,add:function(e){lt(e,this.t,ba),lt(ba.s,this.s,this),this.s?this.t+=ba.t:this.s=ba.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ba=new st;co.geo.stream=function(e,t){e&&wa.hasOwnProperty(e.type)?wa[e.type](e,t):ct(e,t)};var wa={Feature:function(e,t){ct(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)ct(n[r].geometry,t)}},_a={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){ut(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)ut(n[r],t,0)},Polygon:function(e,t){dt(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)dt(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)ct(n[r],t)}};co.geo.area=function(e){return Sa=0,co.geo.stream(e,xa),Sa};var Sa,Ca=new st,xa={sphere:function(){Sa+=4*Lo},point:P,lineStart:P,lineEnd:P,polygonStart:function(){Ca.reset(),xa.lineStart=ft},polygonEnd:function(){var e=2*Ca;Sa+=0>e?4*Lo+e:e,xa.lineStart=xa.lineEnd=xa.point=P}};co.geo.bounds=function(){function e(e,t){b.push(w=[u=e,f=e]),d>t&&(d=t),t>h&&(h=t)}function t(t,n){var r=ht([t*Ho,n*Ho]);if(v){var i=mt(v,r),o=mt([i[1],-i[0],0],i);yt(o),o=bt(o);var a=t-p,l=a>0?1:-1,c=o[0]*Wo*l,m=wo(a)>180;if(m^(c>l*p&&l*t>c))(g=o[1]*Wo)>h&&(h=g);else if(m^((c=(c+360)%360-180)>l*p&&l*t>c)){var g=-o[1]*Wo;d>g&&(d=g)}else d>n&&(d=n),n>h&&(h=n);m?p>t?s(u,t)>s(u,f)&&(f=t):s(t,f)>s(u,f)&&(u=t):f>=u?(u>t&&(u=t),t>f&&(f=t)):t>p?s(u,t)>s(u,f)&&(f=t):s(t,f)>s(u,f)&&(u=t)}else e(t,n);v=r,p=t}function n(){_.point=t}function r(){w[0]=u,w[1]=f,_.point=e,v=null}function i(e,n){if(v){var r=e-p;y+=wo(r)>180?r+(r>0?360:-360):r}else m=e,g=n;xa.point(e,n),t(e,n)}function o(){xa.lineStart()}function a(){i(m,g),xa.lineEnd(),wo(y)>Fo&&(u=-(f=180)),w[0]=u,w[1]=f,v=null}function s(e,t){return(t-=e)<0?t+360:t}function l(e,t){return e[0]-t[0]}function c(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var u,d,f,h,p,m,g,v,y,b,w,_={point:e,lineStart:n,lineEnd:r,polygonStart:function(){_.point=i,_.lineStart=o,_.lineEnd=a,y=0,xa.polygonStart()},polygonEnd:function(){xa.polygonEnd(),_.point=e,_.lineStart=n,_.lineEnd=r,0>Ca?(u=-(f=180),d=-(h=90)):y>Fo?h=90:-Fo>y&&(d=-90),w[0]=u,w[1]=f}};return function(e){if(h=f=-(u=d=1/0),b=[],co.geo.stream(e,_),o=b.length){b.sort(l);for(var t=1,n=[p=b[0]];o>t;++t)c((i=b[t])[0],p)||c(i[1],p)?(s(p[0],i[1])>s(p[0],p[1])&&(p[1]=i[1]),s(i[0],p[1])>s(p[0],p[1])&&(p[0]=i[0])):n.push(p=i);for(var r,i,o,a=-1/0,p=(t=0,n[o=n.length-1]);o>=t;p=i,++t)i=n[t],(r=s(p[1],i[0]))>a&&(a=r,u=i[0],f=p[1])}return b=w=null,1/0===u||1/0===d?[[NaN,NaN],[NaN,NaN]]:[[u,d],[f,h]]}}(),co.geo.centroid=function(e){Ea=Pa=ka=Ta=Aa=Oa=Ia=ja=Na=Da=Ra=0,co.geo.stream(e,Fa);var t=Na,n=Da,r=Ra,i=t*t+n*n+r*r;return Mo>i&&(t=Oa,n=Ia,r=ja,Fo>Pa&&(t=ka,n=Ta,r=Aa),Mo>(i=t*t+n*n+r*r))?[NaN,NaN]:[Math.atan2(n,t)*Wo,ae(r/Math.sqrt(i))*Wo]};var Ea,Pa,ka,Ta,Aa,Oa,Ia,ja,Na,Da,Ra,Fa={sphere:P,point:_t,lineStart:Ct,lineEnd:xt,polygonStart:function(){Fa.lineStart=Et},polygonEnd:function(){Fa.lineStart=Ct}},Ma=It(kt,(function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var s=o>0?Lo:-Lo,l=wo(o-n);wo(l-Lo)<Fo?(e.point(n,r=(r+a)/2>0?zo:-zo),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(o,r),t=0):i!==s&&l>=Lo&&(wo(n-i)<Fo&&(n-=i*Fo),wo(o-s)<Fo&&(o-=s*Fo),r=function(e,t,n,r){var i,o,a=Math.sin(e-n);return wo(a)>Fo?Math.atan((Math.sin(t)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(t))*Math.sin(e))/(i*o*a)):(t+r)/2}(n,r,o,a),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=o,r=a),i=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var i;if(null==e)i=n*zo,r.point(-Lo,i),r.point(0,i),r.point(Lo,i),r.point(Lo,0),r.point(Lo,-i),r.point(0,-i),r.point(-Lo,-i),r.point(-Lo,0),r.point(-Lo,i);else if(wo(e[0]-t[0])>Fo){var o=e[0]<t[0]?Lo:-Lo;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}),[-Lo,-Lo/2]),La=1e9;co.geo.clipExtent=function(){var e,t,n,r,i,o,a={stream:function(e){return i&&(i.valid=!1),(i=o(e)).valid=!0,i},extent:function(s){return arguments.length?(o=Mt(e=+s[0][0],t=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),a):[[e,t],[n,r]]}};return a.extent([[0,0],[960,500]])},(co.geo.conicEqualArea=function(){return Lt(Bt)}).raw=Bt,co.geo.albers=function(){return co.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},co.geo.albersUsa=function(){function e(e){var o=e[0],a=e[1];return t=null,n(o,a),t||(r(o,a),t)||i(o,a),t}var t,n,r,i,o=co.geo.albers(),a=co.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=co.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(e,n){t=[e,n]}};return e.invert=function(e){var t=o.scale(),n=o.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&.234>i&&r>=-.425&&-.214>r?a:i>=.166&&.234>i&&r>=-.214&&-.115>r?s:o).invert(e)},e.stream=function(e){var t=o.stream(e),n=a.stream(e),r=s.stream(e);return{point:function(e,i){t.point(e,i),n.point(e,i),r.point(e,i)},sphere:function(){t.sphere(),n.sphere(),r.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},e.precision=function(t){return arguments.length?(o.precision(t),a.precision(t),s.precision(t),e):o.precision()},e.scale=function(t){return arguments.length?(o.scale(t),a.scale(.35*t),s.scale(t),e.translate(o.translate())):o.scale()},e.translate=function(t){if(!arguments.length)return o.translate();var c=o.scale(),u=+t[0],d=+t[1];return n=o.translate(t).clipExtent([[u-.455*c,d-.238*c],[u+.455*c,d+.238*c]]).stream(l).point,r=a.translate([u-.307*c,d+.201*c]).clipExtent([[u-.425*c+Fo,d+.12*c+Fo],[u-.214*c-Fo,d+.234*c-Fo]]).stream(l).point,i=s.translate([u-.205*c,d+.212*c]).clipExtent([[u-.214*c+Fo,d+.166*c+Fo],[u-.115*c-Fo,d+.234*c-Fo]]).stream(l).point,e},e.scale(1070)};var Ba,Ua,za,Ha,Wa,qa,Va={point:P,lineStart:P,lineEnd:P,polygonStart:function(){Ua=0,Va.lineStart=Ut},polygonEnd:function(){Va.lineStart=Va.lineEnd=Va.point=P,Ba+=wo(Ua/2)}},$a={point:function(e,t){za>e&&(za=e),e>Wa&&(Wa=e),Ha>t&&(Ha=t),t>qa&&(qa=t)},lineStart:P,lineEnd:P,polygonStart:P,polygonEnd:P},Ya={point:Wt,lineStart:qt,lineEnd:Vt,polygonStart:function(){Ya.lineStart=$t},polygonEnd:function(){Ya.point=Wt,Ya.lineStart=qt,Ya.lineEnd=Vt}};co.geo.path=function(){function e(e){return e&&("function"==typeof s&&o.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=i(o)),co.geo.stream(e,a)),o.result()}function t(){return a=null,e}var n,r,i,o,a,s=4.5;return e.area=function(e){return Ba=0,co.geo.stream(e,i(Va)),Ba},e.centroid=function(e){return ka=Ta=Aa=Oa=Ia=ja=Na=Da=Ra=0,co.geo.stream(e,i(Ya)),Ra?[Na/Ra,Da/Ra]:ja?[Oa/ja,Ia/ja]:Aa?[ka/Aa,Ta/Aa]:[NaN,NaN]},e.bounds=function(e){return Wa=qa=-(za=Ha=1/0),co.geo.stream(e,i($a)),[[za,Ha],[Wa,qa]]},e.projection=function(e){return arguments.length?(i=(n=e)?e.stream||Kt(e):C,t()):n},e.context=function(e){return arguments.length?(o=null==(r=e)?new zt:new Yt(e),"function"!=typeof s&&o.pointRadius(s),t()):r},e.pointRadius=function(t){return arguments.length?(s="function"==typeof t?t:(o.pointRadius(+t),+t),e):s},e.projection(co.geo.albersUsa()).context(null)},co.geo.transform=function(e){return{stream:function(t){var n=new Qt(t);for(var r in e)n[r]=e[r];return n}}},Qt.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},co.geo.projection=Jt,co.geo.projectionMutator=Zt,(co.geo.equirectangular=function(){return Jt(tn)}).raw=tn.invert=tn,co.geo.rotation=function(e){function t(t){return(t=e(t[0]*Ho,t[1]*Ho))[0]*=Wo,t[1]*=Wo,t}return e=rn(e[0]%360*Ho,e[1]*Ho,e.length>2?e[2]*Ho:0),t.invert=function(t){return(t=e.invert(t[0]*Ho,t[1]*Ho))[0]*=Wo,t[1]*=Wo,t},t},nn.invert=tn,co.geo.circle=function(){function e(){var e="function"==typeof r?r.apply(this,arguments):r,t=rn(-e[0]*Ho,-e[1]*Ho,0).invert,i=[];return n(null,null,1,{point:function(e,n){i.push(e=t(e,n)),e[0]*=Wo,e[1]*=Wo}}),{type:"Polygon",coordinates:[i]}}var t,n,r=[0,0],i=6;return e.origin=function(t){return arguments.length?(r=t,e):r},e.angle=function(r){return arguments.length?(n=ln((t=+r)*Ho,i*Ho),e):t},e.precision=function(r){return arguments.length?(n=ln(t*Ho,(i=+r)*Ho),e):i},e.angle(90)},co.geo.distance=function(e,t){var n,r=(t[0]-e[0])*Ho,i=e[1]*Ho,o=t[1]*Ho,a=Math.sin(r),s=Math.cos(r),l=Math.sin(i),c=Math.cos(i),u=Math.sin(o),d=Math.cos(o);return Math.atan2(Math.sqrt((n=d*a)*n+(n=c*u-l*d*s)*n),l*u+c*d*s)},co.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return co.range(Math.ceil(o/g)*g,i,g).map(f).concat(co.range(Math.ceil(c/v)*v,l,v).map(h)).concat(co.range(Math.ceil(r/p)*p,n,p).filter((function(e){return wo(e%g)>Fo})).map(u)).concat(co.range(Math.ceil(s/m)*m,a,m).filter((function(e){return wo(e%v)>Fo})).map(d))}var n,r,i,o,a,s,l,c,u,d,f,h,p=10,m=p,g=90,v=360,y=2.5;return e.lines=function(){return t().map((function(e){return{type:"LineString",coordinates:e}}))},e.outline=function(){return{type:"Polygon",coordinates:[f(o).concat(h(l).slice(1),f(i).reverse().slice(1),h(c).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(o=+t[0][0],i=+t[1][0],c=+t[0][1],l=+t[1][1],o>i&&(t=o,o=i,i=t),c>l&&(t=c,c=l,l=t),e.precision(y)):[[o,c],[i,l]]},e.minorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),s>a&&(t=s,s=a,a=t),e.precision(y)):[[r,s],[n,a]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(g=+t[0],v=+t[1],e):[g,v]},e.minorStep=function(t){return arguments.length?(p=+t[0],m=+t[1],e):[p,m]},e.precision=function(t){return arguments.length?(y=+t,u=un(s,a,90),d=dn(r,n,y),f=un(c,l,90),h=dn(o,i,y),e):y},e.majorExtent([[-180,-90+Fo],[180,90-Fo]]).minorExtent([[-180,-80-Fo],[180,80+Fo]])},co.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),n||i.apply(this,arguments)]}}var t,n,r=fn,i=hn;return e.distance=function(){return co.geo.distance(t||r.apply(this,arguments),n||i.apply(this,arguments))},e.source=function(n){return arguments.length?(r=n,t="function"==typeof n?null:n,e):r},e.target=function(t){return arguments.length?(i=t,n="function"==typeof t?null:t,e):i},e.precision=function(){return arguments.length?e:0},e},co.geo.interpolate=function(e,t){return function(e,t,n,r){var i=Math.cos(t),o=Math.sin(t),a=Math.cos(r),s=Math.sin(r),l=i*Math.cos(e),c=i*Math.sin(e),u=a*Math.cos(n),d=a*Math.sin(n),f=2*Math.asin(Math.sqrt(le(r-t)+i*a*le(n-e))),h=1/Math.sin(f),p=f?function(e){var t=Math.sin(e*=f)*h,n=Math.sin(f-e)*h,r=n*l+t*u,i=n*c+t*d,a=n*o+t*s;return[Math.atan2(i,r)*Wo,Math.atan2(a,Math.sqrt(r*r+i*i))*Wo]}:function(){return[e*Wo,t*Wo]};return p.distance=f,p}(e[0]*Ho,e[1]*Ho,t[0]*Ho,t[1]*Ho)},co.geo.length=function(e){return Ga=0,co.geo.stream(e,Ka),Ga};var Ga,Ka={sphere:P,point:P,lineStart:function(){function e(e,i){var o=Math.sin(i*=Ho),a=Math.cos(i),s=wo((e*=Ho)-t),l=Math.cos(s);Ga+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=r*o-n*a*l)*s),n*o+r*a*l),t=e,n=o,r=a}var t,n,r;Ka.point=function(i,o){t=i*Ho,n=Math.sin(o*=Ho),r=Math.cos(o),Ka.point=e},Ka.lineEnd=function(){Ka.point=Ka.lineEnd=P}},lineEnd:P,polygonStart:P,polygonEnd:P},Qa=pn((function(e){return Math.sqrt(2/(1+e))}),(function(e){return 2*Math.asin(e/2)}));(co.geo.azimuthalEqualArea=function(){return Jt(Qa)}).raw=Qa;var Xa=pn((function(e){var t=Math.acos(e);return t&&t/Math.sin(t)}),C);(co.geo.azimuthalEquidistant=function(){return Jt(Xa)}).raw=Xa,(co.geo.conicConformal=function(){return Lt(mn)}).raw=mn,(co.geo.conicEquidistant=function(){return Lt(gn)}).raw=gn;var Ja=pn((function(e){return 1/e}),Math.atan);(co.geo.gnomonic=function(){return Jt(Ja)}).raw=Ja,vn.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-zo]},(co.geo.mercator=function(){return yn(vn)}).raw=vn;var Za=pn((function(){return 1}),Math.asin);(co.geo.orthographic=function(){return Jt(Za)}).raw=Za;var es=pn((function(e){return 1/(1+e)}),(function(e){return 2*Math.atan(e)}));(co.geo.stereographic=function(){return Jt(es)}).raw=es,bn.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-zo]},(co.geo.transverseMercator=function(){var e=yn(bn),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90])}).raw=bn,co.geom={},co.geom.hull=function(e){function t(e){if(e.length<3)return[];var t,i=Ae(n),o=Ae(r),a=e.length,s=[],l=[];for(t=0;a>t;t++)s.push([+i.call(this,e[t],t),+o.call(this,e[t],t),t]);for(s.sort(Cn),t=0;a>t;t++)l.push([s[t][0],-s[t][1]]);var c=Sn(s),u=Sn(l),d=u[0]===c[0],f=u[u.length-1]===c[c.length-1],h=[];for(t=c.length-1;t>=0;--t)h.push(e[s[c[t]][2]]);for(t=+d;t<u.length-f;++t)h.push(e[s[u[t]][2]]);return h}var n=wn,r=_n;return arguments.length?t(e):(t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t)},co.geom.polygon=function(e){return Eo(e,ts),e};var ts=co.geom.polygon.prototype=[];ts.area=function(){for(var e,t=-1,n=this.length,r=this[n-1],i=0;++t<n;)e=r,r=this[t],i+=e[1]*r[0]-e[0]*r[1];return.5*i},ts.centroid=function(e){var t,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(e=-1/(6*this.area()));++r<i;)t=s,s=this[r],n=t[0]*s[1]-s[0]*t[1],o+=(t[0]+s[0])*n,a+=(t[1]+s[1])*n;return[o*e,a*e]},ts.clip=function(e){for(var t,n,r,i,o,a,s=Pn(e),l=-1,c=this.length-Pn(this),u=this[c-1];++l<c;){for(t=e.slice(),e.length=0,i=this[l],o=t[(r=t.length-s)-1],n=-1;++n<r;)xn(a=t[n],u,i)?(xn(o,u,i)||e.push(En(o,a,u,i)),e.push(a)):xn(o,u,i)&&e.push(En(o,a,u,i)),o=a;s&&e.push(e[0]),u=i}return e};var ns,rs,is,os,as,ss=[],ls=[];Dn.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)(e=t[n].edge).b&&e.a||t.splice(n,1);return t.sort(Rn),t.length},qn.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Vn.prototype={insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=Kn(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(Yn(this,n),n=(e=n).U),n.C=!1,r.C=!0,Gn(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(Gn(this,n),n=(e=n).U),n.C=!1,r.C=!0,Yn(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,o=e.L,a=e.R;if(n=o?a?Kn(a):o:a,i?i.L===e?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=e.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=a,a.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===i.L){if((t=i.R).C&&(t.C=!1,i.C=!0,Yn(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,Gn(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,Yn(this,i),e=this._;break}}else if((t=i.L).C&&(t.C=!1,i.C=!0,Gn(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,Yn(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,Gn(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}},co.geom.voronoi=function(e){function t(e){var t=new Array(e.length),r=s[0][0],i=s[0][1],o=s[1][0],a=s[1][1];return Qn(n(e),s).cells.forEach((function(n,s){var l=n.edges,c=n.site;(t[s]=l.length?l.map((function(e){var t=e.start();return[t.x,t.y]})):c.x>=r&&c.x<=o&&c.y>=i&&c.y<=a?[[r,a],[o,a],[o,i],[r,i]]:[]).point=e[s]})),t}function n(e){return e.map((function(e,t){return{x:Math.round(o(e,t)/Fo)*Fo,y:Math.round(a(e,t)/Fo)*Fo,i:t}}))}var r=wn,i=_n,o=r,a=i,s=cs;return e?t(e):(t.links=function(e){return Qn(n(e)).edges.filter((function(e){return e.l&&e.r})).map((function(t){return{source:e[t.l.i],target:e[t.r.i]}}))},t.triangles=function(e){var t=[];return Qn(n(e)).cells.forEach((function(n,r){for(var i,o=n.site,a=n.edges.sort(Rn),s=-1,l=a.length,c=a[l-1].edge,u=c.l===o?c.r:c.l;++s<l;)c,i=u,u=(c=a[s].edge).l===o?c.r:c.l,r<i.i&&r<u.i&&Jn(o,i,u)<0&&t.push([e[r],e[i.i],e[u.i]])})),t},t.x=function(e){return arguments.length?(o=Ae(r=e),t):r},t.y=function(e){return arguments.length?(a=Ae(i=e),t):i},t.clipExtent=function(e){return arguments.length?(s=null==e?cs:e,t):s===cs?null:s},t.size=function(e){return arguments.length?t.clipExtent(e&&[[0,0],e]):s===cs?null:s&&s[1]},t)};var cs=[[-1e6,-1e6],[1e6,1e6]];co.geom.delaunay=function(e){return co.geom.voronoi().triangles(e)},co.geom.quadtree=function(e,t,n,r,i){function o(e){function o(e,t,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(e.leaf){var l=e.x,u=e.y;if(null!=l)if(wo(l-n)+wo(u-r)<.01)c(e,t,n,r,i,o,a,s);else{var d=e.point;e.x=e.y=e.point=null,c(e,d,l,u,i,o,a,s),c(e,t,n,r,i,o,a,s)}else e.x=n,e.y=r,e.point=t}else c(e,t,n,r,i,o,a,s)}function c(e,t,n,r,i,a,s,l){var c=.5*(i+s),u=.5*(a+l),d=n>=c,f=r>=u,h=f<<1|d;e.leaf=!1,d?i=c:s=c,f?a=u:l=u,o(e=e.nodes[h]||(e.nodes[h]={leaf:!0,nodes:[],point:null,x:null,y:null}),t,n,r,i,a,s,l)}var u,d,f,h,p,m,g,v,y,b=Ae(s),w=Ae(l);if(null!=t)m=t,g=n,v=r,y=i;else if(v=y=-(m=g=1/0),d=[],f=[],p=e.length,a)for(h=0;p>h;++h)(u=e[h]).x<m&&(m=u.x),u.y<g&&(g=u.y),u.x>v&&(v=u.x),u.y>y&&(y=u.y),d.push(u.x),f.push(u.y);else for(h=0;p>h;++h){var _=+b(u=e[h],h),S=+w(u,h);m>_&&(m=_),g>S&&(g=S),_>v&&(v=_),S>y&&(y=S),d.push(_),f.push(S)}var C=v-m,x=y-g;C>x?y=g+C:v=m+x;var E={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(e){o(E,e,+b(e,++h),+w(e,h),m,g,v,y)},visit:function(e){tr(e,E,m,g,v,y)},find:function(e){return nr(E,e[0],e[1],m,g,v,y)}};if(h=-1,null==t){for(;++h<p;)o(E,e[h],d[h],f[h],m,g,v,y);--h}else e.forEach(E.add);return d=f=e=u=null,E}var a,s=wn,l=_n;return(a=arguments.length)?(s=Zn,l=er,3===a&&(i=n,r=t,n=t=0),o(e)):(o.x=function(e){return arguments.length?(s=e,o):s},o.y=function(e){return arguments.length?(l=e,o):l},o.extent=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),o):null==t?null:[[t,n],[r,i]]},o.size=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=n=0,r=+e[0],i=+e[1]),o):null==t?null:[r-t,i-n]},o)},co.interpolateRgb=rr,co.interpolateObject=ir,co.interpolateNumber=or,co.interpolateString=ar;var us=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ds=new RegExp(us.source,"g");co.interpolate=sr,co.interpolators=[function(e,t){var n=typeof t;return("string"===n?na.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?rr:ar:t instanceof ce?rr:Array.isArray(t)?lr:"object"===n&&isNaN(t)?ir:or)(e,t)}],co.interpolateArray=lr;var fs=function(){return C},hs=co.map({linear:fs,poly:function(e){return function(t){return Math.pow(t,e)}},quad:function(){return fr},cubic:function(){return hr},sin:function(){return mr},exp:function(){return gr},circle:function(){return vr},elastic:function(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/Bo*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*Bo/t)}},back:function(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}},bounce:function(){return yr}}),ps=co.map({in:C,out:ur,"in-out":dr,"out-in":function(e){return dr(ur(e))}});co.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.slice(0,t):e,r=t>=0?e.slice(t+1):"in";return n=hs.get(n)||fs,cr((r=ps.get(r)||C)(n.apply(null,uo.call(arguments,1))))},co.interpolateHcl=function(e,t){e=co.hcl(e),t=co.hcl(t);var n=e.h,r=e.c,i=e.l,o=t.h-n,a=t.c-r,s=t.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?t.c:r),isNaN(o)?(o=0,n=isNaN(n)?t.h:n):o>180?o-=360:-180>o&&(o+=360),function(e){return he(n+o*e,r+a*e,i+s*e)+""}},co.interpolateHsl=function(e,t){e=co.hsl(e),t=co.hsl(t);var n=e.h,r=e.s,i=e.l,o=t.h-n,a=t.s-r,s=t.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?t.s:r),isNaN(o)?(o=0,n=isNaN(n)?t.h:n):o>180?o-=360:-180>o&&(o+=360),function(e){return de(n+o*e,r+a*e,i+s*e)+""}},co.interpolateLab=function(e,t){e=co.lab(e),t=co.lab(t);var n=e.l,r=e.a,i=e.b,o=t.l-n,a=t.a-r,s=t.b-i;return function(e){return me(n+o*e,r+a*e,i+s*e)+""}},co.interpolateRound=br,co.transform=function(e){var t=ho.createElementNS(co.ns.prefix.svg,"g");return(co.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new wr(n?n.matrix:ms)})(e)},wr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ms={a:1,b:0,c:0,d:1,e:0,f:0};co.interpolateTransform=Cr,co.layout={},co.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(Pr(e[n]));return t}},co.layout.chord=function(){function e(){var e,c,d,f,h,p={},m=[],g=co.range(o),v=[];for(n=[],r=[],e=0,f=-1;++f<o;){for(c=0,h=-1;++h<o;)c+=i[f][h];m.push(c),v.push(co.range(o)),e+=c}for(a&&g.sort((function(e,t){return a(m[e],m[t])})),s&&v.forEach((function(e,t){e.sort((function(e,n){return s(i[t][e],i[t][n])}))})),e=(Bo-u*o)/e,c=0,f=-1;++f<o;){for(d=c,h=-1;++h<o;){var y=g[f],b=v[y][h],w=i[y][b],_=c,S=c+=w*e;p[y+"-"+b]={index:y,subindex:b,startAngle:_,endAngle:S,value:w}}r[y]={index:y,startAngle:d,endAngle:c,value:(c-d)/e},c+=u}for(f=-1;++f<o;)for(h=f-1;++h<o;){var C=p[f+"-"+h],x=p[h+"-"+f];(C.value||x.value)&&n.push(C.value<x.value?{source:x,target:C}:{source:C,target:x})}l&&t()}function t(){n.sort((function(e,t){return l((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)}))}var n,r,i,o,a,s,l,c={},u=0;return c.matrix=function(e){return arguments.length?(o=(i=e)&&i.length,n=r=null,c):i},c.padding=function(e){return arguments.length?(u=e,n=r=null,c):u},c.sortGroups=function(e){return arguments.length?(a=e,n=r=null,c):a},c.sortSubgroups=function(e){return arguments.length?(s=e,n=null,c):s},c.sortChords=function(e){return arguments.length?(l=e,n&&t(),c):l},c.chords=function(){return n||e(),n},c.groups=function(){return r||e(),r},c},co.layout.force=function(){function e(e){return function(t,n,r,i){if(t.point!==e){var o=t.cx-e.x,a=t.cy-e.y,s=i-n,l=o*o+a*a;if(l>s*s/g){if(p>l){var c=t.charge/l;e.px-=o*c,e.py-=a*c}return!0}if(t.point&&l&&p>l){c=t.pointCharge/l;e.px-=o*c,e.py-=a*c}}return!t.charge}}function t(e){e.px=co.event.x,e.py=co.event.y,s.resume()}var n,r,i,o,a,s={},l=co.dispatch("start","tick","end"),c=[1,1],u=.9,d=gs,f=vs,h=-30,p=ys,m=.1,g=.64,v=[],y=[];return s.tick=function(){if((r*=.99)<.005)return l.end({type:"end",alpha:r=0}),!0;var t,n,s,d,f,p,g,b,w,_=v.length,S=y.length;for(n=0;S>n;++n)d=(s=y[n]).source,(p=(b=(f=s.target).x-d.x)*b+(w=f.y-d.y)*w)&&(b*=p=r*o[n]*((p=Math.sqrt(p))-i[n])/p,w*=p,f.x-=b*(g=d.weight/(f.weight+d.weight)),f.y-=w*g,d.x+=b*(g=1-g),d.y+=w*g);if((g=r*m)&&(b=c[0]/2,w=c[1]/2,n=-1,g))for(;++n<_;)(s=v[n]).x+=(b-s.x)*g,s.y+=(w-s.y)*g;if(h)for(function e(t,n,r){var i=0,o=0;if(t.charge=0,!t.leaf)for(var a,s=t.nodes,l=s.length,c=-1;++c<l;)null!=(a=s[c])&&(e(a,n,r),t.charge+=a.charge,i+=a.charge*a.cx,o+=a.charge*a.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var u=n*r[t.point.index];t.charge+=t.pointCharge=u,i+=u*t.point.x,o+=u*t.point.y}t.cx=i/t.charge,t.cy=o/t.charge}(t=co.geom.quadtree(v),r,a),n=-1;++n<_;)(s=v[n]).fixed||t.visit(e(s));for(n=-1;++n<_;)(s=v[n]).fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*u,s.y-=(s.py-(s.py=s.y))*u);l.tick({type:"tick",alpha:r})},s.nodes=function(e){return arguments.length?(v=e,s):v},s.links=function(e){return arguments.length?(y=e,s):y},s.size=function(e){return arguments.length?(c=e,s):c},s.linkDistance=function(e){return arguments.length?(d="function"==typeof e?e:+e,s):d},s.distance=s.linkDistance,s.linkStrength=function(e){return arguments.length?(f="function"==typeof e?e:+e,s):f},s.friction=function(e){return arguments.length?(u=+e,s):u},s.charge=function(e){return arguments.length?(h="function"==typeof e?e:+e,s):h},s.chargeDistance=function(e){return arguments.length?(p=e*e,s):Math.sqrt(p)},s.gravity=function(e){return arguments.length?(m=+e,s):m},s.theta=function(e){return arguments.length?(g=e*e,s):Math.sqrt(g)},s.alpha=function(e){return arguments.length?(e=+e,r?r=e>0?e:0:e>0&&(l.start({type:"start",alpha:r=e}),co.timer(s.tick)),s):r},s.start=function(){function e(e,r){if(!n){for(n=new Array(l),s=0;l>s;++s)n[s]=[];for(s=0;u>s;++s){var i=y[s];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var o,a=n[t],s=-1,c=a.length;++s<c;)if(!isNaN(o=a[s][e]))return o;return Math.random()*r}var t,n,r,l=v.length,u=y.length,p=c[0],m=c[1];for(t=0;l>t;++t)(r=v[t]).index=t,r.weight=0;for(t=0;u>t;++t)"number"==typeof(r=y[t]).source&&(r.source=v[r.source]),"number"==typeof r.target&&(r.target=v[r.target]),++r.source.weight,++r.target.weight;for(t=0;l>t;++t)r=v[t],isNaN(r.x)&&(r.x=e("x",p)),isNaN(r.y)&&(r.y=e("y",m)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof d)for(t=0;u>t;++t)i[t]=+d.call(this,y[t],t);else for(t=0;u>t;++t)i[t]=d;if(o=[],"function"==typeof f)for(t=0;u>t;++t)o[t]=+f.call(this,y[t],t);else for(t=0;u>t;++t)o[t]=f;if(a=[],"function"==typeof h)for(t=0;l>t;++t)a[t]=+h.call(this,v[t],t);else for(t=0;l>t;++t)a[t]=h;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return n||(n=co.behavior.drag().origin(C).on("dragstart.force",Tr).on("drag.force",t).on("dragend.force",Ar)),arguments.length?void this.on("mouseover.force",Or).on("mouseout.force",Ir).call(n):n},co.rebind(s,l,"on")};var gs=20,vs=1,ys=1/0;co.layout.hierarchy=function(){function e(i){var o,a=[i],s=[];for(i.depth=0;null!=(o=a.pop());)if(s.push(o),(c=n.call(e,o,o.depth))&&(l=c.length)){for(var l,c,u;--l>=0;)a.push(u=c[l]),u.parent=o,u.depth=o.depth+1;r&&(o.value=0),o.children=c}else r&&(o.value=+r.call(e,o,o.depth)||0),delete o.children;return Dr(i,(function(e){var n,i;t&&(n=e.children)&&n.sort(t),r&&(i=e.parent)&&(i.value+=e.value)})),s}var t=Mr,n=Rr,r=Fr;return e.sort=function(n){return arguments.length?(t=n,e):t},e.children=function(t){return arguments.length?(n=t,e):n},e.value=function(t){return arguments.length?(r=t,e):r},e.revalue=function(t){return r&&(Nr(t,(function(e){e.children&&(e.value=0)})),Dr(t,(function(t){var n;t.children||(t.value=+r.call(e,t,t.depth)||0),(n=t.parent)&&(n.value+=t.value)}))),t},e},co.layout.partition=function(){function e(e,r){var i=t.call(this,e,r);return function e(t,n,r,i){var o=t.children;if(t.x=n,t.y=t.depth*i,t.dx=r,t.dy=i,o&&(a=o.length)){var a,s,l,c=-1;for(r=t.value?r/t.value:0;++c<a;)e(s=o[c],n,l=s.value*r,i),n+=l}}(i[0],0,n[0],n[1]/function e(t){var n=t.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,e(n[o]));return 1+r}(i[0])),i}var t=co.layout.hierarchy(),n=[1,1];return e.size=function(t){return arguments.length?(n=t,e):n},jr(e,t)},co.layout.pie=function(){function e(a){var s,l=a.length,c=a.map((function(n,r){return+t.call(e,n,r)})),u=+("function"==typeof r?r.apply(this,arguments):r),d=("function"==typeof i?i.apply(this,arguments):i)-u,f=Math.min(Math.abs(d)/l,+("function"==typeof o?o.apply(this,arguments):o)),h=f*(0>d?-1:1),p=(d-l*h)/co.sum(c),m=co.range(l),g=[];return null!=n&&m.sort(n===bs?function(e,t){return c[t]-c[e]}:function(e,t){return n(a[e],a[t])}),m.forEach((function(e){g[e]={data:a[e],value:s=c[e],startAngle:u,endAngle:u+=s*p+h,padAngle:f}})),g}var t=Number,n=bs,r=0,i=Bo,o=0;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(r=t,e):r},e.endAngle=function(t){return arguments.length?(i=t,e):i},e.padAngle=function(t){return arguments.length?(o=t,e):o},e};var bs={};co.layout.stack=function(){function e(s,l){if(!(f=s.length))return s;var c=s.map((function(n,r){return t.call(e,n,r)})),u=c.map((function(t){return t.map((function(t,n){return[o.call(e,t,n),a.call(e,t,n)]}))})),d=n.call(e,u,l);c=co.permute(c,d),u=co.permute(u,d);var f,h,p,m,g=r.call(e,u,l),v=c[0].length;for(p=0;v>p;++p)for(i.call(e,c[0][p],m=g[p],u[0][p][1]),h=1;f>h;++h)i.call(e,c[h][p],m+=u[h-1][p][1],u[h][p][1]);return s}var t=C,n=Hr,r=Wr,i=zr,o=Br,a=Ur;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n="function"==typeof t?t:ws.get(t)||Hr,e):n},e.offset=function(t){return arguments.length?(r="function"==typeof t?t:_s.get(t)||Wr,e):r},e.x=function(t){return arguments.length?(o=t,e):o},e.y=function(t){return arguments.length?(a=t,e):a},e.out=function(t){return arguments.length?(i=t,e):i},e};var ws=co.map({"inside-out":function(e){var t,n,r=e.length,i=e.map(qr),o=e.map(Vr),a=co.range(r).sort((function(e,t){return i[e]-i[t]})),s=0,l=0,c=[],u=[];for(t=0;r>t;++t)n=a[t],l>s?(s+=o[n],c.push(n)):(l+=o[n],u.push(n));return u.reverse().concat(c)},reverse:function(e){return co.range(e.length).reverse()},default:Hr}),_s=co.map({silhouette:function(e){var t,n,r,i=e.length,o=e[0].length,a=[],s=0,l=[];for(n=0;o>n;++n){for(t=0,r=0;i>t;t++)r+=e[t][n][1];r>s&&(s=r),a.push(r)}for(n=0;o>n;++n)l[n]=(s-a[n])/2;return l},wiggle:function(e){var t,n,r,i,o,a,s,l,c,u=e.length,d=e[0],f=d.length,h=[];for(h[0]=l=c=0,n=1;f>n;++n){for(t=0,i=0;u>t;++t)i+=e[t][n][1];for(t=0,o=0,s=d[n][0]-d[n-1][0];u>t;++t){for(r=0,a=(e[t][n][1]-e[t][n-1][1])/(2*s);t>r;++r)a+=(e[r][n][1]-e[r][n-1][1])/s;o+=a*e[t][n][1]}h[n]=l-=i?o/i*s:0,c>l&&(c=l)}for(n=0;f>n;++n)h[n]-=c;return h},expand:function(e){var t,n,r,i=e.length,o=e[0].length,a=1/i,s=[];for(n=0;o>n;++n){for(t=0,r=0;i>t;t++)r+=e[t][n][1];if(r)for(t=0;i>t;t++)e[t][n][1]/=r;else for(t=0;i>t;t++)e[t][n][1]=a}for(n=0;o>n;++n)s[n]=0;return s},zero:Wr});co.layout.histogram=function(){function e(e,o){for(var a,s,l=[],c=e.map(n,this),u=r.call(this,c,o),d=i.call(this,u,c,o),f=(o=-1,c.length),h=d.length-1,p=t?1:1/f;++o<h;)(a=l[o]=[]).dx=d[o+1]-(a.x=d[o]),a.y=0;if(h>0)for(o=-1;++o<f;)(s=c[o])>=u[0]&&s<=u[1]&&((a=l[co.bisect(d,s,1,h)-1]).y+=p,a.push(e[o]));return l}var t=!0,n=Number,r=Kr,i=Yr;return e.value=function(t){return arguments.length?(n=t,e):n},e.range=function(t){return arguments.length?(r=Ae(t),e):r},e.bins=function(t){return arguments.length?(i="number"==typeof t?function(e){return Gr(e,t)}:Ae(t),e):i},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e},co.layout.pack=function(){function e(e,o){var a=n.call(this,e,o),s=a[0],l=i[0],c=i[1],u=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(s.x=s.y=0,Dr(s,(function(e){e.r=+u(e.value)})),Dr(s,ei),r){var d=r*(t?1:Math.max(2*s.r/l,2*s.r/c))/2;Dr(s,(function(e){e.r+=d})),Dr(s,ei),Dr(s,(function(e){e.r-=d}))}return function e(t,n,r,i){var o=t.children;if(t.x=n+=i*t.x,t.y=r+=i*t.y,t.r*=i,o)for(var a=-1,s=o.length;++a<s;)e(o[a],n,r,i)}(s,l/2,c/2,t?1:1/Math.max(2*s.r/l,2*s.r/c)),a}var t,n=co.layout.hierarchy().sort(Qr),r=0,i=[1,1];return e.size=function(t){return arguments.length?(i=t,e):i},e.radius=function(n){return arguments.length?(t=null==n||"function"==typeof n?n:+n,e):t},e.padding=function(t){return arguments.length?(r=+t,e):r},jr(e,n)},co.layout.tree=function(){function e(e,l){var c=i.call(this,e,l),u=c[0],d=function(e){for(var t,n={A:null,children:[e]},r=[n];null!=(t=r.pop());)for(var i,o=t.children,a=0,s=o.length;s>a;++a)r.push((o[a]=i={_:o[a],parent:t,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}(u);if(Dr(d,t),d.parent.m=-d.z,Nr(d,n),s)Nr(u,r);else{var f=u,h=u,p=u;Nr(u,(function(e){e.x<f.x&&(f=e),e.x>h.x&&(h=e),e.depth>p.depth&&(p=e)}));var m=o(f,h)/2-f.x,g=a[0]/(h.x+o(h,f)/2+m),v=a[1]/(p.depth||1);Nr(u,(function(e){e.x=(e.x+m)*g,e.y=e.depth*v}))}return c}function t(e){var t=e.children,n=e.parent.children,r=e.i?n[e.i-1]:null;if(t.length){!function(e){for(var t,n=0,r=0,i=e.children,o=i.length;--o>=0;)(t=i[o]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(e);var i=(t[0].z+t[t.length-1].z)/2;r?(e.z=r.z+o(e._,r._),e.m=e.z-i):e.z=i}else r&&(e.z=r.z+o(e._,r._));e.parent.A=function(e,t,n){if(t){for(var r,i=e,a=e,s=t,l=i.parent.children[0],c=i.m,u=a.m,d=s.m,f=l.m;s=ai(s),i=oi(i),s&&i;)l=oi(l),(a=ai(a)).a=e,(r=s.z+d-i.z-c+o(s._,i._))>0&&(si(li(s,e,n),e,r),c+=r,u+=r),d+=s.m,c+=i.m,f+=l.m,u+=a.m;s&&!ai(a)&&(a.t=s,a.m+=d-u),i&&!oi(l)&&(l.t=i,l.m+=c-f,n=e)}return n}(e,r,e.parent.A||n[0])}function n(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function r(e){e.x*=a[0],e.y=e.depth*a[1]}var i=co.layout.hierarchy().sort(null).value(null),o=ii,a=[1,1],s=null;return e.separation=function(t){return arguments.length?(o=t,e):o},e.size=function(t){return arguments.length?(s=null==(a=t)?r:null,e):s?null:a},e.nodeSize=function(t){return arguments.length?(s=null==(a=t)?null:r,e):s?a:null},jr(e,i)},co.layout.cluster=function(){function e(e,o){var a,s=t.call(this,e,o),l=s[0],c=0;Dr(l,(function(e){var t=e.children;t&&t.length?(e.x=function(e){return e.reduce((function(e,t){return e+t.x}),0)/e.length}(t),e.y=function(e){return 1+co.max(e,(function(e){return e.y}))}(t)):(e.x=a?c+=n(e,a):0,e.y=0,a=e)}));var u=function e(t){var n=t.children;return n&&n.length?e(n[0]):t}(l),d=function e(t){var n,r=t.children;return r&&(n=r.length)?e(r[n-1]):t}(l),f=u.x-n(u,d)/2,h=d.x+n(d,u)/2;return Dr(l,i?function(e){e.x=(e.x-l.x)*r[0],e.y=(l.y-e.y)*r[1]}:function(e){e.x=(e.x-f)/(h-f)*r[0],e.y=(1-(l.y?e.y/l.y:1))*r[1]}),s}var t=co.layout.hierarchy().sort(null).value(null),n=ii,r=[1,1],i=!1;return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(i=null==(r=t),e):i?null:r},e.nodeSize=function(t){return arguments.length?(i=null!=(r=t),e):i?r:null},jr(e,t)},co.layout.treemap=function(){function e(e,t){for(var n,r,i=-1,o=e.length;++i<o;)r=(n=e[i]).value*(0>t?0:t),n.area=isNaN(r)||0>=r?0:r}function t(n){var o=n.children;if(o&&o.length){var a,s,l,c=d(n),u=[],f=o.slice(),p=1/0,m="slice"===h?c.dx:"dice"===h?c.dy:"slice-dice"===h?1&n.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(e(f,c.dx*c.dy/n.value),u.area=0;(l=f.length)>0;)u.push(a=f[l-1]),u.area+=a.area,"squarify"!==h||(s=r(u,m))<=p?(f.pop(),p=s):(u.area-=u.pop().area,i(u,m,c,!1),m=Math.min(c.dx,c.dy),u.length=u.area=0,p=1/0);u.length&&(i(u,m,c,!0),u.length=u.area=0),o.forEach(t)}}function n(t){var r=t.children;if(r&&r.length){var o,a=d(t),s=r.slice(),l=[];for(e(s,a.dx*a.dy/t.value),l.area=0;o=s.pop();)l.push(o),l.area+=o.area,null!=o.z&&(i(l,o.z?a.dx:a.dy,a,!s.length),l.length=l.area=0);r.forEach(n)}}function r(e,t){for(var n,r=e.area,i=0,o=1/0,a=-1,s=e.length;++a<s;)(n=e[a].area)&&(o>n&&(o=n),n>i&&(i=n));return t*=t,(r*=r)?Math.max(t*i*p/r,r/(t*o*p)):1/0}function i(e,t,n,r){var i,o=-1,a=e.length,s=n.x,c=n.y,u=t?l(e.area/t):0;if(t==n.dx){for((r||u>n.dy)&&(u=n.dy);++o<a;)(i=e[o]).x=s,i.y=c,i.dy=u,s+=i.dx=Math.min(n.x+n.dx-s,u?l(i.area/u):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=u,n.dy-=u}else{for((r||u>n.dx)&&(u=n.dx);++o<a;)(i=e[o]).x=s,i.y=c,i.dx=u,c+=i.dy=Math.min(n.y+n.dy-c,u?l(i.area/u):0);i.z=!1,i.dy+=n.y+n.dy-c,n.x+=u,n.dx-=u}}function o(r){var i=a||s(r),o=i[0];return o.x=0,o.y=0,o.dx=c[0],o.dy=c[1],a&&s.revalue(o),e([o],o.dx*o.dy/o.value),(a?n:t)(o),f&&(a=i),i}var a,s=co.layout.hierarchy(),l=Math.round,c=[1,1],u=null,d=ci,f=!1,h="squarify",p=.5*(1+Math.sqrt(5));return o.size=function(e){return arguments.length?(c=e,o):c},o.padding=function(e){function t(t){var n=e.call(o,t,t.depth);return null==n?ci(t):ui(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return ui(t,e)}return arguments.length?(d=null==(u=e)?ci:"function"==(r=typeof e)?t:"number"===r?(e=[e,e,e,e],n):n,o):u;var r},o.round=function(e){return arguments.length?(l=e?Math.round:Number,o):l!=Number},o.sticky=function(e){return arguments.length?(f=e,a=null,o):f},o.ratio=function(e){return arguments.length?(p=e,o):p},o.mode=function(e){return arguments.length?(h=e+"",o):h},jr(o,s)},co.random={normal:function(e,t){var n=arguments.length;return 2>n&&(t=1),1>n&&(e=0),function(){var n,r,i;do{i=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var e=co.random.normal.apply(co,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=co.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;e>n;n++)t+=Math.random();return t}}},co.scale={};var Ss={floor:C,ceil:C};co.scale.linear=function(){return function e(t,n,r,i){function o(){var e=Math.min(t.length,n.length)>2?mi:hi,o=i?Er:xr;return s=e(t,n,o,r),l=e(n,t,o,sr),a}function a(e){return s(e)}var s,l;return a.invert=function(e){return l(e)},a.domain=function(e){return arguments.length?(t=e.map(Number),o()):t},a.range=function(e){return arguments.length?(n=e,o()):n},a.rangeRound=function(e){return a.range(e).interpolate(br)},a.clamp=function(e){return arguments.length?(i=e,o()):i},a.interpolate=function(e){return arguments.length?(r=e,o()):r},a.ticks=function(e){return bi(t,e)},a.tickFormat=function(e,n){return wi(t,e,n)},a.nice=function(e){return vi(t,e),o()},a.copy=function(){return e(t,n,r,i)},o()}([0,1],[0,1],sr,!1)};var Cs={s:1,g:1,p:1,r:1,e:1};co.scale.log=function(){return function e(t,n,r,i){function o(e){return(r?Math.log(0>e?0:e):-Math.log(e>0?0:-e))/Math.log(n)}function a(e){return r?Math.pow(n,e):-Math.pow(n,-e)}function s(e){return t(o(e))}return s.invert=function(e){return a(t.invert(e))},s.domain=function(e){return arguments.length?(r=e[0]>=0,t.domain((i=e.map(Number)).map(o)),s):i},s.base=function(e){return arguments.length?(n=+e,t.domain(i.map(o)),s):n},s.nice=function(){var e=pi(i.map(o),r?Math:Es);return t.domain(e),i=e.map(a),s},s.ticks=function(){var e=di(i),t=[],s=e[0],l=e[1],c=Math.floor(o(s)),u=Math.ceil(o(l)),d=n%1?2:n;if(isFinite(u-c)){if(r){for(;u>c;c++)for(var f=1;d>f;f++)t.push(a(c)*f);t.push(a(c))}else for(t.push(a(c));c++<u;)for(f=d-1;f>0;f--)t.push(a(c)*f);for(c=0;t[c]<s;c++);for(u=t.length;t[u-1]>l;u--);t=t.slice(c,u)}return t},s.tickFormat=function(e,t){if(!arguments.length)return xs;arguments.length<2?t=xs:"function"!=typeof t&&(t=co.format(t));var n,i=Math.max(.1,e/s.ticks().length),l=r?(n=1e-12,Math.ceil):(n=-1e-12,Math.floor);return function(e){return e/a(l(o(e)+n))<=i?t(e):""}},s.copy=function(){return e(t.copy(),n,r,i)},gi(s,t)}(co.scale.linear().domain([0,1]),10,!0,[1,10])};var xs=co.format(".0e"),Es={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};co.scale.pow=function(){return function e(t,n,r){function i(e){return t(o(e))}var o=Si(n),a=Si(1/n);return i.invert=function(e){return a(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain((r=e.map(Number)).map(o)),i):r},i.ticks=function(e){return bi(r,e)},i.tickFormat=function(e,t){return wi(r,e,t)},i.nice=function(e){return i.domain(vi(r,e))},i.exponent=function(e){return arguments.length?(o=Si(n=e),a=Si(1/n),t.domain(r.map(o)),i):n},i.copy=function(){return e(t.copy(),n,r)},gi(i,t)}(co.scale.linear(),1,[0,1])},co.scale.sqrt=function(){return co.scale.pow().exponent(.5)},co.scale.ordinal=function(){return function e(t,n){function r(e){return a[((o.get(e)||("range"===n.t?o.set(e,t.push(e)):NaN))-1)%a.length]}function i(e,n){return co.range(t.length).map((function(t){return e+n*t}))}var o,a,s;return r.domain=function(e){if(!arguments.length)return t;t=[],o=new p;for(var i,a=-1,s=e.length;++a<s;)o.has(i=e[a])||o.set(i,t.push(i));return r[n.t].apply(r,n.a)},r.range=function(e){return arguments.length?(a=e,s=0,n={t:"range",a:arguments},r):a},r.rangePoints=function(e,o){arguments.length<2&&(o=0);var l=e[0],c=e[1],u=t.length<2?(l=(l+c)/2,0):(c-l)/(t.length-1+o);return a=i(l+u*o/2,u),s=0,n={t:"rangePoints",a:arguments},r},r.rangeRoundPoints=function(e,o){arguments.length<2&&(o=0);var l=e[0],c=e[1],u=t.length<2?(l=c=Math.round((l+c)/2),0):(c-l)/(t.length-1+o)|0;return a=i(l+Math.round(u*o/2+(c-l-(t.length-1+o)*u)/2),u),s=0,n={t:"rangeRoundPoints",a:arguments},r},r.rangeBands=function(e,o,l){arguments.length<2&&(o=0),arguments.length<3&&(l=o);var c=e[1]<e[0],u=e[c-0],d=(e[1-c]-u)/(t.length-o+2*l);return a=i(u+d*l,d),c&&a.reverse(),s=d*(1-o),n={t:"rangeBands",a:arguments},r},r.rangeRoundBands=function(e,o,l){arguments.length<2&&(o=0),arguments.length<3&&(l=o);var c=e[1]<e[0],u=e[c-0],d=e[1-c],f=Math.floor((d-u)/(t.length-o+2*l));return a=i(u+Math.round((d-u-(t.length-o)*f)/2),f),c&&a.reverse(),s=Math.round(f*(1-o)),n={t:"rangeRoundBands",a:arguments},r},r.rangeBand=function(){return s},r.rangeExtent=function(){return di(n.a[0])},r.copy=function(){return e(t,n)},r.domain(t)}([],{t:"range",a:[[]]})},co.scale.category10=function(){return co.scale.ordinal().range(Ps)},co.scale.category20=function(){return co.scale.ordinal().range(ks)},co.scale.category20b=function(){return co.scale.ordinal().range(Ts)},co.scale.category20c=function(){return co.scale.ordinal().range(As)};var Ps=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Se),ks=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Se),Ts=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Se),As=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Se);co.scale.quantile=function(){return function e(t,n){function r(){var e=0,r=n.length;for(o=[];++e<r;)o[e-1]=co.quantile(t,e/r);return i}function i(e){return isNaN(e=+e)?void 0:n[co.bisect(o,e)]}var o;return i.domain=function(e){return arguments.length?(t=e.map(l).filter(c).sort(s),r()):t},i.range=function(e){return arguments.length?(n=e,r()):n},i.quantiles=function(){return o},i.invertExtent=function(e){return 0>(e=n.indexOf(e))?[NaN,NaN]:[e>0?o[e-1]:t[0],e<o.length?o[e]:t[t.length-1]]},i.copy=function(){return e(t,n)},r()}([],[])},co.scale.quantize=function(){return function e(t,n,r){function i(e){return r[Math.max(0,Math.min(s,Math.floor(a*(e-t))))]}function o(){return a=r.length/(n-t),s=r.length-1,i}var a,s;return i.domain=function(e){return arguments.length?(t=+e[0],n=+e[e.length-1],o()):[t,n]},i.range=function(e){return arguments.length?(r=e,o()):r},i.invertExtent=function(e){return[e=0>(e=r.indexOf(e))?NaN:e/a+t,e+1/a]},i.copy=function(){return e(t,n,r)},o()}(0,1,[0,1])},co.scale.threshold=function(){return function e(t,n){function r(e){return e>=e?n[co.bisect(t,e)]:void 0}return r.domain=function(e){return arguments.length?(t=e,r):t},r.range=function(e){return arguments.length?(n=e,r):n},r.invertExtent=function(e){return e=n.indexOf(e),[t[e-1],t[e]]},r.copy=function(){return e(t,n)},r}([.5],[0,1])},co.scale.identity=function(){return function e(t){function n(e){return+e}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=e.map(n),n):t},n.ticks=function(e){return bi(t,e)},n.tickFormat=function(e,n){return wi(t,e,n)},n.copy=function(){return e(t)},n}([0,1])},co.svg={},co.svg.arc=function(){function e(){var e=Math.max(0,+n.apply(this,arguments)),c=Math.max(0,+r.apply(this,arguments)),u=a.apply(this,arguments)-zo,d=s.apply(this,arguments)-zo,f=Math.abs(d-u),h=u>d?0:1;if(e>c&&(p=c,c=e,e=p),f>=Uo)return t(c,h)+(e?t(e,1-h):"")+"Z";var p,m,g,v,y,b,w,_,S,C,x,E,P=0,k=0,T=[];if((v=(+l.apply(this,arguments)||0)/2)&&(g=o===Os?Math.sqrt(e*e+c*c):+o.apply(this,arguments),h||(k*=-1),c&&(k=ae(g/c*Math.sin(v))),e&&(P=ae(g/e*Math.sin(v)))),c){y=c*Math.cos(u+k),b=c*Math.sin(u+k),w=c*Math.cos(d-k),_=c*Math.sin(d-k);var A=Math.abs(d-u-2*k)<=Lo?0:1;if(k&&Ai(y,b,w,_)===h^A){var O=(u+d)/2;y=c*Math.cos(O),b=c*Math.sin(O),w=_=null}}else y=b=0;if(e){S=e*Math.cos(d-P),C=e*Math.sin(d-P),x=e*Math.cos(u+P),E=e*Math.sin(u+P);var I=Math.abs(u-d+2*P)<=Lo?0:1;if(P&&Ai(S,C,x,E)===1-h^I){var j=(u+d)/2;S=e*Math.cos(j),C=e*Math.sin(j),x=E=null}}else S=C=0;if((p=Math.min(Math.abs(c-e)/2,+i.apply(this,arguments)))>.001){m=c>e^h?0:1;var N=null==x?[S,C]:null==w?[y,b]:En([y,b],[x,E],[w,_],[S,C]),D=y-N[0],R=b-N[1],F=w-N[0],M=_-N[1],L=1/Math.sin(Math.acos((D*F+R*M)/(Math.sqrt(D*D+R*R)*Math.sqrt(F*F+M*M)))/2),B=Math.sqrt(N[0]*N[0]+N[1]*N[1]);if(null!=w){var U=Math.min(p,(c-B)/(L+1)),z=Oi(null==x?[S,C]:[x,E],[y,b],c,U,h),H=Oi([w,_],[S,C],c,U,h);p===U?T.push("M",z[0],"A",U,",",U," 0 0,",m," ",z[1],"A",c,",",c," 0 ",1-h^Ai(z[1][0],z[1][1],H[1][0],H[1][1]),",",h," ",H[1],"A",U,",",U," 0 0,",m," ",H[0]):T.push("M",z[0],"A",U,",",U," 0 1,",m," ",H[0])}else T.push("M",y,",",b);if(null!=x){var W=Math.min(p,(e-B)/(L-1)),q=Oi([y,b],[x,E],e,-W,h),V=Oi([S,C],null==w?[y,b]:[w,_],e,-W,h);p===W?T.push("L",V[0],"A",W,",",W," 0 0,",m," ",V[1],"A",e,",",e," 0 ",h^Ai(V[1][0],V[1][1],q[1][0],q[1][1]),",",1-h," ",q[1],"A",W,",",W," 0 0,",m," ",q[0]):T.push("L",V[0],"A",W,",",W," 0 0,",m," ",q[0])}else T.push("L",S,",",C)}else T.push("M",y,",",b),null!=w&&T.push("A",c,",",c," 0 ",A,",",h," ",w,",",_),T.push("L",S,",",C),null!=x&&T.push("A",e,",",e," 0 ",I,",",1-h," ",x,",",E);return T.push("Z"),T.join("")}function t(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}var n=xi,r=Ei,i=Ci,o=Os,a=Pi,s=ki,l=Ti;return e.innerRadius=function(t){return arguments.length?(n=Ae(t),e):n},e.outerRadius=function(t){return arguments.length?(r=Ae(t),e):r},e.cornerRadius=function(t){return arguments.length?(i=Ae(t),e):i},e.padRadius=function(t){return arguments.length?(o=t==Os?Os:Ae(t),e):o},e.startAngle=function(t){return arguments.length?(a=Ae(t),e):a},e.endAngle=function(t){return arguments.length?(s=Ae(t),e):s},e.padAngle=function(t){return arguments.length?(l=Ae(t),e):l},e.centroid=function(){var e=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,t=(+a.apply(this,arguments)+ +s.apply(this,arguments))/2-zo;return[Math.cos(t)*e,Math.sin(t)*e]},e};var Os="auto";co.svg.line=function(){return Ii(C)};var Is=co.map({linear:ji,"linear-closed":function(e){return ji(e)+"Z"},step:function(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")},"step-before":Ni,"step-after":Di,basis:Mi,"basis-open":function(e){if(e.length<4)return ji(e);for(var t,n=[],r=-1,i=e.length,o=[0],a=[0];++r<3;)t=e[r],o.push(t[0]),a.push(t[1]);for(n.push(Li(Ds,o)+","+Li(Ds,a)),--r;++r<i;)t=e[r],o.shift(),o.push(t[0]),a.shift(),a.push(t[1]),Bi(n,o,a);return n.join("")},"basis-closed":function(e){for(var t,n,r=-1,i=e.length,o=i+4,a=[],s=[];++r<4;)n=e[r%i],a.push(n[0]),s.push(n[1]);for(t=[Li(Ds,a),",",Li(Ds,s)],--r;++r<o;)n=e[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Bi(t,a,s);return t.join("")},bundle:function(e,t){var n=e.length-1;if(n)for(var r,i,o=e[0][0],a=e[0][1],s=e[n][0]-o,l=e[n][1]-a,c=-1;++c<=n;)i=c/n,(r=e[c])[0]=t*r[0]+(1-t)*(o+i*s),r[1]=t*r[1]+(1-t)*(a+i*l);return Mi(e)},cardinal:function(e,t){return e.length<3?ji(e):e[0]+Ri(e,Fi(e,t))},"cardinal-open":function(e,t){return e.length<4?ji(e):e[1]+Ri(e.slice(1,-1),Fi(e,t))},"cardinal-closed":function(e,t){return e.length<3?ji(e):e[0]+Ri((e.push(e[0]),e),Fi([e[e.length-2]].concat(e,[e[1]]),t))},monotone:function(e){return e.length<3?ji(e):e[0]+Ri(e,zi(e))}});Is.forEach((function(e,t){t.key=e,t.closed=/-closed$/.test(e)}));var js=[0,2/3,1/3,0],Ns=[0,1/3,2/3,0],Ds=[0,1/6,2/3,1/6];co.svg.line.radial=function(){var e=Ii(Hi);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Ni.reverse=Di,Di.reverse=Ni,co.svg.area=function(){return Wi(C)},co.svg.area.radial=function(){var e=Wi(Hi);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},co.svg.chord=function(){function e(e,a){var s=t(this,i,e,a),l=t(this,o,e,a);return"M"+s.p0+n(s.r,s.p1,s.a1-s.a0)+(function(e,t){return e.a0==t.a0&&e.a1==t.a1}(s,l)?r(s.r,s.p1,s.r,s.p0):r(s.r,s.p1,l.r,l.p0)+n(l.r,l.p1,l.a1-l.a0)+r(l.r,l.p1,s.r,s.p0))+"Z"}function t(e,t,n,r){var i=t.call(e,n,r),o=a.call(e,i,r),c=s.call(e,i,r)-zo,u=l.call(e,i,r)-zo;return{r:o,a0:c,a1:u,p0:[o*Math.cos(c),o*Math.sin(c)],p1:[o*Math.cos(u),o*Math.sin(u)]}}function n(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Lo)+",1 "+t}function r(e,t,n,r){return"Q 0,0 "+r}var i=fn,o=hn,a=qi,s=Pi,l=ki;return e.radius=function(t){return arguments.length?(a=Ae(t),e):a},e.source=function(t){return arguments.length?(i=Ae(t),e):i},e.target=function(t){return arguments.length?(o=Ae(t),e):o},e.startAngle=function(t){return arguments.length?(s=Ae(t),e):s},e.endAngle=function(t){return arguments.length?(l=Ae(t),e):l},e},co.svg.diagonal=function(){function e(e,i){var o=t.call(this,e,i),a=n.call(this,e,i),s=(o.y+a.y)/2,l=[o,{x:o.x,y:s},{x:a.x,y:s},a];return"M"+(l=l.map(r))[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var t=fn,n=hn,r=Vi;return e.source=function(n){return arguments.length?(t=Ae(n),e):t},e.target=function(t){return arguments.length?(n=Ae(t),e):n},e.projection=function(t){return arguments.length?(r=t,e):r},e},co.svg.diagonal.radial=function(){var e=co.svg.diagonal(),t=Vi,n=e.projection;return e.projection=function(e){return arguments.length?n($i(t=e)):t},e},co.svg.symbol=function(){function e(e,r){return(Rs.get(t.call(this,e,r))||Ki)(n.call(this,e,r))}var t=Gi,n=Yi;return e.type=function(n){return arguments.length?(t=Ae(n),e):t},e.size=function(t){return arguments.length?(n=Ae(t),e):n},e};var Rs=co.map({circle:Ki,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Ms)),n=t*Ms;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Fs),n=t*Fs/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Fs),n=t*Fs/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});co.svg.symbolTypes=Rs.keys();var Fs=Math.sqrt(3),Ms=Math.tan(30*Ho);Ao.transition=function(e){for(var t,n,r=Ls||++Hs,i=eo(e),o=[],a=Bs||{time:Date.now(),ease:pr,delay:0,duration:250},s=-1,l=this.length;++s<l;){o.push(t=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(n=c[u])&&to(n,u,i,r,a),t.push(n)}return Xi(o,i,r)},Ao.interrupt=function(e){return this.each(null==e?Us:Qi(eo(e)))};var Ls,Bs,Us=Qi(eo()),zs=[],Hs=0;zs.call=Ao.call,zs.empty=Ao.empty,zs.node=Ao.node,zs.size=Ao.size,co.transition=function(e,t){return e&&e.transition?Ls?e.transition(t):e:co.selection().transition(e)},co.transition.prototype=zs,zs.select=function(e){var t,n,r,i=this.id,o=this.namespace,a=[];e=N(e);for(var s=-1,l=this.length;++s<l;){a.push(t=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(r=c[u])&&(n=e.call(r,r.__data__,u,s))?("__data__"in r&&(n.__data__=r.__data__),to(n,u,o,i,r[o][i]),t.push(n)):t.push(null)}return Xi(a,o,i)},zs.selectAll=function(e){var t,n,r,i,o,a=this.id,s=this.namespace,l=[];e=D(e);for(var c=-1,u=this.length;++c<u;)for(var d=this[c],f=-1,h=d.length;++f<h;)if(r=d[f]){o=r[s][a],n=e.call(r,r.__data__,f,c),l.push(t=[]);for(var p=-1,m=n.length;++p<m;)(i=n[p])&&to(i,p,s,a,o),t.push(i)}return Xi(l,s,a)},zs.filter=function(e){var t,n,r=[];"function"!=typeof e&&(e=$(e));for(var i=0,o=this.length;o>i;i++){r.push(t=[]);for(var a,s=0,l=(a=this[i]).length;l>s;s++)(n=a[s])&&e.call(n,n.__data__,s,i)&&t.push(n)}return Xi(r,this.namespace,this.id)},zs.tween=function(e,t){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(e):G(this,null==t?function(t){t[r][n].tween.remove(e)}:function(i){i[r][n].tween.set(e,t)})},zs.attr=function(e,t){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function i(e){return null==e?n:(e+="",function(){var t,n=this.getAttribute(s);return n!==e&&(t=a(n,e),function(e){this.setAttribute(s,t(e))})})}function o(e){return null==e?r:(e+="",function(){var t,n=this.getAttributeNS(s.space,s.local);return n!==e&&(t=a(n,e),function(e){this.setAttributeNS(s.space,s.local,t(e))})})}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var a="transform"==e?Cr:sr,s=co.ns.qualify(e);return Ji(this,"attr."+e,t,s.local?o:i)},zs.attrTween=function(e,t){var n=co.ns.qualify(e);return this.tween("attr."+e,n.local?function(e,r){var i=t.call(this,e,r,this.getAttributeNS(n.space,n.local));return i&&function(e){this.setAttributeNS(n.space,n.local,i(e))}}:function(e,r){var i=t.call(this,e,r,this.getAttribute(n));return i&&function(e){this.setAttribute(n,i(e))}})},zs.style=function(e,t,n){function r(){this.style.removeProperty(e)}function i(t){return null==t?r:(t+="",function(){var r,i=a(this).getComputedStyle(this,null).getPropertyValue(e);return i!==t&&(r=sr(i,t),function(t){this.style.setProperty(e,r(t),n)})})}var o=arguments.length;if(3>o){if("string"!=typeof e){for(n in 2>o&&(t=""),e)this.style(n,e[n],t);return this}n=""}return Ji(this,"style."+e,t,i)},zs.styleTween=function(e,t,n){function r(r,i){var o=t.call(this,r,i,a(this).getComputedStyle(this,null).getPropertyValue(e));return o&&function(t){this.style.setProperty(e,o(t),n)}}return arguments.length<3&&(n=""),this.tween("style."+e,r)},zs.text=function(e){return Ji(this,"text",e,Zi)},zs.remove=function(){var e=this.namespace;return this.each("end.transition",(function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)}))},zs.ease=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].ease:("function"!=typeof e&&(e=co.ease.apply(co,arguments)),G(this,(function(r){r[n][t].ease=e})))},zs.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:G(this,"function"==typeof e?function(r,i,o){r[n][t].delay=+e.call(r,r.__data__,i,o)}:(e=+e,function(r){r[n][t].delay=e}))},zs.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:G(this,"function"==typeof e?function(r,i,o){r[n][t].duration=Math.max(1,e.call(r,r.__data__,i,o))}:(e=Math.max(1,e),function(r){r[n][t].duration=e}))},zs.each=function(e,t){var n=this.id,r=this.namespace;if(arguments.length<2){var i=Bs,o=Ls;try{Ls=n,G(this,(function(t,i,o){Bs=t[r][n],e.call(t,t.__data__,i,o)}))}finally{Bs=i,Ls=o}}else G(this,(function(i){var o=i[r][n];(o.event||(o.event=co.dispatch("start","end","interrupt"))).on(e,t)}));return this},zs.transition=function(){for(var e,t,n,r=this.id,i=++Hs,o=this.namespace,a=[],s=0,l=this.length;l>s;s++){a.push(e=[]);for(var c,u=0,d=(c=this[s]).length;d>u;u++)(t=c[u])&&to(t,u,o,i,{time:(n=t[o][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),e.push(t)}return Xi(a,o,i)},co.svg.axis=function(){function e(e){e.each((function(){var e,c=co.select(this),u=this.__chart__||n,d=this.__chart__=n.copy(),f=null==l?d.ticks?d.ticks.apply(d,s):d.domain():l,h=null==t?d.tickFormat?d.tickFormat.apply(d,s):C:t,p=c.selectAll(".tick").data(f,d),m=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Fo),g=co.transition(p.exit()).style("opacity",Fo).remove(),v=co.transition(p.order()).style("opacity",1),y=Math.max(i,0)+a,b=fi(d),w=c.selectAll(".domain").data([0]),_=(w.enter().append("path").attr("class","domain"),co.transition(w));m.append("line"),m.append("text");var S,x,E,P,k=m.select("line"),T=v.select("line"),A=p.select("text").text(h),O=m.select("text"),I=v.select("text"),j="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(e=no,S="x",E="y",x="x2",P="y2",A.attr("dy",0>j?"0em":".71em").style("text-anchor","middle"),_.attr("d","M"+b[0]+","+j*o+"V0H"+b[1]+"V"+j*o)):(e=ro,S="y",E="x",x="y2",P="x2",A.attr("dy",".32em").style("text-anchor",0>j?"end":"start"),_.attr("d","M"+j*o+","+b[0]+"H0V"+b[1]+"H"+j*o)),k.attr(P,j*i),O.attr(E,j*y),T.attr(x,0).attr(P,j*i),I.attr(S,0).attr(E,j*y),d.rangeBand){var N=d,D=N.rangeBand()/2;u=d=function(e){return N(e)+D}}else u.rangeBand?u=d:g.call(e,d,u);m.call(e,u,d),v.call(e,d,d)}))}var t,n=co.scale.linear(),r=Ws,i=6,o=6,a=3,s=[10],l=null;return e.scale=function(t){return arguments.length?(n=t,e):n},e.orient=function(t){return arguments.length?(r=t in qs?t+"":Ws,e):r},e.ticks=function(){return arguments.length?(s=arguments,e):s},e.tickValues=function(t){return arguments.length?(l=t,e):l},e.tickFormat=function(n){return arguments.length?(t=n,e):t},e.tickSize=function(t){var n=arguments.length;return n?(i=+t,o=+arguments[n-1],e):i},e.innerTickSize=function(t){return arguments.length?(i=+t,e):i},e.outerTickSize=function(t){return arguments.length?(o=+t,e):o},e.tickPadding=function(t){return arguments.length?(a=+t,e):a},e.tickSubdivide=function(){return arguments.length&&e},e};var Ws="bottom",qs={top:1,right:1,bottom:1,left:1};co.svg.brush=function(){function e(o){o.each((function(){var o=co.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),a=o.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),o.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=o.selectAll(".resize").data(m,C);s.exit().remove(),s.enter().append("g").attr("class",(function(e){return"resize "+e})).style("cursor",(function(e){return Vs[e]})).append("rect").attr("x",(function(e){return/[ew]$/.test(e)?-3:null})).attr("y",(function(e){return/^[ns]/.test(e)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",e.empty()?"none":null);var l,d=co.transition(o),f=co.transition(a);c&&(l=fi(c),f.attr("x",l[0]).attr("width",l[1]-l[0]),n(d)),u&&(l=fi(u),f.attr("y",l[0]).attr("height",l[1]-l[0]),r(d)),t(d)}))}function t(e){e.selectAll(".resize").attr("transform",(function(e){return"translate("+d[+/e$/.test(e)]+","+f[+/^s/.test(e)]+")"}))}function n(e){e.select(".extent").attr("x",d[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",d[1]-d[0])}function r(e){e.select(".extent").attr("y",f[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1]-f[0])}function i(){function i(){32==co.event.keyCode&&(T||(b=null,I[0]-=d[1],I[1]-=f[1],T=2),A())}function m(){32==co.event.keyCode&&2==T&&(I[0]+=d[1],I[1]+=f[1],T=0,A())}function g(){var e=co.mouse(_),i=!1;w&&(e[0]+=w[0],e[1]+=w[1]),T||(co.event.altKey?(b||(b=[(d[0]+d[1])/2,(f[0]+f[1])/2]),I[0]=d[+(e[0]<b[0])],I[1]=f[+(e[1]<b[1])]):b=null),P&&v(e,c,0)&&(n(x),i=!0),k&&v(e,u,1)&&(r(x),i=!0),i&&(t(x),C({type:"brush",mode:T?"move":"resize"}))}function v(e,t,n){var r,i,a=fi(t),l=a[0],c=a[1],u=I[n],m=n?f:d,g=m[1]-m[0];return T&&(l-=u,c-=g+u),r=(n?p:h)?Math.max(l,Math.min(c,e[n])):e[n],T?i=(r+=u)+g:(b&&(u=Math.max(l,Math.min(c,2*b[n]-r))),r>u?(i=r,r=u):i=u),m[0]!=r||m[1]!=i?(n?s=null:o=null,m[0]=r,m[1]=i,!0):void 0}function y(){g(),x.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),co.select("body").style("cursor",null),j.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),O(),C({type:"brushend"})}var b,w,_=this,S=co.select(co.event.target),C=l.of(_,arguments),x=co.select(_),E=S.datum(),P=!/^(n|s)$/.test(E)&&c,k=!/^(e|w)$/.test(E)&&u,T=S.classed("extent"),O=ee(_),I=co.mouse(_),j=co.select(a(_)).on("keydown.brush",i).on("keyup.brush",m);if(co.event.changedTouches?j.on("touchmove.brush",g).on("touchend.brush",y):j.on("mousemove.brush",g).on("mouseup.brush",y),x.interrupt().selectAll("*").interrupt(),T)I[0]=d[0]-I[0],I[1]=f[0]-I[1];else if(E){var N=+/w$/.test(E),D=+/^n/.test(E);w=[d[1-N]-I[0],f[1-D]-I[1]],I[0]=d[N],I[1]=f[D]}else co.event.altKey&&(b=I.slice());x.style("pointer-events","none").selectAll(".resize").style("display",null),co.select("body").style("cursor",S.style("cursor")),C({type:"brushstart"}),g()}var o,s,l=I(e,"brushstart","brush","brushend"),c=null,u=null,d=[0,0],f=[0,0],h=!0,p=!0,m=$s[0];return e.event=function(e){e.each((function(){var e=l.of(this,arguments),t={x:d,y:f,i:o,j:s},n=this.__chart__||t;this.__chart__=t,Ls?co.select(this).transition().each("start.brush",(function(){o=n.i,s=n.j,d=n.x,f=n.y,e({type:"brushstart"})})).tween("brush:brush",(function(){var n=lr(d,t.x),r=lr(f,t.y);return o=s=null,function(i){d=t.x=n(i),f=t.y=r(i),e({type:"brush",mode:"resize"})}})).each("end.brush",(function(){o=t.i,s=t.j,e({type:"brush",mode:"resize"}),e({type:"brushend"})})):(e({type:"brushstart"}),e({type:"brush",mode:"resize"}),e({type:"brushend"}))}))},e.x=function(t){return arguments.length?(m=$s[!(c=t)<<1|!u],e):c},e.y=function(t){return arguments.length?(m=$s[!c<<1|!(u=t)],e):u},e.clamp=function(t){return arguments.length?(c&&u?(h=!!t[0],p=!!t[1]):c?h=!!t:u&&(p=!!t),e):c&&u?[h,p]:c?h:u?p:null},e.extent=function(t){var n,r,i,a,l;return arguments.length?(c&&(n=t[0],r=t[1],u&&(n=n[0],r=r[0]),o=[n,r],c.invert&&(n=c(n),r=c(r)),n>r&&(l=n,n=r,r=l),(n!=d[0]||r!=d[1])&&(d=[n,r])),u&&(i=t[0],a=t[1],c&&(i=i[1],a=a[1]),s=[i,a],u.invert&&(i=u(i),a=u(a)),i>a&&(l=i,i=a,a=l),(i!=f[0]||a!=f[1])&&(f=[i,a])),e):(c&&(o?(n=o[0],r=o[1]):(n=d[0],r=d[1],c.invert&&(n=c.invert(n),r=c.invert(r)),n>r&&(l=n,n=r,r=l))),u&&(s?(i=s[0],a=s[1]):(i=f[0],a=f[1],u.invert&&(i=u.invert(i),a=u.invert(a)),i>a&&(l=i,i=a,a=l))),c&&u?[[n,i],[r,a]]:c?[n,r]:u&&[i,a])},e.clear=function(){return e.empty()||(d=[0,0],f=[0,0],o=s=null),e},e.empty=function(){return!!c&&d[0]==d[1]||!!u&&f[0]==f[1]},co.rebind(e,l,"on")};var Vs={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},$s=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ys=fa.format=ya.timeFormat,Gs=Ys.utc,Ks=Gs("%Y-%m-%dT%H:%M:%S.%LZ");Ys.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?io:Ks,io.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},io.toString=Ks.toString,fa.second=Be((function(e){return new ha(1e3*Math.floor(e/1e3))}),(function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))}),(function(e){return e.getSeconds()})),fa.seconds=fa.second.range,fa.seconds.utc=fa.second.utc.range,fa.minute=Be((function(e){return new ha(6e4*Math.floor(e/6e4))}),(function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))}),(function(e){return e.getMinutes()})),fa.minutes=fa.minute.range,fa.minutes.utc=fa.minute.utc.range,fa.hour=Be((function(e){var t=e.getTimezoneOffset()/60;return new ha(36e5*(Math.floor(e/36e5-t)+t))}),(function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))}),(function(e){return e.getHours()})),fa.hours=fa.hour.range,fa.hours.utc=fa.hour.utc.range,fa.month=Be((function(e){return(e=fa.day(e)).setDate(1),e}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e){return e.getMonth()})),fa.months=fa.month.range,fa.months.utc=fa.month.utc.range;var Qs=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Xs=[[fa.second,1],[fa.second,5],[fa.second,15],[fa.second,30],[fa.minute,1],[fa.minute,5],[fa.minute,15],[fa.minute,30],[fa.hour,1],[fa.hour,3],[fa.hour,6],[fa.hour,12],[fa.day,1],[fa.day,2],[fa.week,1],[fa.month,1],[fa.month,3],[fa.year,1]],Js=Ys.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",kt]]),Zs={range:function(e,t,n){return co.range(Math.ceil(e/n)*n,+t,n).map(ao)},floor:C,ceil:C};Xs.year=fa.year,fa.scale=function(){return oo(co.scale.linear(),Xs,Js)};var el=Xs.map((function(e){return[e[0].utc,e[1]]})),tl=Gs.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",kt]]);el.year=fa.year.utc,fa.scale.utc=function(){return oo(co.scale.linear(),el,tl)},co.text=Oe((function(e){return e.responseText})),co.json=function(e,t){return Ie(e,"application/json",so,t)},co.html=function(e,t){return Ie(e,"text/html",lo,t)},co.xml=Oe((function(e){return e.responseXML})),void 0!==(i="function"===typeof(r=co)?r.call(t,n,t,e):r)&&(e.exports=i),this.d3=co}()},function(e,t,n){"use strict";var r,i;r=[n(22),n(74),n(170),n(485)],void 0===(i=function(e,t,n){return function(){this.uploadWithCors=function(r,i){var o=$("#"+i.formId),a=o.serializeArray(),s=i.userExternalId,l=i.file,c=this.attr.isUserAsset?"attachments":"files",u=e.getS3Key(e.generateGuid(),encodeURIComponent(l.name).replace("'","%27"),s,c);if(!s)throw"Could not determine user external id, please make sure to set data-user-external-id on your uploader form element";this.attr.evaporate||(this.attr.evaporate=new n({signerUrl:Routes.s3_utility_generate_multipart_signature_path(),aws_key:e.determineAWSAccessKeyIdForForm(o),bucket:e.determineS3BucketForForm(o),fetchCurrentServerTimeUrl:Routes.s3_utility_current_utc_time_string_path(),maxFileSize:21474836480}));var d=this.attr.evaporate.add({name:u,originalName:l.name,file:l,url:o.data("s3-url"),mimeType:t.get(l.name),previousProgress:0,xAmzHeadersAtInitiate:{"x-amz-acl":"public-read"},complete:function(){this.trigger(this.attr.dataEvent,{s3Key:u,isS3:!0,originalFormData:a,file:l})}.bind(this),progress:function(e){this.attr.uploadedProgressedEvent&&this.trigger(this.attr.uploadProgressedEvent,{progress:e})}.bind(this),initiated:function(e){}});isNaN(d)&&this.trigger("uiShowFlashMessage",{message:d}),this.trigger(this.attr.uploadStartedEvent,i)},this.determineS3BucketForForm=function(e){var t=e.data("s3-url");if(t){var n=t.split("/");return n[n.length-1]}throw"Could not determine S3 bucket, please make sure to set data-s3-url on your uploader form element"},this.determineAWSAccessKeyIdForForm=function(e){if(e.data("aws-access-key-id"))return e.data("aws-access-key-id");throw"Could not determine AWSAccessKeyId, please make sure to set aws-access-key-id on your uploader form element"},this.filterNonFileInputs=function(e){for(var t=0;t<e.length;t++)"file"!=e[t].name&&(e.splice(t,1),t--)},this.after("initialize",(function(){"string"===typeof this.attr.uiUploadWithCorsEvent&&this.on(this.attr.uiUploadWithCorsEvent,this.uploadWithCors)}))}}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),i=function(e){var t=r.useRef(e);return r.useEffect((function(){t.current=e}),[e]),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(e){return function(t){var n=t.oldState,r=t.newState,i=t.action;e({onChanged:function(e,t,i){var a=e(n),s=e(r);o(a,s,t)||i(s,a,r)},onAction:function(e){e(i,r,n)}})}},i=function(e,t,n){return{onChanged:function(n,r,i){e.onChanged((function(e){return n(t(e))}),r,(function(e,n,r){i(e,n,t(r))}))},onAction:function(r){e.onAction((function(e,i,o){var a=n(e);if(null!=a){var s=t(i),l=t(o);r(a,s,l)}}))}}},o=function(e,t,n){if("function"===typeof n)return n(e,t);if("reference"===n)return e===t;if("json-stringify"===n)return JSON.stringify(e)===JSON.stringify(t);throw new Error("Impossible state in isEqual")}},function(e,t,n){"use strict";n.r(t),n.d(t,"ProductCardUIContext",(function(){return r})),n.d(t,"ProductCardUIStates",(function(){return i})),n.d(t,"ProductCardFetchTypes",(function(){return o})),n.d(t,"ProductCardClassNames",(function(){return a}));var r={DISCOVER:"DISCOVER",PROFILE:"PROFILE",LIBRARY:"LIBRARY"},i={LOADING:"LOADING",NO_RESULTS:"NO_RESULTS",CATEGORY_TOP_PRODUCTS:"CATEGORY_TOP_PRODUCTS",PRODUCT_RESULTS_IN_CATEGORY:"PRODUCT_RESULTS_IN_CATEGORY",PRODUCT_RESULTS_ON_PROFILE:"PRODUCT_RESULTS_ON_PROFILE",PRODUCT_RESULTS:"PRODUCT_RESULTS",SHOW_CATEGORY_CARDS:"SHOW_CATEGORY_CARDS"},o={CATEGORY:"category",FILTER:"filter",TAG:"tag",SEARCH:"search",PAGINATION:"pagination",LOAD_MORE:"loadMore"},a={LOADING:"loading",HIDDEN:"hidden"}},function(e,t,n){"use strict";var r,i;r=[n(22),n(74)],void 0===(i=function(e,t){return function(){this.uploadFile=function(t){var n=this.getFileInputFromEvent(t),r=this.getFileNameFromInput(n);this.trigger(this.attr.uiUploadWithCorsEvent,{formId:this.getForm().attr("id"),guid:this.select("guidInputSelector").val()||e.generateGuid(),fileName:r,userExternalId:e.determineUserExternalIdForForm(this.getForm()),file:n})},this.getFileNameFromInput=function(e){var t;if("undefined"!=typeof e)return t=null!=e.value?e.value.replace(/.*(\/|\\)/,""):null!=e.fileName?e.fileName:e.name,this.cleanFileName(t)},this.cleanFileName=function(e){if(!this.attr.fileNameReplacements||"undefined"===typeof e)return e;for(var t=0;t<this.attr.fileNameReplacements.length;t++){var n=this.attr.fileNameReplacements[t],r=n[0],i=n[1];e=e.replace(r,i)}return e},this.validateFileName=function(e,t){if(t){for(var n=-1!=e.indexOf(".")?e.replace(/.*[.]/,"").toLowerCase():"",r=0;r<t.length;r++)if(t[r].toLowerCase()==n)return!0;return!1}return!0},this.setFormAction=function(e){this.getForm().data("default-target",this.getForm().attr("action")),this.getForm().attr("action",e)},this.setFormActionAsDefault=function(){this.getForm().attr("action",this.getForm().data("default-target"))},this.prepareFileInputAndButtonForIEIfNeeded=function(e,t){$.browser.msie&&(e.appendTo(t),t.off("click"))},this.getFileInputFromEvent=function(e){return Modernizr.filereader?e.target.files[0]:e.target},this.resetFormInputValue=function(e,t){if(t.isS3)for(var n=0;n<t.originalFormData.length;n++)this.getForm().find("input[name='"+t.originalFormData[n].name+"']").val(t.originalFormData[n].value);this.getForm().find("input[type=file]").val("")},this.getForm=function(){return this.attr.formSelector?this.select("formSelector"):this.$node},this.after("initialize",(function(){if(!this.getForm().is("form")&&!this.attr.formSelector)throw"File upload mixin has to be attached to form or formSelector must be given."}))}}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";n.r(t),n.d(t,"TrackClick",(function(){return c}));var r=n(0),i=n(6),o=n.n(i);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=function(e){var t=e.eventName,n=e.children,i=e.className,c=l(e,["eventName","children","className"]);return r.cloneElement(n,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:o()(n.props.className,i,"js-track-click-event"),"data-event-name":t},c))}},function(e,t){function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e){var t=n(e);return null!=e&&("object"==t||"function"==t)}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";var r,i;r=[n(57)],void 0===(i=function(){return function(){this.formatMoney=d3.format(",.2f"),this.moneyFormatter=function(e){return"$"+this.formatComma(e/100)}.bind(this),this.formatComma=d3.format(",f"),this.commaFormatter=function(e){return e%1==0?this.formatComma(e):""}.bind(this),this.formatPercent=d3.format(".2%"),this.percentFormatter=function(e){return this.formatPercent(e)}.bind(this)}}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(2),n(97)],void 0===(i=function(e,t){return e((function(){this.defaultAttrs({submitEvent:"uiNeedsToUpdateUserSettings",submitSucceededEvent:"dataUserSettings",submitFailedEvent:"dataFailedToUpdateUserSettings"}),this.removeCreditCard=function(e,t){$.ajax({type:"POST",url:Routes.remove_settings_credit_card_path(),data:t,dataType:"json"}).done(function(e){e.success?this.trigger("dataCreditCardRemoveSuccess",e):this.trigger("dataCreditCardRemoveFail",e)}.bind(this)).fail(function(){this.trigger("dataCreditCardRemoveFail")}.bind(this))},this.saveCreditCard=function(e,t){$.ajax({type:"POST",url:Routes.settings_credit_card_path(),data:t,dataType:"json"}).done(function(e){e.success?this.trigger("dataCreditCardSaveSuccess",e):this.trigger("dataCreditCardSaveFail",e)}.bind(this)).fail(function(){this.trigger("dataCreditCardSaveFail")}.bind(this))},this.changeFanpagePermissions=function(e,t){FB.login(function(){this.trigger("dataFacebookLoginForChangingPermissions"),$.ajax({type:"POST",dataType:"json",url:"/settings",data:{"user[manage_pages]":!0,authenticity_token:t.auth_token}}).done(function(){this.trigger("dataFanpagePermissionsChanged")}.bind(this))}.bind(this),{scope:"email,pages_manage_ads,pages_manage_metadata,pages_read_engagement,pages_read_user_content"})},this.deleteAccount=function(e,t){$.ajax({url:Routes.deactivate_account_path(),type:"POST",dataType:"json"}).done(function(e){e.success?this.trigger("dataDeletedAccount"):this.trigger("dataFailedToDeleteAccount")}.bind(this))},this.resendConfirmationEmail=function(){$.ajax({type:"POST",dataType:"json",url:Routes.resend_confirmation_settings_path()}).done(function(){this.trigger("dataResentConfirmationEmail")}.bind(this))},this.saveUserOrientationInfo=function(e,t){$.ajax({type:"POST",url:Routes.update_user_orientation_info_settings_path(),data:t.formData,dataType:"json"}).done(function(e){e.success?this.trigger("dataUserOrientationInfoSaveSuccess",e):this.trigger("dataUserOrientationSaveFail",e)}.bind(this)).fail(function(){this.trigger("dataUserOrientationSaveFail")}.bind(this))},this.previewStyleComponent=function(e,t){$.ajax({type:"GET",url:Routes.preview_style_component_settings_path(),data:t,dataType:"json"}).done(function(e){this.trigger("dataStyleComponentPreview",e)}.bind(this))},this.sendTestPing=function(){$.ajax({url:Routes.test_pings_path(),type:"POST"}).done(function(e){this.trigger("dataTestPingDone",e)}.bind(this))},this.after("initialize",(function(){this.on("uiNeedsToRemoveCreditCard",this.removeCreditCard),this.on("uiNeedsToSaveCreditCard",this.saveCreditCard),this.on("uiNeedsToChangeFanpagePermissions",this.changeFanpagePermissions),this.on("uiNeedsToDeleteAccount",this.deleteAccount),this.on("uiNeedsToResendConfirmationEmail",this.resendConfirmationEmail),this.on("uiNeedsToSaveUserOrientationInfo",this.saveUserOrientationInfo),this.on("uiNeedsToPreviewStyleComponent",this.previewStyleComponent),this.on("uiNeedsToSendTestPing",this.sendTestPing)}))}),t)}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";n.r(t),n.d(t,"VariantSelector",(function(){return y}));var r=n(0),i=n(6),o=n.n(i),a=n(21),s=n(49),l=n(23),c=n(27),u=n(5),d=n(19),f=n(39),h=n(139),p=n(140),m=n(141);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=function(e){var t=e.displayInRows,n=Object(c.b)({productSelector:function(e){return e.productData},subscriptionSelector:function(e){return e.productData}}),i=n.currency,a=n.recurrences,s=n.variant_list,l=g(Object(m.useVariantSelectionState)(),2),u=l[0],d=l[1],f=Object(p.useSelectedRecurrence)(),v=f.selectedRecurrenceId,y=f.setSelectedRecurrence,w=r.useCallback((function(e){d(e)}),[]),_="categories"===s.kind?s.variant_categories.length>0:s.skus.length>0,S=null!=a&&a.available_recurrences.length>1;return _||null!=v&&S?r.createElement("div",{className:o()("relative",{"variant-selector--display-in-rows":t})},null!=v&&null!=a&&S?r.createElement(h.RecurrenceSelector,{selectedRecurrence:v,availableRecurrences:a.available_recurrences.map((function(e){return e.recurrence_id})),onChangeSelection:y}):null,"categories"===s.kind?s.variant_categories.map((function(e){return r.createElement(b,{key:e.id,name:e.name,options:e.options,selectedOptionId:"categories"===u.type?u.perCategory[e.id]:null,onSelectOption:w,currency:i,displayAbsolutePrices:1===s.variant_categories.length})})):r.createElement(b,{name:s.title,options:s.skus,selectedOptionId:"skus"===u.type?u.skuId:null,onSelectOption:w,currency:i,displayAbsolutePrices:!0})):null},b=function(e){var t=e.name,n=e.options,i=e.selectedOptionId,o=e.onSelectOption,a=e.currency,s=e.displayAbsolutePrices;return r.createElement(f.a,{label:t},n.map((function(e){return r.createElement(w,{key:e.id,option:e,isSelected:i===e.id,onSelect:function(){return o(e.id)},currency:a,displayAbsolutePrices:s})})))},w=function(e){var t=e.option,n=e.isSelected,i=e.onSelect,o=e.currency,a=e.displayAbsolutePrices,s=Object(c.b)({productSelector:function(e){return e.isInteractive},subscriptionSelector:function(e){return e.isInteractive}}),l=Object(c.b)({productSelector:function(e){return u.i.getVariantOptionPriceDifference(e,t.id)},subscriptionSelector:function(e){return d.e.getVariantOptionPriceDifference(e,t.id)}}),h=Object(c.b)({productSelector:function(e){return u.i.getVariantOptionIsPWYW(e,t.id)},subscriptionSelector:function(e){return d.e.getVariantOptionIsPWYW(e,t.id)}});return t.is_sold_out?r.createElement(f.c,{name:t.name}):r.createElement(f.b,{temporarilyDisabled:!s,isSelected:n,onSelect:i},a?r.createElement(_,{currency:o,diffCents:l,isPWYW:h}):l>0?r.createElement(S,{currency:o,diffCents:l}):null,r.createElement(f.e,null,t.name,t.quantity_left?r.createElement(r.Fragment,null," ",r.createElement(f.h,null,I18n.t("js.left_with_count",{count:t.quantity_left}))):null),t.description?r.createElement(f.d,null,t.description):null)},_=function(e){var t=e.currency,n=e.diffCents,i=e.isPWYW,o=Object(c.b)({productSelector:function(e){return e.selection.selectedRecurrenceId},subscriptionSelector:function(e){return e.selection.selectedRecurrenceId}}),d=Object(c.b)({productSelector:function(e){return e.productData.product_duration_in_months},subscriptionSelector:function(e){return e.productData.product_duration_in_months}}),h=Object(c.b)({productSelector:u.i.getOfferCode,subscriptionSelector:u.i.getOfferCode}),p=Object(c.b)({productSelector:u.i.getBeforeDiscountAndOptionsCents,subscriptionSelector:u.i.getBeforeDiscountAndOptionsCents})+n,m=Object(s.a)(h,p),g=p>0&&0===m,v=null!=o?Object(a.g)(o,d):null;return r.createElement(f.f,null,Object(l.b)(t,m),i&&!g?"+":null,v?" ".concat(v):null,m!==p?r.createElement(r.Fragment,null," ",r.createElement(f.g,null,Object(l.b)(t,p))):null)},S=function(e){var t=e.currency,n=e.diffCents;return r.createElement(f.f,null,"+",Object(l.b)(t,n))}},,function(e,t,n){"use strict";t.__esModule=!0;var r=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function i(e,t){var n=t&&t.loc,o=void 0,a=void 0,s=void 0,l=void 0;n&&(o=n.start.line,a=n.end.line,s=n.start.column,l=n.end.column,e+=" - "+o+":"+s);for(var c=Error.prototype.constructor.call(this,e),u=0;u<r.length;u++)this[r[u]]=c[r[u]];Error.captureStackTrace&&Error.captureStackTrace(this,i);try{n&&(this.lineNumber=o,this.endLineNumber=a,Object.defineProperty?(Object.defineProperty(this,"column",{value:s,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:l,enumerable:!0})):(this.column=s,this.endColumn=l))}catch(d){}}i.prototype=new Error,t.default=i,e.exports=t.default},function(e,t,n){var r=n(381),i=n(384);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},,function(e,t,n){"use strict";var r;void 0===(r=function(){return function(){this.showLoadingText=function(){var e=this.attr.loadingTextTargetSelector?this.select("loadingTextTargetSelector"):this.$node;e.text(this.attr.loadingText),e.prop("disabled","disabled")},this.showDefaultText=function(){var e=this.attr.loadingTextTargetSelector?this.select("loadingTextTargetSelector"):this.$node;e.text(this.attr.defaultText),e.removeProp("disabled")},this.after("initialize",(function(){var e=this.attr.loadingTextTargetSelector?this.select("loadingTextTargetSelector"):this.$node;"undefined"==typeof this.attr.defaultText&&(this.attr.defaultText=e.text()),"undefined"==typeof this.attr.loadingText&&(this.attr.loadingText=I18n.t("js.uploading"))}))}}.apply(t,[]))||(e.exports=r)},function(e,t,n){"use strict";var r;void 0===(r=function(){var e={ez:"application/andrew-inset",aw:"application/applixware",atom:"application/atom+xml",atomcat:"application/atomcat+xml",atomsvc:"application/atomsvc+xml",ccxml:"application/ccxml+xml",cu:"application/cu-seeme",davmount:"application/davmount+xml",ecma:"application/ecmascript",emma:"application/emma+xml",epub:"application/epub+zip",pfr:"application/font-tdpfr",stk:"application/hyperstudio",jar:"application/java-archive",ser:"application/java-serialized-object",class:"application/java-vm",js:"application/javascript",json:"application/json",lostxml:"application/lost+xml",hqx:"application/mac-binhex40",cpt:"application/mac-compactpro",mrc:"application/marc","ma,nb,mb":"application/mathematica",mathml:"application/mathml+xml",mbox:"application/mbox",mscml:"application/mediaservercontrol+xml",mp4s:"application/mp4","doc,dot":"application/msword",mxf:"application/mxf",oda:"application/oda",opf:"application/oebps-package+xml",ogx:"application/ogg","onetoc,onetoc2,onetmp,onepkg":"application/onenote",xer:"application/patch-ops-error+xml",pdf:"application/pdf",pgp:"application/pgp-encrypted","asc,sig":"application/pgp-signature",prf:"application/pics-rules",p10:"application/pkcs10","p7m,p7c":"application/pkcs7-mime",p7s:"application/pkcs7-signature",cer:"application/pkix-cert",crl:"application/pkix-crl",pkipath:"application/pkix-pkipath",pki:"application/pkixcmp",pls:"application/pls+xml","ai,eps,ps":"application/postscript",cww:"application/prs.cww",rdf:"application/rdf+xml",rif:"application/reginfo+xml",rnc:"application/relax-ng-compact-syntax",rl:"application/resource-lists+xml",rld:"application/resource-lists-diff+xml",rs:"application/rls-services+xml",rsd:"application/rsd+xml",rss:"application/rss+xml",rtf:"application/rtf",sbml:"application/sbml+xml",scq:"application/scvp-cv-request",scs:"application/scvp-cv-response",spq:"application/scvp-vp-request",spp:"application/scvp-vp-response",sdp:"application/sdp",setpay:"application/set-payment-initiation",setreg:"application/set-registration-initiation",shf:"application/shf+xml","smi,smil":"application/smil+xml",rq:"application/sparql-query",srx:"application/sparql-results+xml",gram:"application/srgs",grxml:"application/srgs+xml",ssml:"application/ssml+xml",plb:"application/vnd.3gpp.pic-bw-large",psb:"application/vnd.3gpp.pic-bw-small",pvb:"application/vnd.3gpp.pic-bw-var",tcap:"application/vnd.3gpp2.tcap",pwn:"application/vnd.3m.post-it-notes",aso:"application/vnd.accpac.simply.aso",imp:"application/vnd.accpac.simply.imp",acu:"application/vnd.acucobol","atc,acutc":"application/vnd.acucorp",air:"application/vnd.adobe.air-application-installer-package+zip",xdp:"application/vnd.adobe.xdp+xml",xfdf:"application/vnd.adobe.xfdf",azf:"application/vnd.airzip.filesecure.azf",azs:"application/vnd.airzip.filesecure.azs",azw:"application/vnd.amazon.ebook",acc:"application/vnd.americandynamics.acc",ami:"application/vnd.amiga.ami",apk:"application/vnd.android.package-archive",cii:"application/vnd.anser-web-certificate-issue-initiation",fti:"application/vnd.anser-web-funds-transfer-initiation",atx:"application/vnd.antix.game-component",mpkg:"application/vnd.apple.installer+xml",swi:"application/vnd.arastra.swi",aep:"application/vnd.audiograph",mpm:"application/vnd.blueice.multipass",bmi:"application/vnd.bmi",rep:"application/vnd.businessobjects",cdxml:"application/vnd.chemdraw+xml",mmd:"application/vnd.chipnuts.karaoke-mmd",cdy:"application/vnd.cinderella",cla:"application/vnd.claymore","c4g,c4d,c4f,c4p,c4u":"application/vnd.clonk.c4group",csp:"application/vnd.commonspace",cdbcmsg:"application/vnd.contact.cmsg",cmc:"application/vnd.cosmocaller",clkx:"application/vnd.crick.clicker",clkk:"application/vnd.crick.clicker.keyboard",clkp:"application/vnd.crick.clicker.palette",clkt:"application/vnd.crick.clicker.template",clkw:"application/vnd.crick.clicker.wordbank",wbs:"application/vnd.criticaltools.wbs+xml",pml:"application/vnd.ctc-posml",ppd:"application/vnd.cups-ppd",car:"application/vnd.curl.car",pcurl:"application/vnd.curl.pcurl",rdz:"application/vnd.data-vision.rdz",fe_launch:"application/vnd.denovo.fcselayout-link",dna:"application/vnd.dna",mlp:"application/vnd.dolby.mlp",dpg:"application/vnd.dpgraph",dfac:"application/vnd.dreamfactory",geo:"application/vnd.dynageo",mag:"application/vnd.ecowin.chart",nml:"application/vnd.enliven",esf:"application/vnd.epson.esf",msf:"application/vnd.epson.msf",qam:"application/vnd.epson.quickanime",slt:"application/vnd.epson.salt",ssf:"application/vnd.epson.ssf","es3,et3":"application/vnd.eszigno3+xml",ez2:"application/vnd.ezpix-album",ez3:"application/vnd.ezpix-package",fdf:"application/vnd.fdf",mseed:"application/vnd.fdsn.mseed","seed,dataless":"application/vnd.fdsn.seed",gph:"application/vnd.flographit",ftc:"application/vnd.fluxtime.clip","fm,frame,maker,book":"application/vnd.framemaker",fnc:"application/vnd.frogans.fnc",ltf:"application/vnd.frogans.ltf",fsc:"application/vnd.fsc.weblaunch",oas:"application/vnd.fujitsu.oasys",oa2:"application/vnd.fujitsu.oasys2",oa3:"application/vnd.fujitsu.oasys3",fg5:"application/vnd.fujitsu.oasysgp",bh2:"application/vnd.fujitsu.oasysprs",ddd:"application/vnd.fujixerox.ddd",xdw:"application/vnd.fujixerox.docuworks",xbd:"application/vnd.fujixerox.docuworks.binder",fzs:"application/vnd.fuzzysheet",txd:"application/vnd.genomatix.tuxedo",ggb:"application/vnd.geogebra.file",ggt:"application/vnd.geogebra.tool","gex,gre":"application/vnd.geometry-explorer",gmx:"application/vnd.gmx",kml:"application/vnd.google-earth.kml+xml",kmz:"application/vnd.google-earth.kmz","gqf,gqs":"application/vnd.grafeq",gac:"application/vnd.groove-account",ghf:"application/vnd.groove-help",gim:"application/vnd.groove-identity-message",grv:"application/vnd.groove-injector",gtm:"application/vnd.groove-tool-message",tpl:"application/vnd.groove-tool-template",vcg:"application/vnd.groove-vcard",zmm:"application/vnd.handheld-entertainment+xml",hbci:"application/vnd.hbci",les:"application/vnd.hhe.lesson-player",hpgl:"application/vnd.hp-hpgl",hpid:"application/vnd.hp-hpid",hps:"application/vnd.hp-hps",jlt:"application/vnd.hp-jlyt",pcl:"application/vnd.hp-pcl",pclxl:"application/vnd.hp-pclxl","sfd-hdstx":"application/vnd.hydrostatix.sof-data",x3d:"application/vnd.hzn-3d-crossword",mpy:"application/vnd.ibm.minipay","afp,listafp,list3820":"application/vnd.ibm.modcap",irm:"application/vnd.ibm.rights-management",sc:"application/vnd.ibm.secure-container","icc,icm":"application/vnd.iccprofile",igl:"application/vnd.igloader",ivp:"application/vnd.immervision-ivp",ivu:"application/vnd.immervision-ivu","xpw,xpx":"application/vnd.intercon.formnet",qbo:"application/vnd.intu.qbo",qfx:"application/vnd.intu.qfx",rcprofile:"application/vnd.ipunplugged.rcprofile",irp:"application/vnd.irepository.package+xml",xpr:"application/vnd.is-xpr",jam:"application/vnd.jam",rms:"application/vnd.jcp.javame.midlet-rms",jisp:"application/vnd.jisp",joda:"application/vnd.joost.joda-archive","ktz,ktr":"application/vnd.kahootz",karbon:"application/vnd.kde.karbon",chrt:"application/vnd.kde.kchart",kfo:"application/vnd.kde.kformula",flw:"application/vnd.kde.kivio",kon:"application/vnd.kde.kontour","kpr,kpt":"application/vnd.kde.kpresenter",ksp:"application/vnd.kde.kspread","kwd,kwt":"application/vnd.kde.kword",htke:"application/vnd.kenameaapp",kia:"application/vnd.kidspiration","kne,knp":"application/vnd.kinar","skp,skd,skt,skm":"application/vnd.koan",sse:"application/vnd.kodak-descriptor",lbd:"application/vnd.llamagraphics.life-balance.desktop",lbe:"application/vnd.llamagraphics.life-balance.exchange+xml",123:"application/vnd.lotus-1-2-3",apr:"application/vnd.lotus-approach",pre:"application/vnd.lotus-freelance",nsf:"application/vnd.lotus-notes",org:"application/vnd.lotus-organizer",scm:"application/vnd.lotus-screencam",lwp:"application/vnd.lotus-wordpro",portpkg:"application/vnd.macports.portpkg",mcd:"application/vnd.mcd",mc1:"application/vnd.medcalcdata",cdkey:"application/vnd.mediastation.cdkey",mwf:"application/vnd.mfer",mfm:"application/vnd.mfmp",flo:"application/vnd.micrografx.flo",igx:"application/vnd.micrografx.igx",mif:"application/vnd.mif",daf:"application/vnd.mobius.daf",dis:"application/vnd.mobius.dis",mbk:"application/vnd.mobius.mbk",mqy:"application/vnd.mobius.mqy",msl:"application/vnd.mobius.msl",plc:"application/vnd.mobius.plc",txf:"application/vnd.mobius.txf",mpn:"application/vnd.mophun.application",mpc:"application/vnd.mophun.certificate",xul:"application/vnd.mozilla.xul+xml",cil:"application/vnd.ms-artgalry",cab:"application/vnd.ms-cab-compressed","xls,xlm,xla,xlc,xlt,xlw":"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xltm:"application/vnd.ms-excel.template.macroenabled.12",eot:"application/vnd.ms-fontobject",chm:"application/vnd.ms-htmlhelp",ims:"application/vnd.ms-ims",lrm:"application/vnd.ms-lrm",cat:"application/vnd.ms-pki.seccat",stl:"application/vnd.ms-pki.stl","ppt,pps,pot":"application/vnd.ms-powerpoint",ppam:"application/vnd.ms-powerpoint.addin.macroenabled.12",pptm:"application/vnd.ms-powerpoint.presentation.macroenabled.12",sldm:"application/vnd.ms-powerpoint.slide.macroenabled.12",ppsm:"application/vnd.ms-powerpoint.slideshow.macroenabled.12",potm:"application/vnd.ms-powerpoint.template.macroenabled.12","mpp,mpt":"application/vnd.ms-project",docm:"application/vnd.ms-word.document.macroenabled.12",dotm:"application/vnd.ms-word.template.macroenabled.12","wps,wks,wcm,wdb":"application/vnd.ms-works",wpl:"application/vnd.ms-wpl",xps:"application/vnd.ms-xpsdocument",mseq:"application/vnd.mseq",mus:"application/vnd.musician",msty:"application/vnd.muvee.style",nlu:"application/vnd.neurolanguage.nlu",nnd:"application/vnd.noblenet-directory",nns:"application/vnd.noblenet-sealer",nnw:"application/vnd.noblenet-web",ngdat:"application/vnd.nokia.n-gage.data","n-gage":"application/vnd.nokia.n-gage.symbian.install",rpst:"application/vnd.nokia.radio-preset",rpss:"application/vnd.nokia.radio-presets",edm:"application/vnd.novadigm.edm",edx:"application/vnd.novadigm.edx",ext:"application/vnd.novadigm.ext",odc:"application/vnd.oasis.opendocument.chart",otc:"application/vnd.oasis.opendocument.chart-template",odb:"application/vnd.oasis.opendocument.database",odf:"application/vnd.oasis.opendocument.formula",odft:"application/vnd.oasis.opendocument.formula-template",odg:"application/vnd.oasis.opendocument.graphics",otg:"application/vnd.oasis.opendocument.graphics-template",odi:"application/vnd.oasis.opendocument.image",oti:"application/vnd.oasis.opendocument.image-template",odp:"application/vnd.oasis.opendocument.presentation",ods:"application/vnd.oasis.opendocument.spreadsheet",ots:"application/vnd.oasis.opendocument.spreadsheet-template",odt:"application/vnd.oasis.opendocument.text",otm:"application/vnd.oasis.opendocument.text-master",ott:"application/vnd.oasis.opendocument.text-template",oth:"application/vnd.oasis.opendocument.text-web",xo:"application/vnd.olpc-sugar",dd2:"application/vnd.oma.dd2+xml",oxt:"application/vnd.openofficeorg.extension",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",sldx:"application/vnd.openxmlformats-officedocument.presentationml.slide",ppsx:"application/vnd.openxmlformats-officedocument.presentationml.slideshow",potx:"application/vnd.openxmlformats-officedocument.presentationml.template",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",dp:"application/vnd.osgi.dp","pdb,pqa,oprc":"application/vnd.palm",str:"application/vnd.pg.format",ei6:"application/vnd.pg.osasli",efif:"application/vnd.picsel",plf:"application/vnd.pocketlearn",pbd:"application/vnd.powerbuilder6",box:"application/vnd.previewsystems.box",mgz:"application/vnd.proteus.magazine",qps:"application/vnd.publishare-delta-tree",ptid:"application/vnd.pvi.ptid1","qxd,qxt,qwd,qwt,qxl,qxb":"application/vnd.quark.quarkxpress",mxl:"application/vnd.recordare.musicxml",musicxml:"application/vnd.recordare.musicxml+xml",cod:"application/vnd.rim.cod",rm:"application/vnd.rn-realmedia",link66:"application/vnd.route66.link66+xml",see:"application/vnd.seemail",sema:"application/vnd.sema",semd:"application/vnd.semd",semf:"application/vnd.semf",ifm:"application/vnd.shana.informed.formdata",itp:"application/vnd.shana.informed.formtemplate",iif:"application/vnd.shana.informed.interchange",ipk:"application/vnd.shana.informed.package","twd,twds":"application/vnd.simtech-mindmapper",mmf:"application/vnd.smaf",teacher:"application/vnd.smart.teacher","sdkm,sdkd":"application/vnd.solent.sdkm+xml",dxp:"application/vnd.spotfire.dxp",sfs:"application/vnd.spotfire.sfs",sdc:"application/vnd.stardivision.calc",sda:"application/vnd.stardivision.draw",sdd:"application/vnd.stardivision.impress",smf:"application/vnd.stardivision.math",sdw:"application/vnd.stardivision.writer",vor:"application/vnd.stardivision.writer",sgl:"application/vnd.stardivision.writer-global",sxc:"application/vnd.sun.xml.calc",stc:"application/vnd.sun.xml.calc.template",sxd:"application/vnd.sun.xml.draw",std:"application/vnd.sun.xml.draw.template",sxi:"application/vnd.sun.xml.impress",sti:"application/vnd.sun.xml.impress.template",sxm:"application/vnd.sun.xml.math",sxw:"application/vnd.sun.xml.writer",sxg:"application/vnd.sun.xml.writer.global",stw:"application/vnd.sun.xml.writer.template","sus,susp":"application/vnd.sus-calendar",svd:"application/vnd.svd","sis,sisx":"application/vnd.symbian.install",xsm:"application/vnd.syncml+xml",bdm:"application/vnd.syncml.dm+wbxml",xdm:"application/vnd.syncml.dm+xml",tao:"application/vnd.tao.intent-module-archive",tmo:"application/vnd.tmobile-livetv",tpt:"application/vnd.trid.tpt",mxs:"application/vnd.triscape.mxs",tra:"application/vnd.trueapp","ufd,ufdl":"application/vnd.ufdl",utz:"application/vnd.uiq.theme",umj:"application/vnd.umajin",unityweb:"application/vnd.unity",uoml:"application/vnd.uoml+xml",vcx:"application/vnd.vcx","vsd,vst,vss,vsw":"application/vnd.visio",vis:"application/vnd.visionary",vsf:"application/vnd.vsf",wbxml:"application/vnd.wap.wbxml",wmlc:"application/vnd.wap.wmlc",wmlsc:"application/vnd.wap.wmlscriptc",wtb:"application/vnd.webturbo",wpd:"application/vnd.wordperfect",wqd:"application/vnd.wqd",stf:"application/vnd.wt.stf",xar:"application/vnd.xara",xfdl:"application/vnd.xfdl",hvd:"application/vnd.yamaha.hv-dic",hvs:"application/vnd.yamaha.hv-script",hvp:"application/vnd.yamaha.hv-voice",osf:"application/vnd.yamaha.openscoreformat",osfpvg:"application/vnd.yamaha.openscoreformat.osfpvg+xml",saf:"application/vnd.yamaha.smaf-audio",spf:"application/vnd.yamaha.smaf-phrase",cmp:"application/vnd.yellowriver-custom-menu","zir,zirz":"application/vnd.zul",zaz:"application/vnd.zzazz.deck+xml",vxml:"application/voicexml+xml",hlp:"application/winhlp",wsdl:"application/wsdl+xml",wspolicy:"application/wspolicy+xml",abw:"application/x-abiword",ace:"application/x-ace-compressed","aab,x32,u32,vox":"application/x-authorware-bin",aam:"application/x-authorware-map",aas:"application/x-authorware-seg",bcpio:"application/x-bcpio",torrent:"application/x-bittorrent",bz:"application/x-bzip","bz2,boz":"application/x-bzip2",vcd:"application/x-cdlink",chat:"application/x-chat",pgn:"application/x-chess-pgn",cpio:"application/x-cpio",csh:"application/x-csh","deb,udeb":"application/x-debian-package","dir,dcr,dxr,cst,cct,cxt,w3d,fgd,swa":"application/x-director",wad:"application/x-doom",ncx:"application/x-dtbncx+xml",dtb:"application/x-dtbook+xml",res:"application/x-dtbresource+xml",dvi:"application/x-dvi",bdf:"application/x-font-bdf",gsf:"application/x-font-ghostscript",psf:"application/x-font-linux-psf",otf:"application/x-font-otf",pcf:"application/x-font-pcf",snf:"application/x-font-snf","ttf,ttc":"application/x-font-ttf","pfa,pfb,pfm,afm":"application/x-font-type1",spl:"application/x-futuresplash",gnumeric:"application/x-gnumeric",gtar:"application/x-gtar",hdf:"application/x-hdf",jnlp:"application/x-java-jnlp-file",latex:"application/x-latex","prc,mobi":"application/x-mobipocket-ebook",application:"application/x-ms-application",wmd:"application/x-ms-wmd",wmz:"application/x-ms-wmz",xbap:"application/x-ms-xbap",mdb:"application/x-msaccess",obd:"application/x-msbinder",crd:"application/x-mscardfile",clp:"application/x-msclip","exe,dll,com,bat,msi":"application/x-msdownload","mvb,m13,m14":"application/x-msmediaview",wmf:"application/x-msmetafile",mny:"application/x-msmoney",pub:"application/x-mspublisher",scd:"application/x-msschedule",trm:"application/x-msterminal",wri:"application/x-mswrite","nc,cdf":"application/x-netcdf","p12,pfx":"application/x-pkcs12","p7b,spc":"application/x-pkcs7-certificates",p7r:"application/x-pkcs7-certreqresp",rar:"application/x-rar-compressed",sh:"application/x-sh",shar:"application/x-shar",swf:"application/x-shockwave-flash",xap:"application/x-silverlight-app",sit:"application/x-stuffit",sitx:"application/x-stuffitx",sv4cpio:"application/x-sv4cpio",sv4crc:"application/x-sv4crc",tar:"application/x-tar",tcl:"application/x-tcl",tex:"application/x-tex",tfm:"application/x-tex-tfm","texinfo,texi":"application/x-texinfo",ustar:"application/x-ustar",src:"application/x-wais-source","der,crt":"application/x-x509-ca-cert",fig:"application/x-xfig",xpi:"application/x-xpinstall",xenc:"application/xenc+xml","xhtml,xht":"application/xhtml+xml","xml,xsl":"application/xml",dtd:"application/xml-dtd",xop:"application/xop+xml",xslt:"application/xslt+xml",xspf:"application/xspf+xml","mxml,xhvml,xvml,xvm":"application/xv+xml",zip:"application/zip",adp:"audio/adpcm","au,snd":"audio/basic","mid,midi,kar,rmi":"audio/midi",mp4a:"audio/mp4","m4a,m4p":"audio/mp4a-latm","mpga,mp2,mp2a,mp3,m2a,m3a":"audio/mpeg","oga,ogg,spx":"audio/ogg",eol:"audio/vnd.digital-winds",dts:"audio/vnd.dts",dtshd:"audio/vnd.dts.hd",lvp:"audio/vnd.lucent.voice",pya:"audio/vnd.ms-playready.media.pya",ecelp4800:"audio/vnd.nuera.ecelp4800",ecelp7470:"audio/vnd.nuera.ecelp7470",ecelp9600:"audio/vnd.nuera.ecelp9600",aac:"audio/x-aac","aif,aiff,aifc":"audio/x-aiff",m3u:"audio/x-mpegurl",wax:"audio/x-ms-wax",wma:"audio/x-ms-wma","ram,ra":"audio/x-pn-realaudio",rmp:"audio/x-pn-realaudio-plugin",wav:"audio/x-wav",cdx:"chemical/x-cdx",cif:"chemical/x-cif",cmdf:"chemical/x-cmdf",cml:"chemical/x-cml",csml:"chemical/x-csml",xyz:"chemical/x-xyz",bmp:"image/bmp",cgm:"image/cgm",g3:"image/g3fax",gif:"image/gif",ief:"image/ief",jp2:"image/jp2","jpeg,jpg,jpe":"image/jpeg","pict,pic,pct":"image/pict",png:"image/png",btif:"image/prs.btif","svg,svgz":"image/svg+xml","tiff,tif":"image/tiff",psd:"image/vnd.adobe.photoshop","djvu,djv":"image/vnd.djvu",dwg:"image/vnd.dwg",dxf:"image/vnd.dxf",fbs:"image/vnd.fastbidsheet",fpx:"image/vnd.fpx",fst:"image/vnd.fst",mmr:"image/vnd.fujixerox.edmics-mmr",rlc:"image/vnd.fujixerox.edmics-rlc",mdi:"image/vnd.ms-modi",npx:"image/vnd.net-fpx",wbmp:"image/vnd.wap.wbmp",xif:"image/vnd.xiff",ras:"image/x-cmu-raster",cmx:"image/x-cmx","fh,fhc,fh4,fh5,fh7":"image/x-freehand",ico:"image/x-icon","pntg,pnt,mac":"image/x-macpaint",pcx:"image/x-pcx",pnm:"image/x-portable-anymap",pbm:"image/x-portable-bitmap",pgm:"image/x-portable-graymap",ppm:"image/x-portable-pixmap","qtif,qti":"image/x-quicktime",rgb:"image/x-rgb",xbm:"image/x-xbitmap",xpm:"image/x-xpixmap",xwd:"image/x-xwindowdump","eml,mime":"message/rfc822","igs,iges":"model/iges","msh,mesh,silo":"model/mesh",dwf:"model/vnd.dwf",gdl:"model/vnd.gdl",gtw:"model/vnd.gtw",mts:"model/vnd.mts",vtu:"model/vnd.vtu","wrl,vrml":"model/vrml","ics,ifb":"text/calendar",css:"text/css",csv:"text/csv","html,htm":"text/html","txt,text,conf,def,list,log,in":"text/plain",dsc:"text/prs.lines.tag",rtx:"text/richtext","sgml,sgm":"text/sgml",tsv:"text/tab-separated-values","t,tr,roff,man,me,ms":"text/troff","uri,uris,urls":"text/uri-list",curl:"text/vnd.curl",dcurl:"text/vnd.curl.dcurl",scurl:"text/vnd.curl.scurl",mcurl:"text/vnd.curl.mcurl",fly:"text/vnd.fly",flx:"text/vnd.fmi.flexstor",gv:"text/vnd.graphviz","3dml":"text/vnd.in3d.3dml",spot:"text/vnd.in3d.spot",jad:"text/vnd.sun.j2me.app-descriptor",wml:"text/vnd.wap.wml",wmls:"text/vnd.wap.wmlscript","s,asm":"text/x-asm","c,cc,cxx,cpp,h,hh,dic":"text/x-c","f,for,f77,f90":"text/x-fortran","p,pas":"text/x-pascal",java:"text/x-java-source",etx:"text/x-setext",uu:"text/x-uuencode",vcs:"text/x-vcalendar",vcf:"text/x-vcard","3gp":"video/3gpp","3g2":"video/3gpp2",h261:"video/h261",h263:"video/h263",h264:"video/h264",jpgv:"video/jpeg","jpm,jpgm":"video/jpm","mj2,mjp2":"video/mj2","mp4,mp4v,mpg4,m4v":"video/mp4","mpeg,mpg,mpe,m1v,m2v":"video/mpeg",ogv:"video/ogg","qt,mov":"video/quicktime",fvt:"video/vnd.fvt","mxu,m4u":"video/vnd.mpegurl",pyv:"video/vnd.ms-playready.media.pyv",viv:"video/vnd.vivo","dv,dif":"video/x-dv",f4v:"video/x-f4v",fli:"video/x-fli",flv:"video/x-flv",m4v:"video/x-m4v","asf,asx":"video/x-ms-asf",wm:"video/x-ms-wm",wmv:"video/x-ms-wmv",wmx:"video/x-ms-wmx",wvx:"video/x-ms-wvx",avi:"video/x-msvideo",movie:"video/x-sgi-movie",ice:"x-conference/x-cooltalk",mobi:"application/x-mobipocket-ebook","README,LICENSE,COPYING,TODO,ABOUT,AUTHORS,CONTRIBUTORS":"text/plain"},t="binary/octet-stream",n={charset:"UTF-8",catalog:{},get:function(e,n){if(!e)return t;var r=this.catalog[e.toString().split(".").slice(-1).toString().toLowerCase()];return n=n||{},r&&n.includeCharset&&r.match(/^text\//)&&(r+="; charset="+(n.charset||this.charset)),r||t},set:function(e,t){for(var n=e.split(","),r=0;r<n.length;r++)this.catalog[n[r]]=t}};for(var r in e)n.set(r,e[r]);return n}.apply(t,[]))||(e.exports=r)},,function(e,t){function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(i){"object"===("undefined"===typeof window?"undefined":n(window))&&(r=window)}e.exports=r},function(e,t,n){(function(){var e,t,n,r,i={}.hasOwnProperty;(r=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,n,r,i,o,a;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:this.escapeExpression(e.label),title:e.title?e.title:void 0,children:0,disabled:e.disabled,classes:e.className}),a=[],r=0,i=(o=e.childNodes).length;r<i;r++)n=o[r],a.push(this.add_option(n,t,e.disabled));return a},e.prototype.add_option=function(e,t,n){if("OPTION"===e.nodeName.toUpperCase())return""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,title:e.title?e.title:void 0,selected:e.selected,disabled:!0===n?n:e.disabled,group_array_index:t,group_label:null!=t?this.parsed[t].label:null,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},e.prototype.escapeExpression=function(e){var t,n;return null==e||!1===e?"":/[\&\<\>\"\'\`]/.test(e)?(t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n=/&(?!\w+;)|[\<\>\"\'\`]/g,e.replace(n,(function(e){return t[e]||"&amp;"}))):e},e}()).select_to_array=function(e){var t,n,i,o,a;for(n=new r,i=0,o=(a=e.childNodes).length;i<o;i++)t=a[i],n.add_node(t);return n.parsed},t=function(){function e(t,n){this.form_field=t,this.options=null!=n?n:{},e.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return e.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1},e.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||e.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||e.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||e.default_no_result_text},e.prototype.choice_label=function(e){return this.include_group_label_in_selected&&null!=e.group_label?"<b class='group-name'>"+e.group_label+"</b>"+e.html:e.html},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(e){var t=this;if(this.is_multiple){if(!this.active_field)return setTimeout((function(){return t.container_mousedown()}),50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(e){var t=this;if(!this.mouse_on_container)return this.active_field=!1,setTimeout((function(){return t.blur_test()}),100)},e.prototype.results_option_build=function(e){var t,n,r,i,o;for(t="",r=0,i=(o=this.results_data).length;r<i;r++)(n=o[r]).group?t+=this.result_add_group(n):t+=this.result_add_option(n),(null!=e?e.first:void 0)&&(n.selected&&this.is_multiple?this.choice_build(n):n.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(n)));return t},e.prototype.result_add_option=function(e){var t,n;return e.search_match&&this.include_option_in_results(e)?(t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),(n=document.createElement("li")).className=t.join(" "),n.style.cssText=e.style,n.setAttribute("data-option-array-index",e.array_index),n.setAttribute("data-option-value-text",e.value),n.innerHTML=e.search_text,e.title&&(n.title=e.title),this.outerHTML(n)):""},e.prototype.result_add_group=function(e){var t,n;return(e.search_match||e.group_match)&&e.active_options>0?((t=[]).push("group-result"),e.classes&&t.push(e.classes),(n=document.createElement("li")).className=t.join(" "),n.innerHTML=e.search_text,e.title&&(n.title=e.title),this.outerHTML(n)):""},e.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},e.prototype.reset_single_select_options=function(){var e,t,n,r,i;for(i=[],t=0,n=(r=this.results_data).length;t<n;t++)(e=r[t]).selected?i.push(e.selected=!1):i.push(void 0);return i},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(e){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.winnow_results=function(){var e,t,n,r,i,o,a,s,l,c,u,d;for(this.no_results_clear(),r=0,e=(o=this.get_search_text()).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),l=new RegExp(e,"i"),n=this.get_search_regex(e),c=0,u=(d=this.results_data).length;c<u;c++)(t=d[c]).search_match=!1,i=null,this.include_option_in_results(t)&&(t.group&&(t.group_match=!1,t.active_options=0),null!=t.group_array_index&&this.results_data[t.group_array_index]&&(0===(i=this.results_data[t.group_array_index]).active_options&&i.search_match&&(r+=1),i.active_options+=1),t.search_text=t.group?t.label:t.html,t.group&&!this.group_search||(t.search_match=this.search_string_match(t.search_text,n),t.search_match&&!t.group&&(r+=1),t.search_match?(o.length&&(a=t.search_text.search(l),s=t.search_text.substr(0,a+o.length)+"</em>"+t.search_text.substr(a+o.length),t.search_text=s.substr(0,a)+"<em>"+s.substr(a)),null!=i&&(i.group_match=!0)):null!=t.group_array_index&&this.results_data[t.group_array_index].search_match&&(t.search_match=!0)));if(this.result_clear_highlight(),!(r<1&&o.length))return this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight();this.update_results_content("")},e.prototype.get_search_regex=function(e){var t;return t=this.search_contains?"":"^",new RegExp(t+e,"i")},e.prototype.search_string_match=function(e,t){var n,r,i,o;if(t.test(e))return!0;if(this.enable_split_word_search&&(e.indexOf(" ")>=0||0===e.indexOf("["))&&(r=e.replace(/\[|\]/g,"").split(" ")).length)for(i=0,o=r.length;i<o;i++)if(n=r[i],t.test(n))return!0},e.prototype.choices_count=function(){var e,t,n;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,e=0,t=(n=this.form_field.options).length;e<t;e++)n[e].selected&&(this.selected_option_count+=1);return this.selected_option_count},e.prototype.choices_click=function(e){if(e.preventDefault(),!this.results_showing&&!this.is_disabled)return this.results_show()},e.prototype.keyup_checker=function(e){var t,n;switch(t=null!=(n=e.which)?n:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},e.prototype.clipboard_event_checker=function(e){var t=this;return setTimeout((function(){return t.results_search()}),50)},e.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},e.prototype.include_option_in_results=function(e){return!(this.is_multiple&&!this.display_selected_options&&e.selected)&&(!(!this.display_disabled_options&&e.disabled)&&!e.empty)},e.prototype.search_results_touchstart=function(e){return this.touch_started=!0,this.search_results_mouseover(e)},e.prototype.search_results_touchmove=function(e){return this.touch_started=!1,this.search_results_mouseout(e)},e.prototype.search_results_touchend=function(e){if(this.touch_started)return this.search_results_mouseup(e)},e.prototype.outerHTML=function(e){var t;return e.outerHTML?e.outerHTML:((t=document.createElement("div")).appendChild(e),t.innerHTML)},e.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:!/iP(od|hone)/i.test(window.navigator.userAgent)&&(!/Android/i.test(window.navigator.userAgent)||!/Mobile/i.test(window.navigator.userAgent))},e.default_multiple_text="Select Some Options",e.default_single_text="Select an Option",e.default_no_result_text="No results match",e}(),(e=jQuery).fn.extend({chosen:function(r){return t.browser_is_supported()?this.each((function(t){var i,o;o=(i=e(this)).data("chosen"),"destroy"===r&&o instanceof n?o.destroy():o instanceof n||i.data("chosen",new n(this,r))})):this}}),n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,t),n.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},n.prototype.set_up_html=function(){var t,n;return(t=["chosen-container"]).push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chosen-rtl"),n={class:t.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(n.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=e("<div />",n),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},n.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},n.prototype.register_observers=function(){var e=this;return this.container.bind("touchstart.chosen",(function(t){return e.container_mousedown(t),t.preventDefault()})),this.container.bind("touchend.chosen",(function(t){return e.container_mouseup(t),t.preventDefault()})),this.container.bind("mousedown.chosen",(function(t){e.container_mousedown(t)})),this.container.bind("mouseup.chosen",(function(t){e.container_mouseup(t)})),this.container.bind("mouseenter.chosen",(function(t){e.mouse_enter(t)})),this.container.bind("mouseleave.chosen",(function(t){e.mouse_leave(t)})),this.search_results.bind("mouseup.chosen",(function(t){e.search_results_mouseup(t)})),this.search_results.bind("mouseover.chosen",(function(t){e.search_results_mouseover(t)})),this.search_results.bind("mouseout.chosen",(function(t){e.search_results_mouseout(t)})),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",(function(t){e.search_results_mousewheel(t)})),this.search_results.bind("touchstart.chosen",(function(t){e.search_results_touchstart(t)})),this.search_results.bind("touchmove.chosen",(function(t){e.search_results_touchmove(t)})),this.search_results.bind("touchend.chosen",(function(t){e.search_results_touchend(t)})),this.form_field_jq.bind("chosen:updated.chosen",(function(t){e.results_update_field(t)})),this.form_field_jq.bind("chosen:activate.chosen",(function(t){e.activate_field(t)})),this.form_field_jq.bind("chosen:open.chosen",(function(t){e.container_mousedown(t)})),this.form_field_jq.bind("chosen:close.chosen",(function(t){e.input_blur(t)})),this.form_field_jq.bind("chosen:clear.chosen",(function(t){e.search_field.val("")})),this.search_field.bind("blur.chosen",(function(t){e.input_blur(t)})),this.search_field.bind("keyup.chosen",(function(t){e.keyup_checker(t)})),this.search_field.bind("keydown.chosen",(function(t){e.keydown_checker(t)})),this.search_field.bind("focus.chosen",(function(t){e.input_focus(t)})),this.search_field.bind("cut.chosen",(function(t){e.clipboard_event_checker(t)})),this.search_field.bind("paste.chosen",(function(t){e.clipboard_event_checker(t)})),this.is_multiple?this.search_choices.bind("click.chosen",(function(t){e.choices_click(t)})):this.container.bind("click.chosen",(function(e){e.preventDefault()}))},n.prototype.destroy=function(){return e(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},n.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},n.prototype.container_mousedown=function(t){if(!this.is_disabled&&(t&&"mousedown"===t.type&&!this.results_showing&&t.preventDefault(),null==t||!e(t.target).hasClass("search-choice-close")))return this.active_field?this.is_multiple||!t||e(t.target)[0]!==this.selected_item[0]&&!e(t.target).parents("a.chosen-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field()},n.prototype.container_mouseup=function(e){if("ABBR"===e.target.nodeName&&!this.is_disabled)return this.results_reset(e)},n.prototype.search_results_mousewheel=function(e){var t;if(e.originalEvent&&(t=e.originalEvent.deltaY||-e.originalEvent.wheelDelta||e.originalEvent.detail),null!=t)return e.preventDefault(),"DOMMouseScroll"===e.type&&(t*=40),this.search_results.scrollTop(t+this.search_results.scrollTop())},n.prototype.blur_test=function(e){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},n.prototype.close_field=function(){return e(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},n.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},n.prototype.test_active_click=function(t){var n;return(n=e(t.target).closest(".chosen-container")).length&&this.container[0]===n[0]?this.active_field=!0:this.close_field()},n.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=r.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},n.prototype.result_do_highlight=function(e){var t,n,r,i,o;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),i=(r=parseInt(this.search_results.css("maxHeight"),10))+(o=this.search_results.scrollTop()),(t=(n=this.result_highlight.position().top+this.search_results.scrollTop())+this.result_highlight.outerHeight())>=i)return this.search_results.scrollTop(t-r>0?t-r:0);if(n<o)return this.search_results.scrollTop(n)}},n.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},n.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},n.prototype.update_results_content=function(e){return this.search_results.html(e)},n.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},n.prototype.set_tab_index=function(e){var t;if(this.form_field.tabIndex)return t=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=t},n.prototype.set_label_behavior=function(){var t=this;if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=e("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0)return this.form_field_label.bind("click.chosen",(function(e){return t.is_multiple?t.container_mousedown(e):t.activate_field()}))},n.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):this.search_field.removeClass("default")},n.prototype.search_results_mouseup=function(t){var n;if((n=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first()).length)return this.result_highlight=n,this.result_select(t),this.search_field.focus()},n.prototype.search_results_mouseover=function(t){var n;if(n=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first())return this.result_do_highlight(n)},n.prototype.search_results_mouseout=function(t){if(e(t.target).hasClass("active-result"))return this.result_clear_highlight()},n.prototype.choice_build=function(t){var n,r,i=this;return n=e("<li />",{class:"search-choice"}).html("<span>"+this.choice_label(t)+"</span>"),t.disabled?n.addClass("search-choice-disabled"):((r=e("<a />",{class:"search-choice-close","data-option-array-index":t.array_index})).bind("click.chosen",(function(e){return i.choice_destroy_link_click(e)})),n.append(r)),this.search_container.before(n)},n.prototype.choice_destroy_link_click=function(t){if(t.preventDefault(),t.stopPropagation(),!this.is_disabled)return this.choice_destroy(e(t.target))},n.prototype.choice_destroy=function(e){if(this.result_deselect(e[0].getAttribute("data-option-array-index")))return this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()},n.prototype.results_reset=function(){if(this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field)return this.results_hide()},n.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},n.prototype.result_select=function(e){var t,n;if(this.result_highlight)return t=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):this.reset_single_select_options(),t.addClass("result-selected"),(n=this.results_data[t[0].getAttribute("data-option-array-index")]).selected=!0,this.form_field.options[n.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(n):this.single_set_selected_text(this.choice_label(n)),(e.metaKey||e.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[n.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,e.preventDefault(),this.search_field_scale())},n.prototype.single_set_selected_text=function(e){return null==e&&(e=this.default_text),e===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(e)},n.prototype.result_deselect=function(e){var t;return t=this.results_data[e],!this.form_field.options[t.options_index].disabled&&(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},n.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},n.prototype.get_search_text=function(){return e("<div/>").text(e.trim(this.search_field.val())).html()},n.prototype.winnow_results_set_highlight=function(){var e,t;if(null!=(e=(t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result")).length?t.first():this.search_results.find(".active-result").first()))return this.result_do_highlight(e)},n.prototype.no_results=function(t){var n;return(n=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>')).find("span").first().html(t),this.search_results.append(n),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},n.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},n.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},n.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(e.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},n.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last()).length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},n.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},n.prototype.keydown_checker=function(e){var t,n;switch(t=null!=(n=e.which)?n:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:this.results_showing&&e.preventDefault();break;case 32:this.disable_search&&e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},n.prototype.search_field_scale=function(){var t,n,r,i,o,a,s,l;if(this.is_multiple){for(0,a=0,i="position:absolute; left: -1000px; top: -1000px; display:none;",s=0,l=(o=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"]).length;s<l;s++)i+=(r=o[s])+":"+this.search_field.css(r)+";";return(t=e("<div />",{style:i})).text(this.search_field.val()),e("body").append(t),a=t.width()+25,t.remove(),a>(n=this.container.outerWidth())-10&&(a=n-10),this.search_field.css({width:a+"px"})}},n}(t)}).call(this)},,function(e,t,n){"use strict";var r;void 0===(r=function(){var e;return e=0,function(t,n){clearTimeout(e),e=setTimeout(t,n)}}.apply(t,[]))||(e.exports=r)},function(e,t,n){"use strict";n.r(t);var r=n(2),i=n.n(r),o=n(35),a=n.n(o);t.default=i()((function(){this.getCurrentUserInfo=function(e,t){var n=this,r={};t.offerCodeName&&(r.code=t.offerCodeName),t.fetchPurchase&&(r.fetch_purchase=!0),$.ajax({type:"GET",url:Routes.user_info_link_path(t.permalink)+"?"+a.a.stringify(r,{encode:!1}),dataType:"json"}).done((function(e){e.permalink=t.permalink,n.trigger("dataCurrentUserInfo",e)}))},this.after("initialize",(function(){this.on(document,"uiNeedsToGetCurrentUserInfo",this.getCurrentUserInfo)}))}))},function(e,t,n){var r,i;function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(){"use strict";r=[n(31),n(516),n(181),n(3)],void 0===(i=function(e,t,n){return function(){e.mixin(this,[n]);var r="is-arrow-relevant";this.defaultAttrs({defaultImageWidth:1005,iframeSelector:".js-oembed-iframe",multiPreviewContainerSelector:".js-preview-container",closeOverlaySelector:".js-close-popped-product-modal",previewArrowSelector:".js-preview-arrow",previewArrowVisibleSelector:".js-preview-arrow.".concat(r),previewContentSelector:".js-preview-content",previewImageSelector:"img.preview",previewPickerSelector:".js-preview-picker",previewPickerItemSelector:".js-preview-picker-item",isArrowRelevantClassname:r}),this.addOrientationChangeListeners=function(){this.attr.isMobile&&$.each(["portrait","landscape"],function(e,t){window.matchMedia("(orientation: "+t+")").addListener(function(e){e.matches&&this.showPreview()}.bind(this))}.bind(this))},this.getDimensions=function(){var e=this.$node.parent().width()/this.attr.activePreview.native_width,t={width:this.attr.activePreview.width,height:this.attr.activePreview.height};return e<1&&this.attr.activePreview&&!this.attr.isFixedHeight&&(t.width=this.attr.activePreview.native_width*e,t.height=this.attr.activePreview.native_height*e),t},this.initializePreviewMediaPlayer=function(){this.attr.activePreview&&"video"===this.attr.activePreview.type&&this.initializeVideoPlayer({height:this.select("multiPreviewContainerSelector").css("height"),width:this.select("multiPreviewContainerSelector").css("width")})},this.initializePreview=function(){this.attr.activePreviewId=this.select("multiPreviewContainerSelector").data("active-preview-id"),this.attr.productPermalink=this.select("multiPreviewContainerSelector").data("product-permalink"),this.attr.assetPreviews=this.select("multiPreviewContainerSelector").data("asset-previews"),this.setActivePreview(),this.attr.activePreview&&this.showPreview()},this.keyAction=function(e){!$(e.target).filter("input, [data-medium-element]").length&&this.attr.onProductPage&&(37===e.which&&this.attr.activePreviewIndex>0?(this.attr.activePreviewId=this.attr.assetPreviews[this.attr.activePreviewIndex-1].id,this.showPreview()):39===e.which&&this.attr.activePreviewIndex<this.attr.assetPreviews.length-1&&(this.attr.activePreviewId=this.attr.assetPreviews[this.attr.activePreviewIndex+1].id,this.showPreview()))},this.pauseVideo=function(){this.toggleVideo(!1)},this.playVideo=function(){this.toggleVideo(!0)},this.populateOembedUrl=function(){var e=this.select("previewContentSelector").find("iframe");e.data("oembed-url")&&!e.attr("src")&&e.attr("src",e.data("oembed-url"))},this.populatePreview=function(){if(!this.attr.activePreviewId)return this.select("multiPreviewContainerSelector").css({background:"",height:""}).addClass("default-preview"),void this.select("previewContentSelector").empty();this.select("multiPreviewContainerSelector").removeClass("default-preview"),$(".product.popped .preview-container").css({height:""});var e=this.getDimensions(),n={width:"auto",height:"auto"},r="",i=this.$node.width()>this.attr.defaultImageWidth?this.attr.activePreview.original_url:this.attr.activePreview.url;"image"===this.attr.activePreview.type&&this.attr.isImageAsBackground?(n=$.extend(n,{"background-repeat":"no-repeat","background-position":"top center","background-image":"url("+i+")","background-size":"cover"}),this.attr.isMobile&&$.extend(n,e),(this.attr.isFixedHeight||this.$node.parents(".product-grid").length)&&$.extend(n,{width:"100%",height:"290px"})):(n.background="","image"===this.attr.activePreview.type&&(n.height=e.height),r=t($.extend({},this.attr.activePreview,e))),this.select("previewContentSelector").html(r),this.select("multiPreviewContainerSelector").css(n),this.attr.isMobile||"image"!==this.attr.activePreview.type||this.attr.isOverlayPage||$(".product.popped .preview-container").css({height:this.attr.activePreview.height}),this.readyPreview()},this.populatePreviewFlipper=function(){if(!this.attr.assetPreviews||this.attr.assetPreviews.length<=1||this.select("previewArrowSelector").length<1)this.select("previewArrowSelector").removeClass(this.attr.isArrowRelevantClassname);else{var e=this.select("previewArrowSelector").filter(".previous"),t=this.select("previewArrowSelector").filter(".next");0===this.attr.activePreviewIndex?e.removeClass(this.attr.isArrowRelevantClassname).removeData("asset-preview-id"):e.addClass(this.attr.isArrowRelevantClassname).data("asset-preview-id",this.attr.assetPreviews[this.attr.activePreviewIndex-1].id),this.attr.activePreviewIndex>=this.attr.assetPreviews.length-1?t.removeClass(this.attr.isArrowRelevantClassname).removeData("asset-preview-id"):t.addClass(this.attr.isArrowRelevantClassname).data("asset-preview-id",this.attr.assetPreviews[this.attr.activePreviewIndex+1].id)}},this.populatePreviewPicker=function(){var e=this.select("previewPickerSelector");e.addClass("empty").empty(),e.length&&($.each(this.attr.assetPreviews,function(e,t){var n=$("<li>",{class:"js-preview-picker-item","data-asset-preview-id":t.id});t.id===this.attr.activePreviewId&&n.addClass("active"),this.select("previewPickerSelector").append(n)}.bind(this)),this.attr.assetPreviews.length>1&&(e.removeClass("empty").show(),this.select("multiPreviewContainerSelector").addClass("has-multiple-previews")))},this.readyPreview=function(){this.initializePreviewMediaPlayer(),this.populatePreviewPicker(),this.populatePreviewFlipper(),this.updateCurrentProductPageTabHeight(),this.populateOembedUrl()},this.selectPreview=function(e,t){e&&e.stopPropagation(),this.attr.activePreviewId=$(t.el).data("asset-preview-id"),this.showPreview()},this.setActivePreview=function(){delete this.attr.activePreviewIndex,delete this.attr.activePreview,this.attr.assetPreviews&&$.each(this.attr.assetPreviews,function(e,t){if(t.id===this.attr.activePreviewId){if(this.attr.activePreviewIndex=e,this.attr.activePreview=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t),this.attr.activePreview[this.attr.activePreview.type+"_preview"]=!0,this.attr.activePreview.disallowPreviewPlayback=this.attr.isLibraryPage||this.attr.isUserPage,"video"===this.attr.activePreview.type){var n=this.attr.activePreview.url;this.attr.activePreview.playlist=JSON.stringify([{sources:[n]}])}return!1}}.bind(this))},this.showPreview=function(e){this.select("multiPreviewContainerSelector").removeClass("uploading"),this.select("uploadURLInputSelector").val(""),this.setActivePreview(),this.populatePreview(),this.updateCurrentProductPageTabHeight()},this.toggleVideo=function(e){var t=this.select("iframeSelector")[0],n=null;t&&(t.src.match(/vimeo/)?n={method:e?"play":"pause"}:t.src.match(/youtube/)&&(n={event:"command",func:e?"playVideo":"pauseVideo",args:""}),n&&t.contentWindow.postMessage(JSON.stringify(n),"*"))},this.updateCurrentProductPageTabHeight=function(){this.trigger("uiUpdateCurrentProductPageTabHeight")},this.hideProductAndProductOverlay=function(){this.trigger("uiNeedsToHideProductOverlay")},this.after("initialize",(function(){this.attr.onProductPage=this.$node.parents("body#product_page").length>0,this.attr.isFixedHeight=this.select("multiPreviewContainerSelector").hasClass("js-fixed-preview-height"),this.attr.isImageAsBackground=this.$node.hasClass("image-as-background"),this.attr.isOverlayPage=this.$node.parents("#overlay-page").length>0,this.attr.isLibraryPage=this.$node.parents(".library").length>0,this.attr.isUserPage=this.$node.parents("#user_page").length>0,this.on("click",{previewArrowVisibleSelector:this.selectPreview,previewPickerItemSelector:this.selectPreview,closeOverlaySelector:this.hideProductAndProductOverlay}),this.on(document,"keydown",this.keyAction),this.on(document,"showPreview",this.showPreview),this.on(document,"uiNeedsToPauseVideo",this.pauseVideo),this.addOrientationChangeListeners(),this.initializePreview()}))}}.apply(t,r))||(e.exports=i)}()},function(e,t,n){"use strict";var r,i;r=[n(131),n(31)],void 0===(i=function(e,t){return function(){t.mixin(this,[e]),this.defaultAttrs({creditCardHolderSelector:".credit_card_holder",cardErrorSelector:".card_error_popup",cardErrorPopupMessageSelector:".card_error_popup .message",rememberedCardIconSelector:".remembered .card_icon",presetCCNumberSelector:".preset_cc_number",presetCCInputSelector:".saved_card .js-expiry_date_p .preset_cc_input",saveCardSelector:'input[name="save_card"]',savePayPalSelector:".js-save-paypal-selector",keepOnFileSelector:".keep-on-file-notice",creditCardRequiredFieldSelector:".credit_card_holder .credit_card.new-card .required",numericSelector:".credit_card_holder .numeric",numericSpacesSelector:".credit_card_holder .numeric-spaces",isCreditCardFormInUse:!1}),this.setCreditCardFormInUse=function(e){this.attr.isCreditCardFormInUse=e},this.isCreditCardFormInUse=function(){return this.attr.isCreditCardFormInUse},this.setCreditCard=function(){this.setCreditCardFormState(this.attr.user.card.credit);var e=this.select("testCardSelector"),t=this.select("newCardSelector"),n=this.select("savedCardSelector"),r=this.select("creditCardRequiredFieldSelector");"test"==this.attr.user.card.credit?(this.attr.isSamplePurchase=!0,e.fadeIn(),t.fadeOut(),n.remove(),r.removeClass("required")):"saved"==this.attr.user.card.credit?(e.remove(),"paypal"==this.attr.user.card.type?(this.select("rememberedSelector").hide(),this.select("keepOnFileSelector").hide(),n.hide(),t.fadeIn(),this.setSavedPayPalCardInUse(this.attr.user.card.visual)):(this.select("presetCCNumberSelector").html(this.attr.user.card.visual),this.select("presetCCInputSelector").html(this.attr.user.card.date),this.select("rememberedCardIconSelector").addClass(this.attr.user.card.type),n.fadeIn(),t.fadeOut()),r.removeClass("required")):"new"==this.attr.user.card.credit&&(n.remove(),e.remove())},this.setCreditCardFormVisibility=function(e){null!=e&&e+this.getTotalShippingCents()>0&&!this.attr.isMultiBuyEnabled?this.showCreditCardForm():0==e&&0==this.getTotalShippingCents()&&this.hideCreditCardForm()},this.showCreditCardForm=function(){var e=this.select("creditCardHolderSelector"),t=this.select("payButtonSelector");this.getZeroPlusEnabled()?t.text(I18n.t("js.give_prompt")):t.text(t.data("default")),e.show(),this.trigger("uiAnimatePaymentFormHeight",{animate:!1})},this.hideCreditCardForm=function(){var e=this.select("creditCardHolderSelector"),t=this.select("payButtonSelector");e.is(":visible")&&(t.text(I18n.t("js.get_prompt")),e.hide(),this.trigger("uiAnimatePaymentFormHeight",{animate:!1}))},this.popupCreditCardError=function(e){var t=this.select("cardErrorSelector");this.select("cardErrorPopupMessageSelector").text(e),t.removeClass("hidden").fadeIn(400),setTimeout((function(){t.fadeOut(400)}),3e3)},this.showCreditCardError=function(e,t){this.popupCreditCardError(t.error_message)},this.payIfEnterKeyPressed=function(e){13==e.which&&this.payIfAllowed()},this.syncSaveCardCheckboxes=function(e){this.select("saveCardSelector").prop("checked",$(e.target).prop("checked"))},this.after("initialize",(function(){this.on("keypress",{numericSelector:this.payIfEnterKeyPressed,numericSpacesSelector:this.payIfEnterKeyPressed}),this.on("click",{saveCardSelector:this.syncSaveCardCheckboxes}),this.on(document,"uiNeedsToShowCreditCardError",this.showCreditCardError)}))}}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(2),n(741),n(558),n(277),n(560),n(279),n(561),n(562),n(282),n(181),n(81),n(45),n(132)],void 0===(i=function(e,t,n,r,i,o,a,s,l,c,u,d){return e((function(){this.defaultAttrs({productSelector:".product",isShowingPaymentForm:!1,isCurrentUserSet:!1,isCustomerSurchargeSet:!1,slideAnimationSpeed:400,isProductDisabled:!1,hasViewIncremented:!1,isMobile:!1,isModal:!1,isEmbed:!1,isOutboundEmbed:!1,incrementViewCountOnInit:!1,onUserProfile:!1,onProductPage:!1,onEditPage:!1,wasProductRecommended:!1}),this.switchToPaymentForm=function(e){var t=this;e=e&&!this.attr.isMobile;var n=this.getPaymentFormHeight();n===this.select("paymentFormSelector").height()&&this.attr.isShowingPaymentForm&&(e=!1);var r=e?"animate":"css";e&&(this.attr.isAnimatingPaymentForm=!0),this.attr.nativePayPalPaymentDisabled=!this.attr.supportsNativePaypalPayment,"true"===$('meta[property="gr:paypal:pay_with_paypal_enabled"]').attr("value")&&this.trigger("uiNeedsBraintreeClientTokenFetched",{isOverlay:this.attr.isOverlay,isMultiBuyEnabled:this.attr.onMultiOverlay||this.attr.isMultiBuyEnabled}),this.updateDefaultHeight(),this.select("productMainSelector")[r]({height:0},this.attr.slideAnimationSpeed),this.select("paymentFormSelector")[r]({height:n},this.attr.slideAnimationSpeed,null,(function(){t.attr.isAnimatingPaymentForm=!1})),this.attr.isShowingPaymentForm||this.attr.payingWithPayPal||this.attr.onEditPage||this.showStripeElements(".js-product #card-number",".js-product #card-expiry",".js-product #card-cvc"),this.attr.isShowingPaymentForm=!0,this.trigger("uiPaymentFormShown")},this.switchToProductMain=function(e){var t=e&&!this.attr.isMobile?"animate":"css",n=this.select("productMainSelector").height(),r=this.select("productMainSelector");r.css("height","auto");var i=r.height();this.attr.defaultProductMainHeight=i,this.updateDefaultHeight(),this.select("paymentFormSelector")[t]({height:0},this.attr.slideAnimationSpeed),this.select("productMainSelector").height(n),r[t]({height:i},{duration:this.attr.slideAnimationSpeed,complete:function(){r.css("height","auto").removeAttr("height")}}),this.attr.isShowingPaymentForm=!1,this.trigger("uiShouldResizeOverlay",{height:i})},this.animatePaymentFormHeight=function(e,t){this.attr.isShowingPaymentForm&&!this.attr.isShowingReceipt&&this.switchToPaymentForm(t.animate)},this.setCustomerSurcharge=function(){this.attr.isCustomerSurchargeSet=!0,this.attr.isShowingReceipt||this.triggerPaymentFormIfWanted()},this.setOverlayUrlParams=function(){this.attr.overlayUrlParams&&this.trigger("uiUpdateUrlParameters",this.attr.overlayUrlParams)},this.setCurrentUserInfo=function(e,t){this.attr.permalink===t.permalink&&(this.attr.user=t,this.setInitialOfferCodeObject(t.product.offer_code),this.setOverlayUrlParams(),this.attr.isCurrentUserSet||(this.setRemaining(),this.setTerritoryBlockedNotice(),this.setCreditCard(),this.setPreviewProcessing(),this.setLoginInfo(),this.setShippingInfo(),this.setVariants(),this.setReceipt(),this.setEmail(),this.setAlreadyBought(),this.displayReviewsSection(),this.attr.isCurrentUserSet=!0),this.attr.canGift&&this.getUrlParams().gift&&this.showGiftInputs(),this.setCustomFieldsFromUrlParams(),this.triggerPaymentOptionUpdate(),this.triggerPaymentFormIfWanted())},this.triggerPaymentFormIfWanted=function(){!this.attr.wantThis&&!this.getUrlParams().wanted||this.attr.user.purchase.redirect_token||this.attr.isProductDisabled||!this.attr.isCustomerSurchargeSet||!this.attr.isCurrentUserSet||this.attr.onUserProfile||(this.showPaymentFormIfPossible(null,!1),this.attr.wantThis=!1)},this.triggerPaymentOptionUpdate=function(){if(this.attr.supportsNativePaypalPayment=this.attr.user.product.native_paypal_payment_enabled,this.attr.nativePayPalPaymentDisabled=!this.attr.supportsNativePaypalPayment,this.getIsRecurringBilling()){var e=["monthly","quarterly","biannually","yearly"],t=this.attr.overlayDuration?this.attr.overlayDuration:this.getUrlParams().duration;if(e.indexOf(t)>=0)this.selectRecurrence(t);else for(var n=0;n<e.length;n++){var r=e[n];if(this.getUrlParams()[r]){this.selectRecurrence(r);break}}}},this.incrementViewCountIfNotDoneYet=function(){this.attr.hasViewIncremented||(this.trigger("uiNeedsToTrackViewEvent",{permalink:this.attr.permalink,wasProductRecommended:!!this.attr.wasProductRecommended,recommendedBy:this.attr.recommendedBy}),this.attr.hasViewIncremented=!0)},this.initializeProduct=function(){if(this.attr.onUserProfile||(this.setCardSaveRequired(this.productNeedsCardSaved()),this.trigger("uiSetPermalinkForSharing",{permalink:this.attr.permalink})),this.$node.data("product-info")){var e=this.$node.data("product-info");e.permalink=this.attr.permalink,this.trigger(document,"dataCurrentUserInfo",e)}else this.trigger("uiNeedsToGetCurrentUserInfo",{permalink:this.attr.permalink,offerCodeName:this.getInitialOfferCodeName(),fetchPurchase:!0});this.attr.incrementViewCountOnInit&&this.incrementViewCountIfNotDoneYet()},this.productNeedsCardSaved=function(){return this.getIsRecurringBilling()||this.getIsPreorder()},this.updatePreviews=function(e,t){var n=t.covers;this.attr.assetPreviews=n,this.attr.activePreviewId=n[0]?n[0].id:null,this.showPreview()},this.determineRecommended=function(){this.attr.recommendedBy?this.attr.wasProductRecommended=!0:this.getUrlParams().recommended_by?(this.attr.wasProductRecommended=!0,this.attr.recommendedBy=this.getUrlParams().recommended_by.match(/[a-zA-Z]+/)[0]):this.attr.overlayRecommendedBy&&(this.attr.wasProductRecommended=!0,this.attr.recommendedBy=this.attr.overlayRecommendedBy)},this.setupUserAnalytics=function(){if(!(this.attr.onDiscoverPage||this.attr.onOverlayPage&&this.attr.isMultiBuyEnabled)){var e=this.select("productSelector").data("seller-google-analytics-id"),t=this.select("productSelector").data("seller-google-analytics-cross-domains"),n=this.select("productSelector").data("seller-facebook-pixel-id"),r=!!this.select("productSelector").data("free-sale-analytics");(e||n)&&(this.trigger("uiNeedsToStartTrackingForSellerAnalytics",{googleAnalyticsId:e,googleAnalyticsCrossDomains:t,googleAnalyticsClientId:this.attr.userGoogleAnalyticsClientId,facebookPixelId:n,trackFreeSales:r}),this.trigger("uiNeedsToTrackActivityWithSellerAnalytics",{permalink:this.attr.permalink,action:"viewed"}))}},this.after("initialize",(function(){this.initializeProductDataAndCheckoutState(),this.determineRecommended(),this.attr.onOverlayPage=this.$node.parents("body#overlay-page").length>0,this.attr.user={product:{offer_code:{}},purchase:{}},this.attr.permalink=this.select("productSelector").data("unique-permalink"),this.attr.name=this.select("productSelector").data("name"),this.attr.isProductDisabled=this.select("notForSaleNoticeSelector").is(":visible"),this.attr.vertical=this.select("productSelector").data("vertical"),this.attr.supportsNativePaypalPayment=!!this.select("productSelector").data("supports-native-paypal-payment"),this.setupUserAnalytics(),this.on(document,"uiUpdateCovers",this.updatePreviews),this.on(document,"dataCurrentUserInfo",this.setCurrentUserInfo),this.on(document,"dataCustomerSurcharge",this.setCustomerSurcharge),this.on(document,"uiAnimatePaymentFormHeight",this.animatePaymentFormHeight),this.initializeProduct(),this.initializeAudioPlayer(),this.initializeVideoPlayer()}))}),t.default,n,r,i.default,o,a,s,l.default,c,u,d)}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(2)],void 0===(i=function(e){return e((function(){this.followSeller=function(e,t){$.ajax({type:"POST",dataType:"json",url:Routes.follow_user_path(),data:t}).done(function(e){this.trigger("dataFollowSeller",!0===e.success?{message:e.message}:{})}.bind(this))},this.unfollowSeller=function(e,t){$.ajax({type:"GET",dataType:"json",url:Routes.cancel_follow_path(t.follower_id)}).done(function(e){this.trigger("uiShowUnfollowing",{follower_id:e.follower_id})}.bind(this))},this.after("initialize",(function(){this.on(document,"uiNeedsToFollowUser",this.followSeller),this.on(document,"uiNeedsToUnfollowUser",this.unfollowSeller)}))}))}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(595)],void 0===(i=function(e){return{hookClipboard:function(t,n,r){if(r)return{};t.each((function(){var t=$(this),r=new e(this);t.attr("title",t.data("copy")),t.on({click:function(e){e.preventDefault()},mouseover:function(){t.tipsy("show")},mouseout:function(){t.tipsy("hide")}}),r.on("success",(function(e){t.attr("title",t.data("copied")).tipsy("show"),t.on("mouseout",(function(){t.attr("title",t.data("copy")).tipsy("hide")})),e.clearSelection()})),void 0!==n&&n()}))}}}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";n.r(t),n.d(t,"PWYWInput",(function(){return m}));var r=n(0),i=n(6),o=n.n(i),a=n(26),s=n(23),l=n(5),c=n(19),u=n(27),d=n(36),f=n(42);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=function(e){!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e);var t=Object(u.b)({productSelector:function(e){return e.isInteractive},subscriptionSelector:function(e){return e.isInteractive}}),n=Object(u.b)({productSelector:function(e){return e.productData.currency},subscriptionSelector:function(e){return e.productData.currency}}),i=g(),a=i.isPWYW,p=i.value,m=i.onChange,v=i.suggestedPriceCents,y=Object(u.b)({productSelector:function(e){return l.i.getIsValidPWYWInput(e)},subscriptionSelector:function(e){return c.e.getIsValidPWYWInput(e)}}),b=h(r.useState(!1),2),w=b[0],_=b[1],S=r.useRef(null);return Object(d.c)((function(){y||(_(!0),S.current&&S.current.focus())})),a?r.createElement("div",{className:"pay-what-you-want-selection"},r.createElement("h4",{className:"top-level-label"},I18n.t("pay_what_you_want_prompt")),r.createElement(f.a,{inputRef:S,prefix:n.currency_symbol,containerClassName:"link_price_wrapper",className:o()("link_price_range centered",{error:w}),type:"text",id:"price_range",value:p,onChange:function(e){_(!1),m(e.target.value)},maxLength:10,placeholder:"".concat(Object(s.c)(n,v||0),"+"),disabled:!t,autoComplete:"off"})):null},g=function(){var e,t=Object(u.b)({productSelector:function(e){return e.productData.currency},subscriptionSelector:function(e){return e.productData.currency}}),n=Object(u.b)({productSelector:l.i.getIsPayWhatYouWant,subscriptionSelector:c.e.getIsPayWhatYouWant}),i=Object(u.b)({productSelector:l.i.getPayWhatYouWantCentsInput,subscriptionSelector:c.e.getPayWhatYouWantCentsInput}),o=r.useMemo((function(){return null!=i?Object(s.c)(t,i):""}),[t,i]),d=h(r.useState(o),2),f=d[0],p=d[1],m=(e=Object(u.a)(),r.useCallback((function(t){var n={type:"change-customized-price-cents",cents:t};e({productAction:n,subscriptionAction:n})}),[e])),g=r.useCallback((function(e){var n;if(""===e)n=null;else{var r=Object(a.b)(e,t.is_single_unit);n=null!=r?Object(a.d)(r,t.is_single_unit):null}m(n),p(e)}),[m]),v=Object(u.b)({productSelector:l.i.getSuggestedPWYWCents,subscriptionSelector:c.e.getSuggestedPWYWCents}),y=Object(u.b)({productSelector:l.i.getMinimumPWYWCents,subscriptionSelector:c.e.getMinimumPWYWCents});return{isPWYW:n,value:Object(a.b)(f,t.is_single_unit)===Object(a.b)(o,t.is_single_unit)?f:o,onChange:g,suggestedPriceCents:v,minPriceCents:y}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t,n){var r=e,i=[],o=!1,a={getState:function(){return r},dispatch:function(e){if(o)i.push(e);else{o=!0;var s=r;r=t(s,e),n({oldState:s,newState:r,action:e}),o=!1;for(var l=function(){var e=i.shift();if(null==e)return"break";setTimeout((function(){return a.dispatch(e)}),0)};;){if("break"===l())break}}}};return a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1),i=function(e,t,n){return function(i){var o=e(i);return r.c(o)?n(o,i):t(o)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0),i=n(227),o=(n(630),n(52));function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=function(e){return e.find("[src], [href], [data], [ping]").filter((function(){var e=this;return new RegExp("data:.*,").test(["src","href","data","ping"].map((function(t){return o(e).attr(t)})).join(" "))}))},l=function(e){var t=e.placeholder,n=e.initialValue,l=e.onChange,c=e.imageUploadSettings,u=e.oembedSettings,d=a(e,["placeholder","initialValue","onChange","imageUploadSettings","oembedSettings"]),f=r.useRef(null);return r.useEffect((function(){var e=f.current;o(e).html(n);var t=new i(e,{targetBlank:!0,disableExtraSpaces:!1,disableDoubleReturn:!1,anchor:{anchorInputPlaceholder:I18n.t("js.enter_link_prompt"),linkValidation:!0},toolbar:{buttons:["bold","italic","underline","anchor","h3","h4","quote","unorderedlist"]}}),r=function(){var t,n,r,i,a=(t=o(e),n=t.clone(),r=n.find(".medium-insert-buttons"),i=n.find("p.medium-insert-active"),s(n).remove(),r.remove(),i.removeClass("medium-insert-active"),n.html());l(a)};return(c||u)&&o(e).mediumInsert({editor:t,enabled:!0,addons:{images:c||!1,embeds:u||!1}}),t.subscribe("editableInput",(function(){s(o(e)).remove(),r()})),e.onfinishedUploading=r,function(){return t.destroy()}}),[]),r.createElement("div",Object.assign({ref:f,"data-placeholder":t},d))}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n(59),o=function(e,t){var n,o,a;n="mouseup",o=function(n){null!=n.target&&(function(e,t){return t.some((function(t){return t&&(null!=$(t).has(e)[0]||t===e)}))}(n.target,e)||t())},a=Object(i.a)(o),r.useEffect((function(){var e=function(e){(0,a.current)(e)};return document.addEventListener(n,e),function(){return document.removeEventListener(n,e)}}),[n])}},,function(e,t,n){var r,i;function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r=[n(154)],void 0===(i=function(e){"use strict";function t(){var t=e.enabled&&!Object.propertyIsEnumerable("getOwnPropertyDescriptor");if(t)try{Object.getOwnPropertyDescriptor(Object,"keys")}catch(n){return!1}return t}return{isDomObj:function(e){return!(!e.nodeType&&e!==window)},toArray:function(e,t){t=t||0;for(var n=e.length,r=new Array(n-t),i=t;i<n;i++)r[i-t]=e[i];return r},merge:function(){var e=arguments.length,t=new Array(e+1);if(0===e)return{};for(var n=0;n<e;n++)t[n+1]=arguments[n];return t[0]={},!0===t[t.length-1]&&(t.pop(),t.unshift(!0)),$.extend.apply(void 0,t)},push:function(e,t,n){return e&&Object.keys(t||{}).forEach((function(r){if(e[r]&&n)throw new Error('utils.push attempted to overwrite "'+r+'" while running in protected mode');"object"==o(e[r])&&"object"==o(t[r])?this.push(e[r],t[r]):e[r]=t[r]}),this),e},getEnumerableProperty:function(e,t){return e.propertyIsEnumerable(t)?e[t]:void 0},compose:function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},uniqueArray:function(e){for(var t={},n=[],r=0,i=e.length;r<i;++r)t.hasOwnProperty(e[r])||(n.push(e[r]),t[e[r]]=1);return n},debounce:function(e,t,n){var r,i;return"number"!=typeof t&&(t=100),function(){var o=this,a=arguments,s=function(){r=null,n||(i=e.apply(o,a))},l=n&&!r;return r&&clearTimeout(r),r=setTimeout(s,t),l&&(i=e.apply(o,a)),i}},throttle:function(e,t){var n,r,i,o,a,s;"number"!=typeof t&&(t=100);var l=this.debounce((function(){a=o=!1}),t);return function(){n=this,r=arguments;var c=function(){i=null,a&&(s=e.apply(n,r)),l()};return i||(i=setTimeout(c,t)),o?a=!0:(o=!0,s=e.apply(n,r)),l(),s}},countThen:function(e,t){return function(){if(!--e)return t.apply(this,arguments)}},delegate:function(e){return function(t,n){var r,i=$(t.target);Object.keys(e).forEach((function(o){if(!t.isPropagationStopped()&&(r=i.closest(o)).length)return n=n||{},t.currentTarget=n.el=r[0],e[o].apply(this,[t,n])}),this)}},once:function(e){var t,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments))}},propertyWritability:function(e,n,r){t()&&e.hasOwnProperty(n)&&Object.defineProperty(e,n,{writable:r})},mutateProperty:function(e,n,r){var i;t()&&e.hasOwnProperty(n)?(i=Object.getOwnPropertyDescriptor(e,n).writable,Object.defineProperty(e,n,{writable:!0}),r.call(e),Object.defineProperty(e,n,{writable:i})):r.call(e)}}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r=n(116),i=n(342),o=n(343),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},function(e,t){function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e){return null!=e&&"object"==n(e)}},function(e,t,n){"use strict";var r;void 0===(r=function(){return function(){this.submitForm=function(e,t){$.ajax({type:"POST",dataType:"json",url:t.url,data:t.serializedFormData}).done(function(e){e.success?this.trigger(this.attr.submitSucceededEvent,e):this.trigger(this.attr.submitFailedEvent,e)}.bind(this))},this.after("initialize",(function(){this.on(document,this.attr.submitEvent,this.submitForm)}))}}.apply(t,[]))||(e.exports=r)},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(115);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},function(e,t,n){"use strict";var r,i;r=[n(66),n(31)],void 0===(i=function(e,t){return function(){t.mixin(this,[e]),this.getSalesFlowString=function(e,t,n){return I18n.t("js.views.counting",{count:e})+(t>0?"<br/>"+I18n.t("js.sales.counting",{count:t}):"")+(n>0?"<br/><strong>$"+this.formatMoney(n/100).replace(".00","")+"</strong>":"")},this.getAudienceFlowString=function(e,t){return I18n.t("js.new_followers.counting",{count:e})+(t>0?"<br/>"+I18n.t("js.total_followers.counting",{count:t}):"")},this.getConsumptionRetentionString=function(e){return"<strong>"+e+"%</strong> "+I18n.t("js.retention")}}}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(2),n(269)],void 0===(i=function(e,t){return e((function(){this.defaultAttrs({showEvent:"uiShowLoadingOverlay",hideEvent:"uiHideLoadingOverlay"}),this.setMiddleOpacityLoading=function(){this.$node.hasClass("middle")||this.$node.addClass("middle")},this.removeMiddleOpacityLoading=function(){this.$node.hasClass("middle")&&this.$node.removeClass("middle")},this.after("initialize",(function(){this.on(document,this.attr.hideEvent,this.setMiddleOpacityLoading),this.on(document,this.attr.showEvent,this.removeMiddleOpacityLoading)}))}),t)}.apply(t,r))||(e.exports=i)},function(e,t){!function(e){var t,n,r,i,o,a,s,l,c,u,d=(t={years:"datepickerViewYears",moths:"datepickerViewMonths",days:"datepickerViewDays"},n={wrapper:'<div class="datepicker"><div class="datepickerBorderT" /><div class="datepickerBorderB" /><div class="datepickerBorderL" /><div class="datepickerBorderR" /><div class="datepickerBorderTL" /><div class="datepickerBorderTR" /><div class="datepickerBorderBL" /><div class="datepickerBorderBR" /><div class="datepickerContainer"><table cellspacing="0" cellpadding="0"><tbody><tr></tr></tbody></table></div></div>',head:['<td class="datepickerBlock">','<table cellspacing="0" cellpadding="0">',"<thead>","<tr>",'<th colspan="7"><a class="datepickerGoPrev" href="#"><span><%=prev%></span></a>','<a class="datepickerMonth" href="#"><span></span></a>','<a class="datepickerGoNext" href="#"><span><%=next%></span></a></th>',"</tr>",'<tr class="datepickerDoW">',"<th><span><%=day1%></span></th>","<th><span><%=day2%></span></th>","<th><span><%=day3%></span></th>","<th><span><%=day4%></span></th>","<th><span><%=day5%></span></th>","<th><span><%=day6%></span></th>","<th><span><%=day7%></span></th>","</tr>","</thead>","</table></td>"],space:'<td class="datepickerSpace"><div></div></td>',days:['<tbody class="datepickerDays">',"<tr>",'<td class="<%=weeks[0].days[0].classname%>"><a href="#"><span><%=weeks[0].days[0].text%></span></a></td>','<td class="<%=weeks[0].days[1].classname%>"><a href="#"><span><%=weeks[0].days[1].text%></span></a></td>','<td class="<%=weeks[0].days[2].classname%>"><a href="#"><span><%=weeks[0].days[2].text%></span></a></td>','<td class="<%=weeks[0].days[3].classname%>"><a href="#"><span><%=weeks[0].days[3].text%></span></a></td>','<td class="<%=weeks[0].days[4].classname%>"><a href="#"><span><%=weeks[0].days[4].text%></span></a></td>','<td class="<%=weeks[0].days[5].classname%>"><a href="#"><span><%=weeks[0].days[5].text%></span></a></td>','<td class="<%=weeks[0].days[6].classname%>"><a href="#"><span><%=weeks[0].days[6].text%></span></a></td>',"</tr>","<tr>",'<td class="<%=weeks[1].days[0].classname%>"><a href="#"><span><%=weeks[1].days[0].text%></span></a></td>','<td class="<%=weeks[1].days[1].classname%>"><a href="#"><span><%=weeks[1].days[1].text%></span></a></td>','<td class="<%=weeks[1].days[2].classname%>"><a href="#"><span><%=weeks[1].days[2].text%></span></a></td>','<td class="<%=weeks[1].days[3].classname%>"><a href="#"><span><%=weeks[1].days[3].text%></span></a></td>','<td class="<%=weeks[1].days[4].classname%>"><a href="#"><span><%=weeks[1].days[4].text%></span></a></td>','<td class="<%=weeks[1].days[5].classname%>"><a href="#"><span><%=weeks[1].days[5].text%></span></a></td>','<td class="<%=weeks[1].days[6].classname%>"><a href="#"><span><%=weeks[1].days[6].text%></span></a></td>',"</tr>","<tr>",'<td class="<%=weeks[2].days[0].classname%>"><a href="#"><span><%=weeks[2].days[0].text%></span></a></td>','<td class="<%=weeks[2].days[1].classname%>"><a href="#"><span><%=weeks[2].days[1].text%></span></a></td>','<td class="<%=weeks[2].days[2].classname%>"><a href="#"><span><%=weeks[2].days[2].text%></span></a></td>','<td class="<%=weeks[2].days[3].classname%>"><a href="#"><span><%=weeks[2].days[3].text%></span></a></td>','<td class="<%=weeks[2].days[4].classname%>"><a href="#"><span><%=weeks[2].days[4].text%></span></a></td>','<td class="<%=weeks[2].days[5].classname%>"><a href="#"><span><%=weeks[2].days[5].text%></span></a></td>','<td class="<%=weeks[2].days[6].classname%>"><a href="#"><span><%=weeks[2].days[6].text%></span></a></td>',"</tr>","<tr>",'<td class="<%=weeks[3].days[0].classname%>"><a href="#"><span><%=weeks[3].days[0].text%></span></a></td>','<td class="<%=weeks[3].days[1].classname%>"><a href="#"><span><%=weeks[3].days[1].text%></span></a></td>','<td class="<%=weeks[3].days[2].classname%>"><a href="#"><span><%=weeks[3].days[2].text%></span></a></td>','<td class="<%=weeks[3].days[3].classname%>"><a href="#"><span><%=weeks[3].days[3].text%></span></a></td>','<td class="<%=weeks[3].days[4].classname%>"><a href="#"><span><%=weeks[3].days[4].text%></span></a></td>','<td class="<%=weeks[3].days[5].classname%>"><a href="#"><span><%=weeks[3].days[5].text%></span></a></td>','<td class="<%=weeks[3].days[6].classname%>"><a href="#"><span><%=weeks[3].days[6].text%></span></a></td>',"</tr>","<tr>",'<td class="<%=weeks[4].days[0].classname%>"><a href="#"><span><%=weeks[4].days[0].text%></span></a></td>','<td class="<%=weeks[4].days[1].classname%>"><a href="#"><span><%=weeks[4].days[1].text%></span></a></td>','<td class="<%=weeks[4].days[2].classname%>"><a href="#"><span><%=weeks[4].days[2].text%></span></a></td>','<td class="<%=weeks[4].days[3].classname%>"><a href="#"><span><%=weeks[4].days[3].text%></span></a></td>','<td class="<%=weeks[4].days[4].classname%>"><a href="#"><span><%=weeks[4].days[4].text%></span></a></td>','<td class="<%=weeks[4].days[5].classname%>"><a href="#"><span><%=weeks[4].days[5].text%></span></a></td>','<td class="<%=weeks[4].days[6].classname%>"><a href="#"><span><%=weeks[4].days[6].text%></span></a></td>',"</tr>","<tr>",'<td class="<%=weeks[5].days[0].classname%>"><a href="#"><span><%=weeks[5].days[0].text%></span></a></td>','<td class="<%=weeks[5].days[1].classname%>"><a href="#"><span><%=weeks[5].days[1].text%></span></a></td>','<td class="<%=weeks[5].days[2].classname%>"><a href="#"><span><%=weeks[5].days[2].text%></span></a></td>','<td class="<%=weeks[5].days[3].classname%>"><a href="#"><span><%=weeks[5].days[3].text%></span></a></td>','<td class="<%=weeks[5].days[4].classname%>"><a href="#"><span><%=weeks[5].days[4].text%></span></a></td>','<td class="<%=weeks[5].days[5].classname%>"><a href="#"><span><%=weeks[5].days[5].text%></span></a></td>','<td class="<%=weeks[5].days[6].classname%>"><a href="#"><span><%=weeks[5].days[6].text%></span></a></td>',"</tr>","</tbody>"],months:['<tbody class="<%=className%>">',"<tr>",'<td colspan="2"><a href="#"><span><%=data[0]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[1]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[2]%></span></a></td>','<td colspan="1"><a href="#"><span><%=data[3]%></span></a></td>',"</tr>","<tr>",'<td colspan="2"><a href="#"><span><%=data[4]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[5]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[6]%></span></a></td>','<td colspan="1"><a href="#"><span><%=data[7]%></span></a></td>',"</tr>","<tr>",'<td colspan="2"><a href="#"><span><%=data[8]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[9]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[10]%></span></a></td>','<td colspan="1"><a href="#"><span><%=data[11]%></span></a></td>',"</tr>","</tbody>"]},r={date:null,current:null,inline:!1,mode:"single",calendars:1,starts:0,prev:"&#9664;",next:"&#9654;",view:"days",position:"bottom",showOn:"focus",onRenderCell:function(){return{}},onChange:function(){},onBeforeShow:function(){return!0},onAfterShow:function(){},onBeforeHide:function(){return!0},onAfterHide:function(){},locale:{daysMin:["S","M","T","W","T","F","S"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},extraHeight:!1,extraWidth:!1,lastSel:!1},i=function(t){var r,i,o,a,s,l,c,u=e(t).data("datepicker"),d=e(t),f=Math.floor(u.calendars/2),h=0;d.find("td>table tbody").remove();for(var p=0;p<u.calendars;p++){(r=new Date(u.current)).addMonths(-f+p),c=d.find("table").eq(p+1),0==p&&c.addClass("datepickerFirstView"),p==u.calendars-1&&c.addClass("datepickerLastView"),c.hasClass("datepickerViewDays")?g=r.getMonthName()+", "+r.getFullYear():c.hasClass("datepickerViewMonths")?g=r.getFullYear():c.hasClass("datepickerViewYears")&&(g=r.getFullYear()-6+" - "+(r.getFullYear()+5)),c.find("thead tr:first th a:eq(1) span").text(g),g=r.getFullYear()-6,i={data:[],className:"datepickerYears"};for(var m=0;m<12;m++)i.data.push(g+m);l=tmpl(n.months.join(""),i),r.setDate(1),i={weeks:[],test:10},o=r.getMonth();var g=(r.getDay()-u.starts)%7;for(r.addDays(-(g+(g<0?7:0))),h=0;h<42;){a=parseInt(h/7,10),s=h%7,i.weeks[a]||(i.weeks[a]={days:[]}),i.weeks[a].days[s]={text:r.getDate(),classname:[]};var v=new Date;v.getDate()==r.getDate()&&v.getMonth()==r.getMonth()&&v.getYear()==r.getYear()&&i.weeks[a].days[s].classname.push("datepickerToday"),r>v&&i.weeks[a].days[s].classname.push("datepickerFuture"),o!=r.getMonth()&&(i.weeks[a].days[s].classname.push("datepickerNotInMonth"),i.weeks[a].days[s].classname.push("datepickerDisabled")),0==r.getDay()&&i.weeks[a].days[s].classname.push("datepickerSunday"),6==r.getDay()&&i.weeks[a].days[s].classname.push("datepickerSaturday");var y=u.onRenderCell(t,r),b=r.valueOf();u.date&&(!e.isArray(u.date)||u.date.length>0)&&(y.selected||u.date==b||e.inArray(b,u.date)>-1||"range"==u.mode&&b>=u.date[0]&&b<=u.date[1])&&i.weeks[a].days[s].classname.push("datepickerSelected"),y.disabled&&i.weeks[a].days[s].classname.push("datepickerDisabled"),y.className&&i.weeks[a].days[s].classname.push(y.className),i.weeks[a].days[s].classname=i.weeks[a].days[s].classname.join(" "),h++,r.addDays(1)}l=tmpl(n.days.join(""),i)+l,i={data:u.locale.monthsShort,className:"datepickerMonths"},l=tmpl(n.months.join(""),i)+l,c.append(l)}},o=function(t){var n=e(t).data("datepicker"),r=e("#"+n.id);if(!1===n.extraHeight){var i=e(t).find("div");n.extraHeight=i.get(0).offsetHeight+i.get(1).offsetHeight,n.extraWidth=i.get(2).offsetWidth+i.get(3).offsetWidth}var o=r.find("table:first").get(0),a=o.offsetWidth,s=o.offsetHeight;r.css({width:a+n.extraWidth+"px",height:s+n.extraHeight+"px"}).find("div.datepickerContainer").css({width:a+"px",height:s+"px"})},a=function(t){e(t.target).is("span")&&(t.target=t.target.parentNode);var n=e(t.target);if(n.is("a")){if(t.target.blur(),n.hasClass("datepickerDisabled"))return!1;var r=e(this).data("datepicker"),o=n.parent(),a=o.parent().parent().parent(),l=e("table",this).index(a.get(0))-1,c=new Date(r.current),u=!1,d=!1,f=Math.floor(r.calendars/2);if(o.is("th"))n.hasClass("datepickerMonth")?(c.addMonths(l-f),"range"==r.mode?(r.date[0]=c.setHours(0,0,0,0).valueOf(),c.addDays(c.getMaxDays()-1),c.setHours(23,59,59,0),r.date[1]=c.valueOf(),d=!0,u=!0,r.lastSel=!1):1==r.calendars&&(a.eq(0).hasClass("datepickerViewDays")?(a.eq(0).toggleClass("datepickerViewDays datepickerViewMonths"),n.find("span").text(c.getFullYear())):a.eq(0).hasClass("datepickerViewMonths")?(a.eq(0).toggleClass("datepickerViewMonths datepickerViewYears"),n.find("span").text(c.getFullYear()-6+" - "+(c.getFullYear()+5))):a.eq(0).hasClass("datepickerViewYears")&&(a.eq(0).toggleClass("datepickerViewYears datepickerViewDays"),n.find("span").text(c.getMonthName()+", "+c.getFullYear())))):o.parent().parent().is("thead")&&(a.eq(0).hasClass("datepickerViewDays")?r.current.addMonths(n.hasClass("datepickerGoPrev")?-1:1):a.eq(0).hasClass("datepickerViewMonths")?r.current.addYears(n.hasClass("datepickerGoPrev")?-1:1):a.eq(0).hasClass("datepickerViewYears")&&r.current.addYears(n.hasClass("datepickerGoPrev")?-12:12),d=!0);else if(o.is("td")&&!o.hasClass("datepickerDisabled")){if(a.eq(0).hasClass("datepickerViewMonths"))r.current.setMonth(a.find("tbody.datepickerMonths td").index(o)),r.current.setFullYear(parseInt(a.find("thead th a.datepickerMonth span").text(),10)),r.current.addMonths(f-l),a.eq(0).toggleClass("datepickerViewMonths datepickerViewDays");else if(a.eq(0).hasClass("datepickerViewYears"))r.current.setFullYear(parseInt(n.text(),10)),a.eq(0).toggleClass("datepickerViewYears datepickerViewMonths");else{var h=parseInt(n.text(),10);switch(c.addMonths(l-f),o.hasClass("datepickerNotInMonth")&&c.addMonths(h>15?-1:1),c.setDate(h),r.mode){case"multiple":h=c.setHours(0,0,0,0).valueOf(),e.inArray(h,r.date)>-1?e.each(r.date,(function(e,t){if(t==h)return r.date.splice(e,1),!1})):r.date.push(h);break;case"range":r.lastSel||(r.date[0]=c.setHours(0,0,0,0).valueOf()),(h=c.setHours(23,59,59,0).valueOf())<r.date[0]?(r.date[1]=r.date[0]+86399e3,r.date[0]=h-86399e3):r.date[1]=h,r.lastSel=!r.lastSel;break;default:r.date=c.valueOf()}u=!0}d=!0}d&&i(this),u&&r.onChange.apply(this,s(r))}return!1},s=function(t){var n=null;return"single"==t.mode?t.date&&(n=new Date(t.date)):(n=new Array,e(t.date).each((function(e,t){n.push(new Date(t))}))),[n,t.el]},l=function(t){var n,r=e("#"+e(this).data("datepickerId"));if(!r.is(":visible")){var a=r.get(0),s=r.data("datepicker");if(s.onBeforeShow.apply(this,[a]),0==s.onBeforeShow.apply(this,[a]))return;i(a);var l=e(this).offset(),u=(n="CSS1Compat"==document.compatMode,{l:window.pageXOffset||(n?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(n?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(n?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(n?document.documentElement.clientHeight:document.body.clientHeight)}),d=l.top,f=l.left;switch(e.curCSS(a,"display"),r.css({visibility:"hidden",display:"block"}),o(a),s.position){case"top":d-=a.offsetHeight;break;case"left":f-=a.offsetWidth;break;case"right":f+=this.offsetWidth;break;case"bottom":d+=this.offsetHeight}d+a.offsetHeight>u.t+u.h&&(d=l.top-a.offsetHeight),d<u.t&&(d=l.top+this.offsetHeight+a.offsetHeight),f+a.offsetWidth>u.l+u.w&&(f=l.left-a.offsetWidth),f<u.l&&(f=l.left+this.offsetWidth),r.css({visibility:"visible",display:"block",top:d+"px",left:f+"px"}),s.onAfterShow.apply(this,[r.get(0)]),e(document).bind("mousedown",{cal:r,trigger:this},c)}return!1},c=function(t){t.target==t.data.trigger||function(e,t,n){if(e==t)return!0;if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return!!(16&e.compareDocumentPosition(t));for(var r=t.parentNode;r&&r!=n;){if(r==e)return!0;r=r.parentNode}return!1}(t.data.cal.get(0),t.target,t.data.cal.get(0))||0!=t.data.cal.data("datepicker").onBeforeHide.apply(this,[t.data.cal.get(0)])&&(t.data.cal.hide(),t.data.cal.data("datepicker").onAfterHide.apply(this,[t.data.cal.get(0)]),e(document).unbind("mousedown",c))},u=function(t,n){if("single"==t||n||(n=[]),n&&(!e.isArray(n)||n.length>0))if("single"!=t)if(e.isArray(n)){for(var r=0;r<n.length;r++)n[r]=new Date(n[r]).setHours(0,0,0,0).valueOf();"range"==t&&(1==n.length&&n.push(new Date(n[0])),n[1]=new Date(n[1]).setHours(23,59,59,0).valueOf())}else n=[new Date(n).setHours(0,0,0,0).valueOf()],"range"==t&&n.push(new Date(n[0]).setHours(23,59,59,0).valueOf());else n=new Date(n).setHours(0,0,0,0).valueOf();return n},{init:function(s){var c;return s=e.extend({},r,s||{}),c=s.locale,Date.prototype.tempDate||(Date.prototype.tempDate=null,Date.prototype.months=c.months,Date.prototype.monthsShort=c.monthsShort,Date.prototype.getMonthName=function(){return this.months[this.getMonth()]},Date.prototype.addDays=function(e){this.setDate(this.getDate()+e),this.tempDate=this.getDate()},Date.prototype.addMonths=function(e){null==this.tempDate&&(this.tempDate=this.getDate()),this.setDate(1),this.setMonth(this.getMonth()+e),this.setDate(Math.min(this.tempDate,this.getMaxDays()))},Date.prototype.addYears=function(e){null==this.tempDate&&(this.tempDate=this.getDate()),this.setDate(1),this.setFullYear(this.getFullYear()+e),this.setDate(Math.min(this.tempDate,this.getMaxDays()))},Date.prototype.getMaxDays=function(){var e,t=new Date(Date.parse(this)),n=28;for(e=t.getMonth(),n=28;t.getMonth()==e;)n++,t.setDate(n);return n-1}),s.calendars=Math.max(1,parseInt(s.calendars,10)||1),s.mode=/single|multiple|range/.test(s.mode)?s.mode:"single",this.each((function(){if(!e(this).data("datepicker")){s.el=this,s.date=u(s.mode,s.date),s.current?s.current=new Date(s.current):s.current=new Date,s.current.setDate(1),s.current.setHours(0,0,0,0);var r,c="datepicker_"+parseInt(1e3*Math.random());s.id=c,e(this).data("datepickerId",s.id);var d=e(n.wrapper).attr("id",c).bind("click",a).data("datepicker",s);s.className&&d.addClass(s.className);for(var f="",h=0;h<s.calendars;h++)r=s.starts,h>0&&(f+=n.space),f+=tmpl(n.head.join(""),{prev:s.prev,next:s.next,day1:s.locale.daysMin[r++%7],day2:s.locale.daysMin[r++%7],day3:s.locale.daysMin[r++%7],day4:s.locale.daysMin[r++%7],day5:s.locale.daysMin[r++%7],day6:s.locale.daysMin[r++%7],day7:s.locale.daysMin[r++%7]});d.find("tr:first").append(f).find("table").addClass(t[s.view]),i(d.get(0)),s.inline?(d.appendTo(this).show().css("position","relative"),o(d.get(0))):(d.appendTo(document.body),e(this).bind(s.showOn,l))}}))},showPicker:function(){return this.each((function(){e(this).data("datepickerId")&&(e("#"+e(this).data("datepickerId")).data("datepicker").inline||l.apply(this))}))},hidePicker:function(){return this.each((function(){e(this).data("datepickerId")&&(e("#"+e(this).data("datepickerId")).data("datepicker").inline||e("#"+e(this).data("datepickerId")).hide())}))},setDate:function(t,n){return this.each((function(){if(e(this).data("datepickerId")){var r=e("#"+e(this).data("datepickerId")),o=r.data("datepicker");o.date=u(o.mode,t),n&&(o.current=new Date("single"!=o.mode?o.date[0]:o.date)),i(r.get(0))}}))},getDate:function(){if(this.size()>0)return s(e("#"+e(this).data("datepickerId")).data("datepicker"))},clear:function(){return this.each((function(){if(e(this).data("datepickerId")){var t=e("#"+e(this).data("datepickerId")),n=t.data("datepicker");"single"==n.mode?n.date=null:n.date=[],i(t.get(0))}}))},fixLayout:function(){return this.each((function(){if(e(this).data("datepickerId")){var t=e("#"+e(this).data("datepickerId"));t.data("datepicker").inline&&o(t.get(0))}}))}});e.fn.extend({DatePicker:d.init,DatePickerHide:d.hidePicker,DatePickerShow:d.showPicker,DatePickerSetDate:d.setDate,DatePickerGetDate:d.getDate,DatePickerClear:d.clear,DatePickerLayout:d.fixLayout})}(jQuery),function(){var e={};this.tmpl=function t(n,r){var i=/\W/.test(n)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+n.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):e[n]=e[n]||t(document.getElementById(n).innerHTML);return r?i(r):i}}()},function(e,t,n){"use strict";var r,i;r=[n(2)],void 0===(i=function(e){return e((function(){this.createConsumptionEvent=function(e,t){$.ajax({type:"POST",url:Routes.create_consumption_event_path({format:"json"}),dataType:"json",data:{event_type:t.eventType,platform:t.platform,url_redirect_id:t.urlRedirectId,product_file_id:t.productFileId,purchase_id:t.purchaseId,media_location_percentage:t.mediaLocationPercentage}}).done(function(e){e.success?this.trigger("data_created_consumption_event",e):this.trigger("data_failed_to_create_consumption_event",e)}.bind(this))},this.getConsumptionAnalytics=function(e,t){var n=t.startTime,r=t.endTime;$.ajax({type:"GET",url:Routes.consumption_stats_path({start_time:n,end_time:r,format:"json"}),dataType:"json"}).done(function(e){e.success?this.trigger("dataAudienceConsumptionAnalytics",{total_consumption_stats:e.total_consumption_stats,unique_by_purchase_consumption_stats:e.unique_by_purchase_consumption_stats}):this.trigger("dataFailedToGetAudienceConsumptionAnalytics",e)}.bind(this))},this.getPerFileConsumptionAnalytics=function(e,t){var n=t.startTime,r=t.endTime,i=t.uniquePermalinks,o=!1,a=t.shouldDisplayUniqueData||!1,s=t.limit;null==i&&(o=!0),$.ajax({type:"GET",url:Routes.per_file_consumption_stats_path({start_time:n,end_time:r,unique_permalinks:i,should_get_all_products:o,unique_by_purchase:a,limit:s,format:"json"}),dataType:"json"}).done(function(e){e.success?this.trigger("dataAudiencePerFileConsumptionAnalytics",{per_file_consumption_stats:e.per_file_consumption_stats,has_more_results:e.has_more_results}):this.trigger("dataFailedToGetAudiencePerFileConsumptionAnalytics",e)}.bind(this))},this.after("initialize",(function(){this.on(document,"uiNeedsToTrackConsumptionEvent",this.createConsumptionEvent),this.on(document,"uiDateRangeChanged",this.getConsumptionAnalytics),this.on(document,"uiDateRangeChanged",this.getPerFileConsumptionAnalytics),this.on(document,"uiNeedsPerFileConsumptionAnalytics",this.getPerFileConsumptionAnalytics)}))}))}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";n.r(t);var r=n(2),i=n.n(r);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=i()((function(){this.defaultAttrs({timeout:3e4}),this.makePayment=function(e,t){var n=this;$.ajax({type:"POST",url:Routes.purchases_path(),data:t.serializedForm,timeout:this.attr.timeout,error:function(e,r,i){t.is_bundled?n.trigger("uiBundledProductPaymentFailed",{permalink:t.permalink}):n.trigger("dataPurchaseFail",{permalink:t.permalink})}}).done((function(e){e.permalink=t.permalink,e.uid=t.uid,t.is_bundled?e.success?n.trigger("uiBundledProductPaymentCompleted",e):n.trigger("uiBundledProductPaymentFailed",e):e.success?n.trigger("dataPurchaseSuccessful",e):n.trigger("dataPurchaseFail",e)}))},this.updatePurchase=function(e,t){var n=this;$.ajax({url:Routes.purchase_path(t),type:"PUT",dataType:"json",data:t}).done((function(e){e.success?n.trigger("dataPurchaseUpdateSuccessful",e):n.trigger("dataPurchaseUpdateFail")}))},this.executeRefund=function(e,t){var n=this;$.ajax({type:"PUT",url:Routes.refund_purchase_path(t.sale),data:{amount:t.inputValue},dataType:"json"}).done((function(e){e.success?n.trigger("dataRefundComplete",e):n.trigger("dataRefundFailed")}))},this.sendInvoice=function(e,t){var n=this;$.ajax({url:Routes.send_invoice_purchase_path(t.id),type:"POST",dataType:"json",data:t}).done((function(e){n.trigger("dataInvoice",e)}))},this.deleteImportedCustomer=function(e,t){var n=this;$.ajax({url:Routes.destroy_imported_customer_path(t.id),type:"DELETE",dataType:"json",data:t}).done((function(e){e.success?n.trigger("dataDeletedImportedCustomerComplete",a(a({},e),{},{id:t.id})):n.trigger("dataDeletedImportedCustomerFailed",e)}))},this.deleteFreeCustomer=function(e,t){var n=this;$.ajax({url:Routes.destroy_free_customer_path(t.id),type:"DELETE",dataType:"json",data:t}).done((function(e){e.success?n.trigger("dataDeletedFreeCustomerComplete",a(a({},e),{},{id:t.id})):n.trigger("dataDeletedFreeCustomerFailed",e)}))},this.markPurchaseAsShipped=function(e,t){var n=this;$.ajax({url:Routes.mark_as_shipped_path(t.purchase_id),type:"POST",dataType:"json",data:t}).done((function(e){e.success?n.trigger("dataMarkedPurchaseAsShippedSuccessful",e):n.trigger("dataMarkedPurchaseAsShippedFail")}))},this.changeCanContact=function(e,t){var n=this;$.ajax({url:Routes.change_can_contact_purchase_path(t.id),type:"POST",dataType:"json"}).done((function(e){n.trigger("dataChangedCanContact",e)}))},this.resendPing=function(e,t){var n=this;$.ajax({url:Routes.purchase_pings_path(t.id),type:"POST"}).done((function(e){e.success?n.trigger("dataResentPingSuccessful"):n.trigger("dataResentPingFail")})).fail((function(){return n.trigger("dataResentPingFail")}))},this.after("initialize",(function(){this.on(document,"uiNeedsToMakePayment",this.makePayment),this.on(document,"uiNeedsToUpdatePurchase",this.updatePurchase),this.on(document,"uiNeedsToMarkPurchaseAsShipped",this.markPurchaseAsShipped),this.on(document,"uiNeedsToRefund",this.executeRefund),this.on(document,"uiNeedsToDeleteImportedCustomer",this.deleteImportedCustomer),this.on(document,"uiNeedsToDeleteFreeCustomer",this.deleteFreeCustomer),this.on(document,"uiNeedsToSendInvoice",this.sendInvoice),this.on(document,"uiNeedsToChangeCanContact",this.changeCanContact),this.on(document,"uiNeedsToResendPing",this.resendPing)}))}))},function(e,t,n){"use strict";var r,i;r=[n(2)],void 0===(i=function(e){return e((function(){this.createAccount=function(e,t){$.ajax({type:"POST",url:Routes.signup_path({format:"json"}),dataType:"json",data:t.serializedForm}).done(function(e){e.permalink=t.permalink,e.success?this.trigger("dataAccount",e):this.trigger("dataFailedToCreateAccount",e)}.bind(this))},this.addPurchaseToLibrary=function(e,t){$.ajax({type:"POST",url:Routes.add_purchase_to_library_path({format:"json"}),dataType:"json",data:t.serializedForm}).done(function(e){e.permalink=t.permalink,e.success?this.trigger("dataPurchaseAddedToLibrary",e):this.trigger("dataFailedToAddPurchaseToLibrary",e)}.bind(this))},this.after("initialize",(function(){this.on(document,"uiNeedsToCreateAccount",this.createAccount),this.on(document,"uiNeedsToAddPurchaseToLibrary",this.addPurchaseToLibrary)}))}))}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(2),n(275),n(3)],void 0===(i=function(e,t){return e((function(){this.defaultAttrs({buyerMenuTriggerSelector:".js-buyer-menu-trigger",buyerCircleSelector:".js-buyer-circle",buyerMenuSelector:".js-buyer-menu",buyerBarContentSelector:".js-buyer-bar-content",userInfoSet:!1}),this.toggleBuyerMenu=function(e){e.preventDefault(),this.select("buyerMenuSelector").toggleClass("showing"),this.select("buyerMenuSelector").hasClass("showing")&&(this.trigger("uiShouldHideBundle"),this.trigger("uiNeedsToShrinkToBuyerMenuOpen"))},this.hideBuyerMenu=function(e){this.select("buyerMenuSelector").removeClass("showing")},this.setCurrentUserInfo=function(e,n){this.userInfoSet||(this.userInfoSet=!0,this.select("buyerBarContentSelector").html(t(n)),n.profile_picture_url?this.select("buyerCircleSelector").attr("style","background-image: url("+n.profile_picture_url+");").addClass("showing-profile-picture"):this.select("buyerCircleSelector").addClass("empty showing-profile-picture"),this.$node.fadeIn(),this.trigger("uiFadeInSharing"))},this.hideLoginSection=function(){this.$node.fadeOut()},this.showLoginSection=function(){this.$node.fadeIn()},this.after("initialize",(function(){this.on(document,"dataCurrentUserInfo",this.setCurrentUserInfo),this.on(document,"uiNeedsToHideBuyerMenu",this.hideBuyerMenu),this.on(document,"uiShouldShowEditing",this.hideLoginSection),this.on(document,"uiShouldHideEditing",this.showLoginSection);var e=this.$node.data("user");void 0!=e&&(this.trigger("dataCurrentUserInfo",e),e.is_owner&&this.attr.username&&this.trigger("uiNeedsToGetCustomizationModules",{username:this.attr.username})),this.on("click",{buyerMenuTriggerSelector:this.toggleBuyerMenu})}))}))}.apply(t,r))||(e.exports=i)},,function(e,t,n){"use strict";n.r(t);var r=n(2),i=n.n(r),o={};function a(e){var t=o[e];if(null!=t&&0!==t.length){if("done"===t[0].status||"failed"===t[0].status){var n=t.shift();n.promise.then((function(e){return n.done(e)}))}var r=t.filter((function(e){return"done"===e.status||"failed"===e.status})),i=r[r.length-1];if(null!=i){var a=t.indexOf(i);t.splice(0,a+1),i.promise.then((function(e){return i.done(e)}))}}}t.default=i()((function(){this.getCustomerSurcharge=function(e,t){var n=this;!function(e){var t=e.queueId,n=e.request,r=e.done;if(null!=t){null==o[t]&&(o[t]=[]);var i=o[t],s={startedAt:new Date,done:r,promise:Promise.resolve(),status:"in_progress"},l=new Promise((function(e,t){$.ajax(n).done((function(t){s.status="done",e(t)})).fail((function(e){s.status="failed",t(e)}))}));s.promise=l,i.push(s),l.then((function(){return a(t)}),(function(){return a(t)}))}else $.ajax(n).done((function(e){return r(e)}))}({queueId:"customer_surcharge_".concat(t.externalId),request:{url:Routes.customer_surcharge_path(t.externalId,t.sellerId,t.isTaxExclusive?"1":"0",Math.round(t.priceCents),t.quantity),data:{postal_code:t.postalCode,country:t.country,vat_id:t.vatId,physical:t.isPhysical,subscription_id:t.subscriptionId},type:"GET"},done:function(e){t.isPartOfBundle?(e.permalink=t.permalink,n.trigger("dataCustomerSurchargeForBundle",e)):n.trigger(t.productNode,"dataCustomerSurcharge",e)}})},this.after("initialize",(function(){this.on(document,"uiNeedsProductCustomerSurcharge",this.getCustomerSurcharge)}))}))},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var r=n(0),i=n(6),o=n.n(i);function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=function(e){var t=e.className,n=a(e,["className"]);return r.createElement("div",Object.assign({className:o()("bullet-row-component",t)},n))},l=function(e){var t=e.className,n=a(e,["className"]);return r.createElement("span",Object.assign({className:o()("bullet-row-component--item",t)},n))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=6e4;function i(e){return e.getTime()%r}function o(e){var t=new Date(e.getTime()),n=Math.ceil(t.getTimezoneOffset());t.setSeconds(0,0);var o=n>0?(r+i(t))%r:i(t);return n*r+o}},function(e,t,n){var r;function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}void 0===(r=function(){"use strict";function e(e,t){var n,r,o,a=t.length;return"function"==typeof t[a-1]&&(o=t[a-=1]),"object"==i(t[a-1])&&(a-=1),2==a?(n=t[0],r=t[1]):(n=e.node,r=t[0]),{element:n,type:r,callback:o}}function t(e,t){return e.element==t.element&&e.type==t.type&&(null==t.callback||e.callback==t.callback)}return new function(){var n=this;function r(e){this.component=e,this.attachedTo=[],this.instances={},this.addInstance=function(e){var t=new i(e);return this.instances[e.identity]=t,this.attachedTo.push(e.node),t},this.removeInstance=function(e){delete this.instances[e.identity];var t=this.attachedTo.indexOf(e.node);t>-1&&this.attachedTo.splice(t,1),Object.keys(this.instances).length||n.removeComponentInfo(this)},this.isAttachedTo=function(e){return this.attachedTo.indexOf(e)>-1}}function i(e){this.instance=e,this.events=[],this.addBind=function(e){this.events.push(e),n.events.push(e)},this.removeBind=function(e){for(var n,r=0;n=this.events[r];r++)t(n,e)&&this.events.splice(r,1)}}(this.reset=function(){this.components=[],this.allInstances={},this.events=[]}).call(this),this.addInstance=function(e){var t=this.findComponentInfo(e);t||(t=new r(e.constructor),this.components.push(t));var n=t.addInstance(e);return this.allInstances[e.identity]=n,t},this.removeInstance=function(e){var t=this.findComponentInfo(e);t&&t.removeInstance(e),delete this.allInstances[e.identity]},this.removeComponentInfo=function(e){var t=this.components.indexOf(e);t>-1&&this.components.splice(t,1)},this.findComponentInfo=function(e){for(var t,n=e.attachTo?e:e.constructor,r=0;t=this.components[r];r++)if(t.component===n)return t;return null},this.findInstanceInfo=function(e){return this.allInstances[e.identity]||null},this.getBoundEventNames=function(e){return this.findInstanceInfo(e).events.map((function(e){return e.type}))},this.findInstanceInfoByNode=function(e){var t=[];return Object.keys(this.allInstances).forEach((function(n){var r=this.allInstances[n];r.instance.node===e&&t.push(r)}),this),t},this.on=function(t){for(var r,i=n.findInstanceInfo(this),o=arguments.length,a=1,s=new Array(o-1);a<o;a++)s[a-1]=arguments[a];if(i){(r=t.apply(null,s))&&(s[s.length-1]=r);var l=e(this,s);i.addBind(l)}},this.off=function(){var r=e(this,arguments),i=n.findInstanceInfo(this);i&&i.removeBind(r);for(var o,a=0;o=n.events[a];a++)t(o,r)&&n.events.splice(a,1)},n.trigger=function(){},this.teardown=function(){n.removeInstance(this)},this.withRegistration=function(){this.after("initialize",(function(){n.addInstance(this)})),this.around("on",n.on),this.after("off",n.off),window.DEBUG&&DEBUG.enabled&&this.after("trigger",n.trigger),this.after("teardown",{obj:n,fnName:"teardown"})}}}.apply(t,[]))||(e.exports=r)},function(e,t,n){"use strict";var r,i;r=[n(2),n(45)],void 0===(i=function(e,t){return e((function(){this.defaultAttrs({contentWrapper:".content-wrapper",accountLinksTriggerSelector:".js-account-dropdown-trigger",accountLinksDropdownSelector:".js-account-dropdown",navMobileDropdownTrigger:".js-nav-mobile-dropdown-trigger",cancelNavMobileDropdownTrigger:".js-nav-mobile-dropdown-cancel-trigger",cancelSearchTrigger:".js-discover-search-cancel-trigger",searchInputTrigger:".js-discover-search-input-trigger",searchFieldInputSelector:".js-discover-search-field",searchFieldAutocompleteDropdown:".js-discover-search-autocomplete-dropdown",searchFilterDropdownTrigger:".js-discover-search-filter-dropdown-trigger",navigationLinks:".js-navigation-links",mobileSearchInputVisible:!1,titleMap:{"features/pricing":I18n.t("js.pricing"),features:I18n.t("js.features"),following:I18n.t("js.following")},autocompleteNavOverlay:".js-autocomplete-nav-overlay",autocompleteOverlay:".js-autocomplete-overlay"}),this.toggleAccountDropdown=function(e){return e.preventDefault(),this.select("accountLinksDropdownSelector").toggleClass("open"),!1},this.hideDropdownsWhenUnfocused=function(e){if(this.select("navMobileDropdownTrigger").hasClass("hidden"))return null;var t=this.select("accountLinksDropdownSelector");0==$(e.target).closest(t).length&&t.removeClass("open")},this.toggleMobileNavDropbown=function(e){return e.preventDefault(),this.trigger("uiToToggleMobileOverlayToDiscover"),this.select("navigationLinks").toggleClass("showing"),this.select("contentWrapper").toggleClass("overlay"),this.select("searchInputTrigger").toggleClass("hidden"),this.select("accountLinksDropdownSelector").toggleClass("open"),this.select("navMobileDropdownTrigger").toggleClass("hidden"),this.select("cancelNavMobileDropdownTrigger").toggleClass("hidden"),!1},this.toggleSearchInput=function(e){return e.preventDefault(),this.attr.mobileSearchInputVisible=!this.attr.mobileSearchInputVisible,this.select("searchInputTrigger").toggleClass("hidden"),this.select("cancelSearchTrigger").toggleClass("hidden"),this.select("searchFieldInputSelector").toggleClass("mobile-hidden"),this.select("navMobileDropdownTrigger").toggleClass("hidden"),this.trigger("uiToToggleQueryClass"),this.select("searchFilterDropdownTrigger").text(I18n.t("js.discover")),this.select("searchFieldInputSelector").css("padding-left",this.select("searchFilterDropdownTrigger").outerWidth()+20),this.select("searchInputTrigger").hasClass("mobile-hidden")||this.select("searchFieldInputSelector").focus(),this.attr.mobileSearchInputVisible?this.select("searchFilterDropdownTrigger").removeClass("title-only"):this.setMobileNavTitle(),!1},this.hideSearchAndHamburgerButtons=function(){this.getUrlParams().category||this.getUrlParams().query?(this.select("searchFieldInputSelector").removeClass("mobile-hidden"),this.select("navMobileDropdownTrigger").addClass("hidden"),this.select("searchInputTrigger").addClass("hidden"),this.select("cancelSearchTrigger").removeClass("hidden")):this.select("searchFilterDropdownTrigger").toggleClass("hidden")},this.showSearchAndHamburgerButtons=function(){this.select("searchFieldInputSelector").addClass("mobile-hidden"),this.select("navMobileDropdownTrigger").removeClass("hidden"),this.select("searchInputTrigger").removeClass("hidden"),this.select("cancelSearchTrigger").addClass("hidden")},this.isCurrentPath=function(e){return-1!==window.location.pathname.indexOf(e)},this.setMobileNavTitle=function(){for(var e=0,t=Object.keys(this.attr.titleMap);e<t.length;e++){var n=t[e];if(this.isCurrentPath(n)){this.select("searchFilterDropdownTrigger").text(this.attr.titleMap[n]),this.select("searchFilterDropdownTrigger").addClass("title-only");break}}},this.handleCancelSearchTrigger=function(e){this.toggleSearchInput(e),this.select("searchFieldAutocompleteDropdown").removeClass("showing"),this.hideAutocompleteOverlay()},this.hideAutocompleteOverlay=function(){this.trigger("uiNeedsToHideAutocompleteOverlay")},this.after("initialize",(function(){this.on("html","click",this.hideDropdownsWhenUnfocused),this.setMobileNavTitle(),this.on("uiNeedsToHideOtherDropdowns",this.hideDropdownsWhenUnfocused),this.on(document,"uiNeedsToHideSearchAndHamburgerButtons",this.hideSearchAndHamburgerButtons),this.on(document,"uiNeedsToShowSearchAndHamburgerButtons",this.showSearchAndHamburgerButtons),this.on("click",{accountLinksTriggerSelector:this.toggleAccountDropdown,navMobileDropdownTrigger:this.toggleMobileNavDropbown,cancelNavMobileDropdownTrigger:this.toggleMobileNavDropbown,searchInputTrigger:this.toggleSearchInput,cancelSearchTrigger:this.handleCancelSearchTrigger,autocompleteNavOverlay:this.hideAutocompleteOverlay,autocompleteOverlay:this.hideAutocompleteOverlay})}))}),t)}.apply(t,r))||(e.exports=i)},function(e,t,n){function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(95),o=n(96);e.exports=function(e){return"symbol"==r(e)||o(e)&&"[object Symbol]"==i(e)}},function(e,t,n){var r=n(56).Symbol;e.exports=r},function(e,t,n){function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(369),o=n(424),a=n(434),s=n(65),l=n(435);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==r(e)?s(e)?o(e[0],e[1]):i(e):l(e)}},function(e,t,n){var r=n(371),i=n(372),o=n(373),a=n(374),s=n(375);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(155);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(71)(Object,"create");e.exports=r},function(e,t,n){var r=n(393);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(65),i=n(163),o=n(426),a=n(429);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},function(e,t,n){var r;void 0===(r=function(){return String.prototype.hashCode=function(){var e=0;if(0==this.length)return e;for(var t=0;t<this.length;t++){e=(e<<5)-e+this.charCodeAt(t),e&=e}return e},{}}.apply(t,[]))||(e.exports=r)},function(e,t,n){"use strict";var r,i;r=[n(2)],void 0===(i=function(e){return e((function(){this.defaultAttrs({showTooltipEvent:"uiShowTooltip",hideTooltipEvent:"uiHideTooltip",fadeoutTooltipEvent:"uiFadeoutTooltipEvent"}),this.showTooltip=function(e,t){"undefined"!=typeof t&&(this.$node.html(t.content+"<span>"+t.metaInfo+"</span>"),this.$node.addClass("showing").css({top:t.top-this.$node.outerHeight(),left:t.left-this.$node.outerWidth()/2}))},this.hideTooltip=function(){this.$node.removeClass("showing")},this.fadeoutTooltip=function(){setTimeout(function(){this.$node.removeClass("showing")}.bind(this),300)},this.after("initialize",(function(){this.on(document,this.attr.showTooltipEvent,this.showTooltip),this.on(document,this.attr.hideTooltipEvent,this.hideTooltip),this.on(document,this.attr.fadeoutTooltipEvent,this.fadeoutTooltip)}))}))}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(2),n(46),n(102)],void 0===(i=function(e,t){return e((function(){this.defaultAttrs({datePickerSelector:"#datepicker-calendar",dateRangeFieldSelector:"#date-range-field",dateRangeFieldTextSelector:"#date-range-field span",dateRangePresetDurationSelector:".datepicker-preset-duration-select",arrowSelector:"#date-range-field .js-toggle-arrow",dateChanged:!1,dateRangeChangedEvent:"uiDateRangeChanged",softDateRangeChangedEvent:"uiSoftDateRangeChanged",showLoadingOverlayForDateChange:!0,updateHashLocationForDateChange:!0,downArrowGi:"gi-chevron-right",upArrowGi:"gi-chevron-left"}),this.hideDatePickerIfVisible=function(){var e=this.select("datePickerSelector");e.is(":visible")&&(e.removeClass("showing"),this.showDownArrow(),this.notifyDateRangeChange())},this.hideDatePickerIfEnterKeyIsPressed=function(e){13==(e.which||e.keyCode)&&this.hideDatePickerIfVisible()},this.toggleDatePickerVisibility=function(e){e.preventDefault(),e.stopPropagation();var t=this.select("arrowSelector");return this.select("datePickerSelector").toggleClass("showing"),t.hasClass(this.attr.downArrowGi)?this.showUpArrow():(this.showDownArrow(),this.notifyDateRangeChange()),!1},this.getDateRangeHash=function(e,t){return"#"+this.getDashedDateString(e)+"_"+this.getDashedDateString(t)},this.getDashedDateString=function(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},this.updateDateRangeText=function(e,t){this.select("dateRangeFieldTextSelector").text(e.getMonthName()+" "+e.getDate()+", "+e.getFullYear()+" - "+t.getMonthName()+" "+t.getDate()+", "+t.getFullYear())},this.updateDateRange=function(e,t){this.attr.startTime=e[0].toString(),this.attr.endTime=e[1].toString(),this.updateDateRangeText(e[0],e[1]),this.trigger(this.attr.softDateRangeChangedEvent,{endTime:this.attr.endTime,startTime:this.attr.startTime}),this.attr.updateHashLocationForDateChange&&(this.attr.hashLocation=this.getDateRangeHash(e[0],e[1])),this.attr.dateChanged=!0,this.attr.datepicker.DatePickerSetDate(e,!0)},this.updateCurrentDisplay=function(e){return new Date(to.getFullYear(),to.getMonth(),1)},this.getPresetDurationDate=function(e){var n=new Date,r=this.select("datePickerSelector").data("firstDate")||new Date(2011,0,1);return{last_30_days:[t.getMonthsBefore(n,1,n.getDate()+1),n],last_month:[t.getMonthsBefore(n,1,1),t.getMonthsBefore(n,0,0)],last_3_months:[t.getMonthsBefore(n,3,1),t.getMonthsBefore(n,0,0)],this_year:[new Date(n.getFullYear(),0,1),n],last_year:[new Date(n.getFullYear()-1,0,1),new Date(n.getFullYear()-1,11,31)],all_time:[r,n]}[e]},this.updateAllTimeFirstDate=function(e,t){this.select("datePickerSelector").data("firstDate",t.date)},this.updateDateRangeDurationPreset=function(e){e.preventDefault();var n=this.getPresetDurationDate(e.target.dataset.duration);n[0]=t.convertToDateIfNotAlready(n[0]),n[1]=t.convertToDateIfNotAlready(n[1]),this.updateDateRange(n),this.notifyDateRangeChange()},this.notifyDateRangeChange=function(){this.attr.dateChanged&&(this.trigger(this.attr.dateRangeChangedEvent,{endTime:this.attr.endTime,startTime:this.attr.startTime}),this.attr.showLoadingOverlayForDateChange&&this.trigger("uiShowLoadingOverlay"),this.attr.dateChanged=!1,this.attr.updateHashLocationForDateChange&&this.updateHashLocationWithoutEvent())},this.updateHashLocationWithoutEvent=function(){this.attr.hashLocation&&(this.attr.skipHashLocationEvent=!0,window.location.hash=this.attr.hashLocation,this.trigger("dataDateHash",{dateHash:this.attr.hashLocation}),this.attr.hashLocation=null)},this.updateDateRangeWithHash=function(){if(this.attr.skipHashLocationEvent)this.attr.skipHashLocationEvent=!1;else{var e=t.getDateRangeFromHash();this.updateDateRange(e),this.select("datePickerSelector").DatePickerSetDate(e),this.notifyDateRangeChange()}},this.disableInvalidDates=function(e,t){var n={};return(t<this.attr.minDate||t>this.attr.maxDate)&&(n.disabled=!0,n.className="datepickerFuture"),n},this.showUpArrow=function(){var e=this.select("dateRangeFieldSelector"),t=this.select("arrowSelector");t.addClass(this.attr.upArrowGi),t.removeClass(this.attr.downArrowGi),e.css({borderBottomLeftRadius:0,borderBottomRightRadius:0}),t.css({borderBottomRightRadius:0})},this.showDownArrow=function(){var e=this.select("dateRangeFieldSelector"),t=this.select("arrowSelector");t.removeClass(this.attr.upArrowGi),t.addClass(this.attr.downArrowGi),e.css({borderBottomLeftRadius:5,borderBottomRightRadius:5}),t.css({borderBottomRightRadius:5})},this.updateDatePickerPosition=function(){var e=this.select("datePickerSelector"),t=this.select("dateRangeFieldSelector");t.offset().top+t.height()+e.height()>$(window).height()?e.addClass("position-top"):e.removeClass("position-top")},this.after("initialize",(function(){var e=new Date(this.attr.endTime),t=new Date(this.attr.startTime);this.attr.datepicker=this.select("datePickerSelector").DatePicker({inline:!0,date:[t,e],calendars:$(window).width()>630?2:1,mode:"range",current:new Date(e.getFullYear(),e.getMonth(),1),onChange:this.updateDateRange.bind(this),onRenderCell:this.disableInvalidDates.bind(this)}),this.updateDateRangeText(t,e),this.on("click",{dateRangeFieldSelector:this.toggleDatePickerVisibility,dateRangePresetDurationSelector:this.updateDateRangeDurationPreset}),this.on(document,"keyup",this.hideDatePickerIfEnterKeyIsPressed),this.on(document,"click",this.hideDatePickerIfVisible),this.on(window,"hashchange",this.updateDateRangeWithHash),this.on(document,"datePickerSetAllTimeFirstDate",this.updateAllTimeFirstDate),this.updateDatePickerPosition(),this.on(window,"resize",this.updateDatePickerPosition)}))}))}.apply(t,r))||(e.exports=i)},,function(e,t,n){"use strict";var r=n(51);(function(){var t=function(e,t,n){var i=e-1;r.isTest()&&(i=1),t(e);var o=setInterval(function(){i>0?(t(i),i-=1):(clearInterval(o),n())}.bind(this),1e3);this.interval=o};t.prototype.abort=function(){clearInterval(this.interval)},e.exports=t}).call(this)},function(e,t,n){"use strict";var r,i;r=[n(2)],void 0===(i=function(e){return e((function(){this.verifyShippingAddress=function(e,t){$.ajax({type:"POST",url:Routes.verify_shipping_address_path(),data:t.shipping_data,timeout:2500,error:function(e,t,n){this.trigger("dataVerifyShippingAddressTimeout")}.bind(this)}).done(function(e){e.success?this.trigger("dataVerifyShippingAddressSuccessful",e):this.trigger("dataVerifyShippingAddressFail",e)}.bind(this))},this.after("initialize",(function(){this.on(document,"uiNeedsToVerifyShippingAddress",this.verifyShippingAddress)}))}))}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";n.r(t);var r=n(2),i=n.n(r);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=i()((function(){this.computeDiscount=function(e,t){var n=this;$.ajax({type:"GET",url:Routes.compute_discount_offer_codes_path(),data:{offer_code_name:t.offer_code_name,products:t.products},dataType:"json"}).done((function(e){n.trigger("dataOfferCode",a(a({},e),{},{offer_code_name:t.offer_code_name}))}))},this.after("initialize",(function(){this.on(document,"uiNeedsToComputeOfferDiscount",this.computeDiscount)}))}))},function(e,t,n){"use strict";var r,i;r=[n(10)],void 0===(i=function(e){function t(e,t){return"".concat(e).concat(t)}return e.registerHelper("path_with_host",t),t}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(24),n(542),n(543),n(544),n(31),n(554)],void 0===(i=function(e,t,n,r,i){return function(){i.mixin(this,[e,t,r]),this.defaultAttrs({creditCardHolder:".credit_card_holder",rememberedSelector:".credit_card_holder .credit_card.remembered",newCardSelector:".credit_card_holder .credit_card.new-card",testCardSelector:".credit_card_holder .credit_card.test_card",savedCardSelector:".credit_card_holder .credit_card.saved_card",ccIconSelector:".js-cc-icon",cvCodeSelector:".credit_card_holder #card-cvc",ccZipcodeFieldSelector:".credit_card_holder .js-cc_zipcode",ccZipcodeFieldContainerSelector:".credit_card_holder .js-cc_zipcode_p",ccZipcodeLabelSelector:".js-cc_zipcode_label",ccZipcodeRequiredSelector:".js-cc_zipcode_p .js-cc-zipcode-required",expiryDateContainerSelector:".credit_card_holder .js-expiry_date_p",securityIndicatorSelector:".credit_card_holder .cc_number_security_indicator",securityBlurbSelector:".credit_card_holder .cc_security_blurb",useDifferentCardSelector:".credit_card_holder .use_different_card",supportedCardImageTypes:["generic_card","visa","mastercard","amex","discover","jcb","cvc_card","cvc_amex"],hasTriggeredCallForUserRiskAnalysis:!1,creditCardFormState:"new",grPaypalButtonSelector:".credit_card_holder .paypal",grNativePaypalButtonSelector:".credit_card_holder .paypal.native-paypal-button",grBraintreePaypalButtonSelector:".credit_card_holder .paypal.braintree-paypal-button",payWithPaypalHolderSelector:".js-pay-with-paypal-holder",payWithCreditCardHolderSelector:".js-pay-with-credit-card-holder",actualBraintreePayPalContainerSelector:".paypal-braintree-actual",actualPayPalContainerSelector:".credit_card_holder .paypal-actual",actualPayPalButton:".credit_card_holder .paypal.braintree-paypal-button",actualPayPalDataEmailSelector:".credit_card_holder .paypal-braintree-actual .js-braintree-paypal-email",payWithPayPalPromptSelector:".credit_card_holder .or-pay-with",braintreeNonceFieldSelector:".js-braintree-paypal-nonce",payPalLoadingIndicatorSelector:".js-paypal-loading-indicator",payWithPaypalTrigger:".js-pay-with-paypal-trigger",cancelPayWithPaypalTrigger:".js-cancel-pay-with-paypal-trigger",showPaypalCardSelector:".credit_card_holder",customerPayPalEmailContainerSelector:".js-paypal-customer-email",defaultCreditCardIconSelector:".js-credit-card-icon",orPayWithSelector:".js-pay-with-paypal-indicator",fullNameFieldSelector:".js-full-name-p",fullNameInputSelector:".js-full-name-input",fullNameRequestedVisible:!0,fullNameTrackingCreditCardFormState:"new",cardSaveRequired:!1,metaCardDataHandlingModeSelector:'meta[property="gr:card_data_handling_mode"]',metaStripePublicKeySelector:'meta[property="stripe:pk"]',metaPayPalOverrideSelector:'meta[property="gr:payment:show_paypal_override"]',cardFieldValidity:{cardNumber:!1,cardCvc:!1,cardExpiry:!1}}),this.setCreditCardFormState=function(e){var t=this.attr.creditCardFormState,n=e;this.attr.creditCardFormState=e,this.trigger("uiChangedCreditCardFormState",{oldCreditCardFormState:t,newCreditCardFormState:n})},this.showFullNameField=function(){this.attr.fullNameRequestedVisible=!0,"saved"!=this.attr.fullNameTrackingCreditCardFormState?this.select("fullNameFieldSelector").show():this.select("fullNameFieldSelector").hide()},this.hideFullNameField=function(){this.attr.fullNameRequestedVisible=!1,this.select("fullNameFieldSelector").hide()},this.creditCardFormStateChangedToggleFullname=function(e,t){this.attr.fullNameTrackingCreditCardFormState=t.newCreditCardFormState,this.attr.fullNameRequestedVisible?this.showFullNameField():this.hideFullNameField(),this.trigger("uiFullNameVisibilityChanged")},this.showZipcodeField=function(e){"new"==this.attr.user.card.credit&&0==this.select("ccZipcodeFieldContainerSelector").length&&this.renderDynamicZipcodeField(e)},this.renderDynamicZipcodeField=function(e){this.hideFullNameField(),this.select("expiryDateContainerSelector").after(t());var n="GB"==e?1:0,r=[I18n.t("js.zip_code"),I18n.t("js.postal")];this.select("ccZipcodeLabelSelector").text(r[n]);var i=["12345","W11 2BQ"][n];0==n&&"US"!=e&&(i=""),this.select("ccZipcodeFieldSelector").prop("placeholder",i),this.select("ccZipcodeFieldSelector").css("width",["52px","76px"][n]),this.select("ccZipcodeFieldContainerSelector").css("left",["128px","115px"][n])},this.isAmex=function(){return"amex"==this.attr.currentCardType},this.showStripeElements=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#card-number",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#card-expiry",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#card-cvc";window.grStripe=window.grStripe||Stripe($(this.attr.metaStripePublicKeySelector).attr("value"),{apiVersion:"2020-08-27"});var r=window.grStripe.elements(),i={base:{fontFamily:'-apple-system, ".SFNSDisplay-Regular", "Helvetica Neue",                     Helvetica, Arial, sans-serif',fontSize:"17px",color:"#777","::placeholder":{color:"#ccc"}}};this.attr.cardNumber=r.create("cardNumber",{placeholder:"1234 5678 9012 3456",style:i}),this.attr.cardExpiry=r.create("cardExpiry",{style:i}),this.attr.cardCvc=r.create("cardCvc",{placeholder:"123",style:i}),this.attr.cardNumber.mount(e),this.attr.cardExpiry.mount(t),this.attr.cardCvc.mount(n),this.attr.cardNumber.addEventListener("change",this.cardElementValidityListener.bind(this)),this.attr.cardNumber.addEventListener("change",this.updateCardType.bind(this)),this.attr.cardExpiry.addEventListener("change",this.cardElementValidityListener.bind(this)),this.attr.cardCvc.addEventListener("change",this.cardElementValidityListener.bind(this))},this.cardElementValidityListener=function(e){e.error||!e.complete?this.attr.cardFieldValidity[e.elementType]=!1:this.attr.cardFieldValidity[e.elementType]=!0},this.removeSavedCardAndShowNewCard=function(e){e.preventDefault();var t=this.select("rememberedSelector"),n=this.select("newCardSelector");t.addClass("cancelled-element"),this.trigger("uiRemoveSavedCreditCardStarted"),setTimeout(function(){n.hide().removeClass("hidden"),n.fadeIn(100,function(){t.hide(),this.attr.cardNumber.focus()}.bind(this)),this.setCreditCardFormState("new")}.bind(this),300),this.attr.onProductPage?this.showStripeElements(".js-product #card-number",".js-product #card-expiry",".js-product #card-cvc"):this.showStripeElements()},this.setRequiredFromCardFields=function(e){this.select("fullNameInputSelector").toggleClass("required",e)},this.updateCardType=function(e){this.attr.currentCardType=e.brand,"unknown"===this.attr.currentCardType&&(this.attr.currentCardType="generic_card"),this.setCard()},this.setCard=function(){this.changeCardIcon(this.attr.currentCardType),this.select("cvCodeSelector").animate({width:this.isAmex()?39:31}),this.attr.cardCvc.update({placeholder:this.isAmex()?"1234":"123"})},this.changeCardIcon=function(e){this.select("securityIndicatorSelector").fadeOut(),this.select("ccIconSelector").removeClass(this.attr.supportedCardImageTypes.join(" ")).addClass(e).fadeIn()},this.showSecurityBlurb=function(){this.select("securityBlurbSelector").fadeIn()},this.hideSecurityBlurb=function(){setTimeout(function(){this.select("securityBlurbSelector").fadeOut()}.bind(this),300)},this.validateCreditCardForm=function(){if(this.payingWithPayPal()||"saved"===this.attr.creditCardFormState||"test"===this.attr.creditCardFormState)return!0;var e=this.attr.cardFieldValidity,t=e.cardNumber,n=e.cardCvc,r=e.cardExpiry;return t?r?!!n||(this.attr.cardCvc.focus(),!1):(this.attr.cardExpiry.focus(),!1):(this.attr.cardNumber.focus(),!1)},this.getReusableCardParams=function(e){this.payingWithPayPal()?this.preparePayPalPayment(e):e({cardParams:null})},this.getCardParams=function(e){if("new"==this.attr.creditCardFormState)if(this.payingWithPayPal())this.preparePayPalPayment(e);else{var t={cardNumber:this.attr.cardNumber,cardCvc:this.attr.cardCvc,cardExpiry:this.attr.cardExpiry};this.trigger("uiNeedsCardPrepared",{associatedData:{callback:e},cardData:t})}else e({cardParams:{}})},this.clearCvc=function(){var e;null===(e=this.attr.cardCvc)||void 0===e||e.clear()},this.prepareCardCompleted=function(e,t){t.associatedData.callback({cardParams:t.cardParams})},this.setCardSaveRequired=function(e){this.attr.cardSaveRequired=e},this.isCardSaveRequired=function(){return this.attr.cardSaveRequired},this.after("initialize",(function(){n.attachTo(this.$node,{cardDataHandlingMode:$(this.attr.metaCardDataHandlingModeSelector).attr("value")}),this.on("dataCardPrepared",this.prepareCardCompleted),this.on("click",{useDifferentCardSelector:this.removeSavedCardAndShowNewCard}),this.on("uiChangedCreditCardFormState",this.creditCardFormStateChangedToggleFullname),this.select("securityIndicatorSelector").hover(this.showSecurityBlurb.bind(this),this.hideSecurityBlurb.bind(this));var e=this.select("creditCardHolder").data("formState");"undefined"!==typeof e&&(this.attr.creditCardFormState=e)}))}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r=n(563),i=n(568);if(i.useContext(r),"undefined"!==typeof window){var o,a=n(113),s=function(){o||(o=setTimeout((function(){i.mountComponents(),o=null}),0))};a.original_addInstance=a.addInstance,a.addInstance=function(e){a.original_addInstance(e),s()}}},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(1),o=n(20),a=n(5),s=n(68),l=n(144),c=n(145),u=n(86);var d=i.m({});t.default=Object(o.a)(Object(a.c)({component:function(e){return function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e),r.createElement(r.Fragment,null,r.createElement(s.VariantSelector,null),r.createElement(l.RentBuySelector,null),r.createElement(c.QuantitySelector,null),r.createElement(u.PWYWInput,null))},propParser:d}))},function(e,t,n){"use strict";var r,i;r=[n(2),n(295),n(24)],void 0===(i=function(e,t,n){return e((function(){this.showFollowForm=function(e,t){t.card&&"test"===t.card.credit||(t.email?this.select("followUserButtonSelector").data("email",t.email).show():(this.select("followUserFormSelector").show(),this.select("followUserOneClickButtonSelector").hide()),this.select("followUserContainerSelector").show())},this.showFollowState=function(e,t){t.is_following&&this.showFollowing()},this.after("initialize",(function(){this.on(document,"uishowFollowForm",this.showFollowForm),this.on(document,"dataCurrentUserInfo",this.showFollowForm),this.on(document,"dataCurrentUserInfo",this.showFollowState)}))}),t,n)}.apply(t,r))||(e.exports=i)},,function(e,t,n){"use strict";var r,i;r=[n(2),n(97),n(58)],void 0===(i=function(e,t,n){return e((function(){this.defaultAttrs({submitEvent:"uiNeedsToCreateProduct",submitSucceededEvent:"dataNewProduct",submitFailedEvent:"dataFailedToCreateProduct",isUserAsset:!0,uploadStartedEvent:"dataUploadingProductFileStarted",uploadProgressedEvent:"dataUploadingProductFileProgressed",dataEvent:"dataProductFile",uiUploadWithCorsEvent:"uiNeedsToUploadProductFileWithCors"}),this.updateProduct=function(e,t){var n=t.serializedFormData;return null!=t.customPermalink&&(n+="&",n+=$.param({link:{custom_permalink:t.customPermalink}})),$.ajax({type:"POST",dataType:"json",url:Routes.link_path(t.uniquePermalink,{format:"json"}),data:n}).done(function(e){e.success?(this.trigger("dataProduct",e),this.trigger("uiNeedsToResetOfferCodes",e.offer_code_list),this.trigger("uiNeedsToResetShippingDestinations",e.serialized_shipping_destinations),this.trigger("uiResetDatePicker"),this.trigger("uiNeedsToDrawFileList",{files_data:e.files_data})):(this.trigger("dataFailedToUpdateProduct",e),e.offer_code_list&&this.trigger("uiNeedsToResetOfferCodes",e.offer_code_list))}.bind(this)),!1},this.duplicateProduct=function(e,t){$.ajax({type:"POST",dataType:"json",url:Routes.product_duplicates_path(),data:{id:t.permalink}}).done(function(e){e.permalink=t.permalink,e.success?this.trigger("dataProductDuplicated",e):this.trigger("dataFailedToDuplicateProduct",e)}.bind(this))},this.deleteProduct=function(e,t){$.ajax({type:"DELETE",dataType:"json",url:Routes.link_path(t.permalink)}).done(function(e){e.permalink=t.permalink,e.success?this.trigger("dataProductDeleted",e):this.trigger("dataFailedToDeleteProduct",e)}.bind(this))},this.undoDeleteProduct=function(e,t){$.ajax({type:"POST",dataType:"json",url:t.url}).done(function(e){this.trigger("dataProductUndone",e)}.bind(this))},this.releasePreorder=function(e,t){$.ajax({type:"POST",dataType:"json",url:Routes.release_preorder_path(t.permalink)}).done(function(e){e.success?this.trigger("dataReleasedPreorder"):this.trigger("dataFailedToReleasePreorder",e)}.bind(this))},this.loadMoreProducts=function(e,t){$.ajax({type:"GET",dataType:"html",url:Routes.links_paged_path({page:t.page})}).done(function(e){this.trigger("dataProducts",{html:e})}.bind(this))},this.updateProfileVisibilities=function(e,t){$.ajax({type:"PUT",dataType:"json",contentType:"application/json",url:Routes.update_profile_visibilities_links_path({format:"json"}),data:JSON.stringify({links:t.formData})}).done(function(e){e.success||this.trigger("uiShowFlashMessage",{message:I18n.t("js.something_went_wrong")})}.bind(this))},this.after("initialize",(function(){this.on("uiNeedsToUpdateProduct",this.updateProduct),this.on("uiNeedsToReleasePreorder",this.releasePreorder),this.on("uiNeedsToDeleteProduct",this.deleteProduct),this.on("uiNeedsToDuplicateProduct",this.duplicateProduct),this.on("uiNeedsToUndoProductDelete",this.undoDeleteProduct),this.on("uiNeedsToLoadMoreProducts",this.loadMoreProducts),this.on("uiNeedsToUpdateProfileVisibilities",this.updateProfileVisibilities)}))}),t,n)}.apply(t,r))||(e.exports=i)},function(e,t,n){var r=n(64),i=n(341),o=n(244),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,u,d,f,h,p=0,m=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,r=c;return l=c=void 0,p=t,d=e.apply(r,n)}function b(e){return p=e,f=setTimeout(_,t),m?y(e):d}function w(e){var n=e-h;return void 0===h||n>=t||n<0||g&&e-p>=u}function _(){var e=i();if(w(e))return S(e);f=setTimeout(_,function(e){var n=t-(e-h);return g?s(n,u-(e-p)):n}(e))}function S(e){return f=void 0,v&&l?y(e):(l=c=void 0,d)}function C(){var e=i(),n=w(e);if(l=arguments,c=this,h=e,n){if(void 0===f)return b(h);if(g)return clearTimeout(f),f=setTimeout(_,t),y(h)}return void 0===f&&(f=setTimeout(_,t)),d}return t=o(t)||0,r(n)&&(m=!!n.leading,u=(g="maxWait"in n)?a(o(n.maxWait)||0,t):u,v="trailing"in n?!!n.trailing:v),C.cancel=function(){void 0!==f&&clearTimeout(f),p=0,l=h=c=f=void 0},C.flush=function(){return void 0===f?d:S(i())},C}},function(e,t,n){"use strict";n.r(t),n.d(t,"SingleProductCustomFields",(function(){return y})),n.d(t,"CustomFieldInput",(function(){return b}));var r=n(0),i=n(6),o=n.n(i),a=n(1),s=n(20),l=n(40),c=n(5),u=n(36),d=n(12);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=a.m({}),y=function(e){!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e);var t=Object(c.p)((function(e){return e.productData.custom_fields})),n=Object(c.p)((function(e){return c.i.findSelfEntry(e).customFieldValues})),i=Object(c.p)(c.i.getCustomFieldErrors),o=Object(c.m)(),a=m(r.useState((function(){return Object(d.f)(t)})),2),s=a[0],l=a[1],f=r.useRef({});return Object(u.c)((function(){l(i);var e=Object.keys(i).find((function(e){return i[e]}));if(e){var t=f.current[e];t&&t.focus()}})),r.createElement("div",null,t.map((function(e,t){var i=s[e.name],a=n[e.name];return r.createElement(b,{key:"".concat(e.name,"_").concat(t),ref:function(t){return f.current[e.name]=t},name:e.name,required:e.required,hasError:i,value:a||"",onChange:function(t){l((function(t){return h(h({},t),{},p({},e.name,!1))})),o({type:"pass-through-payment-action",action:{type:"set-custom-field-value",productUid:c.b,fieldName:e.name,value:""===t?null:t}})},showLabel:!1})})))},b=r.forwardRef((function(e,t){var n=e.name,i=e.required,a=e.hasError,s=e.value,c=e.onChange,u=e.showLabel,d=Object(l.a)();return r.createElement("p",null,u?r.createElement("label",{htmlFor:d},n,":"):null,r.createElement("input",{ref:t,id:d,type:"text",className:o()("custom-field",{error:a}),placeholder:i?n:"".concat(n," (").concat(I18n.t("js.optional"),")"),value:s,onChange:function(e){return c(e.target.value)}}))}));t.default=Object(s.a)(Object(c.c)({component:y,propParser:v}))},function(e,t,n){"use strict";n.r(t),n.d(t,"RecurrenceSelector",(function(){return d}));var r=n(0),i=n(6),o=n.n(i),a=n(21),s=n(11),l=n(92);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=function(e){var t=e.selectedRecurrence,n=e.availableRecurrences,i=e.onChangeSelection,u=c(r.useState(!1),2),d=u[0],f=u[1],h=c(r.useState(null),2),p=h[0],m=h[1];return Object(l.a)([p],(function(){f(!1)})),r.createElement("div",{className:"recurrence-selector"},r.createElement("a",{href:"#",className:"recurrence-selector__trigger",onClick:function(e){e.preventDefault(),f((function(e){return!e}))}},Object(a.d)(t)," ",r.createElement(s.e,{name:"chevron-bottom"})),r.createElement("div",{ref:function(e){return m(e)},className:o()("tooltip--from-top-right","recurrence-selector__dropdown",{showing:d})},r.createElement("ul",null,n.map((function(e){return r.createElement("li",{key:e,onClick:function(t){t.preventDefault(),i(e),f(!1),f(!1)}},Object(a.d)(e))})))))}},function(e,t,n){"use strict";n.r(t),n.d(t,"useSelectedRecurrence",(function(){return o}));var r=n(0),i=n(27),o=function(){var e,t=Object(i.b)({productSelector:function(e){return e.selection.selectedRecurrenceId},subscriptionSelector:function(e){return e.selection.selectedRecurrenceId}}),n=(e=Object(i.a)(),r.useCallback((function(t){var n={type:"switch-recurrence",recurrenceId:t};e({productAction:n,subscriptionAction:n})}),[e]));return{selectedRecurrenceId:t,setSelectedRecurrence:r.useCallback((function(e){n(e)}),[])}}},function(e,t,n){"use strict";n.r(t),n.d(t,"useVariantSelectionState",(function(){return o}));var r=n(0),i=n(27),o=function(){var e,t=Object(i.b)({productSelector:function(e){return e.selection.variantSelection},subscriptionSelector:function(e){return e.selection.variantSelection}}),n=(e=Object(i.a)(),r.useCallback((function(t){var n={type:"select-variant-options-by-ids",optionIds:[t]};e({productAction:n,subscriptionAction:n})}),[e]));return[t,r.useCallback((function(e){n(e)}),[n])]}},function(e,t,n){"use strict";n.r(t),n.d(t,"ContactInfo",(function(){return o}));var r=n(0),i=n(19);var o=function(e){!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e);var t=Object(i.h)(),n=Object(i.k)((function(e){return e.productData.is_shipping_info_required})),o=Object(i.k)((function(e){return e.subscriptionData.contact_info})),a=Object(i.k)((function(e){return e.addressConstants})),s=a.states,l=a.countries;return r.createElement("div",null,r.createElement("label",{className:"top-level-label"},I18n.t("js.contact_information_header")),r.createElement("div",{className:"address-container"},r.createElement("p",null,r.createElement("input",{type:"text",placeholder:I18n.t("js.email"),value:o.email,onChange:function(e){t({type:"update-contact-info",partialContactInfo:{email:e.target.value}})}})),n?r.createElement(r.Fragment,null,r.createElement("p",null,r.createElement("input",{type:"text",placeholder:I18n.t("js.full_name"),value:o.full_name,onChange:function(e){t({type:"update-contact-info",partialContactInfo:{full_name:e.target.value}})}})),r.createElement("p",null,r.createElement("input",{type:"text",placeholder:I18n.t("js.street_address"),value:o.street_address,onChange:function(e){t({type:"update-contact-info",partialContactInfo:{street_address:e.target.value}})}})),r.createElement("p",{className:"multi-column"},r.createElement("input",{className:"purchase_city",type:"text",placeholder:I18n.t("js.city"),value:o.city,onChange:function(e){t({type:"update-contact-info",partialContactInfo:{city:e.target.value}})}}),r.createElement("select",{name:"state",className:"appearance-none purchase_state",value:o.state,onChange:function(e){t({type:"update-contact-info",partialContactInfo:{state:e.target.value}})}},s.map((function(e){return r.createElement("option",{key:e,value:e},e)}))),r.createElement("input",{className:"purchase_zip_code",type:"text",placeholder:I18n.t("js.zip_code"),value:o.zip_code,onChange:function(e){t({type:"update-contact-info",partialContactInfo:{zip_code:e.target.value}})}})),r.createElement("p",null,r.createElement("select",{className:"appearance-none",name:"country",onChange:function(e){t({type:"update-contact-info",partialContactInfo:{country:e.target.value}})},value:o.country},l.map((function(e){return r.createElement("option",{key:e,value:e},e)}))))):null))}},function(e,t,n){"use strict";n.r(t),n.d(t,"ProductPriceTag",(function(){return d}));var r=n(0),i=n(1),o=n(20),a=n(21),s=n(49),l=n(23),c=n(5);var u=i.m({}),d=function(e){!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e);var t=Object(c.p)((function(e){return e.productData})),n=t.currency,i=t.long_url,o=t.product_duration_in_months,u=t.is_sales_limited,d=Object(c.p)(c.i.getIsPayWhatYouWant),f=Object(c.p)(c.i.getOfferCode),h=Object(c.p)(c.i.getBeforeDiscountCents),p=Object(c.p)((function(e){return e.selection.selectedRecurrenceId})),m=Object(s.a)(f,h),g=Object(l.b)(n,m),v=Object(l.c)(n,m),y=m!==h?Object(l.b)(n,h):null,b=null!=p?Object(a.g)(p,o):null;return r.createElement("h2",{className:"product-price-tag",itemProp:"offers",itemScope:!0,itemType:"http://schema.org/Offer"},r.createElement("strong",{className:"price"},g,d?"+":null,b?" ".concat(b):null),null!=y?r.createElement(r.Fragment,null," ",r.createElement("span",{className:"old-price"},y)):null,r.createElement("link",{itemProp:"url",href:i}),r.createElement("meta",{itemProp:"availability",content:"https://schema.org/".concat(u?"LimitedAvailability":"InStock")}),r.createElement("meta",{itemProp:"price",content:v}),r.createElement("meta",{itemProp:"priceCurrency",content:n.currency_type}))};t.default=Object(o.a)(Object(c.c)({component:d,propParser:u}))},function(e,t,n){"use strict";n.r(t),n.d(t,"RentBuySelector",(function(){return l}));var r=n(0),i=n(23),o=n(49),a=n(5),s=n(39);var l=function(e){!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e);var t=Object(a.p)((function(e){return e.productData})),n="buy_and_rent"===t.purchase_type,i=Object(a.p)(a.i.getIsPayWhatYouWant),o=t.currency,l=t.base_rental_price_cents||0,d=t.base_price_cents,f=u(),h=f.mode,p=f.onSwitch;return n?r.createElement(s.a,{label:I18n.t("select_type")},r.createElement(c,{currency:o,priceCents:l,isPWYW:i,name:I18n.t("rent"),description:I18n.t("rental_terms"),isSelected:"rent"===h,onClick:function(){return p("rent")}}),r.createElement(c,{currency:o,priceCents:d,isPWYW:i,name:I18n.t("buy"),description:I18n.t("buy_terms"),isSelected:"buy"===h,onClick:function(){return p("buy")}})):null},c=function(e){var t=e.currency,n=e.priceCents,l=e.isPWYW,c=e.name,u=e.description,d=e.isSelected,f=e.onClick,h=Object(a.p)((function(e){return e.isInteractive})),p=Object(a.p)(a.i.getOfferCode),m=Object(o.a)(p,n);return r.createElement(s.b,{temporarilyDisabled:!h,isSelected:d,onSelect:f},r.createElement(s.f,null,Object(i.b)(t,m),l?"+":null,m!==n?r.createElement(s.g,null,Object(i.b)(t,n)):null),r.createElement(s.e,null,c),r.createElement(s.d,null,u))},u=function(){var e=Object(a.p)((function(e){return e.selection.mode})),t=Object(a.m)();return{mode:e,onSwitch:r.useCallback((function(e){t({type:"switch-mode",mode:e})}),[t])}}},function(e,t,n){"use strict";n.r(t),n.d(t,"QuantitySelector",(function(){return u}));var r=n(0),i=n(6),o=n.n(i),a=n(5),s=n(36);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=function(e){!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e);var t=Object(a.p)((function(e){return e.isInteractive})),n=Object(a.p)((function(e){return e.productData})),i=n.quantity_enabled&&0!==n.quantity_remaining&&1!==n.quantity_remaining,c=f(),u=c.currentQuantity,h=c.increase,p=c.decrease,m=Object(a.p)(a.i.getIsValidQuantity),g=l(r.useState(!1),2),v=g[0],y=g[1];return Object(s.c)((function(){m||y(!0)})),r.useEffect((function(){y(!1)}),[u]),i?r.createElement("div",{className:o()("quantity-selector",{error:v})},r.createElement(d,{onClick:u>1&&t?p:null},"-"),r.createElement("span",null,I18n.t("quantity")," ",r.createElement("strong",{"data-testid":"current-quantity",className:o()({error:v})},u)),r.createElement(d,{onClick:t?h:null},"+")):null},d=function(e){var t=e.onClick,n=e.children;return t?r.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),t()}},n):r.createElement("a",{href:"#",className:"disabled",onClick:function(e){e.preventDefault()}},n)},f=function(){var e=Object(a.p)((function(e){return e.selection.quantity})),t=Object(a.p)(a.i.getAllowIncreasingOfQuantity),n=Object(a.m)(),i=r.useCallback((function(){n({type:"increase-quantity"})}),[n]);return{currentQuantity:e,increase:t?i:null,decrease:r.useCallback((function(){n({type:"decrease-quantity"})}),[n])}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),i=function(e){e.color;return r.createElement("div",{className:"loading-spinner-component"})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),i=n(6),o=n.n(i),a=n(25);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=function(e){var t=e.ratingRange,n=e.currentRating,i=e.onChangeCurrentRating,o=t[t.length-1],a=s(r.useState(null),2),l=a[0],c=a[1];return r.createElement("div",{className:"ratings-box ratings-box--is-large"},r.createElement("ul",{className:"ratings-box__stars"},t.map((function(e){return r.createElement("li",{key:e},r.createElement(u,{rating:e,isLast:e===o,isHighlighted:null!=n&&n>=e,isHovered:null!=l&&l>=e,onHover:function(){return c(e)},onBlur:function(){return c(null)},onSelect:function(){return i(e)}}))}))))},u=function(e){var t=e.rating,n=e.isHighlighted,i=e.isHovered,s=e.isLast,l=e.onHover,c=e.onBlur,u=e.onSelect;return r.createElement(a.a,{tip:I18n.t("stars",{count:t}),gravity:"n"},(function(e){return r.createElement("div",{ref:e,"aria-label":I18n.t("stars",{count:t}),className:o()("ratings-box__star",s&&"ratings-box__star--is-last",n&&"full-star",i&&"hover"),onMouseOver:l,onMouseOut:c,onClick:u})}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),i=n(37),o=n(59),a=n(18);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=function(e){var t=e.initial,n=e.productPermalink,l=e.purchaseId,c=s(r.useState(t),2),u=c[0],d=c[1],f=Object(i.useFlashMessageFlightJs)();return[u,function(e){var t=e.productPermalink,n=e.purchaseId,r=e.currentRating,i=e.onFinished,s=Object(o.a)(i);Object(a.b)("uiUpdateRating",(function(e,t){s.current(t.rating)}));var l=Object(a.a)("dataAddProductRating");return function(e){r!==e&&l({productPermalink:t,purchaseId:n,rating:e,existingRating:r})}}({productPermalink:n,purchaseId:l,currentRating:u,onFinished:function(e){d(e),f(I18n.t("js.product_rated"))}})]}},,,function(e,t,n){"use strict";var r={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function i(e){return function(t){var n=t||{},r=n.width?String(n.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}var o={date:i({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:i({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:i({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},a={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function s(e){return function(t,n){var r,i=n||{};if("formatting"===(i.context?String(i.context):"standalone")&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,a=i.width?String(i.width):o;r=e.formattingValues[a]||e.formattingValues[o]}else{var s=e.defaultWidth,l=i.width?String(i.width):e.defaultWidth;r=e.values[l]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function l(e){return function(t,n){var r=String(t),i=n||{},o=i.width,a=o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth],s=r.match(a);if(!s)return null;var l,c=s[0],u=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth];return l="[object Array]"===Object.prototype.toString.call(u)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}(u,(function(e){return e.test(c)})):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}(u,(function(e){return e.test(c)})),l=e.valueCallback?e.valueCallback(l):l,{value:l=i.valueCallback?i.valueCallback(l):l,rest:r.slice(c.length)}}}var c,u={code:"en-US",formatDistance:function(e,t,n){var i;return n=n||{},i="string"===typeof r[e]?r[e]:1===t?r[e].one:r[e].other.replace("{{count}}",t),n.addSuffix?n.comparison>0?"in "+i:i+" ago":i},formatLong:o,formatRelative:function(e,t,n,r){return a[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:s({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:s({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:s({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:s({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:s({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(c={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e,t){var n=String(e),r=t||{},i=n.match(c.matchPattern);if(!i)return null;var o=i[0],a=n.match(c.parsePattern);if(!a)return null;var s=c.valueCallback?c.valueCallback(a[0]):a[0];return{value:s=r.valueCallback?r.valueCallback(s):s,rest:n.slice(o.length)}}),era:l({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:l({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:l({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:l({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:l({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};t.a=u},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,"a",(function(){return xt}));function c(e){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var u=c(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),d=c(/Edge/i),f=c(/firefox/i),h=c(/safari/i)&&!c(/chrome/i)&&!c(/android/i),p=c(/iP(ad|od|hone)/i),m=c(/chrome/i)&&c(/android/i),g={capture:!1,passive:!1};function v(e,t,n){e.addEventListener(t,n,!u&&g)}function y(e,t,n){e.removeEventListener(t,n,!u&&g)}function b(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(n){return!1}return!1}}function w(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function _(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&b(e,t):b(e,t))||r&&e===n)return e;if(e===n)break}while(e=w(e))}return null}var S,C=/\s+/g;function x(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(C," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(C," ")}}function E(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"===typeof n?"":"px")}}function P(e,t){var n="";if("string"===typeof e)n=e;else do{var r=E(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix;return i&&new i(n)}function k(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function T(){return u?document.documentElement:document.scrollingElement}function A(e,t,n,r,i){if(e.getBoundingClientRect||e===window){var o,a,s,l,c,d,f;if(e!==window&&e!==T()?(a=(o=e.getBoundingClientRect()).top,s=o.left,l=o.bottom,c=o.right,d=o.height,f=o.width):(a=0,s=0,l=window.innerHeight,c=window.innerWidth,d=window.innerHeight,f=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!u))do{if(i&&i.getBoundingClientRect&&("none"!==E(i,"transform")||n&&"static"!==E(i,"position"))){var h=i.getBoundingClientRect();a-=h.top+parseInt(E(i,"border-top-width")),s-=h.left+parseInt(E(i,"border-left-width")),l=a+o.height,c=s+o.width;break}}while(i=i.parentNode);if(r&&e!==window){var p=P(i||e),m=p&&p.a,g=p&&p.d;p&&(l=(a/=g)+(d/=g),c=(s/=m)+(f/=m))}return{top:a,left:s,bottom:l,right:c,width:f,height:d}}}function O(e,t,n){for(var r=R(e,!0),i=A(e)[t];r;){var o=A(r)[n];if(!("top"===n||"left"===n?i>=o:i<=o))return r;if(r===T())break;r=R(r,!1)}return!1}function I(e,t,n){for(var r=0,i=0,o=e.children;i<o.length;){if("none"!==o[i].style.display&&o[i]!==Le.ghost&&o[i]!==Le.dragged&&_(o[i],n.draggable,e,!1)){if(r===t)return o[i];r++}i++}return null}function j(e,t){for(var n=e.lastElementChild;n&&(n===Le.ghost||"none"===E(n,"display")||t&&!b(n,t));)n=n.previousElementSibling;return n||null}function N(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Le.clone||t&&!b(e,t)||n++;return n}function D(e){var t=0,n=0,r=T();if(e)do{var i=P(e),o=i.a,a=i.d;t+=e.scrollLeft*o,n+=e.scrollTop*a}while(e!==r&&(e=e.parentNode));return[t,n]}function R(e,t){if(!e||!e.getBoundingClientRect)return T();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=E(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return T();if(r||t)return n;r=!0}}}while(n=n.parentNode);return T()}function F(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function M(e,t){return function(){if(!S){var n=arguments,r=this;1===n.length?e.call(r,n[0]):e.apply(r,n),S=setTimeout((function(){S=void 0}),t)}}}function L(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function B(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var U="Sortable"+(new Date).getTime();function z(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==E(e,"display")&&e!==Le.ghost){t.push({target:e,rect:A(e)});var n=s({},t[t.length-1].rect);if(e.thisAnimationDuration){var r=P(e,!0);r&&(n.top-=r.f,n.left-=r.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"===typeof n&&n());var i=!1,o=0;t.forEach((function(e){var t=0,n=e.target,a=n.fromRect,s=A(n),l=n.prevFromRect,c=n.prevToRect,u=e.rect,d=P(n,!0);d&&(s.top-=d.f,s.left-=d.e),n.toRect=s,n.thisAnimationDuration&&F(l,s)&&!F(a,s)&&(u.top-s.top)/(u.left-s.left)===(a.top-s.top)/(a.left-s.left)&&(t=function(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}(u,l,c,r.options)),F(s,a)||(n.prevFromRect=a,n.prevToRect=s,t||(t=r.options.animation),r.animate(n,u,s,t)),t&&(i=!0,o=Math.max(o,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),i?e=setTimeout((function(){"function"===typeof n&&n()}),o):"function"===typeof n&&n(),t=[]},animate:function(e,t,n,r){if(r){E(e,"transition",""),E(e,"transform","");var i=P(this.el),o=i&&i.a,a=i&&i.d,s=(t.left-n.left)/(o||1),l=(t.top-n.top)/(a||1);e.animatingX=!!s,e.animatingY=!!l,E(e,"transform","translate3d("+s+"px,"+l+"px,0)"),function(e){e.offsetWidth}(e),E(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),E(e,"transform","translate3d(0,0,0)"),"number"===typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){E(e,"transition",""),E(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),r)}}}}var H=[],W={initializeByDefault:!0},q={mount:function(e){for(var t in W)W.hasOwnProperty(t)&&!(t in e)&&(e[t]=W[t]);H.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var i=e+"Global";H.forEach((function(r){t[r.pluginName]&&(t[r.pluginName][i]&&t[r.pluginName][i](s({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](s({sortable:t},n)))}))},initializePlugins:function(e,t,n,r){for(var i in H.forEach((function(r){var i=r.pluginName;if(e.options[i]||r.initializeByDefault){var o=new r(e,t,e.options);o.sortable=e,o.options=e.options,e[i]=o,a(n,o.defaults)}})),e.options)if(e.options.hasOwnProperty(i)){var o=this.modifyOption(e,i,e.options[i]);"undefined"!==typeof o&&(e.options[i]=o)}},getEventProperties:function(e,t){var n={};return H.forEach((function(r){"function"===typeof r.eventProperties&&a(n,r.eventProperties.call(t[r.pluginName],e))})),n},modifyOption:function(e,t,n){var r;return H.forEach((function(i){e[i.pluginName]&&i.optionListeners&&"function"===typeof i.optionListeners[t]&&(r=i.optionListeners[t].call(e[i.pluginName],n))})),r}};function V(e){var t=e.sortable,n=e.rootEl,r=e.name,i=e.targetEl,o=e.cloneEl,a=e.toEl,l=e.fromEl,c=e.oldIndex,f=e.newIndex,h=e.oldDraggableIndex,p=e.newDraggableIndex,m=e.originalEvent,g=e.putSortable,v=e.extraEventProperties;if(t=t||n&&n[U]){var y,b=t.options,w="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||u||d?(y=document.createEvent("Event")).initEvent(r,!0,!0):y=new CustomEvent(r,{bubbles:!0,cancelable:!0}),y.to=a||n,y.from=l||n,y.item=i||n,y.clone=o,y.oldIndex=c,y.newIndex=f,y.oldDraggableIndex=h,y.newDraggableIndex=p,y.originalEvent=m,y.pullMode=g?g.lastPutMode:void 0;var _=s({},v,q.getEventProperties(r,t));for(var S in _)y[S]=_[S];n&&n.dispatchEvent(y),b[w]&&b[w].call(t,y)}}var $=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,i=l(n,["evt"]);q.pluginEvent.bind(Le)(e,t,s({dragEl:G,parentEl:K,ghostEl:Q,rootEl:X,nextEl:J,lastDownEl:Z,cloneEl:ee,cloneHidden:te,dragStarted:pe,putSortable:se,activeSortable:Le.active,originalEvent:r,oldIndex:ne,oldDraggableIndex:ie,newIndex:re,newDraggableIndex:oe,hideGhostForTarget:De,unhideGhostForTarget:Re,cloneNowHidden:function(){te=!0},cloneNowShown:function(){te=!1},dispatchSortableEvent:function(e){Y({sortable:t,name:e,originalEvent:r})}},i))};function Y(e){V(s({putSortable:se,cloneEl:ee,targetEl:G,rootEl:X,oldIndex:ne,oldDraggableIndex:ie,newIndex:re,newDraggableIndex:oe},e))}var G,K,Q,X,J,Z,ee,te,ne,re,ie,oe,ae,se,le,ce,ue,de,fe,he,pe,me,ge,ve,ye,be=!1,we=!1,_e=[],Se=!1,Ce=!1,xe=[],Ee=!1,Pe=[],ke="undefined"!==typeof document,Te=p,Ae=d||u?"cssFloat":"float",Oe=ke&&!m&&!p&&"draggable"in document.createElement("div"),Ie=function(){if(ke){if(u)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),je=function(e,t){var n=E(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=I(e,0,t),o=I(e,1,t),a=i&&E(i),s=o&&E(o),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+A(i).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+A(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&a.float&&"none"!==a.float){var u="left"===a.float?"left":"right";return!o||"both"!==s.clear&&s.clear!==u?"horizontal":"vertical"}return i&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||l>=r&&"none"===n[Ae]||o&&"none"===n[Ae]&&l+c>r)?"vertical":"horizontal"},Ne=function(e){function t(e,n){return function(r,i,o,a){var s=r.options.group.name&&i.options.group.name&&r.options.group.name===i.options.group.name;if(null==e&&(n||s))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"===typeof e)return t(e(r,i,o,a),n)(r,i,o,a);var l=(n?r:i).options.group.name;return!0===e||"string"===typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},r=e.group;r&&"object"==i(r)||(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n},De=function(){!Ie&&Q&&E(Q,"display","none")},Re=function(){!Ie&&Q&&E(Q,"display","")};ke&&document.addEventListener("click",(function(e){if(we)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),we=!1,!1}),!0);var Fe=function(e){if(G){e=e.touches?e.touches[0]:e;var t=(i=e.clientX,o=e.clientY,_e.some((function(e){if(!j(e)){var t=A(e),n=e[U].options.emptyInsertThreshold,r=i>=t.left-n&&i<=t.right+n,s=o>=t.top-n&&o<=t.bottom+n;return n&&r&&s?a=e:void 0}})),a);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[U]._onDragOver(n)}}var i,o,a},Me=function(e){G&&G.parentNode[U]._isOutsideThisEl(e.target)};function Le(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=a({},t),e[U]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return je(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Le.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var r in q.initializePlugins(this,e,n),n)!(r in t)&&(t[r]=n[r]);for(var i in Ne(t),this)"_"===i.charAt(0)&&"function"===typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&Oe,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?v(e,"pointerdown",this._onTapStart):(v(e,"mousedown",this._onTapStart),v(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(v(e,"dragover",this),v(e,"dragenter",this)),_e.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),a(this,z())}function Be(e,t,n,r,i,o,a,s){var l,c,f=e[U],h=f.options.onMove;return!window.CustomEvent||u||d?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=r,l.related=i||t,l.relatedRect=o||A(t),l.willInsertAfter=s,l.originalEvent=a,e.dispatchEvent(l),h&&(c=h.call(f,l,a)),c}function Ue(e){e.draggable=!1}function ze(){Ee=!1}function He(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function We(e){return setTimeout(e,0)}function qe(e){return clearTimeout(e)}Le.prototype={constructor:Le,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(me=null)},_getDirection:function(e,t){return"function"===typeof this.options.direction?this.options.direction.call(this,e,t,G):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,i=r.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(a||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=r.filter;if(function(e){Pe.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var r=t[n];r.checked&&Pe.push(r)}}(n),!G&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||r.disabled)&&!l.isContentEditable&&(!(s=_(s,r.draggable,n,!1))||!s.animated)&&Z!==s){if(ne=N(s),ie=N(s,r.draggable),"function"===typeof c){if(c.call(this,e,s,this))return Y({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),$("filter",t,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(r){if(r=_(l,r.trim(),n,!1))return Y({sortable:t,rootEl:r,name:"filter",targetEl:s,fromEl:n,toEl:n}),$("filter",t,{evt:e}),!0}))))return void(i&&e.cancelable&&e.preventDefault());r.handle&&!_(l,r.handle,n,!1)||this._prepareDragStart(e,a,s)}}},_prepareDragStart:function(e,t,n){var r,i=this,o=i.el,a=i.options,s=o.ownerDocument;if(n&&!G&&n.parentNode===o){var l=A(n);if(X=o,K=(G=n).parentNode,J=G.nextSibling,Z=n,ae=a.group,Le.dragged=G,le={target:G,clientX:(t||e).clientX,clientY:(t||e).clientY},fe=le.clientX-l.left,he=le.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,G.style["will-change"]="all",r=function(){$("delayEnded",i,{evt:e}),Le.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!f&&i.nativeDraggable&&(G.draggable=!0),i._triggerDragStart(e,t),Y({sortable:i,name:"choose",originalEvent:e}),x(G,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){k(G,e.trim(),Ue)})),v(s,"dragover",Fe),v(s,"mousemove",Fe),v(s,"touchmove",Fe),v(s,"mouseup",i._onDrop),v(s,"touchend",i._onDrop),v(s,"touchcancel",i._onDrop),f&&this.nativeDraggable&&(this.options.touchStartThreshold=4,G.draggable=!0),$("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(d||u))r();else{if(Le.eventCanceled)return void this._onDrop();v(s,"mouseup",i._disableDelayedDrag),v(s,"touchend",i._disableDelayedDrag),v(s,"touchcancel",i._disableDelayedDrag),v(s,"mousemove",i._delayedDragTouchMoveHandler),v(s,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&v(s,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(r,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){G&&Ue(G),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;y(e,"mouseup",this._disableDelayedDrag),y(e,"touchend",this._disableDelayedDrag),y(e,"touchcancel",this._disableDelayedDrag),y(e,"mousemove",this._delayedDragTouchMoveHandler),y(e,"touchmove",this._delayedDragTouchMoveHandler),y(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?v(document,"pointermove",this._onTouchMove):v(document,t?"touchmove":"mousemove",this._onTouchMove):(v(G,"dragend",this),v(X,"dragstart",this._onDragStart));try{document.selection?We((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(e,t){if(be=!1,X&&G){$("dragStarted",this,{evt:t}),this.nativeDraggable&&v(document,"dragover",Me);var n=this.options;!e&&x(G,n.dragClass,!1),x(G,n.ghostClass,!0),Le.active=this,e&&this._appendGhost(),Y({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(ce){this._lastX=ce.clientX,this._lastY=ce.clientY,De();for(var e=document.elementFromPoint(ce.clientX,ce.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ce.clientX,ce.clientY))!==t;)t=e;if(G.parentNode[U]._isOutsideThisEl(e),t)do{if(t[U]){if(t[U]._onDragOver({clientX:ce.clientX,clientY:ce.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Re()}},_onTouchMove:function(e){if(le){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,i=e.touches?e.touches[0]:e,o=Q&&P(Q),a=Q&&o&&o.a,s=Q&&o&&o.d,l=Te&&ye&&D(ye),c=(i.clientX-le.clientX+r.x)/(a||1)+(l?l[0]-xe[0]:0)/(a||1),u=(i.clientY-le.clientY+r.y)/(s||1)+(l?l[1]-xe[1]:0)/(s||1);if(!Le.active&&!be){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(Q){o?(o.e+=c-(ue||0),o.f+=u-(de||0)):o={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");E(Q,"webkitTransform",d),E(Q,"mozTransform",d),E(Q,"msTransform",d),E(Q,"transform",d),ue=c,de=u,ce=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Q){var e=this.options.fallbackOnBody?document.body:X,t=A(G,!0,Te,!0,e),n=this.options;if(Te){for(ye=e;"static"===E(ye,"position")&&"none"===E(ye,"transform")&&ye!==document;)ye=ye.parentNode;ye!==document.body&&ye!==document.documentElement?(ye===document&&(ye=T()),t.top+=ye.scrollTop,t.left+=ye.scrollLeft):ye=T(),xe=D(ye)}x(Q=G.cloneNode(!0),n.ghostClass,!1),x(Q,n.fallbackClass,!0),x(Q,n.dragClass,!0),E(Q,"transition",""),E(Q,"transform",""),E(Q,"box-sizing","border-box"),E(Q,"margin",0),E(Q,"top",t.top),E(Q,"left",t.left),E(Q,"width",t.width),E(Q,"height",t.height),E(Q,"opacity","0.8"),E(Q,"position",Te?"absolute":"fixed"),E(Q,"zIndex","100000"),E(Q,"pointerEvents","none"),Le.ghost=Q,e.appendChild(Q),E(Q,"transform-origin",fe/parseInt(Q.style.width)*100+"% "+he/parseInt(Q.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,i=n.options;$("dragStart",this,{evt:e}),Le.eventCanceled?this._onDrop():($("setupClone",this),Le.eventCanceled||((ee=B(G)).draggable=!1,ee.style["will-change"]="",this._hideClone(),x(ee,this.options.chosenClass,!1),Le.clone=ee),n.cloneId=We((function(){$("clone",n),Le.eventCanceled||(n.options.removeCloneOnHide||X.insertBefore(ee,G),n._hideClone(),Y({sortable:n,name:"clone"}))})),!t&&x(G,i.dragClass,!0),t?(we=!0,n._loopId=setInterval(n._emulateDragOver,50)):(y(document,"mouseup",n._onDrop),y(document,"touchend",n._onDrop),y(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",i.setData&&i.setData.call(n,r,G)),v(document,"drop",n),E(G,"transform","translateZ(0)")),be=!0,n._dragStartId=We(n._dragStarted.bind(n,t,e)),v(document,"selectstart",n),pe=!0,h&&E(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,r,i,o=this.el,a=e.target,l=this.options,c=l.group,u=Le.active,d=ae===c,f=l.sort,h=se||u,p=this,m=!1;if(!Ee){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),a=_(a,l.draggable,o,!0),F("dragOver"),Le.eventCanceled)return m;if(G.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||p._ignoreWhileAnimating===a)return B(!1);if(we=!1,u&&!l.disabled&&(d?f||(r=!X.contains(G)):se===this||(this.lastPutMode=ae.checkPull(this,u,G,e))&&c.checkPut(this,u,G,e))){if(i="vertical"===this._getDirection(e,a),t=A(G),F("dragOverValid"),Le.eventCanceled)return m;if(r)return K=X,M(),this._hideClone(),F("revert"),Le.eventCanceled||(J?X.insertBefore(G,J):X.appendChild(G)),B(!0);var g=j(o,l.draggable);if(!g||function(e,t,n){var r=A(j(n.el,n.options.draggable)),i=10;return t?e.clientX>r.right+i||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+i}(e,i,this)&&!g.animated){if(g===G)return B(!1);if(g&&o===e.target&&(a=g),a&&(n=A(a)),!1!==Be(X,o,G,t,a,n,e,!!a))return M(),o.appendChild(G),K=o,z(),B(!0)}else if(a.parentNode===o){n=A(a);var v,y,b,w=G.parentNode!==o,S=!function(e,t,n){var r=n?e.left:e.top,i=n?e.right:e.bottom,o=n?e.width:e.height,a=n?t.left:t.top,s=n?t.right:t.bottom,l=n?t.width:t.height;return r===a||i===s||r+o/2===a+l/2}(G.animated&&G.toRect||t,a.animated&&a.toRect||n,i),C=i?"top":"left",P=O(a,"top","top")||O(G,"top","top"),k=P?P.scrollTop:void 0;if(me!==a&&(y=n[C],Se=!1,Ce=!S&&l.invertSwap||w),0!==(v=function(e,t,n,r,i,o,a,s){var l=r?e.clientY:e.clientX,c=r?n.height:n.width,u=r?n.top:n.left,d=r?n.bottom:n.right,f=!1;if(!a)if(s&&ve<c*i){if(!Se&&(1===ge?l>u+c*o/2:l<d-c*o/2)&&(Se=!0),Se)f=!0;else if(1===ge?l<u+ve:l>d-ve)return-ge}else if(l>u+c*(1-i)/2&&l<d-c*(1-i)/2)return function(e){return N(G)<N(e)?1:-1}(t);if((f=f||a)&&(l<u+c*o/2||l>d-c*o/2))return l>u+c/2?1:-1;return 0}(e,a,n,i,S?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Ce,me===a))){var T=N(G);do{T-=v,b=K.children[T]}while(b&&("none"===E(b,"display")||b===Q))}if(0===v||b===a)return B(!1);me=a,ge=v;var I=a.nextElementSibling,D=!1,R=Be(X,o,G,t,a,n,e,D=1===v);if(!1!==R)return 1!==R&&-1!==R||(D=1===R),Ee=!0,setTimeout(ze,30),M(),D&&!I?o.appendChild(G):a.parentNode.insertBefore(G,D?I:a),P&&L(P,0,k-P.scrollTop),K=G.parentNode,void 0===y||Ce||(ve=Math.abs(y-A(a)[C])),z(),B(!0)}if(o.contains(G))return B(!1)}return!1}function F(l,c){$(l,p,s({evt:e,isOwner:d,axis:i?"vertical":"horizontal",revert:r,dragRect:t,targetRect:n,canSort:f,fromSortable:h,target:a,completed:B,onMove:function(n,r){return Be(X,o,G,t,n,A(n),e,r)},changed:z},c))}function M(){F("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function B(t){return F("dragOverCompleted",{insertion:t}),t&&(d?u._hideClone():u._showClone(p),p!==h&&(x(G,se?se.options.ghostClass:u.options.ghostClass,!1),x(G,l.ghostClass,!0)),se!==p&&p!==Le.active?se=p:p===Le.active&&se&&(se=null),h===p&&(p._ignoreWhileAnimating=a),p.animateAll((function(){F("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(a===G&&!G.animated||a===o&&!a.animated)&&(me=null),l.dragoverBubble||e.rootEl||a===document||(G.parentNode[U]._isOutsideThisEl(e.target),!t&&Fe(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function z(){re=N(G),oe=N(G,l.draggable),Y({sortable:p,name:"change",toEl:o,newIndex:re,newDraggableIndex:oe,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){y(document,"mousemove",this._onTouchMove),y(document,"touchmove",this._onTouchMove),y(document,"pointermove",this._onTouchMove),y(document,"dragover",Fe),y(document,"mousemove",Fe),y(document,"touchmove",Fe)},_offUpEvents:function(){var e=this.el.ownerDocument;y(e,"mouseup",this._onDrop),y(e,"touchend",this._onDrop),y(e,"pointerup",this._onDrop),y(e,"touchcancel",this._onDrop),y(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;re=N(G),oe=N(G,n.draggable),$("drop",this,{evt:e}),K=G&&G.parentNode,re=N(G),oe=N(G,n.draggable),Le.eventCanceled||(be=!1,Ce=!1,Se=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),qe(this.cloneId),qe(this._dragStartId),this.nativeDraggable&&(y(document,"drop",this),y(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),h&&E(document.body,"user-select",""),e&&(pe&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),Q&&Q.parentNode&&Q.parentNode.removeChild(Q),(X===K||se&&"clone"!==se.lastPutMode)&&ee&&ee.parentNode&&ee.parentNode.removeChild(ee),G&&(this.nativeDraggable&&y(G,"dragend",this),Ue(G),G.style["will-change"]="",pe&&!be&&x(G,se?se.options.ghostClass:this.options.ghostClass,!1),x(G,this.options.chosenClass,!1),Y({sortable:this,name:"unchoose",toEl:K,newIndex:null,newDraggableIndex:null,originalEvent:e}),X!==K?(re>=0&&(Y({rootEl:K,name:"add",toEl:K,fromEl:X,originalEvent:e}),Y({sortable:this,name:"remove",toEl:K,originalEvent:e}),Y({rootEl:K,name:"sort",toEl:K,fromEl:X,originalEvent:e}),Y({sortable:this,name:"sort",toEl:K,originalEvent:e})),se&&se.save()):re!==ne&&re>=0&&(Y({sortable:this,name:"update",toEl:K,originalEvent:e}),Y({sortable:this,name:"sort",toEl:K,originalEvent:e})),Le.active&&(null!=re&&-1!==re||(re=ne,oe=ie),Y({sortable:this,name:"end",toEl:K,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){$("nulling",this),X=G=K=Q=J=ee=Z=te=le=ce=pe=re=oe=ne=ie=me=ge=se=ae=Le.dragged=Le.ghost=Le.clone=Le.active=null,Pe.forEach((function(e){e.checked=!0})),Pe.length=ue=de=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":G&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,i=n.length,o=this.options;r<i;r++)_(e=n[r],o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||He(e));return t},sort:function(e){var t={},n=this.el;this.toArray().forEach((function(e,r){var i=n.children[r];_(i,this.options.draggable,n,!1)&&(t[e]=i)}),this),e.forEach((function(e){t[e]&&(n.removeChild(t[e]),n.appendChild(t[e]))}))},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return _(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=q.modifyOption(this,e,t);n[e]="undefined"!==typeof r?r:t,"group"===e&&Ne(n)},destroy:function(){$("destroy",this);var e=this.el;e[U]=null,y(e,"mousedown",this._onTapStart),y(e,"touchstart",this._onTapStart),y(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(y(e,"dragover",this),y(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),_e.splice(_e.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!te){if($("hideClone",this),Le.eventCanceled)return;E(ee,"display","none"),this.options.removeCloneOnHide&&ee.parentNode&&ee.parentNode.removeChild(ee),te=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(te){if($("showClone",this),Le.eventCanceled)return;X.contains(G)&&!this.options.group.revertClone?X.insertBefore(ee,G):J?X.insertBefore(ee,J):X.appendChild(ee),this.options.group.revertClone&&this.animate(G,ee),E(ee,"display",""),te=!1}}else this._hideClone()}},ke&&v(document,"touchmove",(function(e){(Le.active||be)&&e.cancelable&&e.preventDefault()})),Le.utils={on:v,off:y,css:E,find:k,is:function(e,t){return!!_(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:M,closest:_,toggleClass:x,clone:B,index:N,nextTick:We,cancelNextTick:qe,detectDirection:je,getChild:I},Le.get=function(e){return e[U]},Le.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Le.utils=s({},Le.utils,e.utils)),q.mount(e)}))},Le.create=function(e,t){return new Le(e,t)},Le.version="1.10.1";var Ve,$e,Ye,Ge,Ke,Qe,Xe=[],Je=!1;function Ze(){Xe.forEach((function(e){clearInterval(e.pid)})),Xe=[]}function et(){clearInterval(Qe)}var tt=M((function(e,t,n,r){if(t.scroll){var i,o=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,c=T(),u=!1;$e!==n&&($e=n,Ze(),Ve=t.scroll,i=t.scrollFn,!0===Ve&&(Ve=R(n,!0)));var d=0,f=Ve;do{var h=f,p=A(h),m=p.top,g=p.bottom,v=p.left,y=p.right,b=p.width,w=p.height,_=void 0,S=void 0,C=h.scrollWidth,x=h.scrollHeight,P=E(h),k=h.scrollLeft,O=h.scrollTop;h===c?(_=b<C&&("auto"===P.overflowX||"scroll"===P.overflowX||"visible"===P.overflowX),S=w<x&&("auto"===P.overflowY||"scroll"===P.overflowY||"visible"===P.overflowY)):(_=b<C&&("auto"===P.overflowX||"scroll"===P.overflowX),S=w<x&&("auto"===P.overflowY||"scroll"===P.overflowY));var I=_&&(Math.abs(y-o)<=s&&k+b<C)-(Math.abs(v-o)<=s&&!!k),j=S&&(Math.abs(g-a)<=s&&O+w<x)-(Math.abs(m-a)<=s&&!!O);if(!Xe[d])for(var N=0;N<=d;N++)Xe[N]||(Xe[N]={});Xe[d].vx==I&&Xe[d].vy==j&&Xe[d].el===h||(Xe[d].el=h,Xe[d].vx=I,Xe[d].vy=j,clearInterval(Xe[d].pid),0==I&&0==j||(u=!0,Xe[d].pid=setInterval(function(){r&&0===this.layer&&Le.active._onTouchMove(Ke);var t=Xe[this.layer].vy?Xe[this.layer].vy*l:0,n=Xe[this.layer].vx?Xe[this.layer].vx*l:0;"function"===typeof i&&"continue"!==i.call(Le.dragged.parentNode[U],n,t,e,Ke,Xe[this.layer].el)||L(Xe[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&f!==c&&(f=R(f,!1)));Je=u}}),30),nt=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,i=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=n||i;a();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(u)&&(o("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function rt(){}function it(){}rt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=I(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:nt},a(rt,{pluginName:"revertOnSpill"}),it.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:nt},a(it,{pluginName:"removeOnSpill"});Le.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"===typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):this.options.supportPointer?v(document,"pointermove",this._handleFallbackAutoScroll):t.touches?v(document,"touchmove",this._handleFallbackAutoScroll):v(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?y(document,"dragover",this._handleAutoScroll):(y(document,"pointermove",this._handleFallbackAutoScroll),y(document,"touchmove",this._handleFallbackAutoScroll),y(document,"mousemove",this._handleFallbackAutoScroll)),et(),Ze(),clearTimeout(S),S=void 0},nulling:function(){Ke=$e=Ve=Je=Qe=Ye=Ge=null,Xe.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(r,i);if(Ke=e,t||d||u||h){tt(e,this.options,o,t);var a=R(o,!0);!Je||Qe&&r===Ye&&i===Ge||(Qe&&et(),Qe=setInterval((function(){var o=R(document.elementFromPoint(r,i),!0);o!==a&&(a=o,Ze()),tt(e,n.options,o,t)}),10),Ye=r,Ge=i)}else{if(!this.options.bubbleScroll||R(o,!0)===T())return void Ze();tt(e,this.options,R(o,!1),!1)}}},a(e,{pluginName:"scroll",initializeByDefault:!0})}),Le.mount(it,rt);var ot=Le,at=n(6),st=n.n(at),lt=n(0),ct="Invariant failed";var ut=function(e,t){if(!e)throw new Error(ct)},dt=function(e,t){return(dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var ft=function(){return(ft=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function ht(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-->0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function pt(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ht(arguments[t]));return e}function mt(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function gt(e){e.forEach((function(e){return mt(e.element)}))}function vt(e){e.forEach((function(e){var t,n,r,i;t=e.parentElement,n=e.element,r=e.oldIndex,i=t.children[r]||null,t.insertBefore(n,i)}))}function yt(e,t){var n=_t(e),r={parentElement:e.from},i=[];switch(n){case"normal":i=[{element:e.item,newIndex:e.newIndex,oldIndex:e.oldIndex,parentElement:e.from}];break;case"swap":i=[ft({element:e.item,oldIndex:e.oldIndex,newIndex:e.newIndex},r),ft({element:e.swapItem,oldIndex:e.newIndex,newIndex:e.oldIndex},r)];break;case"multidrag":i=e.oldIndicies.map((function(t,n){return ft({element:t.multiDragElement,oldIndex:t.index,newIndex:e.newIndicies[n].index},r)}))}return function(e,t){return e.map((function(e){return ft(ft({},e),{item:t[e.oldIndex]})})).sort((function(e,t){return e.oldIndex-t.oldIndex}))}(i,t)}function bt(e,t){var n=pt(t);return e.concat().reverse().forEach((function(e){return n.splice(e.oldIndex,1)})),n}function wt(e,t){var n=pt(t);return e.forEach((function(e){return n.splice(e.newIndex,0,e.item)})),n}function _t(e){return e.oldIndicies&&e.oldIndicies.length>0?"multidrag":e.swapItem?"swap":"normal"}function St(e){e.list,e.setList,e.children,e.tag,e.style,e.className,e.clone,e.onAdd,e.onChange,e.onChoose,e.onClone,e.onEnd,e.onFilter,e.onRemove,e.onSort,e.onStart,e.onUnchoose,e.onUpdate,e.onMove,e.onSpill,e.onSelect,e.onDeselect;return function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["list","setList","children","tag","style","className","clone","onAdd","onChange","onChoose","onClone","onEnd","onFilter","onRemove","onSort","onStart","onUnchoose","onUpdate","onMove","onSpill","onSelect","onDeselect"])}var Ct={dragging:null},xt=function(e){function t(t){var n=e.call(this,t)||this;n.ref=Object(lt.createRef)();var r=pt(t.list).map((function(e){return ft(ft({},e),{chosen:!1,selected:!1})}));return t.setList(r,n.sortable,Ct),ut(!t.plugins,'\nPlugins prop is no longer supported.\nInstead, mount it with "Sortable.mount(new MultiDrag())"\nPlease read the updated README.md at https://github.com/SortableJS/react-sortablejs.\n      '),n}return function(e,t){function n(){this.constructor=e}dt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.componentDidMount=function(){if(null!==this.ref.current){var e=this.makeOptions();ot.create(this.ref.current,e)}},t.prototype.render=function(){var e=this.props,t=e.tag,n={style:e.style,className:e.className,id:e.id},r=t&&null!==t?t:"div";return Object(lt.createElement)(r,ft({ref:this.ref},n),this.getChildren())},t.prototype.getChildren=function(){var e=this.props,t=e.children,n=e.dataIdAttr,r=e.selectedClass,i=void 0===r?"sortable-selected":r,o=e.chosenClass,a=void 0===o?"sortable-chosen":o,s=(e.dragClass,e.fallbackClass,e.ghostClass,e.swapClass,e.filter),l=void 0===s?"sortable-filter":s,c=e.list;if(!t||null==t)return null;var u=n||"data-id";return lt.Children.map(t,(function(e,t){var n,r,o,s=c[t],d=e.props.className,f="string"===typeof l&&((n={})[l.replace(".","")]=!!s.filtered,n),h=st()(d,ft(((r={})[i]=s.selected,r[a]=s.chosen,r),f));return Object(lt.cloneElement)(e,((o={})[u]=e.key,o.className=h,o))}))},Object.defineProperty(t.prototype,"sortable",{get:function(){var e=this.ref.current;if(null===e)return null;var t=Object.keys(e).find((function(e){return e.includes("Sortable")}));return t?e[t]:null},enumerable:!0,configurable:!0}),t.prototype.makeOptions=function(){var e=this,t=St(this.props);["onAdd","onChoose","onDeselect","onEnd","onRemove","onSelect","onSpill","onStart","onUnchoose","onUpdate"].forEach((function(n){return t[n]=e.prepareOnHandlerPropAndDOM(n)})),["onChange","onClone","onFilter","onSort"].forEach((function(n){return t[n]=e.prepareOnHandlerProp(n)}));return ft(ft({},t),{onMove:function(t,n){var r=e.props.onMove,i=t.willInsertAfter||-1;if(!r)return i;var o=r(t,n,e.sortable,Ct);return"undefined"!==typeof o&&o}})},t.prototype.prepareOnHandlerPropAndDOM=function(e){var t=this;return function(n){t.callOnHandlerProp(n,e),t[e](n)}},t.prototype.prepareOnHandlerProp=function(e){var t=this;return function(n){t.callOnHandlerProp(n,e)}},t.prototype.callOnHandlerProp=function(e,t){var n=this.props[t];n&&n(e,this.sortable,Ct)},t.prototype.onAdd=function(e){var t=this.props,n=t.list,r=t.setList,i=yt(e,pt(Ct.dragging.props.list));gt(i),r(wt(i,n),this.sortable,Ct)},t.prototype.onRemove=function(e){var t=this,n=this.props,r=n.list,i=n.setList,o=_t(e),a=yt(e,r);vt(a);var s=pt(r);if("clone"!==e.pullMode)s=bt(a,s);else{var l=a;switch(o){case"multidrag":l=a.map((function(t,n){return ft(ft({},t),{element:e.clones[n]})}));break;case"normal":l=a.map((function(t,n){return ft(ft({},t),{element:e.clone})}));break;case"swap":default:ut(!0,'mode "'+o+'" cannot clone. Please remove "props.clone" from <ReactSortable/> when using the "'+o+'" plugin')}gt(l),a.forEach((function(n){var r=n.oldIndex,i=t.props.clone(n.item,e);s.splice(r,1,i)}))}i(s=s.map((function(e){return ft(ft({},e),{selected:!1})})),this.sortable,Ct)},t.prototype.onUpdate=function(e){var t=this.props,n=t.list,r=t.setList,i=yt(e,n);return gt(i),vt(i),r(function(e,t){return wt(e,bt(e,t))}(i,n),this.sortable,Ct)},t.prototype.onStart=function(e){Ct.dragging=this},t.prototype.onEnd=function(e){Ct.dragging=null},t.prototype.onChoose=function(e){var t=this.props,n=t.list,r=t.setList,i=pt(n);i[e.oldIndex].chosen=!0,r(i,this.sortable,Ct)},t.prototype.onUnchoose=function(e){var t=this.props,n=t.list,r=t.setList,i=pt(n);i[e.oldIndex].chosen=!1,r(i,this.sortable,Ct)},t.prototype.onSpill=function(e){var t=this.props,n=t.removeOnSpill,r=t.revertOnSpill;n&&!r&&mt(e.item)},t.prototype.onSelect=function(e){var t=this.props,n=t.list,r=t.setList,i=pt(n).map((function(e){return ft(ft({},e),{selected:!1})}));e.newIndicies.forEach((function(t){var n=t.index;if(-1===n)return console.log('"'+e.type+'" had indice of "'+t.index+"\", which is probably -1 and doesn't usually happen here."),void console.log(e);i[n].selected=!0})),r(i,this.sortable,Ct)},t.prototype.onDeselect=function(e){var t=this.props,n=t.list,r=t.setList,i=pt(n).map((function(e){return ft(ft({},e),{selected:!1})}));e.newIndicies.forEach((function(e){var t=e.index;-1!==t&&(i[t].selected=!0)})),r(i,this.sortable,Ct)},t.defaultProps={clone:function(e){return e}},t}(lt.Component)},function(e,t,n){var r,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e,t){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(){}function a(){}t=t&&t.hasOwnProperty("default")?t.default:t,a.resetWarningCache=o;var s=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){e.exports=function(){function e(e,t,n,r,i,o){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}()})),l=function(e){return null!==e&&"object"===n(e)},c="[object Object]",u=function e(t,n){if(!l(t)||!l(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var i=Object.prototype.toString.call(t)===c;if(i!==(Object.prototype.toString.call(n)===c))return!1;if(!i&&!r)return!1;var o=Object.keys(t),a=Object.keys(n);if(o.length!==a.length)return!1;for(var s={},u=0;u<o.length;u+=1)s[o[u]]=!0;for(var d=0;d<a.length;d+=1)s[a[d]]=!0;var f=Object.keys(s);if(f.length!==o.length)return!1;var h=t,p=n;return f.every((function(t){return e(h[t],p[t])}))},d=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),n.current},f=function(e){if(null===e||l(t=e)&&"function"===typeof t.elements&&"function"===typeof t.createToken&&"function"===typeof t.createPaymentMethod&&"function"===typeof t.confirmCardPayment)return e;var t;throw new Error("Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.")},h=function(e){if(function(e){return l(e)&&"function"===typeof e.then}(e))return{tag:"async",stripePromise:Promise.resolve(e).then(f)};var t=f(e);return null===t?{tag:"empty"}:{tag:"sync",stripe:t}},p=t.createContext(null);p.displayName="ElementsContext";var m=function(e){var n=e.stripe,r=e.options,o=e.children,a=t.useRef(!1),s=t.useRef(!0),l=t.useMemo((function(){return h(n)}),[n]),c=i(t.useState((function(){return{stripe:null,elements:null}})),2),f=c[0],m=c[1],g=d(n),v=d(r);return null!==g&&(g!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it."),u(r,v)||console.warn("Unsupported prop change on Elements: You cannot change the `options` prop after setting the `stripe` prop.")),a.current||("sync"===l.tag&&(a.current=!0,m({stripe:l.stripe,elements:l.stripe.elements(r)})),"async"===l.tag&&(a.current=!0,l.stripePromise.then((function(e){e&&s.current&&m({stripe:e,elements:e.elements(r)})})))),t.useEffect((function(){return function(){s.current=!1}}),[]),t.useEffect((function(){var e=f.stripe;e&&e._registerWrapper&&e._registerWrapper({name:"react-stripe-js",version:"1.1.2"})}),[f.stripe]),t.createElement(p.Provider,{value:f},o)};m.propTypes={stripe:s.any,options:s.object};var g=function(e){return function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e}(t.useContext(p),e)},v=function(e){return(0,e.children)(g("mounts <ElementsConsumer>"))};v.propTypes={children:s.func.isRequired};var y=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),function(){n.current&&n.current.apply(n,arguments)}},b=function(e){return l(e)?(e.paymentRequest,r(e,["paymentRequest"])):{}},w=function(){},_=function(e,n){var r,i="".concat((r=e).charAt(0).toUpperCase()+r.slice(1),"Element"),o=n?function(e){g("mounts <".concat(i,">"));var n=e.id,r=e.className;return t.createElement("div",{id:n,className:r})}:function(n){var r=n.id,o=n.className,a=n.options,s=void 0===a?{}:a,l=n.onBlur,c=void 0===l?w:l,d=n.onFocus,f=void 0===d?w:d,h=n.onReady,p=void 0===h?w:h,m=n.onChange,v=void 0===m?w:m,_=n.onEscape,S=void 0===_?w:_,C=n.onClick,x=void 0===C?w:C,E=g("mounts <".concat(i,">")).elements,P=t.useRef(null),k=t.useRef(null),T=y(p),A=y(c),O=y(f),I=y(x),j=y(v),N=y(S);t.useLayoutEffect((function(){if(null==P.current&&E&&null!=k.current){var t=E.create(e,s);P.current=t,t.mount(k.current),t.on("ready",(function(){return T(t)})),t.on("change",j),t.on("blur",A),t.on("focus",O),t.on("escape",N),t.on("click",I)}}));var D=t.useRef(s);return t.useEffect((function(){D.current&&D.current.paymentRequest!==s.paymentRequest&&console.warn("Unsupported prop change: options.paymentRequest is not a customizable property.");var e=b(s);0===Object.keys(e).length||u(e,b(D.current))||P.current&&(P.current.update(e),D.current=s)}),[s]),t.useEffect((function(){return function(){P.current&&P.current.destroy()}}),[]),t.createElement("div",{id:r,className:o,ref:k})};return o.propTypes={id:s.string,className:s.string,onChange:s.func,onBlur:s.func,onFocus:s.func,onReady:s.func,onClick:s.func,options:s.object},o.displayName=i,o.__elementType=e,o},S="undefined"===typeof window,C=_("auBankAccount",S),x=_("card",S),E=_("cardNumber",S),P=_("cardExpiry",S),k=_("cardCvc",S),T=_("fpxBank",S),A=_("iban",S),O=_("idealBank",S),I=_("paymentRequestButton",S);e.AuBankAccountElement=C,e.CardCvcElement=k,e.CardElement=x,e.CardExpiryElement=P,e.CardNumberElement=E,e.Elements=m,e.ElementsConsumer=v,e.FpxBankElement=T,e.IbanElement=A,e.IdealBankElement=O,e.PaymentRequestButtonElement=I,e.useElements=function(){return g("calls useElements()").elements},e.useStripe=function(){return g("calls useStripe()").stripe},Object.defineProperty(e,"__esModule",{value:!0})},"object"===s(t)&&"undefined"!==typeof e?a(t,n(0)):(i=[t,n(0)],void 0===(o="function"===typeof(r=a)?r.apply(t,i):r)||(e.exports=o))},function(e,t,n){var r,i;function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r=[n(113)],void 0===(i=function(e){"use strict";function t(e,n,i){var a=(i=i||{}).obj||window,s=i.path||(a==window?"window":"");Object.keys(a).forEach((function(i){(r[e]||e)(n,a,i)&&console.log([s,".",i].join(""),"->",["(",o(a[i]),")"].join(""),a[i]),"[object Object]"==Object.prototype.toString.call(a[i])&&a[i]!=a&&-1==s.split(".").indexOf(i)&&t(e,n,{obj:a[i],path:[s,i].join(".")})}))}function n(e,n,r,i){n&&o(r)!=n?console.error([r,"must be",n].join(" ")):t(e,r,i)}var r={name:function(e,t,n){return e==n},nameContains:function(e,t,n){return n.indexOf(e)>-1},type:function(e,t,n){return t[n]instanceof e},value:function(e,t,n){return t[n]===e},valueCoerced:function(e,t,n){return t[n]==e}};var i="all",a={eventNames:[],actions:[]};function s(){try{window.localStorage&&(localStorage.setItem("logFilter_eventNames",a.eventNames),localStorage.setItem("logFilter_actions",a.actions))}catch(e){}}return{enable:function(e){this.enabled=!!e,e&&window.console&&(console.info("Booting in DEBUG mode"),console.info("You can configure event logging with DEBUG.events.logAll()/logNone()/logByName()/logByAction()")),function(){var e,t;try{e=window.localStorage&&localStorage.getItem("logFilter_eventNames"),t=window.localStorage&&localStorage.getItem("logFilter_actions")}catch(n){return}e&&(a.eventNames=e),t&&(a.actions=t),Object.keys(a).forEach((function(e){var t=a[e];"string"==typeof t&&t!==i&&(a[e]=t?t.split(","):[])}))}(),window.DEBUG=this},warn:function(){if(window.console){var e=console.warn||console.log,t=[].slice.call(arguments);t.unshift(this.toString()+":"),e.apply(console,t)}},registry:e,find:{byName:function(e,t){n("name","string",e,t)},byNameContains:function(e,t){n("nameContains","string",e,t)},byType:function(e,t){n("type","function",e,t)},byValue:function(e,t){n("value",null,e,t)},byValueCoerced:function(e,t){n("valueCoerced",null,e,t)},custom:function(e,n){t(e,null,n)}},events:{logFilter:a,logByAction:function(){var e=[].slice.call(arguments);a.eventNames.length||(a.eventNames=i),a.actions=e.length?e:i,s()},logByName:function(){var e=[].slice.call(arguments);a.actions.length||(a.actions=i),a.eventNames=e.length?e:i,s()},logAll:function(){a.actions=i,a.eventNames=i,s()},logNone:function(){a.actions=[],a.eventNames=[],s()}}}}.apply(t,r))||(e.exports=i)},function(e,t){e.exports=function(e,t){return e===t||e!==e&&t!==t}},function(e,t,n){var r=n(71)(n(56),"Map");e.exports=r},function(e,t,n){var r=n(385),i=n(392),o=n(394),a=n(395),s=n(396);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(258),i=n(416),o=n(161);e.exports=function(e){return o(e)?r(e):i(e)}},function(e,t){function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=n(e);return!!(t=null==t?9007199254740991:t)&&("number"==i||"symbol"!=i&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,n){var r=n(250),i=n(160);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},function(e,t,n){var r=n(122),i=n(99);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},function(e,t,n){function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(65),o=n(115),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(i(e))return!1;var n=r(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(s.test(e)||!a.test(e)||null!=t&&e in Object(t))}},function(e,t,n){"use strict";var r,i;r=[n(443),n(31),n(57)],void 0===(i=function(e,t){return function(){t.mixin(this,[e]),this.defaultAttrs({containerSelector:".chart-container",axisSelector:".axis",xAxisSelector:".x-axis",yAxisSelector:".y-axis",yLeftAxisSelector:".left",yRightAxisSelector:".right",axisLabelSelector:".axis-label"}),this.appendChartContainer=function(e,t,n,r,i){return this.attr.container=d3.select(e).append("svg").attr("class",this.attr.containerSelector.slice(1)).attr("width",t).attr("height",n).append("g").attr("transform",this.getTransformTranslation(r,i)),this.attr.container},this.appendXAxis=function(e,t,n,r){return this.createXAxis(t,r),e.append("g").attr("class",this.getAxisClass(this.attr.xAxisSelector.slice(1))).attr("transform",this.getTransformTranslation(0,n)).call(this.attr.xAxis)},this.appendYLeftAxis=function(e,t){return this.createYLeftAxis(t),e.append("g").attr("class",this.getYAxisClass(this.attr.yLeftAxisSelector.slice(1)))},this.appendYRightAxis=function(e,t,n){return this.createYRightAxis(n),e.append("g").attr("class",this.getYAxisClass(this.attr.yRightAxisSelector.slice(1))).attr("transform",this.getTransformTranslation(t,0)).call(this.attr.yRightAxis)},this.createXAxis=function(e,t){return this.attr.x=d3.scale.ordinal().rangeBands([0,e],t),this.attr.xAxis=this.createAxis(this.attr.x,"bottom",0,0),this.attr.xAxis},this.createYLeftAxis=function(e){return this.attr.yLeft=d3.scale.linear().range([e,0]),this.attr.yLeftAxis=this.createAxis(this.attr.yLeft,"left",2,5),this.attr.yLeftAxis},this.createYRightAxis=function(e){return this.attr.yRight=d3.scale.linear().range([e,0]),this.attr.yRightAxis=this.createAxis(this.attr.yRight,"right",2,5),this.attr.yRightAxis},this.createAxis=function(e,t,n,r){return d3.svg.axis().scale(e).orient(t).ticks(n).tickSize(r,0,0)},this.getAxisClass=function(e){return this.attr.axisSelector.slice(1)+" "+e},this.getYAxisClass=function(e){return this.getAxisClass(this.attr.yAxisSelector.slice(1))+" "+e},this.appendLabelToAxis=function(e,t,n,r,i,o){return function(a){var s=a.append("text").attr("x",e).attr("y",t).style("text-anchor",n).attr("class",[this.attr.axisLabelSelector.slice(1),r].join(" ")).text(o||"");return i&&s.attr("dy",i),s}.bind(this)}}}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r;void 0===(r=function(){return function(){this.getTopRoundedRect=function(e,t,n,r,i){return(0==r||n<i)&&(i=0),"M"+(e+i)+","+t+"h"+(n-2*i)+"a"+i+","+i+" 0 0 1 "+i+","+i+"v"+(r-i)+"h"+(0-n)+"v"+(0-(r-i))+"a"+i+","+i+" 0 0 1 "+i+","+-i+"z"}}}.apply(t,[]))||(e.exports=r)},,,function(e,t,n){"use strict";var r,i;r=[n(2)],void 0===(i=function(e){return e((function(){this.updateDate=function(e,t){this.$node.attr("href",this.attr.defaultHref+t.dateHash)},this.after("initialize",(function(){this.attr.defaultHref=this.$node.attr("href"),this.on(document,"dataDateHash",this.updateDate)}))}))}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r=n(465),i=n(466),o=n(467),a=n(22),s=n(74),l=n(270).default,c=n(170),u=n(226).SUBTITLE_LANGUAGES;e.exports=function(){this.defaultAttrs({cancelButtonSelector:".js-cancel-trigger",removeButtonSelector:".js-remove-trigger",reorderHandleSelector:".js-reorder-handle",inProgressFileUploadCount:0,fileRowSelector:".js-file-row",uploadSubtitleDrawerSelector:".js-subtitle-upload-drawer",uploadSubtitlesButtonSelector:".js-upload-subtitles-trigger",hideUploadSubtitlesButtonSelector:".js-hide-upload-subtitles-trigger",fileSubtitleWrapperSelector:".js-file-subtitle-wrapper",subtitleUploaderSelector:".js-subtitle-upload-box",subtitleListSelector:".js-subtitle-list",subtitleRowSelector:".js-subtitle-row",subtitlesFileInputSelector:"#subtitles-file",removeSubtitleButtonSelector:".js-remove-subtitle-trigger",cancelSubtitleButtonSelector:".js-cancel-subtitle-trigger",dropboxUploadTriggerSelector:".js-dropbox-upload",chooseExistingFilesTriggerSelector:".js-choose-existing-trigger",chooseExistingFilesContainerSelector:".js-choose-existing-holder",addFilesHolderSelector:".js-add-files-trigger",chooseFilesTriggerSelector:".js-choose-files-trigger",selectFileTriggerSelector:".js-select-file-trigger",fileSelectTriggerSelector:".js-file-selector",selectedTriggerSelector:".js-selected",findYourFilesInputSelector:".js-find-files-input"}),this.validateFileName=function(e,t){if(t){for(var n=-1!=e.indexOf(".")?e.replace(/.*[.]/,"").toLowerCase():"",r=0;r<t.length;r++)if(t[r].toLowerCase()==n)return!0;return!1}return!0},this.showFileChooser=function(e){return e.preventDefault(),this.attr.evaporate.supported?(this.select("productFileInputSelector").click(),!1):(this.trigger("uiShowFlashMessage",{message:I18n.t("js.browser_unable_to_upload_files_prompt")}),!1)},this.getFileUrlList=function(){var e=this.select("fileListSelector"),t=[];return e.children().each((function(){t.push($(this).data("file-url"))})),t},this.getFilePositions=function(){var e=this.select("fileListSelector"),t={};return e.children().each((function(e){var n=$(this).data("file-url"),r=a.extractUniqueUrlIdentifier(n);t[r]=e})),t},this.getFileNameFromInput=function(e){if("undefined"!=typeof e)return null!=e.value?e.value.replace(/.*(\/|\\)/,""):null!=e.fileName?e.fileName:e.name},this.incrementInProgressFileUploadCount=function(){this.attr.inProgressFileUploadCount++,1==this.attr.inProgressFileUploadCount&&this.trigger("dataFileUploadIsInProgress")},this.decrementInProgressFileUploadCount=function(){this.attr.inProgressFileUploadCount--,0==this.attr.inProgressFileUploadCount&&this.trigger("dataFileUploadIsDone")},this.cancelFileUpload=function(e){e.preventDefault();var t=$(e.target||e.srcElement);if(t.closest(this.attr.fileRowSelector).data("dropbox-file-external-id"))this.trigger("uiNeedsToCancelDropboxUpload",{dropbox_file_id:t.closest(this.attr.fileRowSelector).data("dropbox-file-external-id")});else{var n=t.data("upload-id");this.attr.evaporate.cancel(n)}return t.parents(this.attr.fileSubtitleWrapperSelector).remove(),this.select("filesBoxSelector").is(":empty")&&this.select("filesBoxSelector").hide(),this.decrementInProgressFileUploadCount(),this.removeFileListIfEmpty(),this.trigger("uiPageHeightHasChanged"),this.trigger("uiShouldHideTipsys"),!1},this.removeFile=function(e){e.preventDefault(),$(e.target||e.srcElement).parents(this.attr.fileSubtitleWrapperSelector).remove(),this.select("filesBoxSelector").is(":empty")&&this.select("filesBoxSelector").hide();var t=$(e.target||e.srcElement).closest(this.attr.fileRowSelector).data("dropbox-file-external-id");t&&this.trigger("uiNeedsToCancelDropboxUpload",{dropbox_file_id:t});var n=$(e.target||e.srcElement).parents(this.attr.fileSubtitleWrapperSelector).data("existing-file-id");return n&&this.trigger("uiNeedsToUnselectChooseFromExistingFileRow",{chooseFromExistingFileExternalId:n}),this.trigger("uiFileListHasChanged"),this.removeFileListIfEmpty(),this.updateFileListUI(),this.trigger("uiPageHeightHasChanged"),this.trigger("uiShouldHideTipsys"),!1},this.getForm=function(){return this.attr.formSelector?0==this.select("formSelector").length?$(this.attr.formSelector):this.select("formSelector"):this.$node},this.removeFileListIfEmpty=function(){var e=this.select("fileListSelector");0==e.children().length&&e.hide()},this.setupFiles=function(e){var t=this.select("fileListSelector"),n=this;$.each(e.files,(function(e,i){var o=void 0!=i.subtitle_files&&i.subtitle_files.length>0,s=$(r({name:i.file_name,fileInfo:i.file_size>0?a.getFullFileSizeString(i.file_size):"",uploading:!1,complete:!0,isStreamable:i.is_streamable,isTranscodingInProgress:i.is_transcoding_in_progress,extension:i.extension,id:i.id}));if(s.data("file-url",i.url),o){var l=s.find(n.attr.subtitleListSelector);$.each(i.subtitle_files,(function(e,t){var r=$(n.SubtitleRowTemplateWrapper({name:t.file_name,uploading:!1,complete:!0,language:t.language,fileInfo:t.size,extension:t.extension}));r.data("file-url",t.url),l.append(r)})),l.show()}t.append(s)})),t.children().length>0?t.show():t.hide(),this.updateFileListUI()},this.updateFileListUI=function(){var e=this.select("reorderHandleSelector");this.attr.isFileReorderAllowed&&e.length>1?e.show():e.hide(),this.hideRenameOptionsIfOnDashboardPage(),this.trigger("uiShouldTipsyElements"),this.trigger("uiFileListHasChanged")},this.renderExistingDropboxFileUploads=function(e,t){for(var n=this.select("fileListSelector"),i=t.dropbox_files,o=0;o<i.length;o++){var s=i[o],l=n.children().has(this.attr.fileRowSelector+"[data-dropbox-file-external-id='"+s.external_id+"']"),c=l.find(this.attr.fileRowSelector).data("dropbox-file-upload-state"),u="successfully_uploaded"==s.state||"in_progress"==s.state;if(0==l.length)u&&this.addNewDropboxFileRowToFileList(s);else if(u){if(c==s.state)continue;var d="successfully_uploaded"==s.state,f=a.getFileExtension(s.name).toUpperCase(),h=/mp4|m4v|mov|mpeg|mpeg4|wmv|movie|ogv|avi/i.test(f),p=$(r({name:a.getFilenameWithoutExtension(s.name),uploading:"in_progress"==s.state,complete:d,fileInfo:a.getFullFileSizeString(s.bytes),isStreamable:h,isTranscodingInProgress:!1,extension:f,dropboxFileExternalId:s.external_id,dropboxFileUploadState:s.state}));p.data("file-url",s.s3_url),l.replaceWith(p),d&&p.addClass("showing-check"),this.updateFileListUI(),h&&this.trigger("dataStreamableFileWasAdded"),"in_progress"!=s.state&&this.decrementInProgressFileUploadCount()}else l.remove(),this.decrementInProgressFileUploadCount(),this.removeFileListIfEmpty(),$(this.attr.dropboxUploadTriggerSelector).is(":visible")&&this.trigger("uiPageHeightHasChanged")}},this.renderNewDropboxFileRow=function(e,t){var n=t.dropbox_file;this.addNewDropboxFileRowToFileList(n)},this.addNewDropboxFileRowToFileList=function(e){var t=this.select("fileListSelector");0==t.children().length&&t.show();var n=a.getFileExtension(e.name).toUpperCase(),i=/mp4|m4v|mov|mpeg|mpeg4|wmv|movie|ogv|avi/i.test(n),o=$(r({name:a.getFilenameWithoutExtension(e.name),fileInfo:a.getFullFileSizeString(e.bytes),extension:n,dropboxFileExternalId:e.external_id,dropboxFileUploadState:e.state,complete:"successfully_uploaded"===e.state,uploading:"in_progress"===e.state,isStreamable:i,isTranscodingInProgress:!1}));o.data("file-url",e.s3_url),t.append(o),"in_progress"==e.state&&this.incrementInProgressFileUploadCount(),this.trigger("uiFileListHasChanged"),$(this.attr.dropboxUploadTriggerSelector).is(":visible")&&this.trigger("uiPageHeightHasChanged"),this.updateFileListUI()},this.beginUpload=function(e,t){this.uploadFiles(e,this.select("fileListSelector"),r)},this.uploadFiles=function(e,t,n){for(var r=e.target.files,i=this,o=0;o<r.length;o++){var l=r[o],c=a.getFileExtension(l.name).toUpperCase();0==t.children().length&&t.show(),t.append(n({name:a.getFilenameWithoutExtension(l.name),fileInfo:a.getFullFileSizeString(l.size),extension:c}));var u=this.attr.evaporate.add({name:a.getS3Key(a.generateGuid(),encodeURIComponent(l.name).replace("'","%27"),a.determineUserExternalIdForForm(i.getForm()),"attachments"),originalName:l.name,file:l,$fileRow:t.children().last(),url:i.getForm().data("s3-url"),mimeType:s.get(l.name),previousProgress:0,xAmzHeadersAtInitiate:{"x-amz-acl":"private"},complete:function(){if(this.$fileRow){var e=this.file,t=this.url+"/"+decodeURIComponent(this.name),r=a.getFileExtension(this.originalName).toUpperCase(),o=/mp4|m4v|mov|mpeg|mpeg4|wmv|movie|ogv|avi/i.test(r),s=$(n({name:a.getFilenameWithoutExtension(this.originalName),uploading:!1,complete:!0,fileInfo:a.getFullFileSizeString(e.size),isStreamable:o,isTranscodingInProgress:!1,extension:r}));s.data("file-url",t),this.$fileRow.replaceWith(s),i.updateFileListUI(),i.trigger("uiFileListHasChanged"),i.trigger("uiPageHeightHasChanged"),o&&i.trigger("dataStreamableFileWasAdded")}i.decrementInProgressFileUploadCount()},progress:function(e){if(this.$fileRow){var t=100*e,n=e-this.previousProgress;this.$fileRow.find(".uploading-bar").width(t+"%"),this.$fileRow.find(".meta-holder").text(t.toFixed(0)+"% of "+a.getFullFileSizeString(this.file.size)+" ("+a.getReadableFileSize(this.sizeBytes*n)+"/second)"),this.previousProgress=e}},initiated:function(e){this.$fileRow.find(i.attr.cancelButtonSelector).data("upload-id",e),this.$fileRow.find(i.attr.fileRowSelector).find("i.gi-pencil").hide()}});isNaN(u)&&this.trigger("uiShowFlashMessage",{message:u}),t.show(),this.trigger("uiPageHeightHasChanged"),this.incrementInProgressFileUploadCount(),this.updateFileListUI()}$(e.target||e.srcElement).val("")},this.setupEvaporateUploader=function(){var e=this.getForm();if(0!=e.length){var t=a.determineS3BucketForForm(e);this.attr.evaporate=new c({signerUrl:Routes.s3_utility_generate_multipart_signature_path(),aws_key:a.determineAWSAccessKeyIdForForm(this.getForm()),bucket:t,fetchCurrentServerTimeUrl:Routes.s3_utility_current_utc_time_string_path(),maxFileSize:21474836480})}},this.showUploadSubtitleDrawer=function(e){e.preventDefault();var t=$(e.target),n=t.parents(this.attr.fileSubtitleWrapperSelector),r=n.find(this.attr.uploadSubtitleDrawerSelector);t.hide(),n.find(this.attr.hideUploadSubtitlesButtonSelector).css("display","block"),t.closest(this.attr.fileRowSelector).addClass("last-in-file-wrapper"),r.show(),this.trigger("uiPageHeightHasChanged")},this.hideUploadSubtitleDrawer=function(e){e.preventDefault();var t=$(e.target),n=t.parents(this.attr.fileSubtitleWrapperSelector),r=n.find(this.attr.uploadSubtitleDrawerSelector);t.hide(),n.find(this.attr.uploadSubtitlesButtonSelector).css("display","block"),t.closest(this.attr.fileRowSelector).removeClass("last-in-file-wrapper"),r.hide(),this.trigger("uiPageHeightHasChanged")},this.SubtitleRowTemplateWrapper=function(e){return e.languages=$.map(u,(function(t){return{language:t,selected:t===e.language}})),o(e)},this.addSubtitleRow=function(e){e.preventDefault();var t=$(e.target).closest(this.attr.uploadSubtitleDrawerSelector).find(this.attr.subtitleListSelector),n=this.select("subtitlesFileInputSelector");n.data("subtitle-list",t),n.click()},this.uploadSubtitleFile=function(e){this.uploadFiles(e,$(e.target).data("subtitle-list"),this.SubtitleRowTemplateWrapper)},this.subtitleFiles=function(){var e=this.select("fileListSelector").children(),t={},n=this;return e.each((function(){var e=$(this),r=e.find(n.attr.subtitleListSelector).find(n.attr.subtitleRowSelector),i=e.data("file-url"),o=a.extractUniqueUrlIdentifier(i);t[o]={},r.length>0&&r.each((function(){var e=$(this).data("file-url"),n=a.extractUniqueUrlIdentifier(e);t[o][n]={language:$(this).find(".js-subtitle-language-select").val(),url:e}}))})),t},this.removeSurroundingSubtitleRow=function(e){var t=e.closest(this.attr.subtitleListSelector);1===t.children().length&&t.hide(),e.closest(this.attr.subtitleRowSelector).remove(),this.trigger("uiPageHeightHasChanged")},this.cancelSubtitleFile=function(e){e.preventDefault();var t=$(e.target||e.srcElement),n=t.data("upload-id");return this.attr.evaporate.cancel(n),this.removeSurroundingSubtitleRow(t),this.decrementInProgressFileUploadCount(),!1},this.removeSubtitleFile=function(e){return e.preventDefault(),this.removeSurroundingSubtitleRow($(e.target||e.srcElement)),!1},this.addErrorStateToDropboxButton=function(e,t){this.select("dropboxUploadTriggerSelector").addClass("error")},this.removeErrorStateFromDropboxButton=function(e,t){this.select("dropboxUploadTriggerSelector").removeClass("error")},this.showUploadChoices=function(e){return e.preventDefault(),this.select("chooseFilesTriggerSelector").toggleClass("not-showing"),this.select("addFilesHolderSelector").toggleClass("showing"),!1},this.toggleExistingFilesChoices=function(e){e.preventDefault(),this.select("chooseExistingFilesTriggerSelector").toggleClass("active"),this.select("chooseExistingFilesContainerSelector").toggleClass("showing"),this.select("rotateContainerSelector").toggleClass("showing-existing-files-container"),this.setupRotateContainerHeightForChooseFromExistingFilesDrawer()},this.renderChooseFromExistingFilesRow=function(e,t){var n=this.select("fileListSelector");if(n.show(),!this.existingFileRowWithChooseFromExistingFileIdAndUrl(t.id,t.url)){var r=$(i({name:t.fileName,isStreamable:"undefined"!==typeof t.isStreamable,isTranscodingInProgress:"undefined"!==typeof t.isTranscodingInProgress,fileInfo:t.fileSize?a.getFullFileSizeString(t.fileSize):"",extension:t.extension,id:t.id,url:t.url}));n.append(r),this.trigger("uiFileListHasChanged"),this.updateFileListUI(),this.trigger("uiPageHeightHasChanged")}},this.removeChooseFromExistingFilesRow=function(e,t){this.existingFileRowWithChooseFromExistingFileIdAndUrl(t.id,t.url).remove(),this.removeFileListIfEmpty(),this.trigger("uiPageHeightHasChanged")},this.existingFileRowWithChooseFromExistingFileIdAndUrl=function(e,t){var n=this.select("fileListSelector"),r=null;return n.children().each((function(){if($(this).data("existing-file-id")===e||$(this).data("existing-file-url")===t)return r=$(this),!1})),r},this.selectExistingFile=function(e){e.preventDefault();var t=$(e.target||e.srcElement);return t.hasClass("js-select-file-trigger")||(t=t.parents(this.attr.selectFileTriggerSelector)),t.toggleClass("showing"),t.find(this.attr.fileSelectTriggerSelector).toggleClass("showing"),t.find(this.attr.selectedTriggerSelector).toggleClass("not-showing"),t.hasClass("showing")?this.trigger("uiNeedsToDisplayFileRowForExistingFile",t.data()):this.trigger("uiNeedsToRemoveFileRowForExistingFile",t.data()),!1},this.hideSelectFromExistingFileDrawer=function(e,t){this.select("chooseExistingFilesTriggerSelector").removeClass("active"),this.select("chooseExistingFilesContainerSelector").removeClass("showing"),this.select("rotateContainerSelector").removeClass("showing-existing-files-container"),this.setupRotateContainerHeightForChooseFromExistingFilesDrawer(),this.trigger("uiPageHeightHasChanged")},this.deselectChooseFromExistingFileRow=function(e,t){var n=t.chooseFromExistingFileExternalId,r=this.$node.find(this.attr.selectFileTriggerSelector+"[data-id='"+n+"']");r.toggleClass("showing"),r.find(this.attr.fileSelectTriggerSelector).toggleClass("showing"),r.find(this.attr.selectedTriggerSelector).toggleClass("not-showing")},this.filterChooseFromExistingFilesList=function(e,t){var n=this.select("findYourFilesInputSelector");this.select("findYourFilesInputSelector").data("original-file-list-height")||this.select("findYourFilesInputSelector").data("original-file-list-height",this.select("rotateContainerSelector").outerHeight()),this.filterExistingFileRowsBySearchTerm(n.val())},this.setupRotateContainerHeightForChooseFromExistingFilesDrawer=function(){var e=85;if(this.select("chooseExistingFilesTriggerSelector").hasClass("active")){var t=this.select("selectFileTriggerSelector").filter(":visible");e=180;t.length&&(e+=t.length*t.first().outerHeight())>500&&(e=500)}this.select("rotateContainerSelector").css({height:e}),this.trigger("uiPageHeightHasChanged")},this.filterExistingFileRowsBySearchTerm=function(e){var t=this.select("selectFileTriggerSelector");if(e.length>0){var n=new RegExp(e,"i");t.each((function(){var e=$(this),t=e.data("file-name");n.test(t)?e.show():e.hide()}))}else t.each((function(){$(this).show()}));this.setupRotateContainerHeightForChooseFromExistingFilesDrawer()},this.hideRenameOptionsIfOnDashboardPage=function(){this.$node.is(this.attr.inlineLinkAddFormSelector)&&this.select("fileNameHolderSelector").each((function(){$(this).find(".gi-pencil").remove()}))},this.backgroundDropboxFilesFetch=function(){var e=this.getForm(),t={};e.data("id")&&(t={link_id:e.data("id")}),this.trigger("uiNeedsToFetchDropboxFiles",t);var n=this;setInterval((function(){n.trigger("uiNeedsToFetchDropboxFiles",t)}),1e4)},this.makeFilesSortable=function(){var e=this.select("fileListSelector")[0];null!=e&&new l(e,{handle:this.attr.reorderHandleSelector,ghostClass:"sortable-ghost"})},this.after("initialize",(function(){if(!this.getForm().is("form")&&!this.attr.formSelector)throw"File upload mixin has to be attached to form or formSelector must be given.";this.attr.isFileReorderAllowed&&this.makeFilesSortable(),this.on("click",{cancelButtonSelector:this.cancelFileUpload,removeButtonSelector:this.removeFile,uploadSubtitlesButtonSelector:this.showUploadSubtitleDrawer,hideUploadSubtitlesButtonSelector:this.hideUploadSubtitleDrawer,subtitleUploaderSelector:this.addSubtitleRow,removeSubtitleButtonSelector:this.removeSubtitleFile,cancelSubtitleButtonSelector:this.cancelSubtitleFile,chooseFilesTriggerSelector:this.showUploadChoices,chooseExistingFilesTriggerSelector:this.toggleExistingFilesChoices,selectFileTriggerSelector:this.selectExistingFile}),this.on("change",{productFileInputSelector:this.beginUpload,subtitlesFileInputSelector:this.uploadSubtitleFile}),this.on("keyup",{findYourFilesInputSelector:this.filterChooseFromExistingFilesList}),this.setupEvaporateUploader(),this.on(document,"uiNeedsToDisplayNewDropboxFile",this.renderNewDropboxFileRow),this.on(document,"dataDropboxFilesFetchWasSuccessful",this.renderExistingDropboxFileUploads),this.on(document,"uiNeedsToDisplayFileRowForExistingFile",this.renderChooseFromExistingFilesRow),this.on(document,"uiNeedsToRemoveFileRowForExistingFile",this.removeChooseFromExistingFilesRow),this.on(document,"uiNeedsToUnselectChooseFromExistingFileRow",this.deselectChooseFromExistingFileRow),this.on(document,"uiNeedsToHideChooseFromExistingFilesDrawer",this.hideSelectFromExistingFileDrawer),this.on(document,"uiNeedsToSetupBackgroundDropboxFilesFetch",this.backgroundDropboxFilesFetch),this.select("dropboxUploadTriggerSelector").length>0&&this.backgroundDropboxFilesFetch()}))}},function(e,t){e.exports=function(e){if(this.supported=!("undefined"==typeof File||"undefined"==typeof Blob||!(Blob.prototype.webkitSlice||Blob.prototype.mozSlice||Blob.prototype.slice)||e.testUnsupported),this.supported){CANCELED=5,ERROR=10,ABORTED=20,AWS_URL="https://s3.amazonaws.com",ETAG_OF_0_LENGTH_BLOB='"d41d8cd98f00b204e9800998ecf8427e"';var t=this,n=[],r=l({logging:!1,maxConcurrentParts:5,partSize:104857600,retryBackoffPower:2,maxRetryBackoffSecs:300,progressIntervalMS:1e3,maxFileSize:null},e);t.uploadInitiated=function(e){},t.add=function(e){var t;if(i.d("add"),"undefined"==typeof e)return"Missing file";if("undefined"==typeof e.name&&(t="Missing attribute: name  "),r.maxFileSize&&e.file.size>r.maxFileSize&&(t="File size too large. Maximum size allowed is "+function(e){var t=["B","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],n=0;for(;e>=1024;)e/=1024,++n;return[e.toFixed(2).replace(".00",""),t[n]].join(" ")}(r.maxFileSize)),t)return t;var c=function(e){var t=n.length,r=new s(l({progress:function(){},complete:function(){},cancelled:function(){},info:function(){},warn:function(){},error:function(){},initiated:function(){}},e,{id:t,status:0,priority:0,onStatusChange:o,loadedBytes:0,sizeBytes:e.file.size}));return n.push(r),r.initiated(t),t}(e);return setTimeout(a,1),c},t.cancel=function(e){return i.d("cancel ",e),!!n[e]&&(n[e].stop(),!0)},t.pause=function(e){},t.resume=function(e){},t.forceRetry=function(){};var i={d:function(){},w:function(){},e:function(){}};r.logging&&console&&console.log&&((i=console).d=i.log,console.warn?i.w=i.warn:i.w=i.log,console.error?i.e=i.error:i.e=i.log)}function o(){i.d("onFileUploadStatusChange"),a()}function a(){i.d("processQueue   length: "+n.length);var e=-1,t=-1,r=!0;n.forEach((function(n,i){n.priority>t&&0==n.status&&(e=i,t=n.priority),2==n.status&&(r=!1)})),r&&e>=0&&n[e].start()}function s(e){var t,n,o=this,a=[],s=0,c=[];function u(e){3!=e&&e!=ERROR&&e!=CANCELED||(clearInterval(t),clearInterval(n)),o.status=e,o.onStatusChange()}function d(){var e,t=0,n=!0,l=!1,c=[],p=[];2==o.status?(a.forEach((function(e,m){var g=!1;if(c.push(e.status),e){switch(e.status){case 2:n=!1,t++,p.push(e.loadedBytes);break;case ERROR:l=!0,g=!0;break;case 0:g=!0}g&&(n=!1,t<r.maxConcurrentParts&&(!function(e){var t,n,l,c;(c=a[e]).status=2,s++,c.loadedBytesPrevious=null,t=0===c.attempts++?0:1e3*Math.min(r.maxRetryBackoffSecs,Math.pow(r.retryBackoffPower,c.attempts-2)),i.d("uploadPart #"+e+"     will wait "+t+"ms to try"),(l={method:"PUT",path:"/"+r.bucket+"/"+o.name+"?partNumber="+e+"&uploadId="+o.uploadId,step:"upload #"+e,attempts:c.attempts,contentType:o.mimeType}).onErr=function(t,r){var a="problem uploading part #"+e+",   http status: "+t.status+",   hasErrored: "+!!n+",   part status: "+c.status+",   readyState: "+t.readyState+(r?",   isOnError":"");if(i.w(a),o.warn(a),!n){if(n=!0,404==t.status){var s="404 error resulted in abortion of both this part and the entire file.";i.w(s+" Server response: "+t.response),o.error(s),c.status=ABORTED,u(ABORTED)}else c.status=ERROR,c.loadedBytes=0,d();t.abort()}},l.on200=function(t){var n,r=t.getResponseHeader("ETag");i.d("uploadPart 200 response for part #"+e+"     ETag: "+r),r!=ETAG_OF_0_LENGTH_BLOB?(c.eTag=r,c.status=3):(c.status=ERROR,c.loadedBytes=0,n="eTag matches MD5 of 0 length blob for part #"+e+"   Retrying part.",i.w(n),o.warn(n)),d()},l.onProgress=function(e){c.loadedBytes=e.loaded};var p=o.file.slice?"slice":o.file.mozSlice?"mozSlice":"webkitSlice";l.toSend=function(){var t=o.file[p](c.start,c.end);return i.d("sending part # "+e+" (bytes "+c.start+" -> "+c.end+")  reported length: "+t.size),0===t.size&&i.w("  *** WARN: blob reporting size of 0 bytes. Will try upload anyway.."),t},l.onFailedAuth=function(t){var n="onFailedAuth for uploadPart #"+e+".   Will set status to ERROR";i.w(n),o.warn(n),c.status=ERROR,c.loadedBytes=0,d()},f(l),setTimeout((function(){h(l),i.d("upload #",e,l)}),t),c.uploader=l}(m),t++))}})),e=c.toString()+" // bytesLoaded: "+p.toString(),i.d("processPartsList()  anyPartHasErrored: "+l,e),(s>=a.length-1||l)&&o.info("part stati: "+e),n&&function(){i.d("completeUpload"),o.info("will attempt to complete upload");var e="<CompleteMultipartUpload>";a.forEach((function(t,n){t&&(e+="<Part><PartNumber>"+n+"</PartNumber><ETag>"+t.eTag+"</ETag></Part>")})),e+="</CompleteMultipartUpload>";var t={method:"POST",contentType:"application/xml; charset=UTF-8",path:"/"+r.bucket+"/"+o.name+"?uploadId="+o.uploadId,step:"complete",onErr:function(){var e="Error completing upload.";i.w(e),o.error(e),u(ERROR)},on200:function(e){o.complete(e),u(3)},toSend:function(){return e}};f(t),h(t)}()):o.info("will not process parts list, as not currently evaporating")}function f(e){i.d("setupRequest()",e);var t=(new Date).toUTCString();r.fetchCurrentServerTimeUrl&&(t=$.ajax({type:"GET",url:r.fetchCurrentServerTimeUrl,async:!1,cache:!1}).responseText),e.dateString=t,e.x_amz_headers=l(e.x_amz_headers,{"x-amz-date":e.dateString}),e.onGotAuth=function(){var t=new XMLHttpRequest;c.push(t),e.awsXhr=t;var n=e.toSend?e.toSend():null,o=AWS_URL+e.path;if(r.simulateErrors&&1==e.attempts&&"upload #3"==e.step&&(i.d("simulating error by POST part #3 to invalid url"),o="https:///foo"),t.open(e.method,o),t.setRequestHeader("Authorization","AWS "+r.aws_key+":"+e.auth),e.contentType){var a=e.contentType;a.match(";")||(a+="; charset=UTF-8"),t.setRequestHeader("Content-Type",a)}for(var s in e.x_amz_headers)e.x_amz_headers.hasOwnProperty(s)&&t.setRequestHeader(s,e.x_amz_headers[s]);t.onreadystatechange=function(){4==t.readyState&&(n&&i.d("  ### "+n.size),200==t.status?e.on200(t):e.onErr(t))},t.onerror=function(){e.onErr(t,!0)},"function"==typeof e.onProgress&&(t.upload.onprogress=function(t){e.onProgress(t)}),t.send(n)},e.onFailedAuth=e.onFailedAuth||function(t){o.error("Error onFailedAuth for step: "+e.step),e.onErr(t)}}function h(e){i.d("authorizedSend() "+e.step);var t=new XMLHttpRequest;c.push(t),e.authXhr=t;var n,a=r.signerUrl+"?to_sign="+function(e){var t,n="",r=[];for(var i in e.x_amz_headers)e.x_amz_headers.hasOwnProperty(i)&&r.push(i);r.sort(),r.forEach((function(t,r){n+=t+":"+e.x_amz_headers[t]+"\n"}));var a=e.contentType;o.mimeType&&"complete"!=e.step&&(a=o.mimeType+"; charset=UTF-8");return t=e.method+"\n\n"+(a||"")+"\n\n"+n+e.path,encodeURIComponent(t)}(e);for(var s in o.signParams)o.signParams.hasOwnProperty(s)&&(a+="&"+encodeURIComponent(s)+"="+encodeURIComponent(o.signParams[s]));t.onreadystatechange=function(){4==t.readyState&&(200==t.status&&28==t.response.length?(i.d("authorizedSend got signature for step: '"+e.step+"'    sig: "+t.response),e.auth=t.response,e.onGotAuth()):(n="failed to get authorization (readyState=4) for "+e.step+".  xhr.status: "+t.status+".  xhr.response: "+t.response,i.w(n),o.warn(n),e.onFailedAuth(t)))},t.onerror=function(){n="failed to get authorization (onerror) for "+e.step+".  xhr.status: "+t.status+".  xhr.response: "+t.response,i.w(n),o.warn(n),e.onFailedAuth(t)},t.open("GET",a),t.send()}l(o,e),o.start=function(){var e;i.d("starting FileUpload "+o.id),u(2),(e={method:"POST",path:"/"+r.bucket+"/"+o.name+"?uploads",step:"initiate",x_amz_headers:o.xAmzHeadersAtInitiate,contentType:o.mimeType,onErr:function(e){i.d("onInitiateError for FileUpload "+o.id),u(ERROR)}}).on200=function(t){var n=t.response.match(/<UploadId\>(.+)<\/UploadId\>/);n&&n[1]?(o.uploadId=n[1],i.d("requester success. got uploadId "+o.uploadId),function(){for(var e=Math.ceil(o.file.size/r.partSize),t=1;t<=e;t++)a[t]={status:0,start:(t-1)*r.partSize,end:t*r.partSize,attempts:0,loadedBytes:0,loadedBytesPrevious:null}}(),d()):e.onErr()},f(e),h(e),t=setInterval((function(){var e=0;a.forEach((function(t,n){e+=t.loadedBytes})),o.progress(e/o.sizeBytes)}),r.progressIntervalMS),n=setInterval((function(){i.d("monitorPartsProgress() "+Date()),a.forEach((function(e,t){var n;if(2==e.status){if(null===e.loadedBytesPrevious)return i.d(t,"no previous "),void(e.loadedBytesPrevious=e.loadedBytes);n=e.loadedBytesPrevious<e.loadedBytes,r.simulateStalling&&4==t&&Math.random()<.25&&(n=!1),i.d(t,n?"moving. ":"stalled.",e.loadedBytesPrevious,e.loadedBytes),n||setTimeout((function(){o.info("part #"+t+" stalled. will abort. "+e.loadedBytesPrevious+" "+e.loadedBytes),function(e){var t=a[e];t.uploader.awsXhr&&t.uploader.awsXhr.abort(),t.uploader.authXhr&&t.uploader.authXhr.abort()}(t)}),0),e.loadedBytesPrevious=e.loadedBytes}else i.d(t,"not evaporating ")}))}),12e4)},o.stop=function(){i.d("stopping FileUpload ",o.id),o.cancelled(),o.info("upload canceled"),u(CANCELED),i.d("cancelAllRequests()"),c.forEach((function(e,t){e.abort()}))}}function l(e,t,n){if("undefined"==typeof e&&(e={}),"object"==typeof n)for(var r in n)t[r]=n[r];for(var i in t)e[i]=t[i];return e}}},,function(e,t,n){"use strict";e.exports=function(){this.defaultAttrs({dateAfterDatepickerSelector:".js-date-after-datepicker-calendar",dateBeforeDatepickerSelector:".js-date-before-datepicker-calendar"}),this.hideDatepickers=function(){this.select("dateAfterDatepickerSelector").removeClass("showing"),this.select("dateBeforeDatepickerSelector").removeClass("showing")},this.showDateAfterDatepicker=function(e){this.hideDatepickers(),e.stopPropagation(),this.select("dateAfterDatepickerSelector").addClass("showing").show()},this.showDateBeforeDatepicker=function(e){this.hideDatepickers(),e.stopPropagation(),this.select("dateBeforeDatepickerSelector").addClass("showing").show()},this.updateDateAfter=function(e){var t=this.select("dateAfterFilterSelector").data("from-us")?"en-US":"en-GB";this.select("dateAfterFilterSelector").val(e.toLocaleDateString(t)),this.hideDatepickers(),this.trigger("uiNeedsToUpdateFilters")},this.updateDateBefore=function(e){var t=this.select("dateBeforeFilterSelector").data("from-us")?"en-US":"en-GB";this.select("dateBeforeFilterSelector").val(e.toLocaleDateString(t)),this.hideDatepickers(),this.trigger("uiNeedsToUpdateFilters")},this.initializeDatepickers=function(){var e=new Date;this.select("dateAfterDatepickerSelector").DatePicker({inline:!0,date:e,calendars:1,mode:"single",onChange:this.updateDateAfter.bind(this)}),this.select("dateBeforeDatepickerSelector").DatePicker({inline:!0,date:e,calendars:1,mode:"single",onChange:this.updateDateBefore.bind(this)})},this.after("initialize",(function(){this.initializeDatepickers(),this.on("click",{dateAfterFilterSelector:this.showDateAfterDatepicker,dateBeforeFilterSelector:this.showDateBeforeDatepicker}),this.on(document,"click",this.hideDatepickers)}))}},function(e,t,n){"use strict";e.exports=function(){this.renameBoughtVariantsSelectedTitles=function(){var e=this,t=this.select("boughtProductsSelector").data("chosen");t&&t.container.find(".search-choice").each((function(t,n){var r=$(n).find(".search-choice-close").data("option-array-index"),i=$(e.select("boughtProductsSelector").find("option")[r]);if("variant"==i.data("post-type")){var o=i.data("product-unique-permalink"),a=e.select("boughtProductsSelector").find("option[value='"+o+"']"),s=$(i).text().replace(/^\u2014 /g,"");$(n).find("span").text(a.text()+" ("+s+")")}}))}}},,function(e,t,n){"use strict";n.r(t);var r=n(2),i=n.n(r);function o(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}t.default=i()((function(){this.cancelSubscriptionBySeller=function(e,t){var n=this;$.ajax({url:Routes.unsubscribe_by_seller_subscription_path(t.subscription_id),type:"POST",dataType:"json"}).done((function(e){e.success?n.trigger("dataSubscriptionCancelledBySeller",{id:t.id}):n.trigger("dataSubscriptionCancelBySellerFailed")}))},this.cancelSubscriptionByUser=function(e,t){var n=this;$.ajax({url:Routes.unsubscribe_by_user_subscription_path(t.id),type:"POST",dataType:"json"}).done((function(e){e.success?n.trigger("dataCancelledSubscription"):n.trigger("dataCancelSubscriptionFailed")}))},this.updateSubscription=function(e,t){var n=this,r=t.subscription_id,i=o(t,["subscription_id"]);$.ajax({type:"PUT",url:Routes.subscription_path(r),data:i,dataType:"json"}).done((function(e){e.success?n.trigger("dataProcessWithCreditCardSuccess",e):n.trigger("dataProcessWithCreditCardFail",e)}))},this.after("initialize",(function(){this.on(document,"uiNeedsToCancelSubscriptionBySeller",this.cancelSubscriptionBySeller),this.on(document,"uiNeedsToCancelSubscription",this.cancelSubscriptionByUser),this.on("uiNeedsToUpdateSubscription",this.updateSubscription)}))}))},,,function(e,t,n){var r,i;!function(){"use strict";r=[n(2)],void 0===(i=function(e){return e((function(){this.discoverSearch=function(e,t){this.getDiscoverResults(Routes.discover_search_path(),t)},this.getDiscoverResults=function(e,t){$.ajax({type:"GET",dataType:"json",url:e,data:t}).done(function(e){this.trigger("dataGotDiscoverSearchResult",e)}.bind(this)).fail(function(){this.trigger("dataDiscoverSearchError")}.bind(this))},this.after("initialize",(function(){this.on("uiNeedsSearchResults",this.discoverSearch)}))}))}.apply(t,r))||(e.exports=i)}()},function(e,t,n){"use strict";var r,i;r=[n(2)],void 0===(i=function(e){return e((function(){this.getProductCard=function(e,t){$.ajax({type:"GET",dataType:"html",url:Routes.product_card_path(t.permalink,t)}).done(function(e){this.trigger("dataGotAProductCardForGrid",{html:e,permalink:t.permalink})}.bind(this))},this.getProduct=function(e,t){$.ajax({type:"GET",dataType:"html",url:Routes.display_path(t.permalink,t)}).done(function(e){this.trigger("dataGotAProduct",{html:e,permalink:t.permalink})}.bind(this))},this.savePageLayout=function(e,t){$.ajax({type:"PUT",dataType:"json",url:Routes.user_save_page_layout_path(),data:t})},this.after("initialize",(function(){this.on("uiNeedsToSavePageLayout",this.savePageLayout),this.on("uiNeedsAProductCard",this.getProductCard),this.on("uiNeedsAProduct",this.getProduct)}))}))}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r=n(2),i=n(45),o=n(271),a=n(517),s=n(61),l=s.ProductCardUIStates,c=s.ProductCardFetchTypes,u=s.ProductCardClassNames,d=s.ProductCardUIContext,f=n(518),h=n(532),p=n(35);n(274),e.exports=r((function(){this.defaultAttrs({productCardHolderSelector:".js-product-card-holder",productCardFilterContainerSelector:".js-product-card-filters",productCardWrapper:".js-product-card-wrapper",productSelector:".js-product",productWrapperSelector:".js-product-card",quickAddToCartTriggerSelector:".js-quick-add-to-cart-trigger",scrollLoadingSelector:".js-product-card-loading-container",scrollTriggerSelector:".js-product-card-load-more",archiveSelector:".js-archive-button",everythingCategory:"everything",hasArchivedProductsSelector:".js-product-card-has-archived-products",filterOverlayClass:"filter-overlay",startIndex:1,uiContext:null,isProfileOwner:!1,scrollIsLocked:!0}),this.getDataFromUrlAndSetInputs=function(){this.getUrlParams().query&&(this.attr.query=this.getUrlParams().query.replace(/\+/g," "),this.trigger("uiToUpdateSearchField",{query:this.attr.query})),this.getUrlParams().bought&&(this.attr.boughtProduct=this.getUrlParams().bought.match(/[a-zA-Z]+/)[0]),this.getUrlParams().category&&(this.attr.categorySlug=this.getUrlParams().category.match(/[a-zA-Z\ ]+/)[0],this.trigger("uiToUpdateSearchCategory",{category:this.attr.categorySlug})),this.getUrlParams().tags&&(this.attr.tags=this.getUrlParams().tags.split(",")),this.getUrlParams().filetypes&&(this.attr.filetypes=this.getUrlParams().filetypes.split(",")),this.getUrlParams().creator_external_ids&&(this.attr.creatorExternalIds=this.getUrlParams().creator_external_ids.split(","));for(var e=0,t=["sort","minPrice","maxPrice","rating","userId","recommended_by"];e<t.length;e++){var n=t[e],r=this.getUrlParams()[n];r&&(this.attr[n]=r)}this.getUrlParams().show_archived_only&&(this.attr.showArchivedOnly=this.getUrlParams().show_archived_only),this.attr.uiContext==d.LIBRARY&&(this.attr.userPurchasesOnly=!0),this.attr.hasArchivedProducts=this.select("hasArchivedProductsSelector").length>0,this.updateFilterInputs()},this.updateFilterInputs=function(){this.trigger("uiToUpdateProductCardFilterInputs",{sort:this.attr.sort,minPrice:this.attr.minPrice,maxPrice:this.attr.maxPrice,rating:this.attr.rating,user_id:this.attr.userId,filetypes:this.attr.filetypes,recommended_by:this.attr.recommended_by,show_archived_only:this.attr.showArchivedOnly})},this.resetAllParams=function(){window.location.replace(window.location.pathname),this.getDataFromUrlAndSetInputs()},this.setFilterValuesInUrl=function(){for(var e=p.parse(window.location.search),t=0,n=["query","sort","minPrice","maxPrice","rating","filetypes","recommended_by","creator_external_ids"];t<n.length;t++){var r=n[t];this.attr[r]?e[r]=this.attr[r]:delete e[r]}this.attr.tags&&this.attr.tags.length>0?e.tags=this.attr.tags.sort().join(","):delete e.tags,this.attr.filetypes&&this.attr.filetypes.length>0?e.filetypes=this.attr.filetypes.sort().join(","):delete e.filetypes,this.attr.creatorExternalIds&&this.attr.creatorExternalIds.length>0?e.creator_external_ids=this.attr.creatorExternalIds.sort().join(","):delete e.creator_external_ids,this.attr.categorySlug?e.category=this.attr.categorySlug:delete e.category,this.attr.showArchivedOnly?e.show_archived_only=this.attr.showArchivedOnly:delete e.show_archived_only;var i=p.stringify(e,{encode:!1}),o=i.length>0?"?":"";window.history.pushState({},document.title,window.location.pathname+o+i+window.location.hash),this.trigger("uiToUpdateCategoryLinksWithParams",{params:e})},this.hasNoParams=function(){for(var e=0,t=["minPrice","maxPrice","rating","query","tags","show_archived_only"];e<t.length;e++){var n=t[e];if(null!=this.getUrlParams()[n]||null!=this.attr[n])return!1}return!!this.isQueryBlank()},this.isQueryBlank=function(){return void 0===this.attr.query||null===this.attr.query||0==this.attr.query.length},this.isEverythingCategory=function(){return null==this.attr.userId&&null==this.attr.userPurchasesOnly&&(this.attr.categorySlug===this.attr.everythingCategory||null===this.attr.categorySlug||void 0===this.attr.categorySlug)},this.fetchResults=function(e,t){this.attr.startIndex=1,this.attr.uiContext!=d.DISCOVER||t.fetchType!==c.CATEGORY&&t.fetchType!==c.SEARCH||(this.attr.tags=[]),t.fetchType===c.TAG?this.fetchResultsForTags(t):t.fetchType===c.FILTER?this.fetchResultsForFilters(t):t.fetchType===c.CATEGORY?this.fetchResultsForCategory(t):t.fetchType===c.SEARCH?this.fetchResultsForQuery(t):t.fetchType===c.PAGINATION?this.fetchResultsForPagination(t):t.fetchType===c.LOAD_MORE&&this.fetchResultsForLoadMore(t)},this.fetchResultsForQuery=function(e){var t=e.query.replace(/\+/g," ");this.attr.query=t,this.attr.categorySlug=e.categorySlug,this.askForResults({showLoadingState:!0})},this.fetchResultsForFilters=function(e){this.attr.sort=e.sort,this.attr.minPrice=e.minPrice,this.attr.maxPrice=e.maxPrice,this.attr.filetypes=e.filetypes,this.attr.rating=e.rating,this.attr.recommended_by=e.recommended_by,this.attr.creatorExternalIds=e.creatorExternalIds,this.attr.showArchivedOnly=e.showArchivedOnly,this.askForResults({showLoadingState:!0})},this.fetchResultsForCategory=function(e){this.attr.categorySlug=e.categorySlug,this.attr.tags=e.tags,this.askForResults({showLoadingState:!0})},this.fetchResultsForTags=function(e){this.attr.tags=e.tags,this.askForResults({showLoadingState:!0})},this.fetchResultsForPagination=function(e){this.attr.startIndex=e.index,this.askForResults({showLoadingState:!0})},this.fetchResultsForLoadMore=function(e){this.attr.startIndex=e.index,this.askForResults({showLoadingState:!0})},this.askForResults=function(e){e.showLoadingState&&(this.attr.uiState=l.LOADING,this.toggleProductCardRefreshLoader(),this.showScrollLoader()),this.setFilterValuesInUrl();var t={from:this.attr.startIndex,categories:this.attr.categorySlug,tags:this.attr.tags,filetypes:this.attr.filetypes,sort:this.attr.sort,min_price:this.attr.minPrice,max_price:this.attr.maxPrice,rating:this.attr.rating,user_id:this.attr.userId,recommended_by:this.attr.recommended_by,user_purchases_only:this.attr.userPurchasesOnly,show_archived_only:this.attr.showArchivedOnly,creator_external_ids:this.attr.creatorExternalIds};t=f(t,h),this.trigger("uiNeedsSearchResults",$.extend(t,{query:this.attr.query}))},this.updateUiStateFromResponse=function(){var e;0===this.attr.resultCount?e=l.NO_RESULTS:this.attr.uiContext==d.PROFILE?e=l.PRODUCT_RESULTS_ON_PROFILE:this.isQueryBlank()?e=this.isEverythingCategory()?l.SHOW_CATEGORY_CARDS:l.CATEGORY_TOP_PRODUCTS:this.isQueryBlank()||(e=this.isEverythingCategory()?l.PRODUCT_RESULTS:l.PRODUCT_RESULTS_IN_CATEGORY),this.attr.uiState=e},this.renderScaffolding=function(){var e=this.attr,t=(e.categoryName,e.categorySlug,e.total),n=e.totalFormatted,r=e.filetypes,i=e.filetypesData,o=e.creatorExternalIds,a=e.creatorCounts,s=e.maxPrice,l=e.minPrice,c=(e.query,e.rating),u=e.resultCount,f=e.showArchivedOnly,h=e.size,p=e.sort,m=e.startIndex,g=e.uiState,v=e.uiContext;switch(this.attr.uiContext){case d.DISCOVER:this.renderDiscoverScaffolding();break;case d.PROFILE:this.renderProfileScaffolding();break;case d.LIBRARY:this.renderLibraryScaffolding()}this.toggleProductCardRefreshLoader(),this.hideScrollLoader(),this.attr.fullWidthNoFilters||(this.updateFilterInputs(),this.trigger("uiToSetProductCardFilters",{uiState:g,totalFormatted:n,resultCount:u,start:m,sort:p,minPrice:l,maxPrice:s,rating:c,uiContext:v,showArchivedOnly:f,creatorExternalIds:o})),this.attr.start=m,this.attr.pageCount=Math.ceil(t/h),this.attr.pageIndex=Math.ceil(m/this.attr.resultsPerPage),this.trigger("uiToSetSelectedFiletypes",{filetypes:r}),this.trigger("uiToSetSelectedCreatorIds",{creatorExternalIds:o}),this.trigger("uiToAddFiletypeOptions",{uiState:g,filetypesData:i}),this.trigger("uiToAddCreatorOptions",{uiState:g,creatorCounts:a})},this.renderDiscoverScaffolding=function(){var e=this.attr,t=e.categoryName,n=e.categorySlug,r=e.tagsData,i=(e.filetypesData,e.creatorCounts,e.tags),o=(e.filetypes,e.uiState),a=e.query;this.trigger("uiToSetSelectedTags",{tags:i}),this.trigger("uiToAddTagOptions",{uiState:o,tagsData:r}),this.trigger("uiToSetDiscoverHeader",{uiState:o,categoryName:t,categorySlug:n,query:a}),o===l.SHOW_CATEGORY_CARDS&&this.trigger("uiShouldToggleCategoryLoader",{state:o});var s=o===l.SHOW_CATEGORY_CARDS;s&&this.trigger("uiShouldToggleCategoryLoader",{state:o}),this.select("productCardWrapper").toggleClass(u.HIDDEN,s)},this.renderLibraryScaffolding=function(){0==this.attr.resultCount&&this.hasNoParams()?this.trigger("uiNeedsToShowEmptyLibraryState",{fromArchiving:!1,showingArchivedOnly:this.attr.showArchivedOnly}):(this.select("productCardWrapper").toggleClass(u.HIDDEN,!1),this.trigger("uiToEnableSearch"))},this.renderProfileScaffolding=function(){0==this.attr.resultCount&&this.hasNoParams()&&this.trigger("uiToToggleEmptyProductsClass",{empty:!0}),void 0===this.attr.editMode&&(this.attr.editMode=this.attr.isProfileOwner),this.attr.isProfileOwner&&this.attr.editMode?(this.trigger("uiToEnableSearch"),this.showEditMode()):this.hideEditMode(),this.trigger("uiToShowProfileHeader"),this.trigger("uiToSetupDynamicGrid")},this.toggleProductCardRefreshLoader=function(){this.select("productCardHolderSelector").toggleClass(u.LOADING,this.attr.uiState===l.LOADING)},this.handleSearchResponseSuccess=function(e,t){this.attr.tagsData=t.tags_data,this.attr.filetypesData=t.filetypes_data,this.attr.creatorCounts=t.creator_counts,this.attr.total=t.total,this.attr.totalFormatted=t.total_formatted,this.attr.size=t.size,this.attr.categorySlug=t.category_slug,this.attr.categoryName=t.category_name,this.attr.resultCount=t.result_count,this.attr.sort=t.sort_key,this.attr.resultsPerPage=this.attr.size;var n=this.attr.uiContext==d.PROFILE&&t.hide_product_filters_on_profile,r=this.attr.uiContext==d.LIBRARY&&!this.attr.hasArchivedProducts&&t.purchase_results_count&&t.purchase_results_count<=this.attr.size;this.attr.fullWidthNoFilters=n||r,this.updateUiStateFromResponse(),this.renderScaffolding(),this.renderResultsFromResponse(t),this.getPersistentBundle()},this.renderResultsFromResponse=function(e){this.attr.uiState==l.NO_RESULTS?this.renderNoResults():this.attr.uiState==l.SHOW_CATEGORY_CARDS?this.renderCategoryCards(e):void 0===this.attr.uiState||(this.attr.uiContext==d.PROFILE?this.renderProfileResults(e):this.attr.uiContext==d.DISCOVER?this.renderDiscoverResults(e):this.attr.uiContext==d.LIBRARY&&this.renderLibraryResults(e))},this.renderProfileResults=function(e){this.renderProductCards(e),this.attr.isProfileOwner&&this.attr.editMode?this.attr.pageIndex<this.attr.pageCount?this.fetchResultsForLoadMore({index:this.attr.start+this.attr.resultsPerPage}):this.trigger("uiToInitializeProductVisibilities"):this.renderPaginator(),this.initializeProductOverlayTrigger()},this.renderDiscoverResults=function(e){this.renderProductCards(e),this.initializeProductOverlayTrigger(),this.renderPaginator(),this.trigger("uiShouldHideCategoryContainer")},this.renderLibraryResults=function(e){this.renderProductCards(e),this.initializeLibraryOverlayTrigger(),this.renderPaginator()},this.renderProductCards=function(e){e&&(1==this.attr.start?this.select("productCardHolderSelector").html(e.products_html).show():this.select("productCardHolderSelector").append(e.products_html)),this.attr.fullWidthNoFilters?(this.select("productCardWrapper").addClass("with-no-filters"),this.toggleFilterVisibility({},{show:!1})):this.toggleFilterVisibility({},{show:!0}),this.trigger("uiShouldTipsyElements")},this.renderNoResults=function(){this.trigger("uiShouldHideCategoryContainer"),this.select("productCardHolderSelector").empty(),this.trigger("uiToClearPagination"),(this.attr.userId||"LIBRARY"==this.attr.uiContext)&&this.hasNoParams()?this.toggleFilterVisibility({},{show:!1}):this.toggleFilterVisibility({},{show:!0})},this.renderCategoryCards=function(e){this.toggleFilterVisibility({},{show:!1}),e&&this.trigger("uiShouldUpdateCategoryContainer",{response:e.categories_html}),this.hideProductsContainer(),this.initializeProductOverlayTrigger(),this.trigger("uiToClearPagination")},this.initializeProductOverlayTrigger=function(){o.attachTo(this.attr.productWrapperSelector,{productSelector:this.attr.productSelector,overlayTriggerSelector:this.attr.productSelector,skipOverlayTriggerSelector:this.attr.quickAddToCartTriggerSelector})},this.initializeLibraryOverlayTrigger=function(){a.attachTo(this.attr.productWrapperSelector,{productSelector:this.attr.productSelector,showArchivedOnly:this.attr.showArchivedOnly})},this.getPersistentBundle=function(){this.attr.persistentBundleRequested||(this.attr.persistentBundleRequested=!0,this.trigger("uiNeedsToGetPersistentBundle"))},this.hideProductsContainer=function(){this.select("productCardHolderSelector").empty().hide()},this.toggleFilterVisibility=function(e,t){this.attr.fullWidthNoFilters||(this.select("productCardFilterContainerSelector").toggleClass(u.HIDDEN,!t.show),this.setProductFiltersSidebarHeight())},this.setProductFiltersSidebarHeight=function(){var e,t=$(window).height();e=this.attr.isProfileOwner?160:25,this.select("productCardFilterContainerSelector").height(t-e+"px")},this.renderPaginator=function(){this.attr.pageIndex>=this.attr.pageCount?this.hideScrollTrigger():this.showScrollTrigger()},this.hideScrollTrigger=function(){this.select("scrollTriggerSelector").hide(),this.off(window,"scroll",this.scrollPage)},this.showScrollTrigger=function(){this.select("scrollTriggerSelector").show(),this.off(window,"scroll",this.scrollPage),this.on(window,"scroll",this.scrollPage)},this.showScrollLoader=function(){this.attr.scrollIsLocked=!0,this.select("scrollTriggerSelector").length&&(this.select("scrollLoadingSelector").addClass(u.LOADING),this.select("scrollTriggerSelector").hide())},this.hideScrollLoader=function(){this.attr.startIndex>1&&(this.attr.scrollIsLocked=!1),this.select("scrollLoadingSelector").removeClass(u.LOADING),!this.attr.editMode&&this.attr.total>0&&this.select("scrollTriggerSelector").show()},this.scrollPage=function(e){e.preventDefault(),this.attr.scrollIsLocked&&"click"!=e.type||this.productPopped()||this.select("scrollTriggerSelector").not(":in-viewport").length||(this.attr.pageIndex<this.attr.pageCount?(this.showScrollLoader(),this.fetchResultsForLoadMore({index:this.attr.start+this.attr.resultsPerPage})):this.hideScrollTrigger())},this.productPopped=function(){return this.select("productSelector").filter(".popped").length>0},this.showError=function(){this.trigger("uiShowFlashMessage",{message:I18n.t("js.something_went_wrong_reload_page")}),this.getPersistentBundle()},this.setEditMode=function(e){this.attr.editMode=e,this.select("productCardFilterContainerSelector").toggleClass("disabled-filters",e)},this.showEditMode=function(){this.setEditMode(!0),this.trigger("uiToDisableAllFilters"),this.trigger("uiToDisableSearch")},this.hideEditMode=function(){this.setEditMode(!1),this.trigger("uiToEnableAllFilters"),this.trigger("uiToEnableSearch")},this.after("initialize",(function(){this.on(document,"dataGotDiscoverSearchResult",this.handleSearchResponseSuccess),this.on(document,"uiShouldShowEditing",this.showEditMode),this.on(document,"uiShouldHideEditing",this.hideEditMode),this.on(document,"dataDiscoverSearchError",this.showError),this.on(document,"uiNeedsToFetchNewResults",this.fetchResults),this.on(document,"uiToResetAllParams",this.resetAllParams),this.on("click",{scrollTriggerSelector:this.scrollPage}),this.on(window,"resize",this.setProductFiltersSidebarHeight),this.on(document,"uiToToggleFilterVisibility",this.toggleFilterVisibility),this.getDataFromUrlAndSetInputs(),this.askForResults({showLoadingState:!1}),this.renderResultsFromResponse()}))}),i)},function(e,t,n){"use strict";var r,i;r=[n(272),n(41)],void 0===(i=function(e,t){return e=window.jwplayer,function(){this.defaultAttrs({videoPlayerContainerSelector:".js-video-player-container",videoPlayerSelector:".js-video-player-container .js-player",fakeVideoUrlGuidForObfuscation:"ef64f2fef0d6c776a337050020423fc0"}),this.stopVideo=function(t){this.attr.videoPlayerName&&"stopPreviews"==t.data&&e(this.attr.videoPlayerName).pause(!0)},this.initializeVideoPlayer=function(n){var r=this.select("videoPlayerContainerSelector");if(r.data("playlist")&&""!==r.data("playlist")){this.select("videoPlayerSelector").attr("id","video-player-"+t.generate()),this.attr.videoPlayerName=this.select("videoPlayerSelector").attr("id");var i={width:n&&n.width?n.width:"100%",height:n&&n.height?n.height:"100%",skin:{name:"bekle"},preload:"auto",playbackRateControls:[.5,.75,1,1.25,1.5,2,3],playlist:this.formatPlaylist(r.data("playlist")),rtmp:{bufferlength:4}};e.key="PRMTi+uBqCMpZ2jh7k9d+l9L0vVPhoqctLGtiiOz78E=";var o=e(this.attr.videoPlayerName);o.setup(i),o.on("ready",(function(){"undefined"!==typeof r.data("index-to-play")&&o.playlistItem(r.data("index-to-play"))}))}},this.formatPlaylist=function(e){for(var t=0;t<e.length;++t){for(var n=e[t],r=0;r<n.sources.length;++r)n.sources[r]={file:n.sources[r].replace(this.attr.fakeVideoUrlGuidForObfuscation,n.guid)};delete n.guid}return e},this.after("initialize",(function(){window.addEventListener?window.addEventListener("message",this.stopVideo.bind(this)):window.attachEvent("message",this.stopVideo.bind(this))}))}}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";function r(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o=n(2),a=n(61).ProductCardUIStates,s=n(61).ProductCardFetchTypes,l=n(45),c=n(533),u=n(534);e.exports=o((function(){this.defaultAttrs({productCardMobileFilterSelector:".js-mobile-filter-button",productCardFilterResultsSelector:".js-filter-results",productCardFilterSortSelector:".js-product-card-sort-by",productCardFilterMinPriceSelector:".js-product-card-filter-min-price",productCardFilterMaxPriceSelector:".js-product-card-filter-max-price",productCardFilterRatingSelector:".js-product-card-filter-rating",productCardFilterTagSelector:".js-product-card-filter-tag",productCardFilterTagInputSelector:".js-product-card-filter-tag-input",productCardFilterAllProductsTagInputSelector:".js-product-card-filter-all-products-tag-input",productCardFilterShowMoreTagsSelector:".js-product-card-show-more-tags",productCardFiletypesFilterWrapper:".js-filetype-wrapper",productCardFiletypesListSelector:".js-filter-filetypes-list",productCardFiletypesSelector:".js-product-card-filter-filetype",productCardFiletypesInputSelector:".js-product-card-filter-filetype-input",productCardFilterArchivedWrapper:".js-archived-wrapper",productCardFilterHasArchivedProducts:".js-product-card-has-archived-products",productCardFilterArchivedInputSelector:".js-product-card-filter-archived-input",productCardFilterShowMoreFiletypesSelector:".js-product-card-show-more-filetypes",productCardFilterShowMoreCreatorsSelector:".js-product-card-show-more-creators",productCardCreatorFilterWrapper:".js-creator-wrapper",productCardCreatorListSelector:".js-filter-creator-list",productCardCreatorSelector:".js-product-card-filter-creator",productCardCreatorInputSelector:".js-product-card-filter-creator-input",productCardFilterAllCreatorsInputSelector:".js-product-card-filter-all-creators-input",mobileFilterClass:"show-mobile-filter",filtersActiveClass:"filters-active",maxTagFiltersOnLoad:5,maxFiletypeFiltersOnLoad:5,maxCreatorFiltersOnLoad:5}),this.updateResults=function(){this.trigger("uiToClearPagination"),this.trigger("uiNeedsToFetchNewResults",{fetchType:s.FILTER,filetypes:this.attr.filetypes,creatorExternalIds:this.attr.creatorExternalIds,sort:this.attr.sort,minPrice:this.attr.minPrice,maxPrice:this.attr.maxPrice,rating:this.attr.rating,tags:this.attr.tags,showArchivedOnly:this.attr.showArchivedOnly})},this.updateSort=function(e){this.attr.sort=this.select("productCardFilterSortSelector").val(),this.updateResults()},this.updateSortFilterSelector=function(e,t){this.select("productCardFilterSortSelector").val(t.value),this.updateSort()},this.updateTags=function(e,t){this.attr.tags=t.tags,this.trigger("uiNeedsToFetchNewResults",{fetchType:s.TAG,tags:this.attr.tags})},this.initializeTags=function(e,t){this.attr.tags=[],this.getUrlParams().tags&&(this.attr.tags=this.getUrlParams().tags.split(",")),this.initializeTagInputs(),this.collapseExtraTags()},this.initializeTagInputs=function(){var e,t=r(this.attr.tags);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.select("productCardFilterTagInputSelector").filter('[data-name="'.concat(n,'"]')).attr("checked",!0)}}catch(i){t.e(i)}finally{t.f()}0==this.attr.tags.length&&this.select("productCardFilterAllProductsTagInputSelector").attr("checked",!0)},this.collapseExtraTags=function(){for(var e=0;e<this.select("productCardFilterTagSelector").length;e++)e>this.attr.maxTagFiltersOnLoad&&!this.attr.showMoreTags&&($(this.select("productCardFilterTagSelector")[e]).addClass("soft-hidden"),this.select("productCardFilterShowMoreTagsSelector").removeClass("soft-hidden"))},this.setTagAttributes=function(){this.attr.tags=this.select("productCardFilterTagInputSelector").filter(":checked").map((function(){return $(this).data("name")})).get()},this.handleTagFilter=function(e,t){this.setTagAttributes(),this.updateTags({},{tags:this.attr.tags}),this.updateAllProductsTagSelector()},this.handleAllProductsTagFilter=function(e){var t,n=r(this.attr.tags);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.select("productCardFilterTagInputSelector").filter('[data-name="'.concat(i,'"]')).attr("checked",!1)}}catch(o){n.e(o)}finally{n.f()}this.updateTags({},{tags:[]}),this.select("productCardFilterAllProductsTagInputSelector").attr("disabled",!0)},this.handleArchivedFilter=function(e){this.select("productCardFilterArchivedInputSelector").attr("checked")?this.attr.showArchivedOnly=!0:this.attr.showArchivedOnly=!1,this.updateResults()},this.updateAllProductsTagSelector=function(){var e=0===this.attr.tags.length;this.select("productCardFilterAllProductsTagInputSelector").attr("checked",e).attr("disabled",e)},this.priceValuesHaveChanged=function(e){var t=this.attr,n=t.minPrice,r=t.maxPrice;if(this.attr.minPrice=this.select("productCardFilterMinPriceSelector").val(),this.attr.maxPrice=this.select("productCardFilterMaxPriceSelector").val(),n!=this.attr.minPrice||r!=this.attr.maxPrice)return!0},this.priceValuesAreValid=function(e){return this.attr.minPrice=this.select("productCardFilterMinPriceSelector").val(),this.attr.maxPrice=this.select("productCardFilterMaxPriceSelector").val(),""!==this.attr.maxPrice&&Number(this.attr.maxPrice)<Number(this.attr.minPrice)?(this.select("productCardFilterMinPriceSelector").addClass("error"),this.select("productCardFilterMaxPriceSelector").addClass("error"),this.trigger("uiShowFlashMessage",{message:I18n.t("js.max_price_should_be_greater")}),!1):(this.select("productCardFilterMinPriceSelector").removeClass("error"),this.select("productCardFilterMaxPriceSelector").removeClass("error"),!0)},this.handlePriceFilter=function(e){this.priceValuesHaveChanged()&&this.priceValuesAreValid()&&this.updateResults()},this.handleRatingFilter=function(e){if("INPUT"===e.target.tagName){var t=$(e.target).val()?$(e.target):$(e.target).parents(this.attr.productCardFilterRatingSelector).children("input");t.val()==this.attr.rating?(this.attr.rating=null,t.attr("checked",!1)):this.attr.rating=t.val(),this.updateResults()}},this.toggleMobileFilters=function(){this.$node.toggleClass(this.attr.mobileFilterClass),this.trigger("uiToToggleMobileOverlayToDiscover")},this.showMoreTags=function(e){e.preventDefault(),this.select("productCardFilterTagSelector").removeClass("soft-hidden"),this.select("productCardFilterShowMoreTagsSelector").addClass("soft-hidden"),this.attr.showMoreTags=!0},this.addFiletypeOptions=function(e,t){if(this.attr.filetypesData=t.filetypesData,this.attr.filetypesData&&0!==this.attr.filetypesData.length){this.select("productCardFiletypesFilterWrapper").removeClass("hidden"),this.select("productCardFiletypesListSelector").empty();for(var n=0;n<this.attr.filetypesData.length;n++){var r=this.attr.filetypesData[n];this.select("productCardFiletypesListSelector").append(this.getFiletypeFilterRow(r.key,r.doc_count)),n>=this.attr.maxFiletypeFiltersOnLoad&&!this.attr.showMoreFiletypes&&(this.hideFiletypeFilterRow(n),this.showAllFiletypesLoadMore())}}},this.hideFiletypeFilterRow=function(e){$(this.select("productCardFiletypesSelector")[e]).addClass("soft-hidden")},this.hideCreatorFilterRow=function(e){$(this.select("productCardCreatorSelector")[e]).addClass("soft-hidden")},this.showAllFiletypesLoadMore=function(){this.select("productCardFilterShowMoreFiletypesSelector").removeClass("soft-hidden")},this.showAllCreatorsLoadMore=function(){this.select("productCardFilterShowMoreCreatorsSelector").removeClass("soft-hidden")},this.showMoreFiletypes=function(e){e.preventDefault(),this.attr.showMoreFiletypes=!0,this.select("productCardFiletypesSelector").removeClass("soft-hidden"),this.select("productCardFilterShowMoreFiletypesSelector").addClass("soft-hidden")},this.showMoreCreators=function(e){e.preventDefault(),this.attr.showMoreCreators=!0,this.select("productCardCreatorSelector").removeClass("soft-hidden"),this.select("productCardFilterShowMoreCreatorsSelector").addClass("soft-hidden")},this.checkIfFiletypeIsSelected=function(e){return this.attr.filetypes.indexOf(e.toLowerCase())>-1},this.checkIfCreatorIsSelected=function(e){return this.attr.creatorExternalIds.indexOf(e)>-1},this.setSelectedFiletypes=function(e,t){this.attr.filetypes=t.filetypes?t.filetypes:[]},this.setSelectedCreatorIds=function(e,t){this.attr.creatorExternalIds=t.creatorExternalIds?t.creatorExternalIds:[]},this.initializeArchivedFilter=function(){this.select("productCardFilterHasArchivedProducts").length>0&&this.showArchivedFilter()},this.showArchivedFilter=function(){this.select("productCardFilterArchivedWrapper").removeClass("hidden"),this.select("productCardCreatorFilterWrapper").addClass("with-border-bottom")},this.handleFiletypeFilter=function(e){var t=$(e.target||e.srcElement),n=t.data().filetype.toLowerCase();t.attr("checked")?this.setFiletypeAttribute(n):this.removeFiletypeAttribute(n),this.updateResults()},this.setFiletypeAttribute=function(e){this.attr.filetypes.push(e)},this.removeFiletypeAttribute=function(e){var t=this.attr.filetypes.indexOf(e);t>-1&&this.attr.filetypes.splice(t,1)},this.getFiletypeFilterRow=function(e,t){var n=this.checkIfFiletypeIsSelected(e)?"checked":"",r=this.attr.productCardFiletypesSelector.substring(1),i=this.attr.productCardFiletypesInputSelector.substring(1);return c({filetypesSelectorClass:r,isFiletypeCheckedAttr:n,filetypesInputSelectorClass:i,name:e,count:t})},this.addCreatorOptions=function(e,t){this.attr.creatorCounts=t.creatorCounts,this.attr.creatorCounts&&0!==this.attr.creatorCounts.length&&(this.select("productCardCreatorListSelector").empty(),this.initializeCreatorInputs(),this.initializeCreatorCheckedStates(),0==this.attr.creatorExternalIds.length&&this.setAllCreatorsFilter(!0))},this.initializeCreatorInputs=function(){var e=0;for(var t in this.attr.creatorCounts){var n=JSON.parse(t),r=n[0],i=n[1],o=n[2],a=this.attr.creatorCounts[t];this.select("productCardCreatorListSelector").append(this.getCreatorFilterRow(i,r,o,a)),++e>this.attr.maxCreatorFiltersOnLoad&&!this.attr.showMoreCreators&&(this.hideCreatorFilterRow(e),this.showAllCreatorsLoadMore())}e>1&&this.select("productCardCreatorFilterWrapper").removeClass("hidden")},this.initializeCreatorCheckedStates=function(){var e,t=r(this.attr.creatorExternalIds);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.select("productCardCreatorInputSelector").filter('[data-id="'.concat(n,'"]')).attr("checked",!0)}}catch(i){t.e(i)}finally{t.f()}},this.setAllCreatorsFilter=function(e){this.select("productCardFilterAllCreatorsInputSelector").attr("checked",e),this.select("productCardFilterAllCreatorsInputSelector").attr("disabled",e)},this.handleCreatorFilter=function(e){var t=$(e.target||e.srcElement),n=t.data().id;t.attr("checked")?(this.setCreatorAttribute(n),this.setAllCreatorsFilter(!1)):this.removeCreatorAttribute(n),this.updateResults()},this.handleAllCreatorsFilter=function(e){this.attr.creatorExternalIds=[];var t,n=r(this.attr.creatorExternalIds);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.select("productCardCreatorInputSelector").filter('[data-id="'.concat(i,'"]')).attr("checked",!1)}}catch(o){n.e(o)}finally{n.f()}this.updateResults()},this.setCreatorAttribute=function(e){this.attr.creatorExternalIds.push(e.toString())},this.removeCreatorAttribute=function(e){var t=this.attr.creatorExternalIds.indexOf(e.toString());t>-1&&this.attr.creatorExternalIds.splice(t,1)},this.getCreatorFilterRow=function(e,t,n,r){var i=this.checkIfCreatorIsSelected(n)?"checked":"",o=this.attr.productCardCreatorSelector.substring(1),a=this.attr.productCardCreatorInputSelector.substring(1);return u({creatorSelectorClass:o,isCreatorCheckedAttr:i,creatorInputSelectorClass:a,name:e,username:t,id:n,count:r})},this.displayResultCount=function(e,t,n){var r=e+t-1;this.select("productCardFilterResultsSelector").text(I18n.t("js.search_results",{range:"1-".concat(r),total:n}))},this.updateEmptyState=function(){"LIBRARY"==this.attr.uiContext&&(this.trigger("uiNeedsToShowEmptyLibraryState",{fromArchivingAction:!0,showingArchivedOnly:this.attr.showArchivedOnly}),this.trigger("uiToToggleFilterVisibility",{show:!1}))},this.adjustResultCount=function(e,t){this.attr.resultCount=t.increment?this.attr.resultCount+1:this.attr.resultCount-1,this.displayResultCount(this.attr.start,this.attr.resultCount,this.attr.resultCount),0==this.attr.resultCount&&this.updateEmptyState()},this.updateInputs=function(e,t){this.select("productCardFilterSortSelector").val(t.sort),this.select("productCardFilterMinPriceSelector").val(t.minPrice),this.select("productCardFilterMaxPriceSelector").val(t.maxPrice),this.select("productCardFilterRatingSelector").find("input[value=".concat(t.rating,"]")).attr({checked:!0}),this.attr.rating=t.rating},this.updateFilters=function(e,t){var n=t.totalFormatted,r=t.resultCount,i=t.start,o=t.uiState,s=t.sort,l=t.minPrice,c=t.maxPrice,u=t.rating,d=t.showArchivedOnly,f=t.uiContext,h=t.creatorExternalIds;switch(this.attr.start=i,this.attr.resultCount=r,this.attr.totalFormatted=n,this.attr.uiContext=f,this.attr.showArchivedOnly=d,this.attr.creatorExternalIds=h,o){case a.CATEGORY_TOP_PRODUCTS:case a.PRODUCT_RESULTS:case a.PRODUCT_RESULTS_IN_CATEGORY:case a.PRODUCT_RESULTS_ON_PROFILE:case a.SHOW_CATEGORY_CARDS:this.displayResultCount(i,r,n);break;case a.NO_RESULTS:this.select("productCardFilterResultsSelector").text(I18n.t("js.no_search_results"));break;case a.LOADING:this.select("productCardFilterResultsSelector").text(I18n.t("js.search_results_loading"))}var p=void 0!==s||void 0!==l||void 0!==c||void 0!==u;this.select("productCardMobileFilterSelector").toggleClass(this.attr.filtersActiveClass,p)},this.disableAllFilters=function(){this.select("productCardFilterSortSelector").attr("disabled",!0),this.select("productCardFilterMinPriceSelector").attr("disabled",!0),this.select("productCardFilterMaxPriceSelector").attr("disabled",!0),this.select("productCardFilterRatingSelector").attr("disabled",!0),this.select("productCardFilterTagInputSelector").attr("disabled",!0)},this.enableAllFilters=function(){this.select("productCardFilterSortSelector").attr("disabled",!1),this.select("productCardFilterMinPriceSelector").attr("disabled",!1),this.select("productCardFilterMaxPriceSelector").attr("disabled",!1),this.select("productCardFilterRatingSelector").attr("disabled",!1),this.select("productCardFilterTagInputSelector").attr("disabled",!1)},this.after("initialize",(function(){this.initializeTags(),this.initializeArchivedFilter(),this.on(document,"uiToSetProductCardFilters",this.updateFilters),this.on(document,"uiToUpdateProductCardFilterInputs",this.updateInputs),this.on(document,"uiToDisableAllFilters",this.disableAllFilters),this.on(document,"uiToEnableAllFilters",this.enableAllFilters),this.on(document,"uiUpdatedTags",this.updateTags),this.on(document,"uiToAddFiletypeOptions",this.addFiletypeOptions),this.on(document,"uiToAddCreatorOptions",this.addCreatorOptions),this.on(document,"uiToSetSelectedFiletypes",this.setSelectedFiletypes),this.on(document,"uiToSetSelectedCreatorIds",this.setSelectedCreatorIds),this.on(document,"uiToAdjustResultCount",this.adjustResultCount),this.on(document,"uiToUpdateSortFilter",this.updateSortFilterSelector),this.on(document,"uiNeedsToSetHasArchivedProducts",this.showArchivedFilter),this.on("click",{productCardFilterRatingSelector:this.handleRatingFilter,productCardMobileFilterSelector:this.toggleMobileFilters,productCardFilterShowMoreTagsSelector:this.showMoreTags,productCardFilterShowMoreFiletypesSelector:this.showMoreFiletypes,productCardFilterShowMoreCreatorsSelector:this.showMoreCreators}),this.on("keyup",{productCardFilterMinPriceSelector:this.handlePriceFilter,productCardFilterMaxPriceSelector:this.handlePriceFilter}),this.on("change",{productCardFilterMinPriceSelector:this.handlePriceFilter,productCardFilterMaxPriceSelector:this.handlePriceFilter,productCardFiletypesInputSelector:this.handleFiletypeFilter,productCardCreatorInputSelector:this.handleCreatorFilter,productCardFilterArchivedInputSelector:this.handleArchivedFilter,productCardFilterSortSelector:this.updateSort,productCardFilterTagInputSelector:this.handleTagFilter,productCardFilterAllProductsTagInputSelector:this.handleAllProductsTagFilter,productCardFilterAllCreatorsInputSelector:this.handleAllCreatorsFilter})}))}),l)},function(e,t,n){"use strict";var r,i;r=[n(2),n(537),n(276),n(277),n(82),n(279),n(280),n(275),n(557),n(186),n(3),n(281)],void 0===(i=function(e,t,n,r,i,o,a,s,l,c){return e((function(){this.defaultAttrs({bundleCircleSelector:".js-bundle-circle",bundleTooltipTriggerSelector:".js-bundle-tooltip-trigger",bundleCancelCheckoutButtonSelector:".js-bundle-cancel-trigger",bundlePayButtonSelector:".js-bundle-pay-trigger",bundleToolTipSelector:".js-bundle-tool-tip",bundledListContainerSelector:".js-bundled-product-list-holder",bundleCheckoutFormSelector:".js-bundle-checkout-form",bundleMessageSelector:".js-bundle-message",buyerBarContentSelector:".js-buyer-bar-content",tryAgainSelector:".js-try-again",bundleGiftTriggerSelector:".js-bundle-gift-trigger",showingCheckout:!1,bundleCartSelector:".js-bundle-cart",bundleOverlaySelector:".js-bundle-overlay"}),this.showProductCountInCircle=function(){0===this.select("bundleCircleSelector").length&&this.select("buyerBarContentSelector").html(s($(".js-login").data("user")||{}));var e=this.getNumberOfProductsInBundle();e>0?(this.select("bundleCircleSelector").text(e),this.select("bundleTooltipTriggerSelector").addClass("showing"),this.select("bundleToolTipSelector").addClass("showing"),this.select("bundleOverlaySelector").addClass("bundle-overlay")):(this.select("bundleCircleSelector").text(""),this.select("bundleTooltipTriggerSelector").removeClass("showing"),this.select("bundleToolTipSelector").removeClass("showing"),this.select("bundleOverlaySelector").removeClass("bundle-overlay"))},this.updateBundleButton=function(){this.updateBundleMessage(),this.setCardSaveRequired(this.bundleNeedsCardSaved()),this.attr.user&&this.attr.user.is_logged_in?this.select("keepOnFileSelector").show():this.select("keepOnFileSelector").hide(),this.attr.onUserProfile&&this.getCanBeGifted()?this.select("bundleGiftTriggerSelector").show():this.select("bundleGiftTriggerSelector").hide();var e=this.getNumberOfProductsInBundle();e>0&&(this.select("bundleCircleSelector").text(e),this.attr.showingCheckout&&"true"===$('meta[property="gr:paypal:pay_with_paypal_enabled"]').attr("value")&&(this.attr.nativePayPalPaymentDisabled?this.trigger("uiNeedsBraintreeClientTokenFetched",{isOverlay:this.attr.isOverlay,isMultiBuyEnabled:this.attr.onMultiOverlay||this.attr.isMultiBuyEnabled}):this.setupPayPalImplementations(null,{})),this.totalBundlePriceCents()>0||this.getTotalShippingCents()>0?this.showCreditCardForm():this.hideCreditCardForm(),this.getHasProductsWithShipping()?this.showShippingInputs():this.hideShippingInputs(),this.attr.showingCheckout?this.$node.addClass("showing-checkout").show():this.$node.removeClass("showing-checkout"),this.$node.addClass("showing-bundle").show(),this.trigger("uiNeedsToHideBuyerMenu")),this.showProductCountInCircle()},this.updateBundleMessage=function(){this.select("bundleMessageSelector").text(I18n.t("js.back_to_bundle_product_count",{count:this.getNumberOfProductsInBundle()}))},this.toggleBundleTooltip=function(e){e.preventDefault(),this.select("bundleToolTipSelector").toggleClass("showing"),this.select("bundleToolTipSelector").hasClass("showing")?(this.$node.addClass("showing-bundle"),this.select("bundleOverlaySelector").addClass("bundle-overlay"),this.trigger("uiNeedsToHideBuyerMenu"),this.trigger("uiNeedsToShrinkToBundleOpen")):(this.$node.removeClass("showing-bundle"),this.select("bundleOverlaySelector").removeClass("bundle-overlay"),this.trigger("uiNeedsToShrinkToBundleClose"))},this.hideBundle=function(e){this.select("bundleToolTipSelector").removeClass("showing"),this.$node.removeClass("showing-bundle"),this.select("bundleOverlaySelector").removeClass("bundle-overlay")},this.hideBundleAndShrinkOverlay=function(e){this.hideBundle(),this.trigger("uiNeedsToShrinkToBundleClose")},this.addProductToBundle=function(e,t){0==this.getNumberOfProductsInBundle()&&(this.attr.failedBundledProducts=[],this.attr.succeededBundledProducts=[],this.attr.numProductsInBundlePaymentCompleted=0,this.attr.receiptEntries="",this.attr.errorReceiptEntries="")},this.bundleNeedsCardSaved=function(){return this.getHasProductsWithRecurringBilling()||this.getHasProductsForPreorder()},this.startBundleCheckout=function(e){this.showStripeElements(),this.setNativePayPalPaymentState(),this.trigger("uiNeedsToStartBundleCheckout"),this.attr.showingCheckout=!0,this.select("bundledListContainerSelector").slideUp(),this.select("bundleCheckoutFormSelector").slideDown(),this.updateBundleButton(),this.initiatePriceInformationUpdate()},this.setNativePayPalPaymentState=function(){this.attr.nativePayPalPaymentDisabled=!("false"===$(this.attr.metaNativePayPalPaymentDisabledSelector).attr("value"))||this.getIsNativePaypalPaymentDisabled()},this.cancelBundleCheckout=function(e){e&&e.preventDefault(),this.attr.showingCheckout=!1,this.select("bundledListContainerSelector").slideDown(),this.select("bundleCheckoutFormSelector").slideUp(function(){this.trigger("uiNeedsToCancelBundleCheckout")}.bind(this)),this.updateBundleButton(),this.initiatePriceInformationUpdate()},this.initiateValidationForProductBundle=function(e){return e&&e.preventDefault(),this.validateBundleCheckoutForm()&&(this.select("bundledListContainerSelector").slideUp(),this.showPaymentAsProcessing(),(c.isExternalPresentation()||this.verifyShippingAddress())&&this.continueWithPayment()),!1},this.completeAccountCreation=function(e,t){this.select("buyerBarContentSelector").html(s(t.buyer_bar_data))},this.failedAccountCreation=function(e,t){this.trigger("uiBundledProductPaymentFailed",t)},this.makePaymentForProductBundle=function(){return this.setPaymentAsProcessingForMultiBuyMode(),this.trigger("uiNeedsToTrackUserActionEvent",{name:"process_payment"}),this.trigger("uiSetFriendValue"),this.setCreditCardFormInUse(0!=this.totalBundlePriceCents()||0!=this.getTotalShippingCents()),this.getReusableCardParams(function(e){this.makePaymentForProducts(e.cardParams)}.bind(this)),!1},this.makePaymentForProducts=function(e){var t=this;this.getUidsOfProductsInBundle().forEach((function(n){t.makePaymentForProduct(n,e)}))},this.makePaymentForProduct=function(e,t){this.getIsFreeProductForUid(e)?this.makePaymentForProductWithCard(e,{}):t?this.makePaymentForProductWithCard(e,t):this.getCardParams(function(t){this.makePaymentForProductWithCard(e,t.cardParams)}.bind(this))},this.makePaymentForProductWithCard=function(e,t){var n={is_gift:this.select("giftSignifierSelector").val(),cc_zipcode_required:this.select("ccZipcodeRequiredSelector").val(),cc_zipcode:this.select("ccZipcodeFieldSelector").val()},r=this.getSerializedBundleForm()+"&"+this.simpleSerialize(n)+"&"+$.param(t)+"&"+this.serializeProductInBundleCheckoutForPayment(e),i=this.getPermalinkForUid(e),o=this.getProductNameForUid(e),a=this.getFormattedPriceWithCurrencyForUid(e);this.trigger("uiNeedsToTrackProductSpecificEvent",{name:"process_payment",permalink:i}),this.trigger("uiNeedsToMakePayment",{permalink:i,is_bundled:!0,payingWithPayPal:this.attr.payingWithPayPal,paypalOrderDetails:this.attr.paypalOrderDetails,productsInBundleUids:this.getUidsOfProductsInBundle(),name:o,formattedPrice:a,serializedForm:r,uid:e})},this.handleCompletionForBundledProduct=function(e,t){var n=a(t);if(t.error_message)this.attr.errorReceiptEntries+=n,this.attr.failedBundledProducts.push(t.permalink);else if(this.attr.receiptEntries+=n,this.attr.succeededBundledProducts.push(t.name),t.success&&(t.has_third_party_analytics&&(this.trigger("uiThirdPartyAnalyticsEnabled"),this.trigger(this.$node,"uiToAddThirdPartyAnalytics",{permalink:t.permalink,purchase_id:t.id})),!this.attr.onDiscoverPage&&!this.attr.onMultiOverlay)){var r=this.getIsSingleUnitForExternalId(t.product_id);this.trigger("uiNeedsToTrackActivityWithSellerAnalytics",{permalink:t.permalink,action:"purchased",value:t.non_formatted_price,valueIsSingleUnit:r,currency:t.currency_type.toUpperCase()}),this.trigger("uiNeedsToTrackECommerceEventWithSellerAnalytics",{permalink:t.permalink,purchase_external_id:t.id,currency:t.currency_type.toUpperCase(),product_name:t.name,price:t.non_formatted_price,priceIsSingleUnit:r,quantity:t.quantity,tax:t.non_formatted_seller_tax_amount})}this.attr.numProductsInBundlePaymentCompleted++,this.attr.numProductsInBundlePaymentCompleted==this.getNumberOfProductsInBundle()&&(this.showProductBundleReceipt(),this.attr.failedBundledProducts=[],this.attr.succeededBundledProducts=[])},this.handleErrorForBundledProduct=function(e,t){var n=t&&t.error_message?t.error_message:I18n.t("js.something_went_wrong_notice");t.error_message=n,t.zipcode_required||t.is_tax_mismatch?(this.select("bundlePayButtonSelector").prop("disabled",!1).text(I18n.t("js.pay_prompt")),this.select("receiptContainerSelector").fadeOut()):this.trigger("uiBundledProductPaymentCompleted",t)},this.handleTimeoutForBundledProduct=function(e,t){t.extra_purchase_notice=I18n.t("js.purchase_with_name_processing_check_email_notice",{name:t.name}),this.trigger("uiNeedsToRemoveProductFromPersistentBundle",t),this.trigger("uiBundledProductPaymentCompleted",t)},this.showProductBundleReceipt=function(){this.select("bundleMessageSelector").text(I18n.t("js.back_to_bundle_product_count_completed",{count:this.attr.succeededBundledProducts.length})),this.select("bundleCancelCheckoutButtonSelector").hide(),this.trigger("completedBundle"),this.updateReceiptSuccessTextForProductBundle(),this.updateSocialShareTextForProductBundle(this.attr.succeededBundledProducts),this.select("receiptEntriesSelector").html(this.attr.receiptEntries+this.attr.errorReceiptEntries),this.attr.failedBundledProducts&&this.attr.failedBundledProducts.length>0&&(this.select("receiptEntriesSelector").append(l({message:I18n.t("js.try_again_message")})),this.select("receiptSuccessNotice").hide()),this.showReceipt(!1)},this.tryAgain=function(){this.resetBundleListToEmpty(),this.trigger("uiNeedsToResetBundledList"),this.select("purchaseFormSelector").show(),this.select("bundleCancelCheckoutButtonSelector").show(),this.select("receiptEntriesSelector").empty(),this.hideReceipt(),this.trigger("uiNeedsToStartBundleCheckout"),this.updateBundleButton(),this.initiatePriceInformationUpdate()},this.getSerializedBundleForm=function(){var e="textarea, input:not("+this.attr.utf8Selector+", "+this.attr.authenticityTokenSelector+", "+this.attr.parentIdSelector+", "+this.attr.saveCardSelector;return this.getHasProductsWithShipping()?e+="), select":e+=", "+this.attr.zipCodeSelector+"), select:not("+this.attr.countrySelector+")",this.select("bundleCheckoutFormSelector").find(e).serialize()},this.setCurrentUserInfo=function(e,t){this.attr.isCurrentUserSet||(this.attr.user=t,this.setCreditCard(),this.setEmail(),this.attr.isCurrentUserSet=!0)},this.simpleSerialize=function(e){var t=[];for(var n in e)t.push(n+"="+encodeURIComponent(e[n]).replace(/%20/g,"+"));return t.join("&")},this.attachThirdPartyAnalytics=function(){n.attachTo(this.$node)},this.after("initialize",(function(){this.on(document,"dataCurrentUserInfo",this.setCurrentUserInfo),this.on(document,"dataAccount",this.completeAccountCreation),this.on(document,"dataFailedToCreateAccount",this.failedAccountCreation),this.on(document,"addProductToBundle",this.addProductToBundle),this.on(document,"uiBundledProductPaymentCompleted",this.handleCompletionForBundledProduct),this.on(document,"uiBundledProductPaymentFailed",this.handleErrorForBundledProduct),this.on(document,"uiBundledProductPaymentTimeout",this.handleTimeoutForBundledProduct),this.on(document,"uiThirdPartyAnalyticsEnabled",this.attachThirdPartyAnalytics),this.on(document,"uiShowOverlayCreditCardForm",this.startBundleCheckout),this.on(document,"uiShouldHideBundle",this.hideBundle),this.on(document,"uiNeedsToShowProductCountInCircle",this.showProductCountInCircle),this.on("click",{bundlePayButtonSelector:this.initiateValidationForProductBundle,bundleCancelCheckoutButtonSelector:this.cancelBundleCheckout,bundleTooltipTriggerSelector:this.toggleBundleTooltip,tryAgainSelector:this.tryAgain,bundleCartSelector:this.toggleBundleTooltip,bundleOverlaySelector:this.hideBundleAndShrinkOverlay}),this.on(document,"uiBundleNeedsToStartCheckout",this.startBundleCheckout),this.on(document,"uiBundleNeedsToCloseCartTooltip",this.hideBundleAndShrinkOverlay)}))}),t.default,r,i,o)}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,l=a(e),c=1;c<arguments.length;c++){for(var u in n=Object(arguments[c]))i.call(n,u)&&(l[u]=n[u]);if(r){s=r(n);for(var d=0;d<s.length;d++)o.call(n,s[d])&&(l[s[d]]=n[s[d]])}}return l}},function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(547),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(76))},function(e,t,n){"use strict";var r;void 0===(r=function(){return{isOverlay:function(){return"overlay-page"===$("body").attr("id")},isModal:function(){return!!window.location.search.match(/as_modal/)&&top!=self},isEmbed:function(){return!!window.location.search.match(/as_embed/)&&top!=self},isOutboundEmbed:function(){return!!window.location.search.match(/outbound_embed/)&&top!=self},isRecommended:function(){return!!window.location.search.match(/recommended_by/)},isExternalPresentation:function(){return this.isOutboundEmbed()||this.isEmbed()||this.isModal()||this.isOverlay()}}}.apply(t,[]))||(e.exports=r)},,function(e,t){!function(e){function t(t,n){this.$element=e(t),this.options=n,this.enabled=!0,this.fixTitle()}t.prototype={show:function(){var t=this.getTitle();if(t&&this.enabled){var n=this.tip();n.find(".tipsy-inner")[this.options.html?"html":"text"](t),n[0].className="tipsy",n.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).appendTo(document.body);var r,i=e.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),o=n[0].offsetWidth,a=n[0].offsetHeight,s="function"==typeof this.options.gravity?this.options.gravity.call(this.$element[0]):this.options.gravity;switch(s.charAt(0)){case"n":r={top:i.top+i.height+this.options.offset,left:i.left+i.width/2-o/2};break;case"s":r={top:i.top-a-this.options.offset,left:i.left+i.width/2-o/2};break;case"e":r={top:i.top+i.height/2-a/2,left:i.left-o-this.options.offset};break;case"w":r={top:i.top+i.height/2-a/2,left:i.left+i.width+this.options.offset}}2==s.length&&("w"==s.charAt(1)?r.left=i.left+i.width/2-15:r.left=i.left+i.width/2-o+15),n.css(r).addClass("tipsy-"+s),this.options.fade?n.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):n.css({visibility:"visible",opacity:this.options.opacity})}},hide:function(){this.options.fade?this.tip().stop().fadeOut((function(){e(this).remove()})):this.tip().remove()},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("original-title"))&&e.attr("original-title",e.attr("title")||"").removeAttr("title")},getTitle:function(){var e,t=this.$element,n=this.options;return this.fixTitle(),"string"==typeof(n=this.options).title?e=t.attr("title"==n.title?"original-title":n.title):"function"==typeof n.title&&(e=n.title.call(t[0])),(e=(""+e).replace(/(^\s*|\s*$)/,""))||n.fallback},tip:function(){return this.$tip||(this.$tip=e('<div class="tipsy"></div>').html('<div class="tipsy-inner"></div><div class="tipsy-arrow"></div>')),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},e.fn.tipsy=function(n){if(!0===n)return this.data("tipsy");if("string"==typeof n){var r=this.data("tipsy");return r&&r[n](),this}function i(r){var i=e.data(r,"tipsy");return i||(i=new t(r,e.fn.tipsy.elementOptions(r,n)),e.data(r,"tipsy",i)),i}if((n=e.extend({},e.fn.tipsy.defaults,n)).live||this.each((function(){i(this)})),"manual"!=n.trigger){var o=n.live?"live":"bind",a="hover"==n.trigger?"mouseenter":"focus",s="hover"==n.trigger?"mouseleave":"blur";this[o](a,(function(){var e=i(this);e.hoverState="in",0==n.delayIn?e.show():(e.fixTitle(),setTimeout((function(){"in"==e.hoverState&&e.show()}),n.delayIn))}))[o](s,(function(){var e=i(this);e.hoverState="out",0==n.delayOut?e.hide():setTimeout((function(){"out"==e.hoverState&&e.hide()}),n.delayOut)}))}return this},e.fn.tipsy.defaults={delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:1,title:"title",trigger:"hover"},e.fn.tipsy.elementOptions=function(t,n){return e.metadata?e.extend({},n,e(t).metadata()):n},e.fn.tipsy.autoNS=function(){return e(this).offset().top>e(document).scrollTop()+e(window).height()/2?"s":"n"},e.fn.tipsy.autoWE=function(){return e(this).offset().left>e(document).scrollLeft()+e(window).width()/2?"e":"w"}}(jQuery)},,,function(e,t,n){"use strict";n.r(t);var r=n(2),i=n.n(r);t.default=i()((function(){this.signupAndAddPurchaseToLibrary=function(e,t){var n=this;$.ajax({type:"POST",url:Routes.save_to_library_path({format:"json"}),dataType:"json",data:t.formData}).done((function(e){e.success?n.trigger("dataSignupAndAddSuccess"):n.trigger("dataSignupAndAddFailure",{message:e.error_message})}))},this.sendSMS=function(e,t){var n=this;$.ajax({type:"POST",url:Routes.purchases_send_sms_path(),data:t,dataType:"json"}).done((function(e,t,r){n.trigger("dataSendSMSSuccess",e)})).fail((function(e,t,r){n.trigger("dataSendSMSFailure",JSON.parse(e.responseText))}))},this.after("initialize",(function(){this.on(document,"uiNeedsToSendMobileSMSCode",this.sendSMS),this.on(document,"uiNeedsToSignupWithPurchase",this.signupAndAddPurchaseToLibrary)}))}))},,,function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(2),s=n(609),l=n(610);e.exports=a((function(){this.defaultAttrs({trackFreeSales:!0}),this.startTrackingForSeller=function(e,t){this.trigger("uiNeedsToStartTrackingForSellerGoogleAnalytics",t),this.trigger("uiNeedsToStartTrackingForSellerFacebookPixel",t),this.attr.trackFreeSales=t.trackFreeSales},this.trackProductEvent=function(e,t){this.trigger("uiNeedsToTrackActivityWithSellerGoogleAnalytics",i(i({},t),{},{trackFreeSales:this.attr.trackFreeSales})),this.trigger("uiNeedsToTrackActivityWithSellerFacebookPixel",i(i({},t),{},{trackFreeSales:this.attr.trackFreeSales}))},this.trackECommerceForSeller=function(e,t){this.trigger("uiNeedsToTrackECommerceEventWithSellerGoogleAnalytics",i(i({},t),{},{trackFreeSales:this.attr.trackFreeSales}))},this.after("initialize",(function(){s.attachTo(this.$node),l.attachTo(this.$node),this.on(document,"uiNeedsToStartTrackingForSellerAnalytics",this.startTrackingForSeller),this.on(document,"uiNeedsToTrackActivityWithSellerAnalytics",this.trackProductEvent),this.on(document,"uiNeedsToTrackECommerceEventWithSellerAnalytics",this.trackECommerceForSeller)}))}))},function(e,t,n){"use strict";e.exports=function(){this.defaultAttrs({metaFbPixelEnabledSelector:'meta[property="gr:fb_pixel:enabled"]',gumroadPixelId:"1016982791823619",sellerFbPixelId:"",initializedPixelIds:[]}),this.setupFacebookPixel=function(){var e,t,n,r,i,o;e=window,t=document,n="script",e.fbq||(r=e.fbq=function(){r.callMethod?r.callMethod.apply(r,arguments):r.queue.push(arguments)},e._fbq||(e._fbq=r),r.push=r,r.loaded=!0,r.version="2.0",r.queue=[],(i=t.createElement(n)).async=!0,i.src="https://connect.facebook.net/en_US/fbevents.js",(o=t.getElementsByTagName(n)[0]).parentNode.insertBefore(i,o)),fbq("init",this.attr.gumroadPixelId),fbq("trackSingle",this.attr.gumroadPixelId,"PageView")},this.gumroadFbPixelTrack=function(e){this.isFbPixelInitialized()&&fbq("trackSingle",this.attr.gumroadPixelId,e)},this.sellerFbPixelInit=function(e){this.isFbPixelInitialized()&&(this.attr.sellerFbPixelId=e,-1===this.attr.initializedPixelIds.indexOf(e)&&(this.attr.initializedPixelIds.push(e),fbq("init",e)))},this.sellerFbPixelTrack=function(e,t){this.isSellerAnalyticsIdPresent()&&this.isFbPixelInitialized()&&fbq("trackSingle",this.attr.sellerFbPixelId,e,t)},this.isFbPixelInitialized=function(){return"undefined"!==typeof fbq},this.isSellerAnalyticsIdPresent=function(){return""!==this.attr.sellerFbPixelId},this.after("initialize",(function(){"true"!==$(this.attr.metaFbPixelEnabledSelector).attr("content")||this.isFbPixelInitialized()||this.setupFacebookPixel()}))}},,function(e,t,n){"use strict";var r=n(31),i=n(58),o=n(22);n(123),e.exports=function(){r.mixin(this,[i]),this.defaultAttrs({isUserAsset:!1,richTextImageCredentialsSelector:".js-rich-text-image-credentials",dataEvent:"dataUploadingComplete",uploadStartedEvent:"dataUploadingRichTextImageStarted",uiUploadWithCorsEvent:"uiNeedsToUploadRichTextImageWithCors",imageUploadProgressSelector:".medium-insert-images-progress"}),this.enableImageUpload=function(){this.imageUploadSettings={preview:!0,context:this,onImageSelect:this.uploadImage,label:"<span class='medium-insert-button-icon image-upload-icon'></span>",toolbar:!1,deleteScript:function(e,t){return!1}}},this.uploadImage=function(e){this.trigger("dataFileUploadIsInProgress"),this.trigger("uiNeedsToUploadRichTextImageWithCors",{formId:this.select("richTextImageCredentialsSelector").attr("id"),guid:o.generateGuid(),fileName:e.name,userExternalId:o.determineUserExternalIdForForm(this.select("richTextImageCredentialsSelector")),file:e})},this.uploadComplete=function(e,t){var n=this.select("richTextImageCredentialsSelector").data("s3-url")+"/"+t.s3Key,r=(t.file.name+t.file.size).hashCode(),i=this.$node.find(".contains-image-"+r);i.find("img").attr("src",n),i.find(this.attr.imageUploadProgressSelector).remove(),i.trigger("finishedUploading"),this.trigger("dataFileUploadIsDone")},this.after("initialize",(function(){this.on("dataUploadingComplete",this.uploadComplete)}))}},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r,i;r=[n(2)],void 0===(i=function(e){return e((function(){this.defaultAttrs({linkSelector:"a",buttonSelector:"button",friendSelector:".friend"}),this.trackClick=function(e){this.attr.friend.clicks.push({type:e.target.nodeName.toLowerCase(),id:e.target.id,class:e.target.className,timestamp:e.timeStamp})},this.trackKeyPress=function(e){var t,n=e.target,r=$(n);(r.hasClass("cc_number")||r.hasClass("cv_code")||r.hasClass("expiry_date"))&&e.which>47&&e.which<58&&(t=48),this.attr.friend.keys.push({type:n.nodeName.toLowerCase(),id:n.id,length:n.value?n.value.length:"",class:n.className,key:t||e.keyCode||e.which,timestamp:e.timeStamp})},this.setFriendValue=function(){this.select("friendSelector").val(JSON.stringify(this.attr.friend))},this.after("initialize",(function(){this.attr.friend={start:(new Date).getTime(),keys:[],movements:[],clicks:[]},this.on("click",{linkSelector:this.trackClick,buttonSelector:this.trackClick}),this.on("keypress",this.trackKeyPress),this.on(document,"uiSetFriendValue",this.setFriendValue)}))}))}.apply(t,r))||(e.exports=i)},,,,,,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"SUBTITLE_LANGUAGES",(function(){return r}));var r=["English","Catal\xe0","\u5b98\u8bdd","Dansk","Deutsch","Espa\xf1ol","Euskara","\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac","Fran\xe7ais","Hrvatski","Italiano","\u65e5\u672c\u8a9e","Ladino","Magyar","Nederlands","Polskie","Portugu\xeas","\u0440\u0443\u0441\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a","Rom\xe2n\u0103","Svenska","T\xfcrk\xe7e","\u0939\u093f\u0902\u0926\u0940","\u09ac\u09be\u0982\u09b2\u09be","\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40","\u092e\u0930\u093e\u0920\u0940","\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41","\ud55c\uad6d\uc5b4","Ti\u1ebfng Vi\u1ec7t","\u0ba4\u0bae\u0bbf\u0bb4\u0bcd","\u0627\u0631\u062f\u0648","ba\u1e63a Jawa","\u0623\u0644\u0639\u0627\u0645\u0651\u064a\u0651\u0629 \u0623\u0644\u0639\u0631\u064a\u0651\u0629 \u0623\u0644\u0645\u0635\u0631\u064a\u0651\u0629","\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0","\u0641\u0627\u0631\u0633\u06cc","\u092d\u094b\u091c\u092a\u0941\u0930\u0940","\u5ba2\u5bb6\u8bdd","\u5ee3\u6771\u8a71","\u81fa\u8a9e","\u0647\u064e\u0631\u0652\u0634\u064e\u0646 \u0647\u064e\u0648\u0652\u0633\u064e","\u0c95\u0ca8\u0ccd\u0ca8\u0ca1","Bahasa","\xc8d\xe8 Yor\xf9b\xe1","\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02","\u0b13\u0b21\u0b3c\u0b3f\u0b06","\u1019\u103c\u1014\u103a\u1019\u102c\u1005\u102c, \u1019\u103c\u1014\u103a\u1019\u102c\u1005\u1000\u102c\u1038","\u0627\u0644\u062f\u0627\u0631\u062c\u0629","\u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430 \u043c\u043e\u0432\u0430","Tagalog","Dutch","\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22","af somali","\u0928\u0947\u092a\u093e\u0932\u0940","\u049a\u0430\u0437\u0430\u049b \u0442\u0456\u043b\u0456","\u010de\u0161tina"]},function(e,t,n){(function(e,r){var i;function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"classList"in document.createElement("_")||function(e){"use strict";if("Element"in e){var t="classList",n=e.Element.prototype,r=Object,i=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},a=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},s=function(e,t){if(""===t)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(e,t)},l=function(e){for(var t=i.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],r=0,o=n.length;r<o;r++)this.push(n[r]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},c=l.prototype=[],u=function(){return new l(this)};if(a.prototype=Error.prototype,c.item=function(e){return this[e]||null},c.contains=function(e){return-1!==s(this,e+="")},c.add=function(){var e,t=arguments,n=0,r=t.length,i=!1;do{e=t[n]+"",-1===s(this,e)&&(this.push(e),i=!0)}while(++n<r);i&&this._updateClassName()},c.remove=function(){var e,t,n=arguments,r=0,i=n.length,o=!1;do{for(e=n[r]+"",t=s(this,e);-1!==t;)this.splice(t,1),o=!0,t=s(this,e)}while(++r<i);o&&this._updateClassName()},c.toggle=function(e,t){e+="";var n=this.contains(e),r=n?!0!==t&&"remove":!1!==t&&"add";return r&&this[r](e),!0===t||!1===t?t:!n},c.toString=function(){return this.join(" ")},r.defineProperty){var d={get:u,enumerable:!0,configurable:!0};try{r.defineProperty(n,t,d)}catch(f){-2146823252===f.number&&(d.enumerable=!1,r.defineProperty(n,t,d))}}else r.prototype.__defineGetter__&&n.__defineGetter__(t,u)}}(self),function(e){"use strict";if(e.URL=e.URL||e.webkitURL,e.Blob&&e.URL)try{return void new Blob}catch(r){}var t=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||function(e){var t=function(e){return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]},n=function(){this.data=[]},r=function(e,t,n){this.data=e,this.size=e.length,this.type=t,this.encoding=n},i=n.prototype,o=r.prototype,a=e.FileReaderSync,s=function(e){this.code=this[this.name=e]},l="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),c=l.length,u=e.URL||e.webkitURL||e,d=u.createObjectURL,f=u.revokeObjectURL,h=u,p=e.btoa,m=e.atob,g=e.ArrayBuffer,v=e.Uint8Array,y=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(r.fake=o.fake=!0;c--;)s.prototype[l[c]]=c+1;return u.createObjectURL||(h=e.URL=function(e){var t,n=document.createElementNS("http://www.w3.org/1999/xhtml","a");return n.href=e,"origin"in n||("data:"===n.protocol.toLowerCase()?n.origin=null:(t=e.match(y),n.origin=t&&t[1])),n}),h.createObjectURL=function(e){var t,n=e.type;return null===n&&(n="application/octet-stream"),e instanceof r?(t="data:"+n,"base64"===e.encoding?t+";base64,"+e.data:"URI"===e.encoding?t+","+decodeURIComponent(e.data):p?t+";base64,"+p(e.data):t+","+encodeURIComponent(e.data)):d?d.call(u,e):void 0},h.revokeObjectURL=function(e){"data:"!==e.substring(0,5)&&f&&f.call(u,e)},i.append=function(e){var n=this.data;if(v&&(e instanceof g||e instanceof v)){for(var i="",o=new v(e),l=0,c=o.length;l<c;l++)i+=String.fromCharCode(o[l]);n.push(i)}else if("Blob"===t(e)||"File"===t(e)){if(!a)throw new s("NOT_READABLE_ERR");var u=new a;n.push(u.readAsBinaryString(e))}else e instanceof r?"base64"===e.encoding&&m?n.push(m(e.data)):"URI"===e.encoding?n.push(decodeURIComponent(e.data)):"raw"===e.encoding&&n.push(e.data):("string"!==typeof e&&(e+=""),n.push(unescape(encodeURIComponent(e))))},i.getBlob=function(e){return arguments.length||(e=null),new r(this.data.join(""),e,"raw")},i.toString=function(){return"[object BlobBuilder]"},o.slice=function(e,t,n){var i=arguments.length;return i<3&&(n=null),new r(this.data.slice(e,i>1?t:this.data.length),n,this.encoding)},o.toString=function(){return"[object Blob]"},o.close=function(){this.size=0,delete this.data},n}(e);e.Blob=function(e,n){var r=n&&n.type||"",i=new t;if(e)for(var o=0,a=e.length;o<a;o++)Uint8Array&&e[o]instanceof Uint8Array?i.append(e[o].buffer):i.append(e[o]);var s=i.getBlob(r);return!s.slice&&s.webkitSlice&&(s.slice=s.webkitSlice),s};var n=Object.getPrototypeOf||function(e){return e.__proto__};e.Blob.prototype=n(new e.Blob)}("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||this.content||this),function(a,s){"use strict";"object"===o(e)&&"undefined"!==typeof r&&r&&r.versions&&r.versions.electron||"object"!==o(e)?void 0===(i=function(){return s}.call(t,n,t,e))||(e.exports=i):e.exports=s}(0,function(){"use strict";function e(e,t){return this.init(e,t)}var t,n,r,i,o,a,s,l,c,u,d;return e.extensions={},function(t){function n(e,t){var n,r=Array.prototype.slice.call(arguments,2);t=t||{};for(var i=0;i<r.length;i++){var o=r[i];if(o)for(n in o)o.hasOwnProperty(n)&&"undefined"!==typeof o[n]&&(e||!1===t.hasOwnProperty(n))&&(t[n]=o[n])}return t}var r=!1;try{var i=document.createElement("div"),o=document.createTextNode(" ");i.appendChild(o),r=i.contains(o)}catch(s){}var a={isIE:"Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent),isEdge:null!==/Edge\/\d+/.exec(navigator.userAgent),isFF:navigator.userAgent.toLowerCase().indexOf("firefox")>-1,isMac:t.navigator.platform.toUpperCase().indexOf("MAC")>=0,keyCode:{BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,DELETE:46,K:75,M:77,V:86},isMetaCtrlKey:function(e){return!!(a.isMac&&e.metaKey||!a.isMac&&e.ctrlKey)},isKey:function(e,t){var n=a.getKeyCode(e);return!1===Array.isArray(t)?n===t:-1!==t.indexOf(n)},getKeyCode:function(e){var t=e.which;return null===t&&(t=null!==e.charCode?e.charCode:e.keyCode),t},blockContainerElementNames:["p","h1","h2","h3","h4","h5","h6","blockquote","pre","ul","li","ol","address","article","aside","audio","canvas","dd","dl","dt","fieldset","figcaption","figure","footer","form","header","hgroup","main","nav","noscript","output","section","video","table","thead","tbody","tfoot","tr","th","td"],emptyElementNames:["br","col","colgroup","hr","img","input","source","wbr"],extend:function(){var e=[!0].concat(Array.prototype.slice.call(arguments));return n.apply(this,e)},defaults:function(){var e=[!1].concat(Array.prototype.slice.call(arguments));return n.apply(this,e)},createLink:function(e,t,n,r){var i=e.createElement("a");return a.moveTextRangeIntoElement(t[0],t[t.length-1],i),i.setAttribute("href",n),r&&("_blank"===r&&i.setAttribute("rel","noopener noreferrer"),i.setAttribute("target",r)),i},findOrCreateMatchingTextNodes:function(e,t,n){for(var r=e.createTreeWalker(t,NodeFilter.SHOW_ALL,null,!1),i=[],o=0,s=!1,l=null,c=null;null!==(l=r.nextNode());)if(!(l.nodeType>3))if(3===l.nodeType){if(!s&&n.start<o+l.nodeValue.length&&(s=!0,c=a.splitStartNodeIfNeeded(l,n.start,o)),s&&a.splitEndNodeIfNeeded(l,c,n.end,o),s&&o===n.end)break;if(s&&o>n.end+1)throw new Error("PerformLinking overshot the target!");s&&i.push(c||l),o+=l.nodeValue.length,null!==c&&(o+=c.nodeValue.length,r.nextNode()),c=null}else"img"===l.tagName.toLowerCase()&&(!s&&n.start<=o&&(s=!0),s&&i.push(l));return i},splitStartNodeIfNeeded:function(e,t,n){return t!==n?e.splitText(t-n):null},splitEndNodeIfNeeded:function(e,t,n,r){var i,o;i=r+e.nodeValue.length+(t?t.nodeValue.length:0)-1,o=n-r-(t?e.nodeValue.length:0),i>=n&&r!==i&&0!==o&&(t||e).splitText(o)},splitByBlockElements:function(t){if(3!==t.nodeType&&1!==t.nodeType)return[];var n=[],r=e.util.blockContainerElementNames.join(",");if(3===t.nodeType||0===t.querySelectorAll(r).length)return[t];for(var i=0;i<t.childNodes.length;i++){var o=t.childNodes[i];if(3===o.nodeType)n.push(o);else if(1===o.nodeType){0===o.querySelectorAll(r).length?n.push(o):n=n.concat(e.util.splitByBlockElements(o))}}return n},findAdjacentTextNodeWithContent:function(e,t,n){var r,i=!1,o=n.createNodeIterator(e,NodeFilter.SHOW_TEXT,null,!1);for(r=o.nextNode();r;){if(r===t)i=!0;else if(i&&3===r.nodeType&&r.nodeValue&&r.nodeValue.trim().length>0)break;r=o.nextNode()}return r},findPreviousSibling:function(e){if(!e||a.isMediumEditorElement(e))return!1;for(var t=e.previousSibling;!t&&!a.isMediumEditorElement(e.parentNode);)t=(e=e.parentNode).previousSibling;return t},isDescendant:function(e,t,n){if(!e||!t)return!1;if(e===t)return!!n;if(1!==e.nodeType)return!1;if(r||3!==t.nodeType)return e.contains(t);for(var i=t.parentNode;null!==i;){if(i===e)return!0;i=i.parentNode}return!1},isElement:function(e){return!(!e||1!==e.nodeType)},throttle:function(e,t){var n,r,i,o=null,a=0,s=function(){a=Date.now(),o=null,i=e.apply(n,r),o||(n=r=null)};return t||0===t||(t=50),function(){var l=Date.now(),c=t-(l-a);return n=this,r=arguments,c<=0||c>t?(o&&(clearTimeout(o),o=null),a=l,i=e.apply(n,r),o||(n=r=null)):o||(o=setTimeout(s,c)),i}},traverseUp:function(e,t){if(!e)return!1;do{if(1===e.nodeType){if(t(e))return e;if(a.isMediumEditorElement(e))return!1}e=e.parentNode}while(e);return!1},htmlEntities:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},insertHTMLCommand:function(t,n){var r,i,o,s,l,c,u,d=!1,f=["insertHTML",!1,n];if(!e.util.isEdge&&t.queryCommandSupported("insertHTML"))try{return t.execCommand.apply(t,f)}catch(h){}if((r=t.getSelection()).rangeCount){if(u=(i=r.getRangeAt(0)).commonAncestorContainer,a.isMediumEditorElement(u)&&!u.firstChild)i.selectNode(u.appendChild(t.createTextNode("")));else if(3===u.nodeType&&0===i.startOffset&&i.endOffset===u.nodeValue.length||3!==u.nodeType&&u.innerHTML===i.toString()){for(;!a.isMediumEditorElement(u)&&u.parentNode&&1===u.parentNode.childNodes.length&&!a.isMediumEditorElement(u.parentNode);)u=u.parentNode;i.selectNode(u)}for(i.deleteContents(),(o=t.createElement("div")).innerHTML=n,s=t.createDocumentFragment();o.firstChild;)l=o.firstChild,c=s.appendChild(l);i.insertNode(s),c&&((i=i.cloneRange()).setStartAfter(c),i.collapse(!0),e.selection.selectRange(t,i)),d=!0}return t.execCommand.callListeners&&t.execCommand.callListeners(f,d),d},execFormatBlock:function(t,n){var r=a.getTopBlockContainer(e.selection.getSelectionStart(t));if("blockquote"===n){if(r&&Array.prototype.slice.call(r.childNodes).some((function(e){return a.isBlockContainer(e)})))return t.execCommand("outdent",!1,null);if(a.isIE)return t.execCommand("indent",!1,n)}if(r&&n===r.nodeName.toLowerCase()&&(n="p"),a.isIE&&(n="<"+n+">"),r&&"blockquote"===r.nodeName.toLowerCase()){if(a.isIE&&"<p>"===n)return t.execCommand("outdent",!1,n);if((a.isFF||a.isEdge)&&"p"===n)return Array.prototype.slice.call(r.childNodes).some((function(e){return!a.isBlockContainer(e)}))&&t.execCommand("formatBlock",!1,n),t.execCommand("outdent",!1,n)}return t.execCommand("formatBlock",!1,n)},setTargetBlank:function(e,t){var n,r=t||!1;if("a"===e.nodeName.toLowerCase())e.target="_blank",e.rel="noopener noreferrer";else for(e=e.getElementsByTagName("a"),n=0;n<e.length;n+=1)!1!==r&&r!==e[n].attributes.href.value||(e[n].target="_blank",e[n].rel="noopener noreferrer")},removeTargetBlank:function(e,t){var n;if("a"===e.nodeName.toLowerCase())e.removeAttribute("target"),e.removeAttribute("rel");else for(e=e.getElementsByTagName("a"),n=0;n<e.length;n+=1)t===e[n].attributes.href.value&&(e[n].removeAttribute("target"),e[n].removeAttribute("rel"))},addClassToAnchors:function(e,t){var n,r,i=t.split(" ");if("a"===e.nodeName.toLowerCase())for(r=0;r<i.length;r+=1)e.classList.add(i[r]);else{var o=e.getElementsByTagName("a");if(0===o.length){var s=a.getClosestTag(e,"a");e=s?[s]:[]}else e=o;for(n=0;n<e.length;n+=1)for(r=0;r<i.length;r+=1)e[n].classList.add(i[r])}},isListItem:function(e){if(!e)return!1;if("li"===e.nodeName.toLowerCase())return!0;for(var t=e.parentNode,n=t.nodeName.toLowerCase();"li"===n||!a.isBlockContainer(t)&&"div"!==n;){if("li"===n)return!0;if(!(t=t.parentNode))return!1;n=t.nodeName.toLowerCase()}return!1},cleanListDOM:function(t,n){if("li"===n.nodeName.toLowerCase()){var r=n.parentElement;"p"===r.parentElement.nodeName.toLowerCase()&&(a.unwrap(r.parentElement,t),e.selection.moveCursor(t,n.firstChild,n.firstChild.textContent.length))}},splitOffDOMTree:function(e,t,n){for(var r=t,i=null,o=!n;r!==e;){var a,s=r.parentNode,l=s.cloneNode(!1),c=o?r:s.firstChild;for(i&&(o?l.appendChild(i):a=i),i=l;c;){var u=c.nextSibling;c===r?(c.hasChildNodes()?c=c.cloneNode(!1):c.parentNode.removeChild(c),c.textContent&&i.appendChild(c),c=o?u:null):(c.parentNode.removeChild(c),(c.hasChildNodes()||c.textContent)&&i.appendChild(c),c=u)}a&&i.appendChild(a),r=s}return i},moveTextRangeIntoElement:function(e,t,n){if(!e||!t)return!1;var r=a.findCommonRoot(e,t);if(!r)return!1;if(t===e){var i=e.parentNode,o=e.nextSibling;return i.removeChild(e),n.appendChild(e),o?i.insertBefore(n,o):i.appendChild(n),n.hasChildNodes()}for(var s,l,c,u=[],d=0;d<r.childNodes.length;d++)if(c=r.childNodes[d],s){if(a.isDescendant(c,t,!0)){l=c;break}u.push(c)}else a.isDescendant(c,e,!0)&&(s=c);var f=l.nextSibling,h=r.ownerDocument.createDocumentFragment();return s===e?(s.parentNode.removeChild(s),h.appendChild(s)):h.appendChild(a.splitOffDOMTree(s,e)),u.forEach((function(e){e.parentNode.removeChild(e),h.appendChild(e)})),l===t?(l.parentNode.removeChild(l),h.appendChild(l)):h.appendChild(a.splitOffDOMTree(l,t,!0)),n.appendChild(h),l.parentNode===r?r.insertBefore(n,l):f?r.insertBefore(n,f):r.appendChild(n),n.hasChildNodes()},depthOfNode:function(e){for(var t=0,n=e;null!==n.parentNode;)n=n.parentNode,t++;return t},findCommonRoot:function(e,t){for(var n=a.depthOfNode(e),r=a.depthOfNode(t),i=e,o=t;n!==r;)n>r?(i=i.parentNode,n-=1):(o=o.parentNode,r-=1);for(;i!==o;)i=i.parentNode,o=o.parentNode;return i},isElementAtBeginningOfBlock:function(e){for(var t;!a.isBlockContainer(e)&&!a.isMediumEditorElement(e);){for(t=e;t=t.previousSibling;)if((3===t.nodeType?t.nodeValue:t.textContent).length>0)return!1;e=e.parentNode}return!0},isMediumEditorElement:function(e){return e&&e.getAttribute&&!!e.getAttribute("data-medium-editor-element")},getContainerEditorElement:function(e){return a.traverseUp(e,(function(e){return a.isMediumEditorElement(e)}))},isBlockContainer:function(e){return e&&3!==e.nodeType&&-1!==a.blockContainerElementNames.indexOf(e.nodeName.toLowerCase())},getClosestBlockContainer:function(e){return a.traverseUp(e,(function(e){return a.isBlockContainer(e)||a.isMediumEditorElement(e)}))},getTopBlockContainer:function(e){var t=!!a.isBlockContainer(e)&&e;return a.traverseUp(e,(function(e){return a.isBlockContainer(e)&&(t=e),!(t||!a.isMediumEditorElement(e))&&(t=e,!0)})),t},getFirstSelectableLeafNode:function(e){for(;e&&e.firstChild;)e=e.firstChild;if("table"===(e=a.traverseUp(e,(function(e){return-1===a.emptyElementNames.indexOf(e.nodeName.toLowerCase())}))).nodeName.toLowerCase()){var t=e.querySelector("th, td");t&&(e=t)}return e},getFirstTextNode:function(e){return a.warn("getFirstTextNode is deprecated and will be removed in version 6.0.0"),a._getFirstTextNode(e)},_getFirstTextNode:function(e){if(3===e.nodeType)return e;for(var t=0;t<e.childNodes.length;t++){var n=a._getFirstTextNode(e.childNodes[t]);if(null!==n)return n}return null},ensureUrlHasProtocol:function(e){return-1===e.indexOf("://")?"http://"+e:e},warn:function(){void 0!==t.console&&"function"===typeof t.console.warn&&t.console.warn.apply(t.console,arguments)},deprecated:function(e,t,n){var r=e+" is deprecated, please use "+t+" instead.";n&&(r+=" Will be removed in "+n),a.warn(r)},deprecatedMethod:function(e,t,n,r){a.deprecated(e,t,r),"function"===typeof this[t]&&this[t].apply(this,n)},cleanupAttrs:function(e,t){t.forEach((function(t){e.removeAttribute(t)}))},cleanupTags:function(e,t){-1!==t.indexOf(e.nodeName.toLowerCase())&&e.parentNode.removeChild(e)},unwrapTags:function(t,n){-1!==n.indexOf(t.nodeName.toLowerCase())&&e.util.unwrap(t,document)},getClosestTag:function(e,t){return a.traverseUp(e,(function(e){return e.nodeName.toLowerCase()===t.toLowerCase()}))},unwrap:function(e,t){for(var n=t.createDocumentFragment(),r=Array.prototype.slice.call(e.childNodes),i=0;i<r.length;i++)n.appendChild(r[i]);n.childNodes.length?e.parentNode.replaceChild(n,e):e.parentNode.removeChild(e)},guid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}};e.util=a}(window),(t=function(t){e.util.extend(this,t)}).extend=function(t){var n,r=this;n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return r.apply(this,arguments)},e.util.extend(n,r);var i=function(){this.constructor=n};return i.prototype=r.prototype,n.prototype=new i,t&&e.util.extend(n.prototype,t),n},t.prototype={init:function(){},base:void 0,name:void 0,checkState:void 0,destroy:void 0,queryCommandState:void 0,isActive:void 0,isAlreadyApplied:void 0,setActive:void 0,setInactive:void 0,getInteractionElements:void 0,window:void 0,document:void 0,getEditorElements:function(){return this.base.elements},getEditorId:function(){return this.base.id},getEditorOption:function(e){return this.base.options[e]}},["execAction","on","off","subscribe","trigger"].forEach((function(e){t.prototype[e]=function(){return this.base[e].apply(this.base,arguments)}})),e.Extension=t,function(){function t(t){return e.util.isBlockContainer(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}var n={findMatchingSelectionParent:function(t,n){var r,i=n.getSelection();return 0!==i.rangeCount&&(r=i.getRangeAt(0).commonAncestorContainer,e.util.traverseUp(r,t))},getSelectionElement:function(t){return this.findMatchingSelectionParent((function(t){return e.util.isMediumEditorElement(t)}),t)},exportSelection:function(e,t){if(!e)return null;var n=null,r=t.getSelection();if(r.rangeCount>0){var i,o=r.getRangeAt(0),a=o.cloneRange();a.selectNodeContents(e),a.setEnd(o.startContainer,o.startOffset),n={start:i=a.toString().length,end:i+o.toString().length},this.doesRangeStartWithImages(o,t)&&(n.startsWithImage=!0);var s=this.getTrailingImageCount(e,n,o.endContainer,o.endOffset);if(s&&(n.trailingImageCount=s),0!==i){var l=this.getIndexRelativeToAdjacentEmptyBlocks(t,e,o.startContainer,o.startOffset);-1!==l&&(n.emptyBlocksIndex=l)}}return n},importSelection:function(e,t,n,r){if(e&&t){var i=n.createRange();i.setStart(t,0),i.collapse(!0);var o,a=t,s=[],l=0,c=!1,u=!1,d=0,f=!1,h=!1,p=null;for((r||e.startsWithImage||"undefined"!==typeof e.emptyBlocksIndex)&&(h=!0);!f&&a;)if(a.nodeType>3)a=s.pop();else{if(3!==a.nodeType||u){if(e.trailingImageCount&&u&&("img"===a.nodeName.toLowerCase()&&d++,d===e.trailingImageCount)){for(var m=0;a.parentNode.childNodes[m]!==a;)m++;i.setEnd(a.parentNode,m+1),f=!0}if(!f&&1===a.nodeType)for(var g=a.childNodes.length-1;g>=0;)s.push(a.childNodes[g]),g-=1}else o=l+a.length,!c&&e.start>=l&&e.start<=o&&(h||e.start<o?(i.setStart(a,e.start-l),c=!0):p=a),c&&e.end>=l&&e.end<=o&&(e.trailingImageCount?u=!0:(i.setEnd(a,e.end-l),f=!0)),l=o;f||(a=s.pop())}!c&&p&&(i.setStart(p,p.length),i.setEnd(p,p.length)),"undefined"!==typeof e.emptyBlocksIndex&&(i=this.importSelectionMoveCursorPastBlocks(n,t,e.emptyBlocksIndex,i)),r&&(i=this.importSelectionMoveCursorPastAnchor(e,i)),this.selectRange(n,i)}},importSelectionMoveCursorPastAnchor:function(t,n){if(t.start===t.end&&3===n.startContainer.nodeType&&n.startOffset===n.startContainer.nodeValue.length&&e.util.traverseUp(n.startContainer,(function(e){return"a"===e.nodeName.toLowerCase()}))){for(var r=n.startContainer,i=n.startContainer.parentNode;null!==i&&"a"!==i.nodeName.toLowerCase();)i.childNodes[i.childNodes.length-1]!==r?i=null:(r=i,i=i.parentNode);if(null!==i&&"a"===i.nodeName.toLowerCase()){for(var o=null,a=0;null===o&&a<i.parentNode.childNodes.length;a++)i.parentNode.childNodes[a]===i&&(o=a);n.setStart(i.parentNode,o+1),n.collapse(!0)}}return n},importSelectionMoveCursorPastBlocks:function(n,r,i,o){var a,s,l=n.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,t,!1),c=o.startContainer,u=0;for(i=i||1,a=3===c.nodeType&&e.util.isBlockContainer(c.previousSibling)?c.previousSibling:e.util.getClosestBlockContainer(c);l.nextNode();)if(s){if(s=l.currentNode,++u===i)break;if(s.textContent.length>0)break}else a===l.currentNode&&(s=l.currentNode);return s||(s=a),o.setStart(e.util.getFirstSelectableLeafNode(s),0),o},getIndexRelativeToAdjacentEmptyBlocks:function(n,r,i,o){if(i.textContent.length>0&&o>0)return-1;var a=i;if(3!==a.nodeType&&(a=i.childNodes[o]),a){if(!e.util.isElementAtBeginningOfBlock(a))return-1;var s=e.util.findPreviousSibling(a);if(!s)return-1;if(s.nodeValue)return-1}for(var l=e.util.getClosestBlockContainer(i),c=n.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,t,!1),u=0;c.nextNode();){var d=""===c.currentNode.textContent;if((d||u>0)&&(u+=1),c.currentNode===l)return u;d||(u=0)}return u},doesRangeStartWithImages:function(e,t){if(0!==e.startOffset||1!==e.startContainer.nodeType)return!1;if("img"===e.startContainer.nodeName.toLowerCase())return!0;var n=e.startContainer.querySelector("img");if(!n)return!1;for(var r=t.createTreeWalker(e.startContainer,NodeFilter.SHOW_ALL,null,!1);r.nextNode();){var i=r.currentNode;if(i===n)break;if(i.nodeValue)return!1}return!0},getTrailingImageCount:function(e,t,n,r){if(0===r||1!==n.nodeType)return 0;if("img"!==n.nodeName.toLowerCase()&&!n.querySelector("img"))return 0;for(var i=n.childNodes[r-1];i.hasChildNodes();)i=i.lastChild;for(var o,a=e,s=[],l=0,c=!1,u=!1,d=!1,f=0;!d&&a;)if(a.nodeType>3)a=s.pop();else{if(3!==a.nodeType||u){if("img"===a.nodeName.toLowerCase()&&f++,a===i)d=!0;else if(1===a.nodeType)for(var h=a.childNodes.length-1;h>=0;)s.push(a.childNodes[h]),h-=1}else f=0,o=l+a.length,!c&&t.start>=l&&t.start<=o&&(c=!0),c&&t.end>=l&&t.end<=o&&(u=!0),l=o;d||(a=s.pop())}return f},selectionContainsContent:function(e){var t=e.getSelection();if(!t||t.isCollapsed||!t.rangeCount)return!1;if(""!==t.toString().trim())return!0;var n=this.getSelectedParentElement(t.getRangeAt(0));return!(!n||!("img"===n.nodeName.toLowerCase()||1===n.nodeType&&n.querySelector("img")))},selectionInContentEditableFalse:function(e){var t,n=this.findMatchingSelectionParent((function(e){var n=e&&e.getAttribute("contenteditable");return"true"===n&&(t=!0),"#text"!==e.nodeName&&"false"===n}),e);return!t&&n},getSelectionHtml:function(e){var t,n,r,i="",o=e.getSelection();if(o.rangeCount){for(r=e.createElement("div"),t=0,n=o.rangeCount;t<n;t+=1)r.appendChild(o.getRangeAt(t).cloneContents());i=r.innerHTML}return i},getCaretOffsets:function(e,t){var n,r;return t||(t=window.getSelection().getRangeAt(0)),n=t.cloneRange(),r=t.cloneRange(),n.selectNodeContents(e),n.setEnd(t.endContainer,t.endOffset),r.selectNodeContents(e),r.setStart(t.endContainer,t.endOffset),{left:n.toString().length,right:r.toString().length}},rangeSelectsSingleNode:function(e){var t=e.startContainer;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===e.startOffset+1},getSelectedParentElement:function(e){return e?this.rangeSelectsSingleNode(e)&&3!==e.startContainer.childNodes[e.startOffset].nodeType?e.startContainer.childNodes[e.startOffset]:3===e.startContainer.nodeType?e.startContainer.parentNode:e.startContainer:null},getSelectedElements:function(e){var t,n,r,i=e.getSelection();if(!i.rangeCount||i.isCollapsed||!i.getRangeAt(0).commonAncestorContainer)return[];if(3===(t=i.getRangeAt(0)).commonAncestorContainer.nodeType){for(n=[],r=t.commonAncestorContainer;r.parentNode&&1===r.parentNode.childNodes.length;)n.push(r.parentNode),r=r.parentNode;return n}return[].filter.call(t.commonAncestorContainer.getElementsByTagName("*"),(function(e){return"function"!==typeof i.containsNode||i.containsNode(e,!0)}))},selectNode:function(e,t){var n=t.createRange();n.selectNodeContents(e),this.selectRange(t,n)},select:function(e,t,n,r,i){var o=e.createRange();return o.setStart(t,n),r?o.setEnd(r,i):o.collapse(!0),this.selectRange(e,o),o},clearSelection:function(e,t){t?e.getSelection().collapseToStart():e.getSelection().collapseToEnd()},moveCursor:function(e,t,n){this.select(e,t,n)},getSelectionRange:function(e){var t=e.getSelection();return 0===t.rangeCount?null:t.getRangeAt(0)},selectRange:function(e,t){var n=e.getSelection();n.removeAllRanges(),n.addRange(t)},getSelectionStart:function(e){var t=e.getSelection().anchorNode;return t&&3===t.nodeType?t.parentNode:t}};e.selection=n}(),function(){function t(t,n){return!!t&&t.some((function(t){if("function"!==typeof t.getInteractionElements)return!1;var r=t.getInteractionElements();return!!r&&(Array.isArray(r)||(r=[r]),r.some((function(t){return e.util.isDescendant(t,n,!0)})))}))}var n=function(e){this.base=e,this.options=this.base.options,this.events=[],this.disabledEvents={},this.customEvents={},this.listeners={}};n.prototype={InputEventOnContenteditableSupported:!e.util.isIE&&!e.util.isEdge,attachDOMEvent:function(t,n,r,i){var o=this.base.options.contentWindow,a=this.base.options.ownerDocument;t=e.util.isElement(t)||[o,a].indexOf(t)>-1?[t]:t,Array.prototype.forEach.call(t,function(e){e.addEventListener(n,r,i),this.events.push([e,n,r,i])}.bind(this))},detachDOMEvent:function(t,n,r,i){var o,a,s=this.base.options.contentWindow,l=this.base.options.ownerDocument;t&&(t=e.util.isElement(t)||[s,l].indexOf(t)>-1?[t]:t,Array.prototype.forEach.call(t,function(e){-1!==(o=this.indexOfListener(e,n,r,i))&&(a=this.events.splice(o,1)[0])[0].removeEventListener(a[1],a[2],a[3])}.bind(this)))},indexOfListener:function(e,t,n,r){var i,o,a;for(i=0,o=this.events.length;i<o;i+=1)if((a=this.events[i])[0]===e&&a[1]===t&&a[2]===n&&a[3]===r)return i;return-1},detachAllDOMEvents:function(){for(var e=this.events.pop();e;)e[0].removeEventListener(e[1],e[2],e[3]),e=this.events.pop()},detachAllEventsFromElement:function(e){for(var t=this.events.filter((function(t){return t&&t[0].getAttribute&&t[0].getAttribute("medium-editor-index")===e.getAttribute("medium-editor-index")})),n=0,r=t.length;n<r;n++){var i=t[n];this.detachDOMEvent(i[0],i[1],i[2],i[3])}},attachAllEventsToElement:function(e){this.listeners.editableInput&&(this.contentCache[e.getAttribute("medium-editor-index")]=e.innerHTML),this.eventsCache&&this.eventsCache.forEach((function(t){this.attachDOMEvent(e,t.name,t.handler.bind(this))}),this)},enableCustomEvent:function(e){void 0!==this.disabledEvents[e]&&delete this.disabledEvents[e]},disableCustomEvent:function(e){this.disabledEvents[e]=!0},attachCustomEvent:function(e,t){this.setupListener(e),this.customEvents[e]||(this.customEvents[e]=[]),this.customEvents[e].push(t)},detachCustomEvent:function(e,t){var n=this.indexOfCustomListener(e,t);-1!==n&&this.customEvents[e].splice(n,1)},indexOfCustomListener:function(e,t){return this.customEvents[e]&&this.customEvents[e].length?this.customEvents[e].indexOf(t):-1},detachAllCustomEvents:function(){this.customEvents={}},triggerCustomEvent:function(e,t,n){this.customEvents[e]&&!this.disabledEvents[e]&&this.customEvents[e].forEach((function(e){e(t,n)}))},destroy:function(){this.detachAllDOMEvents(),this.detachAllCustomEvents(),this.detachExecCommand(),this.base.elements&&this.base.elements.forEach((function(e){e.removeAttribute("data-medium-focused")}))},attachToExecCommand:function(){this.execCommandListener||(this.execCommandListener=function(e){this.handleDocumentExecCommand(e)}.bind(this),this.wrapExecCommand(),this.options.ownerDocument.execCommand.listeners.push(this.execCommandListener))},detachExecCommand:function(){var e=this.options.ownerDocument;if(this.execCommandListener&&e.execCommand.listeners){var t=e.execCommand.listeners.indexOf(this.execCommandListener);-1!==t&&e.execCommand.listeners.splice(t,1),e.execCommand.listeners.length||this.unwrapExecCommand()}},wrapExecCommand:function(){var e=this.options.ownerDocument;if(!e.execCommand.listeners){var t=function(t,n){e.execCommand.listeners&&e.execCommand.listeners.forEach((function(e){e({command:t[0],value:t[2],args:t,result:n})}))},n=function(){var n=e.execCommand.orig.apply(this,arguments);if(!e.execCommand.listeners)return n;var r=Array.prototype.slice.call(arguments);return t(r,n),n};n.orig=e.execCommand,n.listeners=[],n.callListeners=t,e.execCommand=n}},unwrapExecCommand:function(){var e=this.options.ownerDocument;e.execCommand.orig&&(e.execCommand=e.execCommand.orig)},setupListener:function(e){if(!this.listeners[e]){switch(e){case"externalInteraction":this.attachDOMEvent(this.options.ownerDocument.body,"mousedown",this.handleBodyMousedown.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"click",this.handleBodyClick.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"focus",this.handleBodyFocus.bind(this),!0);break;case"blur":case"focus":this.setupListener("externalInteraction");break;case"editableInput":this.contentCache={},this.base.elements.forEach((function(e){this.contentCache[e.getAttribute("medium-editor-index")]=e.innerHTML}),this),this.InputEventOnContenteditableSupported&&this.attachToEachElement("input",this.handleInput),this.InputEventOnContenteditableSupported||(this.setupListener("editableKeypress"),this.keypressUpdateInput=!0,this.attachDOMEvent(document,"selectionchange",this.handleDocumentSelectionChange.bind(this)),this.attachToExecCommand());break;case"editableClick":this.attachToEachElement("click",this.handleClick);break;case"editableBlur":this.attachToEachElement("blur",this.handleBlur);break;case"editableKeypress":this.attachToEachElement("keypress",this.handleKeypress);break;case"editableKeyup":this.attachToEachElement("keyup",this.handleKeyup);break;case"editableKeydown":this.attachToEachElement("keydown",this.handleKeydown);break;case"editableKeydownSpace":case"editableKeydownEnter":case"editableKeydownTab":case"editableKeydownDelete":this.setupListener("editableKeydown");break;case"editableMouseover":this.attachToEachElement("mouseover",this.handleMouseover);break;case"editableDrag":this.attachToEachElement("dragover",this.handleDragging),this.attachToEachElement("dragleave",this.handleDragging);break;case"editableDrop":this.attachToEachElement("drop",this.handleDrop);break;case"editablePaste":this.attachToEachElement("paste",this.handlePaste)}this.listeners[e]=!0}},attachToEachElement:function(e,t){this.eventsCache||(this.eventsCache=[]),this.base.elements.forEach((function(n){this.attachDOMEvent(n,e,t.bind(this))}),this),this.eventsCache.push({name:e,handler:t})},cleanupElement:function(e){var t=e.getAttribute("medium-editor-index");t&&(this.detachAllEventsFromElement(e),this.contentCache&&delete this.contentCache[t])},focusElement:function(e){e.focus(),this.updateFocus(e,{target:e,type:"focus"})},updateFocus:function(n,r){var i,o=this.base.getFocusedElement();o&&"click"===r.type&&this.lastMousedownTarget&&(e.util.isDescendant(o,this.lastMousedownTarget,!0)||t(this.base.extensions,this.lastMousedownTarget))&&(i=o),i||this.base.elements.some((function(t){return!i&&e.util.isDescendant(t,n,!0)&&(i=t),!!i}),this);var a=!e.util.isDescendant(o,n,!0)&&!t(this.base.extensions,n);i!==o&&(o&&a&&(o.removeAttribute("data-medium-focused"),this.triggerCustomEvent("blur",r,o)),i&&(i.setAttribute("data-medium-focused",!0),this.triggerCustomEvent("focus",r,i))),a&&this.triggerCustomEvent("externalInteraction",r)},updateInput:function(e,t){if(this.contentCache){var n=e.getAttribute("medium-editor-index"),r=e.innerHTML;r!==this.contentCache[n]&&this.triggerCustomEvent("editableInput",t,e),this.contentCache[n]=r}},handleDocumentSelectionChange:function(t){if(t.currentTarget&&t.currentTarget.activeElement){var n,r=t.currentTarget.activeElement;this.base.elements.some((function(t){return!!e.util.isDescendant(t,r,!0)&&(n=t,!0)}),this),n&&this.updateInput(n,{target:r,currentTarget:n})}},handleDocumentExecCommand:function(){var e=this.base.getFocusedElement();e&&this.updateInput(e,{target:e,currentTarget:e})},handleBodyClick:function(e){this.updateFocus(e.target,e)},handleBodyFocus:function(e){this.updateFocus(e.target,e)},handleBodyMousedown:function(e){this.lastMousedownTarget=e.target},handleInput:function(e){this.updateInput(e.currentTarget,e)},handleClick:function(e){this.triggerCustomEvent("editableClick",e,e.currentTarget)},handleBlur:function(e){this.triggerCustomEvent("editableBlur",e,e.currentTarget)},handleKeypress:function(e){if(this.triggerCustomEvent("editableKeypress",e,e.currentTarget),this.keypressUpdateInput){var t={target:e.target,currentTarget:e.currentTarget};setTimeout(function(){this.updateInput(t.currentTarget,t)}.bind(this),0)}},handleKeyup:function(e){this.triggerCustomEvent("editableKeyup",e,e.currentTarget)},handleMouseover:function(e){this.triggerCustomEvent("editableMouseover",e,e.currentTarget)},handleDragging:function(e){this.triggerCustomEvent("editableDrag",e,e.currentTarget)},handleDrop:function(e){this.triggerCustomEvent("editableDrop",e,e.currentTarget)},handlePaste:function(e){this.triggerCustomEvent("editablePaste",e,e.currentTarget)},handleKeydown:function(t){return this.triggerCustomEvent("editableKeydown",t,t.currentTarget),e.util.isKey(t,e.util.keyCode.SPACE)?this.triggerCustomEvent("editableKeydownSpace",t,t.currentTarget):e.util.isKey(t,e.util.keyCode.ENTER)||t.ctrlKey&&e.util.isKey(t,e.util.keyCode.M)?this.triggerCustomEvent("editableKeydownEnter",t,t.currentTarget):e.util.isKey(t,e.util.keyCode.TAB)?this.triggerCustomEvent("editableKeydownTab",t,t.currentTarget):e.util.isKey(t,[e.util.keyCode.DELETE,e.util.keyCode.BACKSPACE])?this.triggerCustomEvent("editableKeydownDelete",t,t.currentTarget):void 0}},e.Events=n}(),(n=e.Extension.extend({action:void 0,aria:void 0,tagNames:void 0,style:void 0,useQueryState:void 0,contentDefault:void 0,contentFA:void 0,classList:void 0,attrs:void 0,constructor:function(t){n.isBuiltInButton(t)?e.Extension.call(this,this.defaults[t]):e.Extension.call(this,t)},init:function(){e.Extension.prototype.init.apply(this,arguments),this.button=this.createButton(),this.on(this.button,"click",this.handleClick.bind(this))},getButton:function(){return this.button},getAction:function(){return"function"===typeof this.action?this.action(this.base.options):this.action},getAria:function(){return"function"===typeof this.aria?this.aria(this.base.options):this.aria},getTagNames:function(){return"function"===typeof this.tagNames?this.tagNames(this.base.options):this.tagNames},createButton:function(){var e=this.document.createElement("button"),t=this.contentDefault,n=this.getAria(),r=this.getEditorOption("buttonLabels");return e.classList.add("medium-editor-action"),e.classList.add("medium-editor-action-"+this.name),this.classList&&this.classList.forEach((function(t){e.classList.add(t)})),e.setAttribute("data-action",this.getAction()),n&&(e.setAttribute("title",n),e.setAttribute("aria-label",n)),this.attrs&&Object.keys(this.attrs).forEach((function(t){e.setAttribute(t,this.attrs[t])}),this),"fontawesome"===r&&this.contentFA&&(t=this.contentFA),e.innerHTML=t,e},handleClick:function(e){e.preventDefault(),e.stopPropagation();var t=this.getAction();t&&this.execAction(t)},isActive:function(){return this.button.classList.contains(this.getEditorOption("activeButtonClass"))},setInactive:function(){this.button.classList.remove(this.getEditorOption("activeButtonClass")),delete this.knownState},setActive:function(){this.button.classList.add(this.getEditorOption("activeButtonClass")),delete this.knownState},queryCommandState:function(){var e=null;return this.useQueryState&&(e=this.base.queryCommandState(this.getAction())),e},isAlreadyApplied:function(e){var t,n,r=!1,i=this.getTagNames();return!1===this.knownState||!0===this.knownState?this.knownState:(i&&i.length>0&&(r=-1!==i.indexOf(e.nodeName.toLowerCase())),!r&&this.style&&(t=this.style.value.split("|"),n=this.window.getComputedStyle(e,null).getPropertyValue(this.style.prop),t.forEach((function(e){this.knownState||((r=-1!==n.indexOf(e))||"text-decoration"!==this.style.prop)&&(this.knownState=r)}),this)),r)}})).isBuiltInButton=function(t){return"string"===typeof t&&e.extensions.button.prototype.defaults.hasOwnProperty(t)},e.extensions.button=n,e.extensions.button.prototype.defaults={bold:{name:"bold",action:"bold",aria:"bold",tagNames:["b","strong"],style:{prop:"font-weight",value:"700|bold"},useQueryState:!0,contentDefault:"<b>B</b>",contentFA:'<i class="fa fa-bold"></i>'},italic:{name:"italic",action:"italic",aria:"italic",tagNames:["i","em"],style:{prop:"font-style",value:"italic"},useQueryState:!0,contentDefault:"<b><i>I</i></b>",contentFA:'<i class="fa fa-italic"></i>'},underline:{name:"underline",action:"underline",aria:"underline",tagNames:["u"],style:{prop:"text-decoration",value:"underline"},useQueryState:!0,contentDefault:"<b><u>U</u></b>",contentFA:'<i class="fa fa-underline"></i>'},strikethrough:{name:"strikethrough",action:"strikethrough",aria:"strike through",tagNames:["strike"],style:{prop:"text-decoration",value:"line-through"},useQueryState:!0,contentDefault:"<s>A</s>",contentFA:'<i class="fa fa-strikethrough"></i>'},superscript:{name:"superscript",action:"superscript",aria:"superscript",tagNames:["sup"],contentDefault:"<b>x<sup>1</sup></b>",contentFA:'<i class="fa fa-superscript"></i>'},subscript:{name:"subscript",action:"subscript",aria:"subscript",tagNames:["sub"],contentDefault:"<b>x<sub>1</sub></b>",contentFA:'<i class="fa fa-subscript"></i>'},image:{name:"image",action:"image",aria:"image",tagNames:["img"],contentDefault:"<b>image</b>",contentFA:'<i class="fa fa-picture-o"></i>'},html:{name:"html",action:"html",aria:"evaluate html",tagNames:["iframe","object"],contentDefault:"<b>html</b>",contentFA:'<i class="fa fa-code"></i>'},orderedlist:{name:"orderedlist",action:"insertorderedlist",aria:"ordered list",tagNames:["ol"],useQueryState:!0,contentDefault:"<b>1.</b>",contentFA:'<i class="fa fa-list-ol"></i>'},unorderedlist:{name:"unorderedlist",action:"insertunorderedlist",aria:"unordered list",tagNames:["ul"],useQueryState:!0,contentDefault:"<b>&bull;</b>",contentFA:'<i class="fa fa-list-ul"></i>'},indent:{name:"indent",action:"indent",aria:"indent",tagNames:[],contentDefault:"<b>&rarr;</b>",contentFA:'<i class="fa fa-indent"></i>'},outdent:{name:"outdent",action:"outdent",aria:"outdent",tagNames:[],contentDefault:"<b>&larr;</b>",contentFA:'<i class="fa fa-outdent"></i>'},justifyCenter:{name:"justifyCenter",action:"justifyCenter",aria:"center justify",tagNames:[],style:{prop:"text-align",value:"center"},contentDefault:"<b>C</b>",contentFA:'<i class="fa fa-align-center"></i>'},justifyFull:{name:"justifyFull",action:"justifyFull",aria:"full justify",tagNames:[],style:{prop:"text-align",value:"justify"},contentDefault:"<b>J</b>",contentFA:'<i class="fa fa-align-justify"></i>'},justifyLeft:{name:"justifyLeft",action:"justifyLeft",aria:"left justify",tagNames:[],style:{prop:"text-align",value:"left"},contentDefault:"<b>L</b>",contentFA:'<i class="fa fa-align-left"></i>'},justifyRight:{name:"justifyRight",action:"justifyRight",aria:"right justify",tagNames:[],style:{prop:"text-align",value:"right"},contentDefault:"<b>R</b>",contentFA:'<i class="fa fa-align-right"></i>'},removeFormat:{name:"removeFormat",aria:"remove formatting",action:"removeFormat",contentDefault:"<b>X</b>",contentFA:'<i class="fa fa-eraser"></i>'},quote:{name:"quote",action:"append-blockquote",aria:"blockquote",tagNames:["blockquote"],contentDefault:"<b>&ldquo;</b>",contentFA:'<i class="fa fa-quote-right"></i>'},pre:{name:"pre",action:"append-pre",aria:"preformatted text",tagNames:["pre"],contentDefault:"<b>0101</b>",contentFA:'<i class="fa fa-code fa-lg"></i>'},h1:{name:"h1",action:"append-h1",aria:"header type one",tagNames:["h1"],contentDefault:"<b>H1</b>",contentFA:'<i class="fa fa-header"><sup>1</sup>'},h2:{name:"h2",action:"append-h2",aria:"header type two",tagNames:["h2"],contentDefault:"<b>H2</b>",contentFA:'<i class="fa fa-header"><sup>2</sup>'},h3:{name:"h3",action:"append-h3",aria:"header type three",tagNames:["h3"],contentDefault:"<b>H3</b>",contentFA:'<i class="fa fa-header"><sup>3</sup>'},h4:{name:"h4",action:"append-h4",aria:"header type four",tagNames:["h4"],contentDefault:"<b>H4</b>",contentFA:'<i class="fa fa-header"><sup>4</sup>'},h5:{name:"h5",action:"append-h5",aria:"header type five",tagNames:["h5"],contentDefault:"<b>H5</b>",contentFA:'<i class="fa fa-header"><sup>5</sup>'},h6:{name:"h6",action:"append-h6",aria:"header type six",tagNames:["h6"],contentDefault:"<b>H6</b>",contentFA:'<i class="fa fa-header"><sup>6</sup>'}},r=e.extensions.button.extend({init:function(){e.extensions.button.prototype.init.apply(this,arguments)},formSaveLabel:"&#10003;",formCloseLabel:"&times;",activeClass:"medium-editor-toolbar-form-active",hasForm:!0,getForm:function(){},isDisplayed:function(){return!!this.hasForm&&this.getForm().classList.contains(this.activeClass)},showForm:function(){this.hasForm&&this.getForm().classList.add(this.activeClass)},hideForm:function(){this.hasForm&&this.getForm().classList.remove(this.activeClass)},showToolbarDefaultActions:function(){var e=this.base.getExtensionByName("toolbar");e&&e.showToolbarDefaultActions()},hideToolbarDefaultActions:function(){var e=this.base.getExtensionByName("toolbar");e&&e.hideToolbarDefaultActions()},setToolbarPosition:function(){var e=this.base.getExtensionByName("toolbar");e&&e.setToolbarPosition()}}),e.extensions.form=r,i=e.extensions.form.extend({customClassOption:null,customClassOptionText:"Button",linkValidation:!1,placeholderText:"Paste or type a link",targetCheckbox:!1,targetCheckboxText:"Open in new window",name:"anchor",action:"createLink",aria:"link",tagNames:["a"],contentDefault:"<b>#</b>",contentFA:'<i class="fa fa-link"></i>',init:function(){e.extensions.form.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this))},handleClick:function(t){t.preventDefault(),t.stopPropagation();var n=e.selection.getSelectionRange(this.document);return"a"===n.startContainer.nodeName.toLowerCase()||"a"===n.endContainer.nodeName.toLowerCase()||e.util.getClosestTag(e.selection.getSelectedParentElement(n),"a")?this.execAction("unlink"):(this.isDisplayed()||this.showForm(),!1)},handleKeydown:function(t){e.util.isKey(t,e.util.keyCode.K)&&e.util.isMetaCtrlKey(t)&&!t.shiftKey&&this.handleClick(t)},getForm:function(){return this.form||(this.form=this.createForm()),this.form},getTemplate:function(){var e=['<input type="text" class="medium-editor-toolbar-input" placeholder="',this.placeholderText,'">'];return e.push('<a href="#" class="medium-editor-toolbar-save">',"fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':this.formSaveLabel,"</a>"),e.push('<a href="#" class="medium-editor-toolbar-close">',"fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':this.formCloseLabel,"</a>"),this.targetCheckbox&&e.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-target" id="medium-editor-toolbar-anchor-target-field-'+this.getEditorId()+'">','<label for="medium-editor-toolbar-anchor-target-field-'+this.getEditorId()+'">',this.targetCheckboxText,"</label>","</div>"),this.customClassOption&&e.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-button">',"<label>",this.customClassOptionText,"</label>","</div>"),e.join("")},isDisplayed:function(){return e.extensions.form.prototype.isDisplayed.apply(this)},hideForm:function(){e.extensions.form.prototype.hideForm.apply(this),this.getInput().value=""},showForm:function(t){var n=this.getInput(),r=this.getAnchorTargetCheckbox(),i=this.getAnchorButtonCheckbox();if("string"===typeof(t=t||{value:""})&&(t={value:t}),this.base.saveSelection(),this.hideToolbarDefaultActions(),e.extensions.form.prototype.showForm.apply(this),this.setToolbarPosition(),n.value=t.value,n.focus(),r&&(r.checked="_blank"===t.target),i){var o=t.buttonClass?t.buttonClass.split(" "):[];i.checked=-1!==o.indexOf(this.customClassOption)}},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},getFormOpts:function(){var e=this.getAnchorTargetCheckbox(),t=this.getAnchorButtonCheckbox(),n={value:this.getInput().value.trim()};return this.linkValidation&&(n.value=this.checkLinkFormat(n.value)),n.target="_self",e&&e.checked&&(n.target="_blank"),t&&t.checked&&(n.buttonClass=this.customClassOption),n},doFormSave:function(){var e=this.getFormOpts();this.completeFormSave(e)},completeFormSave:function(e){this.base.restoreSelection(),this.execAction(this.action,e),this.base.checkSelection()},ensureEncodedUri:function(e){return e===decodeURI(e)?encodeURI(e):e},ensureEncodedUriComponent:function(e){return e===decodeURIComponent(e)?encodeURIComponent(e):e},ensureEncodedParam:function(e){var t=e.split("="),n=t[0],r=t[1];return n+(void 0===r?"":"="+this.ensureEncodedUriComponent(r))},ensureEncodedQuery:function(e){return e.split("&").map(this.ensureEncodedParam.bind(this)).join("&")},checkLinkFormat:function(e){var t=/^([a-z]+:)?\/\/|^(mailto|tel|maps):|^\#/i.test(e),n="",r=e.match(/^(.*?)(?:\?(.*?))?(?:#(.*))?$/),i=r[1],o=r[2],a=r[3];if(/^\+?\s?\(?(?:\d\s?\-?\)?){3,20}$/.test(e))return"tel:"+e;if(!t){var s=i.split("/")[0];(s.match(/.+(\.|:).+/)||"localhost"===s)&&(n="http://")}return n+this.ensureEncodedUri(i)+(void 0===o?"":"?"+this.ensureEncodedQuery(o))+(void 0===a?"":"#"+a)},doFormCancel:function(){this.base.restoreSelection(),this.base.checkSelection()},attachFormEvents:function(e){var t=e.querySelector(".medium-editor-toolbar-close"),n=e.querySelector(".medium-editor-toolbar-save"),r=e.querySelector(".medium-editor-toolbar-input");this.on(e,"click",this.handleFormClick.bind(this)),this.on(r,"keyup",this.handleTextboxKeyup.bind(this)),this.on(t,"click",this.handleCloseClick.bind(this)),this.on(n,"click",this.handleSaveClick.bind(this),!0)},createForm:function(){var e=this.document.createElement("div");return e.className="medium-editor-toolbar-form",e.id="medium-editor-toolbar-form-anchor-"+this.getEditorId(),e.innerHTML=this.getTemplate(),this.attachFormEvents(e),e},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},getAnchorTargetCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-target")},getAnchorButtonCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-button")},handleTextboxKeyup:function(t){if(t.keyCode===e.util.keyCode.ENTER)return t.preventDefault(),void this.doFormSave();t.keyCode===e.util.keyCode.ESCAPE&&(t.preventDefault(),this.doFormCancel())},handleFormClick:function(e){e.stopPropagation()},handleSaveClick:function(e){e.preventDefault(),this.doFormSave()},handleCloseClick:function(e){e.preventDefault(),this.doFormCancel()}}),e.extensions.anchor=i,o=e.Extension.extend({name:"anchor-preview",hideDelay:500,previewValueSelector:"a",showWhenToolbarIsVisible:!1,showOnEmptyLinks:!0,init:function(){this.anchorPreview=this.createPreview(),this.getEditorOption("elementsContainer").appendChild(this.anchorPreview),this.attachToEditables()},getInteractionElements:function(){return this.getPreviewElement()},getPreviewElement:function(){return this.anchorPreview},createPreview:function(){var e=this.document.createElement("div");return e.id="medium-editor-anchor-preview-"+this.getEditorId(),e.className="medium-editor-anchor-preview",e.innerHTML=this.getTemplate(),this.on(e,"click",this.handleClick.bind(this)),e},getTemplate:function(){return'<div class="medium-editor-toolbar-anchor-preview" id="medium-editor-toolbar-anchor-preview">    <a class="medium-editor-toolbar-anchor-preview-inner"></a></div>'},destroy:function(){this.anchorPreview&&(this.anchorPreview.parentNode&&this.anchorPreview.parentNode.removeChild(this.anchorPreview),delete this.anchorPreview)},hidePreview:function(){this.anchorPreview&&this.anchorPreview.classList.remove("medium-editor-anchor-preview-active"),this.activeAnchor=null},showPreview:function(e){return!(!this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")&&!e.getAttribute("data-disable-preview"))||(this.previewValueSelector&&(this.anchorPreview.querySelector(this.previewValueSelector).textContent=e.attributes.href.value,this.anchorPreview.querySelector(this.previewValueSelector).href=e.attributes.href.value),this.anchorPreview.classList.add("medium-toolbar-arrow-over"),this.anchorPreview.classList.remove("medium-toolbar-arrow-under"),this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||this.anchorPreview.classList.add("medium-editor-anchor-preview-active"),this.activeAnchor=e,this.positionPreview(),this.attachPreviewHandlers(),this)},positionPreview:function(e){e=e||this.activeAnchor;var t,n,r,i,o,a=this.window.innerWidth,s=this.anchorPreview.offsetHeight,l=e.getBoundingClientRect(),c=this.diffLeft,u=this.diffTop,d=this.getEditorOption("elementsContainer"),f=["absolute","fixed"].indexOf(window.getComputedStyle(d).getPropertyValue("position"))>-1,h={};t=this.anchorPreview.offsetWidth/2;var p=this.base.getExtensionByName("toolbar");p&&(c=p.diffLeft,u=p.diffTop),n=c-t,f?(i=d.getBoundingClientRect(),["top","left"].forEach((function(e){h[e]=l[e]-i[e]})),h.width=l.width,h.height=l.height,l=h,a=i.width,o=d.scrollTop):o=this.window.pageYOffset,r=l.left+l.width/2,o+=s+l.top+l.height-u-this.anchorPreview.offsetHeight,this.anchorPreview.style.top=Math.round(o)+"px",this.anchorPreview.style.right="initial",r<t?(this.anchorPreview.style.left=n+t+"px",this.anchorPreview.style.right="initial"):a-r<t?(this.anchorPreview.style.left="auto",this.anchorPreview.style.right=0):(this.anchorPreview.style.left=n+r+"px",this.anchorPreview.style.right="initial")},attachToEditables:function(){this.subscribe("editableMouseover",this.handleEditableMouseover.bind(this)),this.subscribe("positionedToolbar",this.handlePositionedToolbar.bind(this))},handlePositionedToolbar:function(){this.showWhenToolbarIsVisible||this.hidePreview()},handleClick:function(e){var t=this.base.getExtensionByName("anchor"),n=this.activeAnchor;t&&n&&(e.preventDefault(),this.base.selectElement(this.activeAnchor),this.base.delay(function(){if(n){var e={value:n.attributes.href.value,target:n.getAttribute("target"),buttonClass:n.getAttribute("class")};t.showForm(e),n=null}}.bind(this))),this.hidePreview()},handleAnchorMouseout:function(){this.anchorToPreview=null,this.off(this.activeAnchor,"mouseout",this.instanceHandleAnchorMouseout),this.instanceHandleAnchorMouseout=null},handleEditableMouseover:function(t){var n=e.util.getClosestTag(t.target,"a");if(!1!==n){if(!this.showOnEmptyLinks&&(!/href=["']\S+["']/.test(n.outerHTML)||/href=["']#\S+["']/.test(n.outerHTML)))return!0;var r=this.base.getExtensionByName("toolbar");if(!this.showWhenToolbarIsVisible&&r&&r.isDisplayed&&r.isDisplayed())return!0;this.activeAnchor&&this.activeAnchor!==n&&this.detachPreviewHandlers(),this.anchorToPreview=n,this.instanceHandleAnchorMouseout=this.handleAnchorMouseout.bind(this),this.on(this.anchorToPreview,"mouseout",this.instanceHandleAnchorMouseout),this.base.delay(function(){this.anchorToPreview&&this.showPreview(this.anchorToPreview)}.bind(this))}},handlePreviewMouseover:function(){this.lastOver=(new Date).getTime(),this.hovering=!0},handlePreviewMouseout:function(e){e.relatedTarget&&/anchor-preview/.test(e.relatedTarget.className)||(this.hovering=!1)},updatePreview:function(){if(this.hovering)return!0;(new Date).getTime()-this.lastOver>this.hideDelay&&this.detachPreviewHandlers()},detachPreviewHandlers:function(){clearInterval(this.intervalTimer),this.instanceHandlePreviewMouseover&&(this.off(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.activeAnchor&&(this.off(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout))),this.hidePreview(),this.hovering=this.instanceHandlePreviewMouseover=this.instanceHandlePreviewMouseout=null},attachPreviewHandlers:function(){this.lastOver=(new Date).getTime(),this.hovering=!0,this.instanceHandlePreviewMouseover=this.handlePreviewMouseover.bind(this),this.instanceHandlePreviewMouseout=this.handlePreviewMouseout.bind(this),this.intervalTimer=setInterval(this.updatePreview.bind(this),200),this.on(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.on(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout)}}),e.extensions.anchorPreview=o,function(){var t,n,r,i;t=[" ","\t","\n","\r","\xa0","\u2000","\u2001","\u2002","\u2003","\u2028","\u2029"],n="com|net|org|edu|gov|mil|aero|asia|biz|cat|coop|info|int|jobs|mobi|museum|name|post|pro|tel|travel|xxx|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|ja|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw",r=new RegExp("^("+n+")$","i"),i=new RegExp("(((?:(https?://|ftps?://|nntp://)|www\\d{0,3}[.]|[a-z0-9.\\-]+[.](com|net|org|edu|gov|mil|aero|asia|biz|cat|coop|info|int|jobs|mobi|museum|name|post|pro|tel|travel|xxx|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|ja|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw)\\/)\\S+(?:[^\\s`!\\[\\]{};:'\".,?\xab\xbb\u201c\u201d\u2018\u2019])))|(([a-z0-9\\-]+\\.)?[a-z0-9\\-]+\\.(com|net|org|edu|gov|mil|aero|asia|biz|cat|coop|info|int|jobs|mobi|museum|name|post|pro|tel|travel|xxx|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|ja|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw))","gi");var o=e.Extension.extend({init:function(){e.Extension.prototype.init.apply(this,arguments),this.disableEventHandling=!1,this.subscribe("editableKeypress",this.onKeypress.bind(this)),this.subscribe("editableBlur",this.onBlur.bind(this)),this.document.execCommand("AutoUrlDetect",!1,!1)},isLastInstance:function(){for(var e=0,t=0;t<this.window._mediumEditors.length;t++){var n=this.window._mediumEditors[t];null!==n&&void 0!==n.getExtensionByName("autoLink")&&e++}return 1===e},destroy:function(){this.document.queryCommandSupported("AutoUrlDetect")&&this.isLastInstance()&&this.document.execCommand("AutoUrlDetect",!1,!0)},onBlur:function(e,t){this.performLinking(t)},onKeypress:function(t){this.disableEventHandling||e.util.isKey(t,[e.util.keyCode.SPACE,e.util.keyCode.ENTER])&&(clearTimeout(this.performLinkingTimeout),this.performLinkingTimeout=setTimeout(function(){try{var e=this.base.exportSelection();this.performLinking(t.target)&&this.base.importSelection(e,!0)}catch(n){window.console&&window.console.error("Failed to perform linking",n),this.disableEventHandling=!0}}.bind(this),0))},performLinking:function(t){var n=e.util.splitByBlockElements(t),r=!1;0===n.length&&(n=[t]);for(var i=0;i<n.length;i++)r=this.removeObsoleteAutoLinkSpans(n[i])||r,r=this.performLinkingWithinElement(n[i])||r;return this.base.events.updateInput(t,{target:t,currentTarget:t}),r},removeObsoleteAutoLinkSpans:function(t){if(!t||3===t.nodeType)return!1;for(var n,r=t.querySelectorAll('span[data-auto-link="true"]'),i=!1,o=0;o<r.length;o++){var a=r[o].textContent;if(-1===a.indexOf("://")&&(a=e.util.ensureUrlHasProtocol(a)),r[o].getAttribute("data-href")!==a&&(n=r[o],!e.util.getClosestTag(n,"a"))){i=!0;var s=a.replace(/\s+$/,"");if(r[o].getAttribute("data-href")===s){var l=a.length-s.length,c=e.util.splitOffDOMTree(r[o],this.splitTextBeforeEnd(r[o],l));r[o].parentNode.insertBefore(c,r[o].nextSibling)}else e.util.unwrap(r[o],this.document)}}return i},splitTextBeforeEnd:function(e,t){for(var n,r,i,o=this.document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1),a=!0;a;)a=null!==o.lastChild();for(;t>0&&null!==i;)(r=(n=o.currentNode).nodeValue).length>t?(i=n.splitText(r.length-t),t=0):(i=o.previousNode(),t-=r.length);return i},performLinkingWithinElement:function(t){for(var n=this.findLinkableText(t),r=0;r<n.length;r++){var i=e.util.findOrCreateMatchingTextNodes(this.document,t,n[r]);this.shouldNotLink(i)||this.createAutoLink(i,n[r].href)}return!1},shouldNotLink:function(t){for(var n=!1,r=0;r<t.length&&!1===n;r++)n=!!e.util.traverseUp(t[r],(function(e){return"a"===e.nodeName.toLowerCase()||e.getAttribute&&"true"===e.getAttribute("data-auto-link")}));return n},findLinkableText:function(e){for(var n=e.textContent,o=null,a=[];null!==(o=i.exec(n));){var s=o.index+o[0].length;(0===o.index||-1!==t.indexOf(n[o.index-1]))&&(s===n.length||-1!==t.indexOf(n[s]))&&(-1!==o[0].indexOf("/")||r.test(o[0].split(".").pop().split("?").shift()))&&a.push({href:o[0],start:o.index,end:s})}return a},createAutoLink:function(t,n){n=e.util.ensureUrlHasProtocol(n);var r=e.util.createLink(this.document,t,n,this.getEditorOption("targetBlank")?"_blank":null),i=this.document.createElement("span");for(i.setAttribute("data-auto-link","true"),i.setAttribute("data-href",n),r.insertBefore(i,r.firstChild);r.childNodes.length>1;)i.appendChild(r.childNodes[1])}});e.extensions.autoLink=o}(),function(){var t="medium-editor-dragover";function n(n){var r=e.util.getContainerEditorElement(n);Array.prototype.slice.call(r.parentElement.querySelectorAll("."+t)).forEach((function(e){e.classList.remove(t)}))}var r=e.Extension.extend({name:"fileDragging",allowedTypes:["image"],init:function(){e.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(e){e.preventDefault(),e.dataTransfer.dropEffect="copy";var r=e.target.classList?e.target:e.target.parentElement;n(r),"dragover"===e.type&&r.classList.add(t)},handleDrop:function(e){e.preventDefault(),e.stopPropagation(),this.base.selectElement(e.target);var t=this.base.exportSelection();t.start=t.end,this.base.importSelection(t),e.dataTransfer.files&&Array.prototype.slice.call(e.dataTransfer.files).forEach((function(e){this.isAllowedFile(e)&&e.type.match("image")&&this.insertImageFile(e)}),this),n(e.target)},isAllowedFile:function(e){return this.allowedTypes.some((function(t){return!!e.type.match(t)}))},insertImageFile:function(t){if("function"===typeof FileReader){var n=new FileReader;n.readAsDataURL(t),n.addEventListener("load",function(t){var n=this.document.createElement("img");n.src=t.target.result,e.util.insertHTMLCommand(this.document,n.outerHTML)}.bind(this))}}});e.extensions.fileDragging=r}(),a=e.Extension.extend({name:"keyboard-commands",commands:[{command:"bold",key:"B",meta:!0,shift:!1,alt:!1},{command:"italic",key:"I",meta:!0,shift:!1,alt:!1},{command:"underline",key:"U",meta:!0,shift:!1,alt:!1}],init:function(){e.Extension.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this)),this.keys={},this.commands.forEach((function(e){var t=e.key.charCodeAt(0);this.keys[t]||(this.keys[t]=[]),this.keys[t].push(e)}),this)},handleKeydown:function(t){var n=e.util.getKeyCode(t);if(this.keys[n]){var r=e.util.isMetaCtrlKey(t),i=!!t.shiftKey,o=!!t.altKey;this.keys[n].forEach((function(e){e.meta!==r||e.shift!==i||e.alt!==o&&void 0!==e.alt||(t.preventDefault(),t.stopPropagation(),"function"===typeof e.command?e.command.apply(this):!1!==e.command&&this.execAction(e.command))}),this)}}}),e.extensions.keyboardCommands=a,s=e.extensions.form.extend({name:"fontname",action:"fontName",aria:"change font name",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-font"></i>',fonts:["","Arial","Verdana","Times New Roman"],init:function(){e.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(e){if(e.preventDefault(),e.stopPropagation(),!this.isDisplayed()){var t=this.document.queryCommandValue("fontName")+"";this.showForm(t)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return"block"===this.getForm().style.display},hideForm:function(){this.getForm().style.display="none",this.getSelect().value=""},showForm:function(e){var t=this.getSelect();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),t.value=e||"",t.focus()},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontName(),this.base.checkSelection()},createForm:function(){var e,t=this.document,n=t.createElement("div"),r=t.createElement("select"),i=t.createElement("a"),o=t.createElement("a");n.className="medium-editor-toolbar-form",n.id="medium-editor-toolbar-form-fontname-"+this.getEditorId(),this.on(n,"click",this.handleFormClick.bind(this));for(var a=0;a<this.fonts.length;a++)(e=t.createElement("option")).innerHTML=this.fonts[a],e.value=this.fonts[a],r.appendChild(e);return r.className="medium-editor-toolbar-select",n.appendChild(r),this.on(r,"change",this.handleFontChange.bind(this)),o.setAttribute("href","#"),o.className="medium-editor-toobar-save",o.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':"&#10003;",n.appendChild(o),this.on(o,"click",this.handleSaveClick.bind(this),!0),i.setAttribute("href","#"),i.className="medium-editor-toobar-close",i.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':"&times;",n.appendChild(i),this.on(i,"click",this.handleCloseClick.bind(this)),n},getSelect:function(){return this.getForm().querySelector("select.medium-editor-toolbar-select")},clearFontName:function(){e.selection.getSelectedElements(this.document).forEach((function(e){"font"===e.nodeName.toLowerCase()&&e.hasAttribute("face")&&e.removeAttribute("face")}))},handleFontChange:function(){var e=this.getSelect().value;""===e?this.clearFontName():this.execAction("fontName",{value:e})},handleFormClick:function(e){e.stopPropagation()},handleSaveClick:function(e){e.preventDefault(),this.doFormSave()},handleCloseClick:function(e){e.preventDefault(),this.doFormCancel()}}),e.extensions.fontName=s,l=e.extensions.form.extend({name:"fontsize",action:"fontSize",aria:"increase/decrease font size",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-text-height"></i>',init:function(){e.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(e){if(e.preventDefault(),e.stopPropagation(),!this.isDisplayed()){var t=this.document.queryCommandValue("fontSize")+"";this.showForm(t)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return"block"===this.getForm().style.display},hideForm:function(){this.getForm().style.display="none",this.getInput().value=""},showForm:function(e){var t=this.getInput();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),t.value=e||"",t.focus()},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontSize(),this.base.checkSelection()},createForm:function(){var e=this.document,t=e.createElement("div"),n=e.createElement("input"),r=e.createElement("a"),i=e.createElement("a");return t.className="medium-editor-toolbar-form",t.id="medium-editor-toolbar-form-fontsize-"+this.getEditorId(),this.on(t,"click",this.handleFormClick.bind(this)),n.setAttribute("type","range"),n.setAttribute("min","1"),n.setAttribute("max","7"),n.className="medium-editor-toolbar-input",t.appendChild(n),this.on(n,"change",this.handleSliderChange.bind(this)),i.setAttribute("href","#"),i.className="medium-editor-toobar-save",i.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':"&#10003;",t.appendChild(i),this.on(i,"click",this.handleSaveClick.bind(this),!0),r.setAttribute("href","#"),r.className="medium-editor-toobar-close",r.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':"&times;",t.appendChild(r),this.on(r,"click",this.handleCloseClick.bind(this)),t},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},clearFontSize:function(){e.selection.getSelectedElements(this.document).forEach((function(e){"font"===e.nodeName.toLowerCase()&&e.hasAttribute("size")&&e.removeAttribute("size")}))},handleSliderChange:function(){var e=this.getInput().value;"4"===e?this.clearFontSize():this.execAction("fontSize",{value:e})},handleFormClick:function(e){e.stopPropagation()},handleSaveClick:function(e){e.preventDefault(),this.doFormSave()},handleCloseClick:function(e){e.preventDefault(),this.doFormCancel()}}),e.extensions.fontSize=l,function(){var t="%ME_PASTEBIN%",n=null,r=null,i=function(e){e.stopPropagation()};function o(e,t,n){var r=e.clipboardData||t.clipboardData||n.dataTransfer,i={};if(!r)return i;if(r.getData){var o=r.getData("Text");o&&o.length>0&&(i["text/plain"]=o)}if(r.types)for(var a=0;a<r.types.length;a++){var s=r.types[a];i[s]=r.getData(s)}return i}var a=e.Extension.extend({forcePlainText:!0,cleanPastedHTML:!1,preCleanReplacements:[],cleanReplacements:[],cleanAttrs:["class","style","dir"],cleanTags:["meta"],unwrapTags:[],init:function(){e.Extension.prototype.init.apply(this,arguments),(this.forcePlainText||this.cleanPastedHTML)&&(this.subscribe("editableKeydown",this.handleKeydown.bind(this)),this.getEditorElements().forEach((function(e){this.on(e,"paste",this.handlePaste.bind(this))}),this),this.subscribe("addElement",this.handleAddElement.bind(this)))},handleAddElement:function(e,t){this.on(t,"paste",this.handlePaste.bind(this))},destroy:function(){(this.forcePlainText||this.cleanPastedHTML)&&this.removePasteBin()},handlePaste:function(e,t){if(!e.defaultPrevented){var n=o(e,this.window,this.document),r=n["text/html"],i=n["text/plain"];this.window.clipboardData&&void 0===e.clipboardData&&!r&&(r=i),(r||i)&&(e.preventDefault(),this.doPaste(r,i,t))}},doPaste:function(t,n,r){var i,o,a="";if(this.cleanPastedHTML&&t)return this.cleanPaste(t);if(n){if(this.getEditorOption("disableReturn")||r&&r.getAttribute("data-disable-return"))a=e.util.htmlEntities(n);else if((i=n.split(/[\r\n]+/g)).length>1)for(o=0;o<i.length;o+=1)""!==i[o]&&(a+="<p>"+e.util.htmlEntities(i[o])+"</p>");else a=e.util.htmlEntities(i[0]);e.util.insertHTMLCommand(this.document,a)}},handlePasteBinPaste:function(e){if(e.defaultPrevented)this.removePasteBin();else{var t=o(e,this.window,this.document),n=t["text/html"],i=t["text/plain"],a=r;if(!this.cleanPastedHTML||n)return e.preventDefault(),this.removePasteBin(),this.doPaste(n,i,a),void this.trigger("editablePaste",{currentTarget:a,target:a},a);setTimeout(function(){this.cleanPastedHTML&&(n=this.getPasteBinHtml()),this.removePasteBin(),this.doPaste(n,i,a),this.trigger("editablePaste",{currentTarget:a,target:a},a)}.bind(this),0)}},handleKeydown:function(t,n){e.util.isKey(t,e.util.keyCode.V)&&e.util.isMetaCtrlKey(t)&&(t.stopImmediatePropagation(),this.removePasteBin(),this.createPasteBin(n))},createPasteBin:function(o){var a,s=e.selection.getSelectionRange(this.document),l=this.window.pageYOffset;r=o,s&&((a=s.getClientRects()).length?l+=a[0].top:void 0!==s.startContainer.getBoundingClientRect?l+=s.startContainer.getBoundingClientRect().top:l+=s.getBoundingClientRect().top),n=s;var c=this.document.createElement("div");c.id=this.pasteBinId="medium-editor-pastebin-"+ +Date.now(),c.setAttribute("style","border: 1px red solid; position: absolute; top: "+l+"px; width: 10px; height: 10px; overflow: hidden; opacity: 0"),c.setAttribute("contentEditable",!0),c.innerHTML=t,this.document.body.appendChild(c),this.on(c,"focus",i),this.on(c,"focusin",i),this.on(c,"focusout",i),c.focus(),e.selection.selectNode(c,this.document),this.boundHandlePaste||(this.boundHandlePaste=this.handlePasteBinPaste.bind(this)),this.on(c,"paste",this.boundHandlePaste)},removePasteBin:function(){null!==n&&(e.selection.selectRange(this.document,n),n=null),null!==r&&(r=null);var t=this.getPasteBin();t&&t&&(this.off(t,"focus",i),this.off(t,"focusin",i),this.off(t,"focusout",i),this.off(t,"paste",this.boundHandlePaste),t.parentElement.removeChild(t))},getPasteBin:function(){return this.document.getElementById(this.pasteBinId)},getPasteBinHtml:function(){var e=this.getPasteBin();if(!e)return!1;if(e.firstChild&&"mcepastebin"===e.firstChild.id)return!1;var n=e.innerHTML;return!(!n||n===t)&&n},cleanPaste:function(e){var t,n,r,i,o=/<p|<br|<div/.test(e),a=[].concat(this.preCleanReplacements||[],[[new RegExp(/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/g),""],[new RegExp(/<!--StartFragment-->|<!--EndFragment-->/g),""],[new RegExp(/<br>$/i),""],[new RegExp(/<[^>]*docs-internal-guid[^>]*>/gi),""],[new RegExp(/<\/b>(<br[^>]*>)?$/gi),""],[new RegExp(/<span class="Apple-converted-space">\s+<\/span>/g)," "],[new RegExp(/<br class="Apple-interchange-newline">/g),"<br>"],[new RegExp(/<span[^>]*(font-style:italic;font-weight:(bold|700)|font-weight:(bold|700);font-style:italic)[^>]*>/gi),'<span class="replace-with italic bold">'],[new RegExp(/<span[^>]*font-style:italic[^>]*>/gi),'<span class="replace-with italic">'],[new RegExp(/<span[^>]*font-weight:(bold|700)[^>]*>/gi),'<span class="replace-with bold">'],[new RegExp(/&lt;(\/?)(i|b|a)&gt;/gi),"<$1$2>"],[new RegExp(/&lt;a(?:(?!href).)+href=(?:&quot;|&rdquo;|&ldquo;|"|\u201c|\u201d)(((?!&quot;|&rdquo;|&ldquo;|"|\u201c|\u201d).)*)(?:&quot;|&rdquo;|&ldquo;|"|\u201c|\u201d)(?:(?!&gt;).)*&gt;/gi),'<a href="$1">'],[new RegExp(/<\/p>\n+/gi),"</p>"],[new RegExp(/\n+<p/gi),"<p"],[new RegExp(/<\/?o:[a-z]*>/gi),""],[new RegExp(/<!\[if !supportLists\]>(((?!<!).)*)<!\[endif]\>/gi),"$1"]],this.cleanReplacements||[]);for(t=0;t<a.length;t+=1)e=e.replace(a[t][0],a[t][1]);if(!o)return this.pasteHTML(e);for((r=this.document.createElement("div")).innerHTML="<p>"+e.split("<br><br>").join("</p><p>")+"</p>",n=r.querySelectorAll("a,p,div,br"),t=0;t<n.length;t+=1)switch((i=n[t]).innerHTML=i.innerHTML.replace(/\n/gi," "),i.nodeName.toLowerCase()){case"p":case"div":this.filterCommonBlocks(i);break;case"br":this.filterLineBreak(i)}this.pasteHTML(r.innerHTML)},pasteHTML:function(t,n){n=e.util.defaults({},n,{cleanAttrs:this.cleanAttrs,cleanTags:this.cleanTags,unwrapTags:this.unwrapTags});var r,i,o,a,s=this.document.createDocumentFragment();for(s.appendChild(this.document.createElement("body")),(a=s.querySelector("body")).innerHTML=t,this.cleanupSpans(a),r=a.querySelectorAll("*"),o=0;o<r.length;o+=1)"a"===(i=r[o]).nodeName.toLowerCase()&&this.getEditorOption("targetBlank")&&e.util.setTargetBlank(i),e.util.cleanupAttrs(i,n.cleanAttrs),e.util.cleanupTags(i,n.cleanTags),e.util.unwrapTags(i,n.unwrapTags);e.util.insertHTMLCommand(this.document,a.innerHTML.replace(/&nbsp;/g," "))},isCommonBlock:function(e){return e&&("p"===e.nodeName.toLowerCase()||"div"===e.nodeName.toLowerCase())},filterCommonBlocks:function(e){/^\s*$/.test(e.textContent)&&e.parentNode&&e.parentNode.removeChild(e)},filterLineBreak:function(e){this.isCommonBlock(e.previousElementSibling)?this.removeWithParent(e):!this.isCommonBlock(e.parentNode)||e.parentNode.firstChild!==e&&e.parentNode.lastChild!==e?e.parentNode&&1===e.parentNode.childElementCount&&""===e.parentNode.textContent&&this.removeWithParent(e):this.removeWithParent(e)},removeWithParent:function(e){e&&e.parentNode&&(e.parentNode.parentNode&&1===e.parentNode.childElementCount?e.parentNode.parentNode.removeChild(e.parentNode):e.parentNode.removeChild(e))},cleanupSpans:function(t){var n,r,i,o=t.querySelectorAll(".replace-with"),a=function(e){return e&&"#text"!==e.nodeName&&"false"===e.getAttribute("contenteditable")};for(n=0;n<o.length;n+=1)r=o[n],i=this.document.createElement(r.classList.contains("bold")?"b":"i"),r.classList.contains("bold")&&r.classList.contains("italic")?i.innerHTML="<i>"+r.innerHTML+"</i>":i.innerHTML=r.innerHTML,r.parentNode.replaceChild(i,r);for(o=t.querySelectorAll("span"),n=0;n<o.length;n+=1){if(r=o[n],e.util.traverseUp(r,a))return!1;e.util.unwrap(r,this.document)}}});e.extensions.paste=a}(),c=e.Extension.extend({name:"placeholder",text:"Type your text",hideOnClick:!0,init:function(){e.Extension.prototype.init.apply(this,arguments),this.initPlaceholders(),this.attachEventHandlers()},initPlaceholders:function(){this.getEditorElements().forEach(this.initElement,this)},handleAddElement:function(e,t){this.initElement(t)},initElement:function(e){e.getAttribute("data-placeholder")||e.setAttribute("data-placeholder",this.text),this.updatePlaceholder(e)},destroy:function(){this.getEditorElements().forEach(this.cleanupElement,this)},handleRemoveElement:function(e,t){this.cleanupElement(t)},cleanupElement:function(e){e.getAttribute("data-placeholder")===this.text&&e.removeAttribute("data-placeholder")},showPlaceholder:function(t){t&&(e.util.isFF&&0===t.childNodes.length?(t.classList.add("medium-editor-placeholder-relative"),t.classList.remove("medium-editor-placeholder")):(t.classList.add("medium-editor-placeholder"),t.classList.remove("medium-editor-placeholder-relative")))},hidePlaceholder:function(e){e&&(e.classList.remove("medium-editor-placeholder"),e.classList.remove("medium-editor-placeholder-relative"))},updatePlaceholder:function(e,t){if(e.querySelector("img, blockquote, ul, ol, table")||""!==e.textContent.replace(/^\s+|\s+$/g,""))return this.hidePlaceholder(e);t||this.showPlaceholder(e)},attachEventHandlers:function(){this.hideOnClick&&this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableInput",this.handleInput.bind(this)),this.subscribe("blur",this.handleBlur.bind(this)),this.subscribe("addElement",this.handleAddElement.bind(this)),this.subscribe("removeElement",this.handleRemoveElement.bind(this))},handleInput:function(e,t){var n=this.hideOnClick&&t===this.base.getFocusedElement();this.updatePlaceholder(t,n)},handleFocus:function(e,t){this.hidePlaceholder(t)},handleBlur:function(e,t){this.updatePlaceholder(t)}}),e.extensions.placeholder=c,u=e.Extension.extend({name:"toolbar",align:"center",allowMultiParagraphSelection:!0,buttons:["bold","italic","underline","anchor","h2","h3","quote"],diffLeft:0,diffTop:-10,firstButtonClass:"medium-editor-button-first",lastButtonClass:"medium-editor-button-last",standardizeSelectionStart:!1,static:!1,sticky:!1,stickyTopOffset:0,updateOnEmptySelection:!1,relativeContainer:null,init:function(){e.Extension.prototype.init.apply(this,arguments),this.initThrottledMethods(),this.relativeContainer?this.relativeContainer.appendChild(this.getToolbarElement()):this.getEditorOption("elementsContainer").appendChild(this.getToolbarElement())},forEachExtension:function(e,t){return this.base.extensions.forEach((function(n){if(n!==this)return e.apply(t||this,arguments)}),this)},createToolbar:function(){var e=this.document.createElement("div");return e.id="medium-editor-toolbar-"+this.getEditorId(),e.className="medium-editor-toolbar",this.static?e.className+=" static-toolbar":this.relativeContainer?e.className+=" medium-editor-relative-toolbar":e.className+=" medium-editor-stalker-toolbar",e.appendChild(this.createToolbarButtons()),this.forEachExtension((function(t){t.hasForm&&e.appendChild(t.getForm())})),this.attachEventHandlers(),e},createToolbarButtons:function(){var t,n,r,i,o,a,s=this.document.createElement("ul");return s.id="medium-editor-toolbar-actions"+this.getEditorId(),s.className="medium-editor-toolbar-actions",s.style.display="block",this.buttons.forEach((function(r){"string"===typeof r?(o=r,a=null):(o=r.name,a=r),(i=this.base.addBuiltInExtension(o,a))&&"function"===typeof i.getButton&&(n=i.getButton(this.base),t=this.document.createElement("li"),e.util.isElement(n)?t.appendChild(n):t.innerHTML=n,s.appendChild(t))}),this),(r=s.querySelectorAll("button")).length>0&&(r[0].classList.add(this.firstButtonClass),r[r.length-1].classList.add(this.lastButtonClass)),s},destroy:function(){this.toolbar&&(this.toolbar.parentNode&&this.toolbar.parentNode.removeChild(this.toolbar),delete this.toolbar)},getInteractionElements:function(){return this.getToolbarElement()},getToolbarElement:function(){return this.toolbar||(this.toolbar=this.createToolbar()),this.toolbar},getToolbarActionsElement:function(){return this.getToolbarElement().querySelector(".medium-editor-toolbar-actions")},initThrottledMethods:function(){this.throttledPositionToolbar=e.util.throttle(function(){this.base.isActive&&this.positionToolbarIfShown()}.bind(this))},attachEventHandlers:function(){this.subscribe("blur",this.handleBlur.bind(this)),this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableClick",this.handleEditableClick.bind(this)),this.subscribe("editableKeyup",this.handleEditableKeyup.bind(this)),this.on(this.document.documentElement,"mouseup",this.handleDocumentMouseup.bind(this)),this.static&&this.sticky&&this.on(this.window,"scroll",this.handleWindowScroll.bind(this),!0),this.on(this.window,"resize",this.handleWindowResize.bind(this))},handleWindowScroll:function(){this.positionToolbarIfShown()},handleWindowResize:function(){this.throttledPositionToolbar()},handleDocumentMouseup:function(t){if(t&&t.target&&e.util.isDescendant(this.getToolbarElement(),t.target))return!1;this.checkState()},handleEditableClick:function(){setTimeout(function(){this.checkState()}.bind(this),0)},handleEditableKeyup:function(){this.checkState()},handleBlur:function(){clearTimeout(this.hideTimeout),clearTimeout(this.delayShowTimeout),this.hideTimeout=setTimeout(function(){this.hideToolbar()}.bind(this),1)},handleFocus:function(){this.checkState()},isDisplayed:function(){return this.getToolbarElement().classList.contains("medium-editor-toolbar-active")},showToolbar:function(){clearTimeout(this.hideTimeout),this.isDisplayed()||(this.getToolbarElement().classList.add("medium-editor-toolbar-active"),this.trigger("showToolbar",{},this.base.getFocusedElement()))},hideToolbar:function(){this.isDisplayed()&&(this.getToolbarElement().classList.remove("medium-editor-toolbar-active"),this.trigger("hideToolbar",{},this.base.getFocusedElement()))},isToolbarDefaultActionsDisplayed:function(){return"block"===this.getToolbarActionsElement().style.display},hideToolbarDefaultActions:function(){this.isToolbarDefaultActionsDisplayed()&&(this.getToolbarActionsElement().style.display="none")},showToolbarDefaultActions:function(){this.hideExtensionForms(),this.isToolbarDefaultActionsDisplayed()||(this.getToolbarActionsElement().style.display="block"),this.delayShowTimeout=this.base.delay(function(){this.showToolbar()}.bind(this))},hideExtensionForms:function(){this.forEachExtension((function(e){e.hasForm&&e.isDisplayed()&&e.hideForm()}))},multipleBlockElementsSelected:function(){var t=new RegExp("<("+e.util.blockContainerElementNames.join("|")+")[^>]*>","g"),n=e.selection.getSelectionHtml(this.document).replace(/<[^\/>][^>]*><\/[^>]+>/gim,"").match(t);return!!n&&n.length>1},modifySelection:function(){var t=this.window.getSelection().getRangeAt(0);if(this.standardizeSelectionStart&&t.startContainer.nodeValue&&t.startOffset===t.startContainer.nodeValue.length){var n=e.util.findAdjacentTextNodeWithContent(e.selection.getSelectionElement(this.window),t.startContainer,this.document);if(n){for(var r=0;0===n.nodeValue.substr(r,1).trim().length;)r+=1;t=e.selection.select(this.document,n,r,t.endContainer,t.endOffset)}}},checkState:function(){if(!this.base.preventSelectionUpdates){if(!this.base.getFocusedElement()||e.selection.selectionInContentEditableFalse(this.window))return this.hideToolbar();var t=e.selection.getSelectionElement(this.window);return!t||-1===this.getEditorElements().indexOf(t)||t.getAttribute("data-disable-toolbar")?this.hideToolbar():this.updateOnEmptySelection&&this.static?this.showAndUpdateToolbar():!e.selection.selectionContainsContent(this.document)||!1===this.allowMultiParagraphSelection&&this.multipleBlockElementsSelected()?this.hideToolbar():void this.showAndUpdateToolbar()}},showAndUpdateToolbar:function(){this.modifySelection(),this.setToolbarButtonStates(),this.trigger("positionToolbar",{},this.base.getFocusedElement()),this.showToolbarDefaultActions(),this.setToolbarPosition()},setToolbarButtonStates:function(){this.forEachExtension((function(e){"function"===typeof e.isActive&&"function"===typeof e.setInactive&&e.setInactive()})),this.checkActiveButtons()},checkActiveButtons:function(){var t,n=[],r=null,i=e.selection.getSelectionRange(this.document),o=function(e){"function"===typeof e.checkState?e.checkState(t):"function"===typeof e.isActive&&"function"===typeof e.isAlreadyApplied&&"function"===typeof e.setActive&&!e.isActive()&&e.isAlreadyApplied(t)&&e.setActive()};if(i&&(this.forEachExtension((function(e){"function"!==typeof e.queryCommandState||null===(r=e.queryCommandState())?n.push(e):r&&"function"===typeof e.setActive&&e.setActive()})),t=e.selection.getSelectedParentElement(i),this.getEditorElements().some((function(n){return e.util.isDescendant(n,t,!0)}))))for(;t&&(n.forEach(o),!e.util.isMediumEditorElement(t));)t=t.parentNode},positionToolbarIfShown:function(){this.isDisplayed()&&this.setToolbarPosition()},setToolbarPosition:function(){var e=this.base.getFocusedElement(),t=this.window.getSelection();if(!e)return this;!this.static&&t.isCollapsed||(this.showToolbar(),this.relativeContainer||(this.static?this.positionStaticToolbar(e):this.positionToolbar(t)),this.trigger("positionedToolbar",{},this.base.getFocusedElement()))},positionStaticToolbar:function(e){this.getToolbarElement().style.left="0";var t,n=this.document.documentElement&&this.document.documentElement.scrollTop||this.document.body.scrollTop,r=this.window.innerWidth,i=this.getToolbarElement(),o=e.getBoundingClientRect(),a=o.top+n,s=o.left+o.width/2,l=i.offsetHeight,c=i.offsetWidth,u=c/2;switch(this.sticky?n>a+e.offsetHeight-l-this.stickyTopOffset?(i.style.top=a+e.offsetHeight-l+"px",i.classList.remove("medium-editor-sticky-toolbar")):n>a-l-this.stickyTopOffset?(i.classList.add("medium-editor-sticky-toolbar"),i.style.top=this.stickyTopOffset+"px"):(i.classList.remove("medium-editor-sticky-toolbar"),i.style.top=a-l+"px"):i.style.top=a-l+"px",this.align){case"left":t=o.left;break;case"right":t=o.right-c;break;case"center":t=s-u}t<0?t=0:t+c>r&&(t=r-Math.ceil(c)-1),i.style.left=t+"px"},positionToolbar:function(e){this.getToolbarElement().style.left="0",this.getToolbarElement().style.right="initial";var t=e.getRangeAt(0),n=t.getBoundingClientRect();(!n||0===n.height&&0===n.width&&t.startContainer===t.endContainer)&&(n=1===t.startContainer.nodeType&&t.startContainer.querySelector("img")?t.startContainer.querySelector("img").getBoundingClientRect():t.startContainer.getBoundingClientRect());var r,i,o=this.window.innerWidth,a=this.getToolbarElement(),s=a.offsetHeight,l=a.offsetWidth/2,c=this.diffLeft-l,u=this.getEditorOption("elementsContainer"),d=["absolute","fixed"].indexOf(window.getComputedStyle(u).getPropertyValue("position"))>-1,f={},h={};d?(i=u.getBoundingClientRect(),["top","left"].forEach((function(e){h[e]=n[e]-i[e]})),h.width=n.width,h.height=n.height,n=h,o=i.width,f.top=u.scrollTop):f.top=this.window.pageYOffset,r=n.left+n.width/2,f.top+=n.top-s,n.top<50?(a.classList.add("medium-toolbar-arrow-over"),a.classList.remove("medium-toolbar-arrow-under"),f.top+=50+n.height-this.diffTop):(a.classList.add("medium-toolbar-arrow-under"),a.classList.remove("medium-toolbar-arrow-over"),f.top+=this.diffTop),r<l?(f.left=c+l,f.right="initial"):o-r<l?(f.left="auto",f.right=0):(f.left=c+r,f.right="initial"),["top","left","right"].forEach((function(e){a.style[e]=f[e]+(isNaN(f[e])?"":"px")}))}}),e.extensions.toolbar=u,d=e.Extension.extend({init:function(){e.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(e){var t="medium-editor-dragover";e.preventDefault(),e.dataTransfer.dropEffect="copy","dragover"===e.type?e.target.classList.add(t):"dragleave"===e.type&&e.target.classList.remove(t)},handleDrop:function(t){t.preventDefault(),t.stopPropagation(),t.dataTransfer.files&&Array.prototype.slice.call(t.dataTransfer.files,0).some(function(t){var n,r;t.type.match("image")&&((n=new FileReader).readAsDataURL(t),r="medium-img-"+ +new Date,e.util.insertHTMLCommand(this.document,'<img class="medium-editor-image-loading" id="'+r+'" />'),n.onload=function(){var e=this.document.getElementById(r);e&&(e.removeAttribute("id"),e.removeAttribute("class"),e.src=n.result)}.bind(this))}.bind(this)),t.target.classList.remove("medium-editor-dragover")}}),e.extensions.imageDragging=d,function(){function t(t){var n=e.selection.getSelectionStart(this.options.ownerDocument),r=n.textContent,i=e.selection.getCaretOffsets(n);(void 0===r[i.left-1]||""===r[i.left-1].trim()||void 0!==r[i.left]&&""===r[i.left].trim())&&t.preventDefault()}function n(t,n){if(this.options.disableReturn||n.getAttribute("data-disable-return"))t.preventDefault();else if(this.options.disableDoubleReturn||n.getAttribute("data-disable-double-return")){var r=e.selection.getSelectionStart(this.options.ownerDocument);(r&&""===r.textContent.trim()&&"li"!==r.nodeName.toLowerCase()||r.previousElementSibling&&"br"!==r.previousElementSibling.nodeName.toLowerCase()&&""===r.previousElementSibling.textContent.trim())&&t.preventDefault()}}function r(t){var n=e.selection.getSelectionStart(this.options.ownerDocument);"pre"===(n&&n.nodeName.toLowerCase())&&(t.preventDefault(),e.util.insertHTMLCommand(this.options.ownerDocument,"    ")),e.util.isListItem(n)&&(t.preventDefault(),t.shiftKey?this.options.ownerDocument.execCommand("outdent",!1,null):this.options.ownerDocument.execCommand("indent",!1,null))}function i(t){var n,r=e.selection.getSelectionStart(this.options.ownerDocument),i=r.nodeName.toLowerCase(),o=/^(\s+|<br\/?>)?$/i,a=/h\d/i;e.util.isKey(t,[e.util.keyCode.BACKSPACE,e.util.keyCode.ENTER])&&r.previousElementSibling&&a.test(i)&&0===e.selection.getCaretOffsets(r).left?e.util.isKey(t,e.util.keyCode.BACKSPACE)&&o.test(r.previousElementSibling.innerHTML)?(r.previousElementSibling.parentNode.removeChild(r.previousElementSibling),t.preventDefault()):!this.options.disableDoubleReturn&&e.util.isKey(t,e.util.keyCode.ENTER)&&((n=this.options.ownerDocument.createElement("p")).innerHTML="<br>",r.previousElementSibling.parentNode.insertBefore(n,r),t.preventDefault()):e.util.isKey(t,e.util.keyCode.DELETE)&&r.nextElementSibling&&r.previousElementSibling&&!a.test(i)&&o.test(r.innerHTML)&&a.test(r.nextElementSibling.nodeName.toLowerCase())?(e.selection.moveCursor(this.options.ownerDocument,r.nextElementSibling),r.previousElementSibling.parentNode.removeChild(r),t.preventDefault()):e.util.isKey(t,e.util.keyCode.BACKSPACE)&&"li"===i&&o.test(r.innerHTML)&&!r.previousElementSibling&&!r.parentElement.previousElementSibling&&r.nextElementSibling&&"li"===r.nextElementSibling.nodeName.toLowerCase()?((n=this.options.ownerDocument.createElement("p")).innerHTML="<br>",r.parentElement.parentElement.insertBefore(n,r.parentElement),e.selection.moveCursor(this.options.ownerDocument,n),r.parentElement.removeChild(r),t.preventDefault()):e.util.isKey(t,e.util.keyCode.BACKSPACE)&&!1!==e.util.getClosestTag(r,"blockquote")&&0===e.selection.getCaretOffsets(r).left?(t.preventDefault(),e.util.execFormatBlock(this.options.ownerDocument,"p")):e.util.isKey(t,e.util.keyCode.ENTER)&&!1!==e.util.getClosestTag(r,"blockquote")&&0===e.selection.getCaretOffsets(r).right?((n=this.options.ownerDocument.createElement("p")).innerHTML="<br>",r.parentElement.insertBefore(n,r.nextSibling),e.selection.moveCursor(this.options.ownerDocument,n),t.preventDefault()):e.util.isKey(t,e.util.keyCode.BACKSPACE)&&e.util.isMediumEditorElement(r.parentElement)&&!r.previousElementSibling&&r.nextElementSibling&&o.test(r.innerHTML)&&(t.preventDefault(),e.selection.moveCursor(this.options.ownerDocument,r.nextSibling),r.parentElement.removeChild(r))}function o(t){var n=e.selection.getSelectionStart(this.options.ownerDocument);n&&(e.util.isMediumEditorElement(n)&&0===n.children.length&&!e.util.isBlockContainer(n)&&this.options.ownerDocument.execCommand("formatBlock",!1,"p"),!e.util.isKey(t,e.util.keyCode.ENTER)||e.util.isListItem(n)||e.util.isBlockContainer(n)||("a"===n.nodeName.toLowerCase()?this.options.ownerDocument.execCommand("unlink",!1,null):t.shiftKey||t.ctrlKey||this.options.ownerDocument.execCommand("formatBlock",!1,"p")))}function a(e,t){var n=t.parentNode.querySelector('textarea[medium-editor-textarea-id="'+t.getAttribute("medium-editor-textarea-id")+'"]');n&&(n.value=t.innerHTML.trim())}function s(e){e._mediumEditors||(e._mediumEditors=[null]),this.id||(this.id=e._mediumEditors.length),e._mediumEditors[this.id]=this}function l(e){e._mediumEditors&&e._mediumEditors[this.id]&&(e._mediumEditors[this.id]=null)}function c(t,n,r){var i=[];if(t||(t=[]),"string"===typeof t&&(t=n.querySelectorAll(t)),e.util.isElement(t)&&(t=[t]),r)for(var o=0;o<t.length;o++){var a=t[o];!e.util.isElement(a)||a.getAttribute("data-medium-editor-element")||a.getAttribute("medium-editor-textarea-id")||i.push(a)}else i=Array.prototype.slice.apply(t);return i}function u(e){var t=e.parentNode.querySelector('textarea[medium-editor-textarea-id="'+e.getAttribute("medium-editor-textarea-id")+'"]');t&&(t.classList.remove("medium-editor-hidden"),t.removeAttribute("medium-editor-textarea-id")),e.parentNode&&e.parentNode.removeChild(e)}function d(e,t,n){return"function"===typeof(e=function(e,t){return Object.keys(t).forEach((function(n){void 0===e[n]&&(e[n]=t[n])})),e}(e,{window:n.options.contentWindow,document:n.options.ownerDocument,base:n})).init&&e.init(),e.name||(e.name=t),e}function f(){return!this.elements.every((function(e){return!!e.getAttribute("data-disable-toolbar")}))&&!1!==this.options.toolbar}function h(){return!!f.call(this)&&!1!==this.options.anchorPreview}function p(){return!1!==this.options.placeholder}function m(){return!1!==this.options.autoLink}function g(){return!1!==this.options.imageDragging}function v(){return!1!==this.options.keyboardCommands}function y(){return!this.options.extensions.imageDragging}function b(e){for(var t=this.options.ownerDocument.createElement("div"),n=Date.now(),r="medium-editor-"+n,i=e.attributes;this.options.ownerDocument.getElementById(r);)n++,r="medium-editor-"+n;t.className=e.className,t.id=r,t.innerHTML=e.value,e.setAttribute("medium-editor-textarea-id",r);for(var o=0,a=i.length;o<a;o++)t.hasAttribute(i[o].nodeName)||t.setAttribute(i[o].nodeName,i[o].value);return e.form&&this.on(e.form,"reset",function(e){e.defaultPrevented||this.resetContent(this.options.ownerDocument.getElementById(r))}.bind(this)),e.classList.add("medium-editor-hidden"),e.parentNode.insertBefore(t,e),t}function w(t,r){if(!t.getAttribute("data-medium-editor-element")){"textarea"===t.nodeName.toLowerCase()&&(t=b.call(this,t),this.instanceHandleEditableInput||(this.instanceHandleEditableInput=a.bind(this),this.subscribe("editableInput",this.instanceHandleEditableInput))),this.options.disableEditing||t.getAttribute("data-disable-editing")||(t.setAttribute("contentEditable",!0),t.setAttribute("spellcheck",this.options.spellcheck)),this.instanceHandleEditableKeydownEnter||(t.getAttribute("data-disable-return")||t.getAttribute("data-disable-double-return"))&&(this.instanceHandleEditableKeydownEnter=n.bind(this),this.subscribe("editableKeydownEnter",this.instanceHandleEditableKeydownEnter)),this.options.disableReturn||t.getAttribute("data-disable-return")||this.on(t,"keyup",o.bind(this));var i=e.util.guid();t.setAttribute("data-medium-editor-element",!0),t.classList.add("medium-editor-element"),t.setAttribute("role","textbox"),t.setAttribute("aria-multiline",!0),t.setAttribute("data-medium-editor-editor-index",r),t.setAttribute("medium-editor-index",i),P[i]=t.innerHTML,this.events.attachAllEventsToElement(t)}return t}function _(){this.subscribe("editableKeydownTab",r.bind(this)),this.subscribe("editableKeydownDelete",i.bind(this)),this.subscribe("editableKeydownEnter",i.bind(this)),this.options.disableExtraSpaces&&this.subscribe("editableKeydownSpace",t.bind(this)),this.instanceHandleEditableKeydownEnter||(this.options.disableReturn||this.options.disableDoubleReturn)&&(this.instanceHandleEditableKeydownEnter=n.bind(this),this.subscribe("editableKeydownEnter",this.instanceHandleEditableKeydownEnter))}function S(){if(this.extensions=[],Object.keys(this.options.extensions).forEach((function(e){"toolbar"!==e&&this.options.extensions[e]&&this.extensions.push(d(this.options.extensions[e],e,this))}),this),y.call(this)){var t=this.options.fileDragging;t||(t={},g.call(this)||(t.allowedTypes=[])),this.addBuiltInExtension("fileDragging",t)}var n={paste:!0,"anchor-preview":h.call(this),autoLink:m.call(this),keyboardCommands:v.call(this),placeholder:p.call(this)};Object.keys(n).forEach((function(e){n[e]&&this.addBuiltInExtension(e)}),this);var r=this.options.extensions.toolbar;if(!r&&f.call(this)){var i=e.util.extend({},this.options.toolbar,{allowMultiParagraphSelection:this.options.allowMultiParagraphSelection});r=new e.extensions.toolbar(i)}r&&this.extensions.push(d(r,"toolbar",this))}function C(t,n){return n&&[["allowMultiParagraphSelection","toolbar.allowMultiParagraphSelection"]].forEach((function(t){n.hasOwnProperty(t[0])&&void 0!==n[t[0]]&&e.util.deprecated(t[0],t[1],"v6.0.0")})),e.util.defaults({},n,t)}function x(t,n){var r,i;if(r=/^append-(.+)$/gi.exec(t))return e.util.execFormatBlock(this.options.ownerDocument,r[1]);if("fontSize"===t)return n.size&&e.util.deprecated(".size option for fontSize command",".value","6.0.0"),i=n.value||n.size,this.options.ownerDocument.execCommand("fontSize",!1,i);if("fontName"===t)return n.name&&e.util.deprecated(".name option for fontName command",".value","6.0.0"),i=n.value||n.name,this.options.ownerDocument.execCommand("fontName",!1,i);if("createLink"===t)return this.createLink(n);if("image"===t){var o=this.options.contentWindow.getSelection().toString().trim();return this.options.ownerDocument.execCommand("insertImage",!1,o)}if("html"===t){var a=this.options.contentWindow.getSelection().toString().trim();return e.util.insertHTMLCommand(this.options.ownerDocument,a)}if(/justify([A-Za-z]*)$/g.exec(t)){var s=this.options.ownerDocument.execCommand(t,!1,null),l=e.selection.getSelectedParentElement(e.selection.getSelectionRange(this.options.ownerDocument));return l&&E.call(this,e.util.getTopBlockContainer(l)),s}return i=n&&n.value,this.options.ownerDocument.execCommand(t,!1,i)}function E(t){if(t){var n,r=Array.prototype.slice.call(t.childNodes).filter((function(e){var t="div"===e.nodeName.toLowerCase();return t&&!n&&(n=e.style.textAlign),t}));r.length&&(this.saveSelection(),r.forEach((function(t){if(t.style.textAlign===n){var r=t.lastChild;if(r){e.util.unwrap(t,this.options.ownerDocument);var i=this.options.ownerDocument.createElement("BR");r.parentNode.insertBefore(i,r.nextSibling)}}}),this),t.style.textAlign=n,this.restoreSelection())}}var P={};e.prototype={init:function(e,t){return this.options=C.call(this,this.defaults,t),this.origElements=e,this.options.elementsContainer||(this.options.elementsContainer=this.options.ownerDocument.body),this.setup()},setup:function(){this.isActive||(s.call(this,this.options.contentWindow),this.events=new e.Events(this),this.elements=[],this.addElements(this.origElements),0!==this.elements.length&&(this.isActive=!0,S.call(this),_.call(this)))},destroy:function(){this.isActive&&(this.isActive=!1,this.extensions.forEach((function(e){"function"===typeof e.destroy&&e.destroy()}),this),this.events.destroy(),this.elements.forEach((function(e){this.options.spellcheck&&(e.innerHTML=e.innerHTML),e.removeAttribute("contentEditable"),e.removeAttribute("spellcheck"),e.removeAttribute("data-medium-editor-element"),e.classList.remove("medium-editor-element"),e.removeAttribute("role"),e.removeAttribute("aria-multiline"),e.removeAttribute("medium-editor-index"),e.removeAttribute("data-medium-editor-editor-index"),e.getAttribute("medium-editor-textarea-id")&&u(e)}),this),this.elements=[],this.instanceHandleEditableKeydownEnter=null,this.instanceHandleEditableInput=null,l.call(this,this.options.contentWindow))},on:function(e,t,n,r){return this.events.attachDOMEvent(e,t,n,r),this},off:function(e,t,n,r){return this.events.detachDOMEvent(e,t,n,r),this},subscribe:function(e,t){return this.events.attachCustomEvent(e,t),this},unsubscribe:function(e,t){return this.events.detachCustomEvent(e,t),this},trigger:function(e,t,n){return this.events.triggerCustomEvent(e,t,n),this},delay:function(e){var t=this;return setTimeout((function(){t.isActive&&e()}),this.options.delay)},serialize:function(){var e,t={},n=this.elements.length;for(e=0;e<n;e+=1)t[""!==this.elements[e].id?this.elements[e].id:"element-"+e]={value:this.elements[e].innerHTML.trim()};return t},getExtensionByName:function(e){var t;return this.extensions&&this.extensions.length&&this.extensions.some((function(n){return n.name===e&&(t=n,!0)})),t},addBuiltInExtension:function(t,n){var r,i=this.getExtensionByName(t);if(i)return i;switch(t){case"anchor":r=e.util.extend({},this.options.anchor,n),i=new e.extensions.anchor(r);break;case"anchor-preview":i=new e.extensions.anchorPreview(this.options.anchorPreview);break;case"autoLink":i=new e.extensions.autoLink;break;case"fileDragging":i=new e.extensions.fileDragging(n);break;case"fontname":i=new e.extensions.fontName(this.options.fontName);break;case"fontsize":i=new e.extensions.fontSize(n);break;case"keyboardCommands":i=new e.extensions.keyboardCommands(this.options.keyboardCommands);break;case"paste":i=new e.extensions.paste(this.options.paste);break;case"placeholder":i=new e.extensions.placeholder(this.options.placeholder);break;default:e.extensions.button.isBuiltInButton(t)&&(n?(r=e.util.defaults({},n,e.extensions.button.prototype.defaults[t]),i=new e.extensions.button(r)):i=new e.extensions.button(t))}return i&&this.extensions.push(d(i,t,this)),i},stopSelectionUpdates:function(){this.preventSelectionUpdates=!0},startSelectionUpdates:function(){this.preventSelectionUpdates=!1},checkSelection:function(){var e=this.getExtensionByName("toolbar");return e&&e.checkState(),this},queryCommandState:function(e){var t,n=null;(t=/^full-(.+)$/gi.exec(e))&&(e=t[1]);try{n=this.options.ownerDocument.queryCommandState(e)}catch(r){n=null}return n},execAction:function(t,n){var r,i;return(r=/^full-(.+)$/gi.exec(t))?(this.saveSelection(),this.selectAllContents(),i=x.call(this,r[1],n),this.restoreSelection()):i=x.call(this,t,n),"insertunorderedlist"!==t&&"insertorderedlist"!==t||e.util.cleanListDOM(this.options.ownerDocument,this.getSelectedParentElement()),this.checkSelection(),i},getSelectedParentElement:function(t){return void 0===t&&(t=this.options.contentWindow.getSelection().getRangeAt(0)),e.selection.getSelectedParentElement(t)},selectAllContents:function(){var t=e.selection.getSelectionElement(this.options.contentWindow);if(t){for(;1===t.children.length;)t=t.children[0];this.selectElement(t)}},selectElement:function(t){e.selection.selectNode(t,this.options.ownerDocument);var n=e.selection.getSelectionElement(this.options.contentWindow);n&&this.events.focusElement(n)},getFocusedElement:function(){var e;return this.elements.some((function(t){return!e&&t.getAttribute("data-medium-focused")&&(e=t),!!e}),this),e},exportSelection:function(){var t=e.selection.getSelectionElement(this.options.contentWindow),n=this.elements.indexOf(t),r=null;return n>=0&&(r=e.selection.exportSelection(t,this.options.ownerDocument)),null!==r&&0!==n&&(r.editableElementIndex=n),r},saveSelection:function(){this.selectionState=this.exportSelection()},importSelection:function(t,n){if(t){var r=this.elements[t.editableElementIndex||0];e.selection.importSelection(t,r,this.options.ownerDocument,n)}},restoreSelection:function(){this.importSelection(this.selectionState)},createLink:function(t){var n,r=e.selection.getSelectionElement(this.options.contentWindow),i={};if(-1!==this.elements.indexOf(r)){try{if(this.events.disableCustomEvent("editableInput"),t.url&&e.util.deprecated(".url option for createLink",".value","6.0.0"),(n=t.url||t.value)&&n.trim().length>0){var o=this.options.contentWindow.getSelection();if(o){var a,s,l,c,u=o.getRangeAt(0),d=u.commonAncestorContainer;if(3===u.endContainer.nodeType&&3!==u.startContainer.nodeType&&0===u.startOffset&&u.startContainer.firstChild===u.endContainer&&(d=u.endContainer),s=e.util.getClosestBlockContainer(u.startContainer),l=e.util.getClosestBlockContainer(u.endContainer),3!==d.nodeType&&0!==d.textContent.length&&s===l){var f=s||r,h=this.options.ownerDocument.createDocumentFragment();this.execAction("unlink"),a=this.exportSelection(),h.appendChild(f.cloneNode(!0)),r===f?e.selection.select(this.options.ownerDocument,f.firstChild,0,f.lastChild,3===f.lastChild.nodeType?f.lastChild.nodeValue.length:f.lastChild.childNodes.length):e.selection.select(this.options.ownerDocument,f,0,f,f.childNodes.length);var p=this.exportSelection();0===(c=e.util.findOrCreateMatchingTextNodes(this.options.ownerDocument,h,{start:a.start-p.start,end:a.end-p.start,editableElementIndex:a.editableElementIndex})).length&&((h=this.options.ownerDocument.createDocumentFragment()).appendChild(d.cloneNode(!0)),c=[h.firstChild.firstChild,h.firstChild.lastChild]),e.util.createLink(this.options.ownerDocument,c,n.trim());var m=(h.firstChild.innerHTML.match(/^\s+/)||[""])[0].length;e.util.insertHTMLCommand(this.options.ownerDocument,h.firstChild.innerHTML.replace(/^\s+/,"")),a.start-=m,a.end-=m,this.importSelection(a)}else this.options.ownerDocument.execCommand("createLink",!1,n);this.options.targetBlank||"_blank"===t.target?e.util.setTargetBlank(e.selection.getSelectionStart(this.options.ownerDocument),n):e.util.removeTargetBlank(e.selection.getSelectionStart(this.options.ownerDocument),n),t.buttonClass&&e.util.addClassToAnchors(e.selection.getSelectionStart(this.options.ownerDocument),t.buttonClass)}}if(this.options.targetBlank||"_blank"===t.target||t.buttonClass){(i=this.options.ownerDocument.createEvent("HTMLEvents")).initEvent("input",!0,!0,this.options.contentWindow);for(var g=0,v=this.elements.length;g<v;g+=1)this.elements[g].dispatchEvent(i)}}finally{this.events.enableCustomEvent("editableInput")}this.events.triggerCustomEvent("editableInput",i,r)}},cleanPaste:function(e){this.getExtensionByName("paste").cleanPaste(e)},pasteHTML:function(e,t){this.getExtensionByName("paste").pasteHTML(e,t)},setContent:function(e,t){if(t=t||0,this.elements[t]){var n=this.elements[t];n.innerHTML=e,this.checkContentChanged(n)}},getContent:function(e){return e=e||0,this.elements[e]?this.elements[e].innerHTML.trim():null},checkContentChanged:function(t){t=t||e.selection.getSelectionElement(this.options.contentWindow),this.events.updateInput(t,{target:t,currentTarget:t})},resetContent:function(e){if(e){var t=this.elements.indexOf(e);-1!==t&&this.setContent(P[e.getAttribute("medium-editor-index")],t)}else this.elements.forEach((function(e,t){this.setContent(P[e.getAttribute("medium-editor-index")],t)}),this)},addElements:function(e){var t=c(e,this.options.ownerDocument,!0);if(0===t.length)return!1;t.forEach((function(e){e=w.call(this,e,this.id),this.elements.push(e),this.trigger("addElement",{target:e,currentTarget:e},e)}),this)},removeElements:function(e){var t=c(e,this.options.ownerDocument).map((function(e){return e.getAttribute("medium-editor-textarea-id")&&e.parentNode?e.parentNode.querySelector('div[medium-editor-textarea-id="'+e.getAttribute("medium-editor-textarea-id")+'"]'):e}));this.elements=this.elements.filter((function(e){return-1===t.indexOf(e)||(this.events.cleanupElement(e),e.getAttribute("medium-editor-textarea-id")&&u(e),this.trigger("removeElement",{target:e,currentTarget:e},e),!1)}),this)}},e.getEditorFromElement=function(e){var t=e.getAttribute("data-medium-editor-editor-index"),n=e&&e.ownerDocument&&(e.ownerDocument.defaultView||e.ownerDocument.parentWindow);return n&&n._mediumEditors&&n._mediumEditors[t]?n._mediumEditors[t]:null}}(),e.prototype.defaults={activeButtonClass:"medium-editor-button-active",buttonLabels:!1,delay:0,disableReturn:!1,disableDoubleReturn:!1,disableExtraSpaces:!1,disableEditing:!1,autoLink:!1,elementsContainer:!1,contentWindow:window,ownerDocument:document,targetBlank:!1,extensions:{},spellcheck:!0},e.parseVersionString=function(e){var t=e.split("-"),n=t[0].split("."),r=t.length>1?t[1]:"";return{major:parseInt(n[0],10),minor:parseInt(n[1],10),revision:parseInt(n[2],10),preRelease:r,toString:function(){return[n[0],n[1],n[2]].join(".")+(r?"-"+r:"")}}},e.version=e.parseVersionString.call(this,"5.23.3"),e}())}).call(this,n(98)(e),n(278))},,,,,,,function(e,t,n){e.exports=n(567)},,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.HandlebarsEnvironment=d;var i=n(55),o=r(n(70)),a=n(240),s=n(333),l=r(n(241)),c=n(242);t.VERSION="4.7.6";t.COMPILER_REVISION=8;t.LAST_COMPATIBLE_COMPILER_REVISION=7;t.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};var u="[object Object]";function d(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},a.registerDefaultHelpers(this),s.registerDefaultDecorators(this)}d.prototype={constructor:d,logger:l.default,log:l.default.log,registerHelper:function(e,t){if(i.toString.call(e)===u){if(t)throw new o.default("Arg not supported with multiple helpers");i.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(i.toString.call(e)===u)i.extend(this.partials,e);else{if("undefined"===typeof t)throw new o.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(i.toString.call(e)===u){if(t)throw new o.default("Arg not supported with multiple decorators");i.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]},resetLoggedPropertyAccesses:function(){c.resetLoggedProperties()}};var f=l.default.log;t.log=f,t.createFrame=i.createFrame,t.logger=l.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.registerDefaultHelpers=function(e){i.default(e),o.default(e),a.default(e),s.default(e),l.default(e),c.default(e),u.default(e)},t.moveHelperToHooks=function(e,t,n){e.helpers[t]&&(e.hooks[t]=e.helpers[t],n||delete e.helpers[t])};var i=r(n(326)),o=r(n(327)),a=r(n(328)),s=r(n(329)),l=r(n(330)),c=r(n(331)),u=r(n(332))},function(e,t,n){"use strict";t.__esModule=!0;var r=n(55),i={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"===typeof e){var t=r.indexOf(i.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=i.lookupLevel(e),"undefined"!==typeof console&&i.lookupLevel(i.level)<=e){var t=i.methodMap[e];console[t]||(t="log");for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];console[t].apply(console,r)}}};t.default=i,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.createProtoAccessControl=function(e){var t=Object.create(null);t.constructor=!1,t.__defineGetter__=!1,t.__defineSetter__=!1,t.__lookupGetter__=!1;var n=Object.create(null);return n.__proto__=!1,{properties:{whitelist:r.createNewLookupObject(n,e.allowedProtoProperties),defaultValue:e.allowProtoPropertiesByDefault},methods:{whitelist:r.createNewLookupObject(t,e.allowedProtoMethods),defaultValue:e.allowProtoMethodsByDefault}}},t.resultIsAllowed=function(e,t,n){return a("function"===typeof e?t.methods:t.properties,n)},t.resetLoggedProperties=function(){Object.keys(o).forEach((function(e){delete o[e]}))};var r=n(335),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(241)),o=Object.create(null);function a(e,t){return void 0!==e.whitelist[t]?!0===e.whitelist[t]:void 0!==e.defaultValue?e.defaultValue:(function(e){!0!==o[e]&&(o[e]=!0,i.log("error",'Handlebars: Access has been denied to resolve the property "'+e+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(t),!1)}},function(e,t,n){(function(t){function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r="object"==("undefined"===typeof t?"undefined":n(t))&&t&&t.Object===Object&&t;e.exports=r}).call(this,n(76))},function(e,t,n){var r=n(64),i=n(115),o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},function(e,t,n){"use strict";var r,i;r=[n(45),n(31)],void 0===(i=function(e,t){return function(){t.mixin(this,[e]),this.getPluginNames=function(){for(var e=[],t=0;t<navigator.plugins.length;t++)e.push(navigator.plugins[t].name);return e.join()},this.getReferrer=function(){return(this.getUrlParams().referrer&&this.getUrlParams().referrer.length>0?this.getUrlParams().referrer:void 0)||document.referrer||"direct"},this.getSource=function(){if(this.getUrlParams().src)return this.getUrlParams().src}}}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(2)],void 0===(i=function(e){return e((function(){this.defaultAttrs({localeTriggerSelector:".js-locale-trigger"}),this.updateUserLocale=function(){var e=this.select("localeTriggerSelector").val(),t=this.getWindowLocationSearch();0===t.length?t="?locale="+e:t.indexOf("locale=")>=0?t=t.replace(/(locale=)[^&]+/,"locale="+e):t+="&locale="+e,this.setWindowLocationSearch(t)},this.setWindowLocationSearch=function(e){window.location.search=e},this.getWindowLocationSearch=function(){return window.location.search},this.after("initialize",(function(){this.on("change",{localeTriggerSelector:this.updateUserLocale})}))}))}.apply(t,r))||(e.exports=i)},,,function(e,t,n){var r=n(118),i=n(376),o=n(377),a=n(378),s=n(379),l=n(380);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,e.exports=c},function(e,t,n){var r=n(95),i=n(64);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},function(e,t,n){var r=n(397),i=n(96);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},function(e,t,n){var r=n(398),i=n(401),o=n(402);e.exports=function(e,t,n,a,s,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var f=l.get(e),h=l.get(t);if(f&&h)return f==t&&h==e;var p=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++p<u;){var v=e[p],y=t[p];if(a)var b=c?a(y,v,p,t,e,l):a(v,y,p,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!i(t,(function(e,t){if(!o(g,t)&&(v===e||s(v,e,n,a,l)))return g.push(t)}))){m=!1;break}}else if(v!==y&&!s(v,y,n,a,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},function(e,t,n){var r=n(255),i=n(65);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},function(e,t,n){var r=n(409),i=n(257),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(410),i=n(259),o=n(65),a=n(260),s=n(159),l=n(261),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&i(e),d=!n&&!u&&a(e),f=!n&&!u&&!d&&l(e),h=n||u||d||f,p=h?r(e.length,String):[],m=p.length;for(var g in e)!t&&!c.call(e,g)||h&&("length"==g||d&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||p.push(g);return p}},function(e,t,n){var r=n(411),i=n(96),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t,n){(function(e){function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(56),o=n(412),a="object"==r(t)&&t&&!t.nodeType&&t,s=a&&"object"==r(e)&&e&&!e.nodeType&&e,l=s&&s.exports===a?i.Buffer:void 0,c=(l?l.isBuffer:void 0)||o;e.exports=c}).call(this,n(98)(e))},function(e,t,n){var r=n(413),i=n(414),o=n(415),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(64);e.exports=function(e){return e===e&&!r(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},,,function(e,t,n){"use strict";var r;void 0===(r=function(){return function(){this.show=function(){this.$node.show()},this.hide=function(){this.$node.hide()},this.after("initialize",(function(){this.on(document,this.attr.showEvent,this.show),this.on(document,this.attr.hideEvent,this.hide),this.trigger("uiShowHideInitialized")}))}}.apply(t,[]))||(e.exports=r)},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}n.r(t),n.d(t,"Sortable",(function(){return Fe}));var a=o(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),s=o(/Edge/i),l=o(/firefox/i),c=o(/safari/i)&&!o(/chrome/i)&&!o(/android/i),u=o(/iP(ad|od|hone)/i),d=o(/chrome/i)&&o(/android/i),f={capture:!1,passive:!1};function h(e,t,n){e.addEventListener(t,n,!a&&f)}function p(e,t,n){e.removeEventListener(t,n,!a&&f)}function m(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function g(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function v(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&m(e,t):m(e,t))||r&&e===n)return e;if(e===n)break}while(e=g(e))}return null}var y,b=/\s+/g;function w(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(b," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(b," ")}}function _(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"==typeof n?"":"px")}}function S(e,t){var n="";if("string"==typeof e)n=e;else do{var r=_(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function C(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function x(){return document.scrollingElement||document.documentElement}function E(e,t,n,r,i){if(e.getBoundingClientRect||e===window){var o,s,l,c,u,d,f;if(e!==window&&e!==x()?(s=(o=e.getBoundingClientRect()).top,l=o.left,c=o.bottom,u=o.right,d=o.height,f=o.width):(s=0,l=0,c=window.innerHeight,u=window.innerWidth,d=window.innerHeight,f=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!a))do{if(i&&i.getBoundingClientRect&&("none"!==_(i,"transform")||n&&"static"!==_(i,"position"))){var h=i.getBoundingClientRect();s-=h.top+parseInt(_(i,"border-top-width")),l-=h.left+parseInt(_(i,"border-left-width")),c=s+o.height,u=l+o.width;break}}while(i=i.parentNode);if(r&&e!==window){var p=S(i||e),m=p&&p.a,g=p&&p.d;p&&(c=(s/=g)+(d/=g),u=(l/=m)+(f/=m))}return{top:s,left:l,bottom:c,right:u,width:f,height:d}}}function P(e,t,n){for(var r=I(e,!0),i=E(e)[t];r;){var o=E(r)[n];if(!("top"===n||"left"===n?i>=o:i<=o))return r;if(r===x())break;r=I(r,!1)}return!1}function k(e,t,n){for(var r=0,i=0,o=e.children;i<o.length;){if("none"!==o[i].style.display&&o[i]!==Fe.ghost&&o[i]!==Fe.dragged&&v(o[i],n.draggable,e,!1)){if(r===t)return o[i];r++}i++}return null}function T(e,t){for(var n=e.lastElementChild;n&&(n===Fe.ghost||"none"===_(n,"display")||t&&!m(n,t));)n=n.previousElementSibling;return n||null}function A(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Fe.clone||t&&!m(e,t)||n++;return n}function O(e){var t=0,n=0,r=x();if(e)do{var i=S(e);t+=e.scrollLeft*i.a,n+=e.scrollTop*i.d}while(e!==r&&(e=e.parentNode));return[t,n]}function I(e,t){if(!e||!e.getBoundingClientRect)return x();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=_(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return x();if(r||t)return n;r=!0}}}while(n=n.parentNode);return x()}function j(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function N(e,t){return function(){if(!y){var n=arguments,r=this;1===n.length?e.call(r,n[0]):e.apply(r,n),y=setTimeout((function(){y=void 0}),t)}}}function D(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function R(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function F(e,t){_(e,"position","absolute"),_(e,"top",t.top),_(e,"left",t.left),_(e,"width",t.width),_(e,"height",t.height)}function M(e){_(e,"position",""),_(e,"top",""),_(e,"left",""),_(e,"width",""),_(e,"height","")}var L="Sortable"+(new Date).getTime(),B=[],U={initializeByDefault:!0},z={mount:function(e){for(var t in U)U.hasOwnProperty(t)&&!(t in e)&&(e[t]=U[t]);B.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var o=e+"Global";B.forEach((function(r){t[r.pluginName]&&(t[r.pluginName][o]&&t[r.pluginName][o](i({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](i({sortable:t},n)))}))},initializePlugins:function(e,t,n,r){for(var i in B.forEach((function(r){var i=r.pluginName;if(e.options[i]||r.initializeByDefault){var o=new r(e,t,e.options);o.sortable=e,o.options=e.options,e[i]=o,Object.assign(n,o.defaults)}})),e.options)if(e.options.hasOwnProperty(i)){var o=this.modifyOption(e,i,e.options[i]);void 0!==o&&(e.options[i]=o)}},getEventProperties:function(e,t){var n={};return B.forEach((function(r){"function"==typeof r.eventProperties&&Object.assign(n,r.eventProperties.call(t[r.pluginName],e))})),n},modifyOption:function(e,t,n){var r;return B.forEach((function(i){e[i.pluginName]&&i.optionListeners&&"function"==typeof i.optionListeners[t]&&(r=i.optionListeners[t].call(e[i.pluginName],n))})),r}};function H(e){var t=e.sortable,n=e.rootEl,r=e.name,o=e.targetEl,l=e.cloneEl,c=e.toEl,u=e.fromEl,d=e.oldIndex,f=e.newIndex,h=e.oldDraggableIndex,p=e.newDraggableIndex,m=e.originalEvent,g=e.putSortable,v=e.extraEventProperties;if(t=t||n&&n[L]){var y,b=t.options,w="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||a||s?(y=document.createEvent("Event")).initEvent(r,!0,!0):y=new CustomEvent(r,{bubbles:!0,cancelable:!0}),y.to=c||n,y.from=u||n,y.item=o||n,y.clone=l,y.oldIndex=d,y.newIndex=f,y.oldDraggableIndex=h,y.newDraggableIndex=p,y.originalEvent=m,y.pullMode=g?g.lastPutMode:void 0;var _=i({},v,z.getEventProperties(r,t));for(var S in _)y[S]=_[S];n&&n.dispatchEvent(y),b[w]&&b[w].call(t,y)}}var W=function(e,t,n){var r=void 0===n?{}:n,o=r.evt,a=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(i[n]=e[n]);return i}(r,["evt"]);z.pluginEvent.bind(Fe)(e,t,i({dragEl:V,parentEl:$,ghostEl:Y,rootEl:G,nextEl:K,lastDownEl:Q,cloneEl:X,cloneHidden:J,dragStarted:de,putSortable:ie,activeSortable:Fe.active,originalEvent:o,oldIndex:Z,oldDraggableIndex:te,newIndex:ee,newDraggableIndex:ne,hideGhostForTarget:Ie,unhideGhostForTarget:je,cloneNowHidden:function(){J=!0},cloneNowShown:function(){J=!1},dispatchSortableEvent:function(e){q({sortable:t,name:e,originalEvent:o})}},a))};function q(e){H(i({putSortable:ie,cloneEl:X,targetEl:V,rootEl:G,oldIndex:Z,oldDraggableIndex:te,newIndex:ee,newDraggableIndex:ne},e))}var V,$,Y,G,K,Q,X,J,Z,ee,te,ne,re,ie,oe,ae,se,le,ce,ue,de,fe,he,pe,me,ge=!1,ve=!1,ye=[],be=!1,we=!1,_e=[],Se=!1,Ce=[],xe="undefined"!=typeof document,Ee=u,Pe=s||a?"cssFloat":"float",ke=xe&&!d&&!u&&"draggable"in document.createElement("div"),Te=function(){if(xe){if(a)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Ae=function(e,t){var n=_(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=k(e,0,t),o=k(e,1,t),a=i&&_(i),s=o&&_(o),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+E(i).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+E(o).width;return"flex"===n.display?"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal":"grid"===n.display?n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal":i&&a.float&&"none"!==a.float?!o||"both"!==s.clear&&s.clear!==("left"===a.float?"left":"right")?"horizontal":"vertical":i&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||l>=r&&"none"===n[Pe]||o&&"none"===n[Pe]&&l+c>r)?"vertical":"horizontal"},Oe=function(e){function t(e,n){return function(r,i,o,a){if(null==e&&(n||r.options.group.name&&i.options.group.name&&r.options.group.name===i.options.group.name))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(r,i,o,a),n)(r,i,o,a);var s=(n?r:i).options.group.name;return!0===e||"string"==typeof e&&e===s||e.join&&e.indexOf(s)>-1}}var n={},i=e.group;i&&"object"==r(i)||(i={name:i}),n.name=i.name,n.checkPull=t(i.pull,!0),n.checkPut=t(i.put),n.revertClone=i.revertClone,e.group=n},Ie=function(){!Te&&Y&&_(Y,"display","none")},je=function(){!Te&&Y&&_(Y,"display","")};xe&&document.addEventListener("click",(function(e){if(ve)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),ve=!1,!1}),!0);var Ne,De=function(e){if(V){var t=(i=(e=e.touches?e.touches[0]:e).clientX,o=e.clientY,ye.some((function(e){if(!T(e)){var t=E(e),n=e[L].options.emptyInsertThreshold;return n&&i>=t.left-n&&i<=t.right+n&&o>=t.top-n&&o<=t.bottom+n?a=e:void 0}})),a);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[L]._onDragOver(n)}}var i,o,a},Re=function(e){V&&V.parentNode[L]._isOutsideThisEl(e.target)};function Fe(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not "+{}.toString.call(e);this.el=e,this.options=t=Object.assign({},t),e[L]=this;var n,r,o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ae(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Fe.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var a in z.initializePlugins(this,e,o),o)!(a in t)&&(t[a]=o[a]);for(var s in Oe(t),this)"_"===s.charAt(0)&&"function"==typeof this[s]&&(this[s]=this[s].bind(this));this.nativeDraggable=!t.forceFallback&&ke,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?h(e,"pointerdown",this._onTapStart):(h(e,"mousedown",this._onTapStart),h(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(h(e,"dragover",this),h(e,"dragenter",this)),ye.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Object.assign(this,(r=[],{captureAnimationState:function(){r=[],this.options.animation&&[].slice.call(this.el.children).forEach((function(e){if("none"!==_(e,"display")&&void 0!==e){r.push({target:e,rect:E(e)});var t=i({},r[r.length-1].rect);if(e.thisAnimationDuration){var n=S(e,!0);n&&(t.top-=n.f,t.left-=n.e)}e.fromRect=t}}))},addAnimationState:function(e){r.push(e)},removeAnimationState:function(e){r.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}(r,{target:e}),1)},animateAll:function(e){var t=this;if(!this.options.animation)return clearTimeout(n),void("function"==typeof e&&e());var i=!1,o=0;r.forEach((function(e){var n=0,r=e.target,a=r.fromRect,s=E(r),l=r.prevFromRect,c=r.prevToRect,u=e.rect,d=S(r,!0);d&&(s.top-=d.f,s.left-=d.e),r.toRect=s,r.thisAnimationDuration&&j(l,s)&&!j(a,s)&&(u.top-s.top)/(u.left-s.left)==(a.top-s.top)/(a.left-s.left)&&(n=function(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}(u,l,c,t.options)),j(s,a)||(r.prevFromRect=a,r.prevToRect=s,n||(n=t.options.animation),t.animate(r,u,s,n)),n&&(i=!0,o=Math.max(o,n),clearTimeout(r.animationResetTimer),r.animationResetTimer=setTimeout((function(){r.animationTime=0,r.prevFromRect=null,r.fromRect=null,r.prevToRect=null,r.thisAnimationDuration=null}),n),r.thisAnimationDuration=n)})),clearTimeout(n),i?n=setTimeout((function(){"function"==typeof e&&e()}),o):"function"==typeof e&&e(),r=[]},animate:function(e,t,n,r){if(r){_(e,"transition",""),_(e,"transform","");var i=S(this.el),o=(t.left-n.left)/(i&&i.a||1),a=(t.top-n.top)/(i&&i.d||1);e.animatingX=!!o,e.animatingY=!!a,_(e,"transform","translate3d("+o+"px,"+a+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),_(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),_(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){_(e,"transition",""),_(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),r)}}}))}function Me(e,t,n,r,i,o,l,c){var u,d,f=e[L],h=f.options.onMove;return!window.CustomEvent||a||s?(u=document.createEvent("Event")).initEvent("move",!0,!0):u=new CustomEvent("move",{bubbles:!0,cancelable:!0}),u.to=t,u.from=e,u.dragged=n,u.draggedRect=r,u.related=i||t,u.relatedRect=o||E(t),u.willInsertAfter=c,u.originalEvent=l,e.dispatchEvent(u),h&&(d=h.call(f,u,l)),d}function Le(e){e.draggable=!1}function Be(){Se=!1}function Ue(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function ze(e){return setTimeout(e,0)}function He(e){return clearTimeout(e)}Fe.prototype={constructor:Fe,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(fe=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,V):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,i=r.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(a||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,u=r.filter;if(function(e){Ce.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&Ce.push(r)}}(n),!V&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||r.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!c||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=v(s,r.draggable,n,!1))&&s.animated||Q===s)){if(Z=A(s),te=A(s,r.draggable),"function"==typeof u){if(u.call(this,e,s,this))return q({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),W("filter",t,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(u&&(u=u.split(",").some((function(r){if(r=v(l,r.trim(),n,!1))return q({sortable:t,rootEl:r,name:"filter",targetEl:s,fromEl:n,toEl:n}),W("filter",t,{evt:e}),!0}))))return void(i&&e.cancelable&&e.preventDefault());r.handle&&!v(l,r.handle,n,!1)||this._prepareDragStart(e,a,s)}}},_prepareDragStart:function(e,t,n){var r,i=this,o=i.el,c=i.options,u=o.ownerDocument;if(n&&!V&&n.parentNode===o){var d=E(n);if(G=o,$=(V=n).parentNode,K=V.nextSibling,Q=n,re=c.group,Fe.dragged=V,ce=(oe={target:V,clientX:(t||e).clientX,clientY:(t||e).clientY}).clientX-d.left,ue=oe.clientY-d.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,V.style["will-change"]="all",r=function(){W("delayEnded",i,{evt:e}),Fe.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!l&&i.nativeDraggable&&(V.draggable=!0),i._triggerDragStart(e,t),q({sortable:i,name:"choose",originalEvent:e}),w(V,c.chosenClass,!0))},c.ignore.split(",").forEach((function(e){C(V,e.trim(),Le)})),h(u,"dragover",De),h(u,"mousemove",De),h(u,"touchmove",De),h(u,"mouseup",i._onDrop),h(u,"touchend",i._onDrop),h(u,"touchcancel",i._onDrop),l&&this.nativeDraggable&&(this.options.touchStartThreshold=4,V.draggable=!0),W("delayStart",this,{evt:e}),!c.delay||c.delayOnTouchOnly&&!t||this.nativeDraggable&&(s||a))r();else{if(Fe.eventCanceled)return void this._onDrop();h(u,"mouseup",i._disableDelayedDrag),h(u,"touchend",i._disableDelayedDrag),h(u,"touchcancel",i._disableDelayedDrag),h(u,"mousemove",i._delayedDragTouchMoveHandler),h(u,"touchmove",i._delayedDragTouchMoveHandler),c.supportPointer&&h(u,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(r,c.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){V&&Le(V),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;p(e,"mouseup",this._disableDelayedDrag),p(e,"touchend",this._disableDelayedDrag),p(e,"touchcancel",this._disableDelayedDrag),p(e,"mousemove",this._delayedDragTouchMoveHandler),p(e,"touchmove",this._delayedDragTouchMoveHandler),p(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?h(document,this.options.supportPointer?"pointermove":t?"touchmove":"mousemove",this._onTouchMove):(h(V,"dragend",this),h(G,"dragstart",this._onDragStart));try{document.selection?ze((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(ge=!1,G&&V){W("dragStarted",this,{evt:t}),this.nativeDraggable&&h(document,"dragover",Re);var n=this.options;!e&&w(V,n.dragClass,!1),w(V,n.ghostClass,!0),Fe.active=this,e&&this._appendGhost(),q({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(ae){this._lastX=ae.clientX,this._lastY=ae.clientY,Ie();for(var e=document.elementFromPoint(ae.clientX,ae.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ae.clientX,ae.clientY))!==t;)t=e;if(V.parentNode[L]._isOutsideThisEl(e),t)do{if(t[L]&&t[L]._onDragOver({clientX:ae.clientX,clientY:ae.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break;e=t}while(t=t.parentNode);je()}},_onTouchMove:function(e){if(oe){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,i=e.touches?e.touches[0]:e,o=Y&&S(Y,!0),a=Y&&o&&o.a,s=Y&&o&&o.d,l=Ee&&me&&O(me),c=(i.clientX-oe.clientX+r.x)/(a||1)+(l?l[0]-_e[0]:0)/(a||1),u=(i.clientY-oe.clientY+r.y)/(s||1)+(l?l[1]-_e[1]:0)/(s||1);if(!Fe.active&&!ge){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(Y){o?(o.e+=c-(se||0),o.f+=u-(le||0)):o={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix("+o.a+","+o.b+","+o.c+","+o.d+","+o.e+","+o.f+")";_(Y,"webkitTransform",d),_(Y,"mozTransform",d),_(Y,"msTransform",d),_(Y,"transform",d),se=c,le=u,ae=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Y){var e=this.options.fallbackOnBody?document.body:G,t=E(V,!0,Ee,!0,e),n=this.options;if(Ee){for(me=e;"static"===_(me,"position")&&"none"===_(me,"transform")&&me!==document;)me=me.parentNode;me!==document.body&&me!==document.documentElement?(me===document&&(me=x()),t.top+=me.scrollTop,t.left+=me.scrollLeft):me=x(),_e=O(me)}w(Y=V.cloneNode(!0),n.ghostClass,!1),w(Y,n.fallbackClass,!0),w(Y,n.dragClass,!0),_(Y,"transition",""),_(Y,"transform",""),_(Y,"box-sizing","border-box"),_(Y,"margin",0),_(Y,"top",t.top),_(Y,"left",t.left),_(Y,"width",t.width),_(Y,"height",t.height),_(Y,"opacity","0.8"),_(Y,"position",Ee?"absolute":"fixed"),_(Y,"zIndex","100000"),_(Y,"pointerEvents","none"),Fe.ghost=Y,e.appendChild(Y),_(Y,"transform-origin",ce/parseInt(Y.style.width)*100+"% "+ue/parseInt(Y.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,i=n.options;W("dragStart",this,{evt:e}),Fe.eventCanceled?this._onDrop():(W("setupClone",this),Fe.eventCanceled||((X=R(V)).draggable=!1,X.style["will-change"]="",this._hideClone(),w(X,this.options.chosenClass,!1),Fe.clone=X),n.cloneId=ze((function(){W("clone",n),Fe.eventCanceled||(n.options.removeCloneOnHide||G.insertBefore(X,V),n._hideClone(),q({sortable:n,name:"clone"}))})),!t&&w(V,i.dragClass,!0),t?(ve=!0,n._loopId=setInterval(n._emulateDragOver,50)):(p(document,"mouseup",n._onDrop),p(document,"touchend",n._onDrop),p(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",i.setData&&i.setData.call(n,r,V)),h(document,"drop",n),_(V,"transform","translateZ(0)")),ge=!0,n._dragStartId=ze(n._dragStarted.bind(n,t,e)),h(document,"selectstart",n),de=!0,c&&_(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,r,o,a=this.el,s=e.target,l=this.options,c=l.group,u=Fe.active,d=re===c,f=l.sort,h=ie||u,p=this,m=!1;if(!Se){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),s=v(s,l.draggable,a,!0),M("dragOver"),Fe.eventCanceled)return m;if(V.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||p._ignoreWhileAnimating===s)return U(!1);if(ve=!1,u&&!l.disabled&&(d?f||(r=!G.contains(V)):ie===this||(this.lastPutMode=re.checkPull(this,u,V,e))&&c.checkPut(this,u,V,e))){if(o="vertical"===this._getDirection(e,s),t=E(V),M("dragOverValid"),Fe.eventCanceled)return m;if(r)return $=G,B(),this._hideClone(),M("revert"),Fe.eventCanceled||(K?G.insertBefore(V,K):G.appendChild(V)),U(!0);var g=T(a,l.draggable);if(!g||function(e,t,n){var r=E(T(n.el,n.options.draggable));return t?e.clientX>r.right+10||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+10}(e,o,this)&&!g.animated){if(g===V)return U(!1);if(g&&a===e.target&&(s=g),s&&(n=E(s)),!1!==Me(G,a,V,t,s,n,e,!!s))return B(),a.appendChild(V),$=a,z(),U(!0)}else if(s.parentNode===a){n=E(s);var y,b,S,C=V.parentNode!==a,x=!function(e,t,n){var r=n?e.left:e.top,i=n?t.left:t.top;return r===i||(n?e.right:e.bottom)===(n?t.right:t.bottom)||r+(n?e.width:e.height)/2===i+(n?t.width:t.height)/2}(V.animated&&V.toRect||t,s.animated&&s.toRect||n,o),k=o?"top":"left",O=P(s,"top","top")||P(V,"top","top"),I=O?O.scrollTop:void 0;if(fe!==s&&(b=n[k],be=!1,we=!x&&l.invertSwap||C),0!==(y=function(e,t,n,r,i,o,a,s){var l=r?e.clientY:e.clientX,c=r?n.height:n.width,u=r?n.top:n.left,d=r?n.bottom:n.right,f=!1;if(!a)if(s&&pe<c*i){if(!be&&(1===he?l>u+c*o/2:l<d-c*o/2)&&(be=!0),be)f=!0;else if(1===he?l<u+pe:l>d-pe)return-he}else if(l>u+c*(1-i)/2&&l<d-c*(1-i)/2)return function(e){return A(V)<A(e)?1:-1}(t);return(f=f||a)&&(l<u+c*o/2||l>d-c*o/2)?l>u+c/2?1:-1:0}(e,s,n,o,x?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,we,fe===s))){var j=A(V);do{S=$.children[j-=y]}while(S&&("none"===_(S,"display")||S===Y))}if(0===y||S===s)return U(!1);fe=s,he=y;var N=s.nextElementSibling,R=!1,F=Me(G,a,V,t,s,n,e,R=1===y);if(!1!==F)return 1!==F&&-1!==F||(R=1===F),Se=!0,setTimeout(Be,30),B(),R&&!N?a.appendChild(V):s.parentNode.insertBefore(V,R?N:s),O&&D(O,0,I-O.scrollTop),$=V.parentNode,void 0===b||we||(pe=Math.abs(b-E(s)[k])),z(),U(!0)}if(a.contains(V))return U(!1)}return!1}function M(l,c){W(l,p,i({evt:e,isOwner:d,axis:o?"vertical":"horizontal",revert:r,dragRect:t,targetRect:n,canSort:f,fromSortable:h,target:s,completed:U,onMove:function(n,r){return Me(G,a,V,t,n,E(n),e,r)},changed:z},c))}function B(){M("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function U(t){return M("dragOverCompleted",{insertion:t}),t&&(d?u._hideClone():u._showClone(p),p!==h&&(w(V,ie?ie.options.ghostClass:u.options.ghostClass,!1),w(V,l.ghostClass,!0)),ie!==p&&p!==Fe.active?ie=p:p===Fe.active&&ie&&(ie=null),h===p&&(p._ignoreWhileAnimating=s),p.animateAll((function(){M("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(s===V&&!V.animated||s===a&&!s.animated)&&(fe=null),l.dragoverBubble||e.rootEl||s===document||(V.parentNode[L]._isOutsideThisEl(e.target),!t&&De(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function z(){ee=A(V),ne=A(V,l.draggable),q({sortable:p,name:"change",toEl:a,newIndex:ee,newDraggableIndex:ne,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){p(document,"mousemove",this._onTouchMove),p(document,"touchmove",this._onTouchMove),p(document,"pointermove",this._onTouchMove),p(document,"dragover",De),p(document,"mousemove",De),p(document,"touchmove",De)},_offUpEvents:function(){var e=this.el.ownerDocument;p(e,"mouseup",this._onDrop),p(e,"touchend",this._onDrop),p(e,"pointerup",this._onDrop),p(e,"touchcancel",this._onDrop),p(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;ee=A(V),ne=A(V,n.draggable),W("drop",this,{evt:e}),$=V&&V.parentNode,ee=A(V),ne=A(V,n.draggable),Fe.eventCanceled||(ge=!1,we=!1,be=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),He(this.cloneId),He(this._dragStartId),this.nativeDraggable&&(p(document,"drop",this),p(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),c&&_(document.body,"user-select",""),_(V,"transform",""),e&&(de&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),Y&&Y.parentNode&&Y.parentNode.removeChild(Y),(G===$||ie&&"clone"!==ie.lastPutMode)&&X&&X.parentNode&&X.parentNode.removeChild(X),V&&(this.nativeDraggable&&p(V,"dragend",this),Le(V),V.style["will-change"]="",de&&!ge&&w(V,ie?ie.options.ghostClass:this.options.ghostClass,!1),w(V,this.options.chosenClass,!1),q({sortable:this,name:"unchoose",toEl:$,newIndex:null,newDraggableIndex:null,originalEvent:e}),G!==$?(ee>=0&&(q({rootEl:$,name:"add",toEl:$,fromEl:G,originalEvent:e}),q({sortable:this,name:"remove",toEl:$,originalEvent:e}),q({rootEl:$,name:"sort",toEl:$,fromEl:G,originalEvent:e}),q({sortable:this,name:"sort",toEl:$,originalEvent:e})),ie&&ie.save()):ee!==Z&&ee>=0&&(q({sortable:this,name:"update",toEl:$,originalEvent:e}),q({sortable:this,name:"sort",toEl:$,originalEvent:e})),Fe.active&&(null!=ee&&-1!==ee||(ee=Z,ne=te),q({sortable:this,name:"end",toEl:$,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){W("nulling",this),G=V=$=Y=K=X=Q=J=oe=ae=de=ee=ne=Z=te=fe=he=ie=re=Fe.dragged=Fe.ghost=Fe.clone=Fe.active=null,Ce.forEach((function(e){e.checked=!0})),Ce.length=se=le=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":V&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,i=n.length,o=this.options;r<i;r++)v(e=n[r],o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||Ue(e));return t},sort:function(e){var t={},n=this.el;this.toArray().forEach((function(e,r){var i=n.children[r];v(i,this.options.draggable,n,!1)&&(t[e]=i)}),this),e.forEach((function(e){t[e]&&(n.removeChild(t[e]),n.appendChild(t[e]))}))},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return v(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=z.modifyOption(this,e,t);n[e]=void 0!==r?r:t,"group"===e&&Oe(n)},destroy:function(){W("destroy",this);var e=this.el;e[L]=null,p(e,"mousedown",this._onTapStart),p(e,"touchstart",this._onTapStart),p(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(p(e,"dragover",this),p(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),ye.splice(ye.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!J){if(W("hideClone",this),Fe.eventCanceled)return;_(X,"display","none"),this.options.removeCloneOnHide&&X.parentNode&&X.parentNode.removeChild(X),J=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(J){if(W("showClone",this),Fe.eventCanceled)return;V.parentNode!=G||this.options.group.revertClone?K?G.insertBefore(X,K):G.appendChild(X):G.insertBefore(X,V),this.options.group.revertClone&&this.animate(V,X),_(X,"display",""),J=!1}}else this._hideClone()}},xe&&h(document,"touchmove",(function(e){(Fe.active||ge)&&e.cancelable&&e.preventDefault()})),Fe.utils={on:h,off:p,css:_,find:C,is:function(e,t){return!!v(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:N,closest:v,toggleClass:w,clone:R,index:A,nextTick:ze,cancelNextTick:He,detectDirection:Ae,getChild:k},Fe.get=function(e){return e[L]},Fe.mount=function(){var e=[].slice.call(arguments);e[0].constructor===Array&&(e=e[0]),e.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not "+{}.toString.call(e);e.utils&&(Fe.utils=i({},Fe.utils,e.utils)),z.mount(e)}))},Fe.create=function(e,t){return new Fe(e,t)},Fe.version="1.12.0";var We,qe,Ve,$e,Ye,Ge=[],Ke=[],Qe=!1,Xe=!1,Je=!1;function Ze(e,t){Ke.forEach((function(n,r){var i=t.children[n.sortableIndex+(e?Number(r):0)];i?t.insertBefore(n,i):t.appendChild(n)}))}function et(){Ge.forEach((function(e){e!==Ve&&e.parentNode&&e.parentNode.removeChild(e)}))}var tt=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,i=e.dispatchSortableEvent,o=e.unhideGhostForTarget;if(t){var a=n||e.activeSortable;(0,e.hideGhostForTarget)();var s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,l=document.elementFromPoint(s.clientX,s.clientY);o(),a&&!a.el.contains(l)&&(i("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function nt(){}function rt(){}nt.prototype={startIndex:null,dragStart:function(e){this.startIndex=e.oldDraggableIndex},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=k(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:tt},Object.assign(nt,{pluginName:"revertOnSpill"}),rt.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:tt},Object.assign(rt,{pluginName:"removeOnSpill"});var it,ot,at,st,lt,ct,ut=[],dt=!1;function ft(){ut.forEach((function(e){clearInterval(e.pid)})),ut=[]}function ht(){clearInterval(ct)}var pt=N((function(e,t,n,r){if(t.scroll){var i,o=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,c=x(),u=!1;ot!==n&&(ot=n,ft(),i=t.scrollFn,!0===(it=t.scroll)&&(it=I(n,!0)));var d=0,f=it;do{var h=f,p=E(h),m=p.top,g=p.bottom,v=p.left,y=p.right,b=p.width,w=p.height,S=void 0,C=void 0,P=h.scrollWidth,k=h.scrollHeight,T=_(h),A=h.scrollLeft,O=h.scrollTop;h===c?(S=b<P&&("auto"===T.overflowX||"scroll"===T.overflowX||"visible"===T.overflowX),C=w<k&&("auto"===T.overflowY||"scroll"===T.overflowY||"visible"===T.overflowY)):(S=b<P&&("auto"===T.overflowX||"scroll"===T.overflowX),C=w<k&&("auto"===T.overflowY||"scroll"===T.overflowY));var j=S&&(Math.abs(y-o)<=s&&A+b<P)-(Math.abs(v-o)<=s&&!!A),N=C&&(Math.abs(g-a)<=s&&O+w<k)-(Math.abs(m-a)<=s&&!!O);if(!ut[d])for(var R=0;R<=d;R++)ut[R]||(ut[R]={});ut[d].vx==j&&ut[d].vy==N&&ut[d].el===h||(ut[d].el=h,ut[d].vx=j,ut[d].vy=N,clearInterval(ut[d].pid),0==j&&0==N||(u=!0,ut[d].pid=setInterval(function(){r&&0===this.layer&&Fe.active._onTouchMove(lt);var t=ut[this.layer].vy?ut[this.layer].vy*l:0,n=ut[this.layer].vx?ut[this.layer].vx*l:0;"function"==typeof i&&"continue"!==i.call(Fe.dragged.parentNode[L],n,t,e,lt,ut[this.layer].el)||D(ut[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&f!==c&&(f=I(f,!1)));dt=u}}),30);Fe.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?h(document,"dragover",this._handleAutoScroll):h(document,this.options.supportPointer?"pointermove":t.touches?"touchmove":"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?p(document,"dragover",this._handleAutoScroll):(p(document,"pointermove",this._handleFallbackAutoScroll),p(document,"touchmove",this._handleFallbackAutoScroll),p(document,"mousemove",this._handleFallbackAutoScroll)),ht(),ft(),clearTimeout(y),y=void 0},nulling:function(){lt=ot=it=dt=ct=at=st=null,ut.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(r,i);if(lt=e,t||s||a||c){pt(e,this.options,o,t);var l=I(o,!0);!dt||ct&&r===at&&i===st||(ct&&ht(),ct=setInterval((function(){var o=I(document.elementFromPoint(r,i),!0);o!==l&&(l=o,ft()),pt(e,n.options,o,t)}),10),at=r,st=i)}else{if(!this.options.bubbleScroll||I(o,!0)===x())return void ft();pt(e,this.options,I(o,!1),!1)}}},Object.assign(e,{pluginName:"scroll",initializeByDefault:!0})}),Fe.mount(rt,nt),Fe.mount(new function(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){Ne=e.dragEl},dragOverValid:function(e){var t=e.completed,n=e.target,r=e.changed,i=e.cancel;if(e.activeSortable.options.swap){var o=this.options;if(n&&n!==this.sortable.el){var a=Ne;!1!==(0,e.onMove)(n)?(w(n,o.swapClass,!0),Ne=n):Ne=null,a&&a!==Ne&&w(a,o.swapClass,!1)}r(),t(!0),i()}},drop:function(e){var t,n,r,i,o,a,s=e.activeSortable,l=e.putSortable,c=e.dragEl,u=l||this.sortable,d=this.options;Ne&&w(Ne,d.swapClass,!1),Ne&&(d.swap||l&&l.options.swap)&&c!==Ne&&(u.captureAnimationState(),u!==s&&s.captureAnimationState(),a=(n=Ne).parentNode,(o=(t=c).parentNode)&&a&&!o.isEqualNode(n)&&!a.isEqualNode(t)&&(r=A(t),i=A(n),o.isEqualNode(a)&&r<i&&i++,o.insertBefore(n,o.children[r]),a.insertBefore(t,a.children[i])),u.animateAll(),u!==s&&s.animateAll())},nulling:function(){Ne=null}},Object.assign(e,{pluginName:"swap",eventProperties:function(){return{swapItem:Ne}}})}),Fe.mount(new function(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));e.options.supportPointer?h(document,"pointerup",this._deselectMultiDrag):(h(document,"mouseup",this._deselectMultiDrag),h(document,"touchend",this._deselectMultiDrag)),h(document,"keydown",this._checkKeyDown),h(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(t,n){var r="";Ge.length&&qe===e?Ge.forEach((function(e,t){r+=(t?", ":"")+e.textContent})):r=n.textContent,t.setData("Text",r)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){Ve=e.dragEl},delayEnded:function(){this.isMultiDrag=~Ge.indexOf(Ve)},setupClone:function(e){var t=e.sortable,n=e.cancel;if(this.isMultiDrag){for(var r=0;r<Ge.length;r++)Ke.push(R(Ge[r])),Ke[r].sortableIndex=Ge[r].sortableIndex,Ke[r].draggable=!1,Ke[r].style["will-change"]="",w(Ke[r],this.options.selectedClass,!1),Ge[r]===Ve&&w(Ke[r],this.options.chosenClass,!1);t._hideClone(),n()}},clone:function(e){var t=e.dispatchSortableEvent,n=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||Ge.length&&qe===e.sortable&&(Ze(!0,e.rootEl),t("clone"),n()))},showClone:function(e){var t=e.cloneNowShown,n=e.cancel;this.isMultiDrag&&(Ze(!1,e.rootEl),Ke.forEach((function(e){_(e,"display","")})),t(),Ye=!1,n())},hideClone:function(e){var t=this,n=e.cloneNowHidden,r=e.cancel;this.isMultiDrag&&(Ke.forEach((function(e){_(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)})),n(),Ye=!0,r())},dragStartGlobal:function(e){!this.isMultiDrag&&qe&&qe.multiDrag._deselectMultiDrag(),Ge.forEach((function(e){e.sortableIndex=A(e)})),Ge=Ge.sort((function(e,t){return e.sortableIndex-t.sortableIndex})),Je=!0},dragStarted:function(e){var t=this,n=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){Ge.forEach((function(e){e!==Ve&&_(e,"position","absolute")}));var r=E(Ve,!1,!0,!0);Ge.forEach((function(e){e!==Ve&&F(e,r)})),Xe=!0,Qe=!0}n.animateAll((function(){Xe=!1,Qe=!1,t.options.animation&&Ge.forEach((function(e){M(e)})),t.options.sort&&et()}))}},dragOver:function(e){var t=e.completed,n=e.cancel;Xe&&~Ge.indexOf(e.target)&&(t(!1),n())},revert:function(e){var t=e.fromSortable,n=e.rootEl,r=e.sortable,i=e.dragRect;Ge.length>1&&(Ge.forEach((function(e){r.addAnimationState({target:e,rect:Xe?E(e):i}),M(e),e.fromRect=i,t.removeAnimationState(e)})),Xe=!1,function(e,t){Ge.forEach((function(n,r){var i=t.children[n.sortableIndex+(e?Number(r):0)];i?t.insertBefore(n,i):t.appendChild(n)}))}(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(e){var t=e.sortable,n=e.isOwner,r=e.activeSortable,i=e.parentEl,o=e.putSortable,a=this.options;if(e.insertion){if(n&&r._hideClone(),Qe=!1,a.animation&&Ge.length>1&&(Xe||!n&&!r.options.sort&&!o)){var s=E(Ve,!1,!0,!0);Ge.forEach((function(e){e!==Ve&&(F(e,s),i.appendChild(e))})),Xe=!0}if(!n)if(Xe||et(),Ge.length>1){var l=Ye;r._showClone(t),r.options.animation&&!Ye&&l&&Ke.forEach((function(e){r.addAnimationState({target:e,rect:$e}),e.fromRect=$e,e.thisAnimationDuration=null}))}else r._showClone(t)}},dragOverAnimationCapture:function(e){var t=e.dragRect,n=e.isOwner,r=e.activeSortable;if(Ge.forEach((function(e){e.thisAnimationDuration=null})),r.options.animation&&!n&&r.multiDrag.isMultiDrag){$e=Object.assign({},t);var i=S(Ve,!0);$e.top-=i.f,$e.left-=i.e}},dragOverAnimationComplete:function(){Xe&&(Xe=!1,et())},drop:function(e){var t=e.originalEvent,n=e.rootEl,r=e.parentEl,i=e.sortable,o=e.dispatchSortableEvent,a=e.oldIndex,s=e.putSortable,l=s||this.sortable;if(t){var c=this.options,u=r.children;if(!Je)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),w(Ve,c.selectedClass,!~Ge.indexOf(Ve)),~Ge.indexOf(Ve))Ge.splice(Ge.indexOf(Ve),1),We=null,H({sortable:i,rootEl:n,name:"deselect",targetEl:Ve,originalEvt:t});else{if(Ge.push(Ve),H({sortable:i,rootEl:n,name:"select",targetEl:Ve,originalEvt:t}),t.shiftKey&&We&&i.el.contains(We)){var d,f,h=A(We),p=A(Ve);if(~h&&~p&&h!==p)for(p>h?(f=h,d=p):(f=p,d=h+1);f<d;f++)~Ge.indexOf(u[f])||(w(u[f],c.selectedClass,!0),Ge.push(u[f]),H({sortable:i,rootEl:n,name:"select",targetEl:u[f],originalEvt:t}))}else We=Ve;qe=l}if(Je&&this.isMultiDrag){if((r[L].options.sort||r!==n)&&Ge.length>1){var m=E(Ve),g=A(Ve,":not(."+this.options.selectedClass+")");if(!Qe&&c.animation&&(Ve.thisAnimationDuration=null),l.captureAnimationState(),!Qe&&(c.animation&&(Ve.fromRect=m,Ge.forEach((function(e){if(e.thisAnimationDuration=null,e!==Ve){var t=Xe?E(e):m;e.fromRect=t,l.addAnimationState({target:e,rect:t})}}))),et(),Ge.forEach((function(e){u[g]?r.insertBefore(e,u[g]):r.appendChild(e),g++})),a===A(Ve))){var v=!1;Ge.forEach((function(e){e.sortableIndex===A(e)||(v=!0)})),v&&o("update")}Ge.forEach((function(e){M(e)})),l.animateAll()}qe=l}(n===r||s&&"clone"!==s.lastPutMode)&&Ke.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))}},nullingGlobal:function(){this.isMultiDrag=Je=!1,Ke.length=0},destroyGlobal:function(){this._deselectMultiDrag(),p(document,"pointerup",this._deselectMultiDrag),p(document,"mouseup",this._deselectMultiDrag),p(document,"touchend",this._deselectMultiDrag),p(document,"keydown",this._checkKeyDown),p(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!(void 0!==Je&&Je||qe!==this.sortable||e&&v(e.target,this.options.draggable,this.sortable.el,!1)||e&&0!==e.button))for(;Ge.length;){var t=Ge[0];w(t,this.options.selectedClass,!1),Ge.shift(),H({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvt:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Object.assign(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[L];t&&t.options.multiDrag&&!~Ge.indexOf(e)&&(qe&&qe!==t&&(qe.multiDrag._deselectMultiDrag(),qe=t),w(e,t.options.selectedClass,!0),Ge.push(e))},deselect:function(e){var t=e.parentNode[L],n=Ge.indexOf(e);t&&t.options.multiDrag&&~n&&(w(e,t.options.selectedClass,!1),Ge.splice(n,1))}},eventProperties:function(){var e=this,t=[],n=[];return Ge.forEach((function(r){var i;t.push({multiDragElement:r,index:r.sortableIndex}),i=Xe&&r!==Ve?-1:Xe?A(r,":not(."+e.options.selectedClass+")"):A(r),n.push({multiDragElement:r,index:i})})),{items:[].concat(Ge),clones:[].concat(Ke),oldIndicies:t,newIndicies:n}},optionListeners:{multiDragKey:function(e){return"ctrl"===(e=e.toLowerCase())?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}),t.default=Fe},function(e,t,n){var r,i;!function(){"use strict";r=[n(2),n(81)],void 0===(i=function(e,t){return e((function(){this.defaultAttrs({productSelector:".product",previewIframeSelector:".js-preview-container iframe",productLeftSelector:".products-left",productLeftContainerSelector:".products-left-container",quickAddToCartTriggerSelector:".js-quick-add-to-cart-trigger",shouldTriggerOverlay:!0,skipOverlay:!1}),this.isOnPreviewElement=function(e){if(!e)return!0;var t=$(e.target||e.srcElement);return t.hasClass("preview-arrow")||t.parents(".preview-arrow").length||t.hasClass("preview-picker")||t.parents(".preview-picker").length||t.hasClass("show-product-page-button")||t.parents(".show-product-page-button").length||t.hasClass("js-creator-profile-link")||t.parents(".js-creator-profile-link").length},this.fetchProductInformation=function(e){!this.isOnPreviewElement(e)&&this.attr.shouldTriggerOverlay&&(e&&e.preventDefault(),e&&e.stopPropagation(),this.trigger(document,"uiNeedsAProduct",{permalink:this.attr.permalink,recommended_by:this.attr.recommendedBy}))},this.showMoreProductInformation=function(e){!this.isOnPreviewElement(e)&&this.attr.shouldTriggerOverlay&&(this.fetchProductInformation(e),this.trigger("uiNeedsToShowSkeletonProductInOverlay"))},this.showProductOverlay=function(e,t){e.preventDefault(),window.location.hash=t.permalink,t.permalink==this.attr.permalink&&(this.attr.skipOverlay&&this.select("skipOverlayTriggerSelector").html('<i class="icn-check"></i>'),this.trigger("uiNeedsToShowSelectedProductInOverlay",{productNode:t.html,recommendedBy:this.attr.recommendedBy,quickAddToCart:this.attr.skipOverlay}),this.attr.skipOverlay=!1)},this.skipOverlay=function(e){this.select("skipOverlayTriggerSelector").html('<i class="icn-loading"></i>');var t=this.select("quickAddToCartTriggerSelector");t.data("has-variants")||t.data("has-customizable-price")||t.data("has-billing-options")?(this.changeIconToCart(null,{permalink:this.attr.permalink}),this.showMoreProductInformation(e)):(this.attr.skipOverlay=!0,this.fetchProductInformation(e))},this.changeIconToCart=function(e,t){t&&t.permalink===this.attr.permalink&&this.select("skipOverlayTriggerSelector").html('<i class="icn-cart"></i>')},this.trackInsideIframe=function(e){this.attr.insideIframe=!0,this.attr.currentIframe=$(e.target||e.srcElement)},this.trackOutsideIframe=function(){this.attr.insideIframe=!1,this.attr.currentIframe=void 0},this.stopProductTriggeringOverlay=function(){this.attr.shouldTriggerOverlay=!1},this.makeProductTriggeringOverlay=function(){this.attr.shouldTriggerOverlay=!0},this.setRemaining=function(){(this.attr.user.product.remaining||0==this.attr.user.product.remaining)&&(this.select("productLeftContainerSelector").show(),this.select("productLeftSelector").text(I18n.t("js.left_with_count",{count:this.attr.user.product.remaining})),0==this.attr.user.product.remaining&&this.select("quickAddToCartTriggerSelector").hide())},this.setCurrentUserInfo=function(e,t){this.attr.permalink===t.permalink&&(this.attr.user=t,this.setRemaining())},this.after("initialize",(function(){this.on(document,"dataGotAProduct",this.showProductOverlay),this.on(document,"dataCurrentUserInfo",this.setCurrentUserInfo),this.on(document,"uiNeedsToHideProductOverlay",this.changeIconToCart),this.$node.addClass("image-as-background"),this.attr.permalink=this.select("productSelector").data("unique-permalink"),this.attr.recommendedBy=this.select("overlayTriggerSelector").data("recommended-by"),this.trigger("uiNeedsToGetCurrentUserInfo",{permalink:this.attr.permalink}),this.on(document,"uiShouldShowEditing",this.stopProductTriggeringOverlay),this.on(document,"uiShouldHideEditing",this.makeProductTriggeringOverlay),this.on("mouseover",{previewIframeSelector:this.trackInsideIframe}),this.on("mouseout",{previewIframeSelector:this.trackOutsideIframe}),this.on("click",{multiPreviewContainerSelector:this.showMoreProductInformation,skipOverlayTriggerSelector:this.skipOverlay,overlayTriggerSelector:this.showMoreProductInformation})}))}),t)}.apply(t,r))||(e.exports=i)}()},function(e,t){window.jwplayer=function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n=window.webpackJsonpjwplayer;window.webpackJsonpjwplayer=function(r,o){for(var a,s,l=0,c=[];l<r.length;l++)s=r[l],i[s]&&c.push.apply(c,i[s]),i[s]=0;for(a in o)e[a]=o[a];for(n&&n(r,o);c.length;)c.shift().call(null,t)};var r={},i={0:0};return t.e=function(e,n){if(0===i[e])return n.call(null,t);if(void 0!==i[e])i[e].push(n);else{i[e]=[n];var r=document.getElementsByTagName("head")[0],o=document.createElement("script");o.type="text/javascript",o.charset="utf-8",o.async=!0,o.src=t.p+""+({1:"jwplayer.controls",2:"provider.hlsjs",3:"provider.shaka",4:"provider.cast",5:"provider.html5",6:"provider.flash",7:"polyfills.intersection-observer",8:"provider.airplay",9:"provider.youtube",10:"polyfills.vttrenderer",11:"polyfills.promise",12:"polyfills.base64",13:"vttparser"}[e]||e)+".js",r.appendChild(o)}},t.m=e,t.c=r,t.p="",t(0)}([function(e,t,n){e.exports=n(162)},function(e,t,n){var r;void 0===(r=function(){var e={},t=Array.prototype,n=Object.prototype,r=Function.prototype,i=t.slice,o=t.concat,a=n.toString,s=n.hasOwnProperty,l=t.map,c=t.reduce,u=t.forEach,d=t.filter,f=t.every,h=t.some,p=t.indexOf,m=Array.isArray,g=Object.keys,v=r.bind,y=function e(t){return t instanceof e?t:this instanceof e?void 0:new e(t)},b=y.each=y.forEach=function(t,n,r){var i,o;if(null==t)return t;if(u&&t.forEach===u)t.forEach(n,r);else if(t.length===+t.length){for(i=0,o=t.length;i<o;i++)if(n.call(r,t[i],i,t)===e)return}else{var a=y.keys(t);for(i=0,o=a.length;i<o;i++)if(n.call(r,t[a[i]],a[i],t)===e)return}return t};y.map=y.collect=function(e,t,n){var r=[];return null==e?r:l&&e.map===l?e.map(t,n):(b(e,(function(e,i,o){r.push(t.call(n,e,i,o))})),r)};var w="Reduce of empty array with no initial value";y.reduce=y.foldl=y.inject=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),c&&e.reduce===c)return r&&(t=y.bind(t,r)),i?e.reduce(t,n):e.reduce(t);if(b(e,(function(e,o,a){i?n=t.call(r,n,e,o,a):(n=e,i=!0)})),!i)throw new TypeError(w);return n},y.find=y.detect=function(e,t,n){var r;return _(e,(function(e,i,o){if(t.call(n,e,i,o))return r=e,!0})),r},y.filter=y.select=function(e,t,n){var r=[];return null==e?r:d&&e.filter===d?e.filter(t,n):(b(e,(function(e,i,o){t.call(n,e,i,o)&&r.push(e)})),r)},y.reject=function(e,t,n){return y.filter(e,(function(e,r,i){return!t.call(n,e,r,i)}),n)},y.compact=function(e){return y.filter(e,y.identity)},y.every=y.all=function(t,n,r){n||(n=y.identity);var i=!0;return null==t?i:f&&t.every===f?t.every(n,r):(b(t,(function(t,o,a){if(!(i=i&&n.call(r,t,o,a)))return e})),!!i)};var _=y.some=y.any=function(t,n,r){n||(n=y.identity);var i=!1;return null==t?i:h&&t.some===h?t.some(n,r):(b(t,(function(t,o,a){if(i||(i=n.call(r,t,o,a)))return e})),!!i)};y.size=function(e){return null==e?0:e.length===+e.length?e.length:y.keys(e).length},y.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:i.call(e,Math.max(e.length-t,0))},y.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},y.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}};var S=function(e){return null==e?y.identity:y.isFunction(e)?e:y.property(e)},C=function(e){return function(t,n,r){var i={};return n=S(n),b(t,(function(o,a){var s=n.call(r,o,a,t);e(i,s,o)})),i}};y.groupBy=C((function(e,t,n){y.has(e,t)?e[t].push(n):e[t]=[n]})),y.indexBy=C((function(e,t,n){e[t]=n})),y.sortedIndex=function(e,t,n,r){for(var i=(n=S(n)).call(r,t),o=0,a=e.length;o<a;){var s=o+a>>>1;n.call(r,e[s])<i?o=s+1:a=s}return o},y.contains=y.include=function(e,t){return null!=e&&(e.length!==+e.length&&(e=y.values(e)),y.indexOf(e,t)>=0)},y.pluck=function(e,t){return y.map(e,y.property(t))},y.where=function(e,t){return y.filter(e,y.matches(t))},y.findWhere=function(e,t){return y.find(e,y.matches(t))},y.max=function(e,t,n){if(!t&&y.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var r=-1/0,i=-1/0;return b(e,(function(e,o,a){var s=t?t.call(n,e,o,a):e;s>i&&(r=e,i=s)})),r},y.difference=function(e){var n=o.apply(t,i.call(arguments,1));return y.filter(e,(function(e){return!y.contains(n,e)}))},y.without=function(e){return y.difference(e,i.call(arguments,1))},y.indexOf=function(e,t,n){if(null==e)return-1;var r=0,i=e.length;if(n){if("number"!=typeof n)return e[r=y.sortedIndex(e,t)]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(p&&e.indexOf===p)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1};var x=function(){};y.bind=function(e,t){var n,r;if(v&&e.bind===v)return v.apply(e,i.call(arguments,1));if(!y.isFunction(e))throw new TypeError;return n=i.call(arguments,2),r=function(){if(!(this instanceof r))return e.apply(t,n.concat(i.call(arguments)));x.prototype=e.prototype;var o=new x;x.prototype=null;var a=e.apply(o,n.concat(i.call(arguments)));return Object(a)===a?a:o}},y.partial=function(e){var t=i.call(arguments,1);return function(){for(var n=0,r=t.slice(),i=0,o=r.length;i<o;i++)r[i]===y&&(r[i]=arguments[n++]);for(;n<arguments.length;)r.push(arguments[n++]);return e.apply(this,r)}},y.once=y.partial(y.before,2),y.memoize=function(e,t){var n={};return t||(t=y.identity),function(){var r=t.apply(this,arguments);return y.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},y.delay=function(e,t){var n=i.call(arguments,2);return setTimeout((function(){return e.apply(null,n)}),t)},y.defer=function(e){return y.delay.apply(y,[e,1].concat(i.call(arguments,1)))},y.throttle=function(e,t,n){var r,i,o,a=null,s=0;n||(n={});var l=function(){s=!1===n.leading?0:y.now(),a=null,o=e.apply(r,i),r=i=null};return function(){var c=y.now();s||!1!==n.leading||(s=c);var u=t-(c-s);return r=this,i=arguments,u<=0?(clearTimeout(a),a=null,s=c,o=e.apply(r,i),r=i=null):a||!1===n.trailing||(a=setTimeout(l,u)),o}},y.keys=function(e){if(!y.isObject(e))return[];if(g)return g(e);var t=[];for(var n in e)y.has(e,n)&&t.push(n);return t},y.invert=function(e){for(var t={},n=y.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},y.defaults=function(e){return b(i.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e},y.extend=function(e){return b(i.call(arguments,1),(function(t){if(t)for(var n in t)e[n]=t[n]})),e},y.pick=function(e){var n={},r=o.apply(t,i.call(arguments,1));return b(r,(function(t){t in e&&(n[t]=e[t])})),n},y.omit=function(e){var n={},r=o.apply(t,i.call(arguments,1));for(var a in e)y.contains(r,a)||(n[a]=e[a]);return n},y.clone=function(e){return y.isObject(e)?y.isArray(e)?e.slice():y.extend({},e):e},y.isArray=m||function(e){return"[object Array]"==a.call(e)},y.isObject=function(e){return e===Object(e)},b(["Arguments","Function","String","Number","Date","RegExp"],(function(e){y["is"+e]=function(t){return a.call(t)=="[object "+e+"]"}})),y.isArguments(arguments)||(y.isArguments=function(e){return!(!e||!y.has(e,"callee"))}),y.isFunction=function(e){return"function"==typeof e},y.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},y.isNaN=function(e){return y.isNumber(e)&&e!=+e},y.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"==a.call(e)},y.isNull=function(e){return null===e},y.isUndefined=function(e){return void 0===e},y.has=function(e,t){return s.call(e,t)},y.identity=function(e){return e},y.constant=function(e){return function(){return e}},y.property=function(e){return function(t){return t[e]}},y.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},y.matches=function(e){return function(t){if(t===e)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}},y.now=Date.now||function(){return(new Date).getTime()},y.result=function(e,t){if(null!=e){var n=e[t];return y.isFunction(n)?n.call(e):n}};var E=0;return y.uniqueId=function(e){var t=++E+"";return e?e+t:t},y}.apply(t,[]))||(e.exports=r)},function(e,t,n){var r,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r=[n(7),n(1),n(27),n(14),n(23),n(38),n(11),n(63),n(40),n(66),n(39),n(119),n(118),n(67)],void 0===(i=function(e,t,n,r,i,a,s,l,c,u,d,f,h,p){var m={log:function(){window.console&&("object"===o(console.log)?console.log(Array.prototype.slice.call(arguments,0)):console.log.apply(console,arguments))},between:function(e,t,n){return Math.max(Math.min(e,n),t)},foreach:function(e,t){var n;for(n in e)"function"===m.typeOf(e.hasOwnProperty)?e.hasOwnProperty(n)&&t(n,e[n]):t(n,e[n])}};return m.indexOf=t.indexOf,m.noop=function(){},m.seconds=e.seconds,m.prefix=e.prefix,m.suffix=e.suffix,m.Timer=d,t.extend(m,a,s,c,n,l,r,i,u,f,h,p),m}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r=[n(1)],void 0===(i=function(e){var t=[].slice,n={on:function(e,t,n){return i(this,"on",e,[t,n])&&t?(this._events||(this._events={}),(this._events[e]||(this._events[e]=[])).push({callback:t,context:n}),this):this},once:function(t,n,r){if(!i(this,"once",t,[n,r])||!n)return this;var o=this,a=e.once((function(){o.off(t,a),n.apply(this,arguments)}));return a._callback=n,this.on(t,a,r)},off:function(t,n,r){var o,a,s,l,c,u,d,f;if(!this._events||!i(this,"off",t,[n,r]))return this;if(!t&&!n&&!r)return this._events=void 0,this;for(c=0,u=(l=t?[t]:e.keys(this._events)).length;c<u;c++)if(t=l[c],s=this._events[t]){if(this._events[t]=o=[],n||r)for(d=0,f=s.length;d<f;d++)a=s[d],(n&&n!==a.callback&&n!==a.callback._callback||r&&r!==a.context)&&o.push(a);o.length||delete this._events[t]}return this},trigger:function(e){if(!this._events)return this;var n=t.call(arguments,1);if(!i(this,"trigger",e,n))return this;var r=this._events[e],o=this._events.all;return r&&a(r,n,this),o&&a(o,arguments,this),this},triggerSafe:function(e){if(!this._events)return this;var n=t.call(arguments,1);if(!i(this,"trigger",e,n))return this;var r=this._events[e],o=this._events.all;return r&&s(r,n,this,e),o&&s(o,arguments,this,e),this}},r=/\s+/,i=function(e,t,n,i){if(!n)return!0;if("object"===("undefined"==typeof n?"undefined":o(n))){for(var a in n)e[t].apply(e,[a,n[a]].concat(i));return!1}if(r.test(n)){for(var s=n.split(r),l=0,c=s.length;l<c;l++)e[t].apply(e,[s[l]].concat(i));return!1}return!0},a=function(e,t,n){var r,i=-1,o=e.length,a=t[0],s=t[1],l=t[2];switch(t.length){case 0:for(;++i<o;)(r=e[i]).callback.call(r.context||n);return;case 1:for(;++i<o;)(r=e[i]).callback.call(r.context||n,a);return;case 2:for(;++i<o;)(r=e[i]).callback.call(r.context||n,a,s);return;case 3:for(;++i<o;)(r=e[i]).callback.call(r.context||n,a,s,l);return;default:for(;++i<o;)(r=e[i]).callback.apply(r.context||n,t);return}},s=function(e,t,n,r){for(var i,o=-1,s=e.length;++o<s;)try{(i=e[o]).callback.apply(i.context||n,t)}catch(a){console.log('Error in "'+r+'" event handler:',a)}};return n}.apply(t,r))||(e.exports=i)},function(e,t,n){var r;void 0===(r=function(){var e={COMPLETE:"complete",ERROR:"error",JWPLAYER_AD_CLICK:"adClick",JWPLAYER_AD_COMPANIONS:"adCompanions",JWPLAYER_AD_COMPLETE:"adComplete",JWPLAYER_AD_ERROR:"adError",JWPLAYER_AD_IMPRESSION:"adImpression",JWPLAYER_AD_META:"adMeta",JWPLAYER_AD_PAUSE:"adPause",JWPLAYER_AD_PLAY:"adPlay",JWPLAYER_AD_SKIPPED:"adSkipped",JWPLAYER_AD_TIME:"adTime",JWPLAYER_CAST_AD_CHANGED:"castAdChanged",JWPLAYER_MEDIA_COMPLETE:"complete",JWPLAYER_READY:"ready",JWPLAYER_MEDIA_SEEK:"seek",JWPLAYER_MEDIA_BEFOREPLAY:"beforePlay",JWPLAYER_MEDIA_BEFORECOMPLETE:"beforeComplete",JWPLAYER_MEDIA_BUFFER_FULL:"bufferFull",JWPLAYER_DISPLAY_CLICK:"displayClick",JWPLAYER_PLAYLIST_COMPLETE:"playlistComplete",JWPLAYER_CAST_SESSION:"cast",JWPLAYER_MEDIA_ERROR:"mediaError",JWPLAYER_MEDIA_FIRST_FRAME:"firstFrame",JWPLAYER_MEDIA_PLAY_ATTEMPT:"playAttempt",JWPLAYER_MEDIA_LOADED:"loaded",JWPLAYER_MEDIA_SEEKED:"seeked",JWPLAYER_SETUP_ERROR:"setupError",JWPLAYER_ERROR:"error",JWPLAYER_PLAYER_STATE:"state",JWPLAYER_CAST_AVAILABLE:"castAvailable",JWPLAYER_MEDIA_BUFFER:"bufferChange",JWPLAYER_MEDIA_TIME:"time",JWPLAYER_MEDIA_TYPE:"mediaType",JWPLAYER_MEDIA_VOLUME:"volume",JWPLAYER_MEDIA_MUTE:"mute",JWPLAYER_MEDIA_META:"meta",JWPLAYER_MEDIA_LEVELS:"levels",JWPLAYER_MEDIA_LEVEL_CHANGED:"levelsChanged",JWPLAYER_CONTROLS:"controls",JWPLAYER_FULLSCREEN:"fullscreen",JWPLAYER_RESIZE:"resize",JWPLAYER_PLAYLIST_ITEM:"playlistItem",JWPLAYER_PLAYLIST_LOADED:"playlist",JWPLAYER_AUDIO_TRACKS:"audioTracks",JWPLAYER_AUDIO_TRACK_CHANGED:"audioTrackChanged",JWPLAYER_PLAYBACK_RATE_CHANGED:"playbackRateChanged",JWPLAYER_LOGO_CLICK:"logoClick",JWPLAYER_CAPTIONS_LIST:"captionsList",JWPLAYER_CAPTIONS_CHANGED:"captionsChanged",JWPLAYER_PROVIDER_CHANGED:"providerChanged",JWPLAYER_PROVIDER_FIRST_FRAME:"providerFirstFrame",JWPLAYER_USER_ACTION:"userAction",JWPLAYER_PROVIDER_CLICK:"providerClick",JWPLAYER_VIEW_TAB_FOCUS:"tabFocus",JWPLAYER_CONTROLBAR_DRAGGING:"scrubbing",JWPLAYER_INSTREAM_CLICK:"instreamClick",JWPLAYER_BREAKPOINT:"breakpoint",touchEvents:{DRAG:"drag",DRAG_START:"dragStart",DRAG_END:"dragEnd",CLICK:"click",DOUBLE_CLICK:"doubleClick",TAP:"tap",DOUBLE_TAP:"doubleTap",OVER:"over",MOVE:"move",OUT:"out"}};return e}.apply(t,[]))||(e.exports=r)},function(e,t,n){var r;void 0===(r=function(){return{BUFFERING:"buffering",IDLE:"idle",COMPLETE:"complete",PAUSED:"paused",PLAYING:"playing",ERROR:"error",LOADING:"loading",STALLED:"stalled"}}.apply(t,[]))||(e.exports=r)},function(e,t,n){var r,i;r=[n(3),n(4),n(1),n(2)],void 0===(i=function(e,t,n,r){function i(e,t){return/touch/.test(e.type)?(e.originalEvent||e).changedTouches[0]["page"+t]:e["page"+t]}function o(e,t,n){var r;return r=t instanceof MouseEvent||!t.touches&&!t.changedTouches?t:t.touches&&t.touches.length?t.touches[0]:t.changedTouches[0],{type:e,sourceEvent:t,target:t.target,currentTarget:n,pageX:r.pageX,pageY:r.pageY}}function a(e){(e instanceof MouseEvent||e instanceof window.TouchEvent)&&(e.preventManipulation&&e.preventManipulation(),e.preventDefault&&e.preventDefault())}var s=t.touchEvents,l="PointerEvent"in window,c="ontouchstart"in window,u=!(l||c&&r.isMobile()),d=r.isFF()&&r.isOSX(),f=function(e,t){function r(e){"touch"!==e.pointerType&&v(s.OVER,e)}function c(e){"touch"!==e.pointerType&&v(s.MOVE,e)}function f(t){(u||l&&"touch"!==t.pointerType&&!e.contains(document.elementFromPoint(t.x,t.y)))&&v(s.OUT,t)}function h(e,t,n){e.removeEventListener(t,n),e.addEventListener(t,n)}function p(n){y=n.target,S=i(n,"X"),C=i(n,"Y"),function(e){var t=e||window.event;return e instanceof MouseEvent&&("which"in t?3===t.which:"button"in t&&2===t.button)}(n)||("pointerdown"===n.type&&n.isPrimary?(t.preventScrolling&&(b=n.pointerId,e.setPointerCapture(b)),h(e,"pointermove",m),h(e,"pointercancel",g),"mouse"===n.pointerType&&"OBJECT"===y.nodeName?h(document,"mouseup",g):h(e,"pointerup",g)):"mousedown"===n.type?(h(document,"mousemove",m),d&&"object"===n.target.nodeName.toLowerCase()?h(e,"click",g):h(document,"mouseup",g)):"touchstart"===n.type&&(h(y,"touchmove",m),h(y,"touchcancel",g),h(y,"touchend",g)),t.preventScrolling&&a(n))}function m(e){if(_)v(s.DRAG,e);else{var n=i(e,"X"),r=i(e,"Y"),o=n-S,l=r-C;o*o+l*l>36&&(v(s.DRAG_START,e),_=!0,v(s.DRAG,e))}t.preventScrolling&&a(e)}function g(n){var r="pointerup"===n.type||"pointercancel"===n.type;r&&t.preventScrolling&&e.releasePointerCapture(b),e.removeEventListener("pointermove",m),e.removeEventListener("pointercancel",g),e.removeEventListener("pointerup",g),document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",g),y&&(y.removeEventListener("touchmove",m),y.removeEventListener("touchcancel",g),y.removeEventListener("touchend",g)),_?v(s.DRAG_END,n):t.directSelect&&n.target!==e||-1!==n.type.indexOf("cancel")||("mouseup"===n.type||"click"===n.type||r&&"mouse"===n.pointerType?v(s.CLICK,n):(v(s.TAP,n),"touchend"===n.type&&a(n))),y=null,_=!1}function v(e,r){var i;if(t.enableDoubleTap&&(e===s.CLICK||e===s.TAP))if(n.now()-x<E){var a=e===s.CLICK?s.DOUBLE_CLICK:s.DOUBLE_TAP;i=o(a,r,w),P.trigger(a,i),x=0}else x=n.now();i=o(e,r,w),P.trigger(e,i)}var y,b,w=e,_=!1,S=0,C=0,x=0,E=300;t=t||{},l?(e.addEventListener("pointerdown",p),t.useHover&&(e.addEventListener("pointerover",r),e.addEventListener("pointerout",f)),t.useMove&&e.addEventListener("pointermove",c)):(u&&(e.addEventListener("mousedown",p),t.useHover&&(e.addEventListener("mouseover",r),e.addEventListener("mouseout",f)),t.useMove&&e.addEventListener("mousemove",c)),e.addEventListener("touchstart",p));var P=this;return this.triggerEvent=v,this.destroy=function(){this.off(),e.removeEventListener("touchstart",p),e.removeEventListener("mousedown",p),y&&(y.removeEventListener("touchmove",m),y.removeEventListener("touchcancel",g),y.removeEventListener("touchend",g),y=null),l&&(t.preventScrolling&&e.releasePointerCapture(b),e.removeEventListener("pointerover",r),e.removeEventListener("pointerdown",p),e.removeEventListener("pointermove",m),e.removeEventListener("pointermove",c),e.removeEventListener("pointercancel",g),e.removeEventListener("pointerout",f),e.removeEventListener("pointerup",g)),e.removeEventListener("click",g),e.removeEventListener("mouseover",r),e.removeEventListener("mousemove",c),e.removeEventListener("mouseout",f),document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",g)},this};return f.getPointerType=function(e){return l&&e instanceof window.PointerEvent?"touch"===e.pointerType?"touch":"mouse":c&&e instanceof window.TouchEvent?"touch":"mouse"},n.extend(f.prototype,e),f}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(1)],void 0===(i=function(e){var t=function(e,t,n){for(e=""+e,n=n||"0";e.length<t;)e=n+e;return e};return{trim:function(e){return e.replace(/^\s+|\s+$/g,"")},pad:t,xmlAttribute:function(e,t){for(var n=0;n<e.attributes.length;n++)if(e.attributes[n].name&&e.attributes[n].name.toLowerCase()===t.toLowerCase())return e.attributes[n].value.toString();return""},extension:function(e){if(!e||"rtmp"===e.substr(0,4))return"";var t=function(e){return/[\(,]format=m3u8-/i.test(e)?"m3u8":!!/[\(,]format=mpd-/i.test(e)&&"mpd"}(e);return t||((e=e.split("?")[0].split("#")[0]).lastIndexOf(".")>-1?e.substr(e.lastIndexOf(".")+1,e.length).toLowerCase():void 0)},hms:function(e){var n=parseInt(e/3600),r=parseInt(e/60)%60,i=e%60;return t(n,2)+":"+t(r,2)+":"+t(i.toFixed(3),6)},seconds:function(t,n){if(e.isNumber(t))return t;var r=(t=t.replace(",",".")).split(":"),i=r.length,o=0;if("s"===t.slice(-1))o=parseFloat(t);else if("m"===t.slice(-1))o=60*parseFloat(t);else if("h"===t.slice(-1))o=3600*parseFloat(t);else if(i>1){var a=i-1;4===i&&(n&&(o=parseFloat(r[a])/n),a-=1),o+=parseFloat(r[a]),o+=60*parseFloat(r[a-1]),i>=3&&(o+=3600*parseFloat(r[a-2]))}else o=parseFloat(t);return o},suffix:function(t,n){return e.map(t,(function(e){return e+n}))},prefix:function(t,n){return e.map(t,(function(e){return n+e}))}}}.apply(t,r))||(e.exports=i)},,,function(e,t,n){var r,i;r=[n(2),n(4),n(5),n(1)],void 0===(i=function(e,t,n,r){var i=e.noop,o=r.constant(!1);return{supports:o,play:i,load:i,stop:i,volume:i,mute:i,seek:i,resize:i,remove:i,destroy:i,setVisibility:i,setFullscreen:o,getFullscreen:i,getContainer:i,setContainer:o,getName:i,getQualityLevels:i,getCurrentQuality:i,setCurrentQuality:i,getAudioTracks:i,getCurrentAudioTrack:i,setCurrentAudioTrack:i,setPlaybackRate:i,getPlaybackRate:function(){return 1},checkComplete:i,setControls:i,attachMedia:i,detachMedia:i,setState:function(e){var r=this.state||n.IDLE;this.state=e,e!==r&&this.trigger(t.JWPLAYER_PLAYER_STATE,{newstate:e})},sendMediaType:function(e){var n=e[0].type,r="oga"===n||"aac"===n||"mp3"===n||"mpeg"===n||"vorbis"===n;this.trigger(t.JWPLAYER_MEDIA_TYPE,{mediaType:r?"audio":"video"})}}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(1)],void 0===(i=function(e){var t={},n={TIT2:"title",TT2:"title",WXXX:"url",TPE1:"artist",TP1:"artist",TALB:"album",TAL:"album"};return t.utf8ArrayToStr=function(e,t){var n,r,i,o,a,s;for(n="",i=e.length,r=t||0;r<i;)if(0!==(o=e[r++])&&3!==o)switch(o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:n+=String.fromCharCode(o);break;case 12:case 13:a=e[r++],n+=String.fromCharCode((31&o)<<6|63&a);break;case 14:a=e[r++],s=e[r++],n+=String.fromCharCode((15&o)<<12|(63&a)<<6|(63&s)<<0)}return n},t.utf16BigEndianArrayToStr=function(e,t){var n,r,i;for(n="",i=e.length-1,r=t||0;r<i;)254===e[r]&&255===e[r+1]||(n+=String.fromCharCode((e[r]<<8)+e[r+1])),r+=2;return n},t.syncSafeInt=function(e){var n=t.arrayToInt(e);return 127&n|(32512&n)>>1|(8323072&n)>>2|(2130706432&n)>>3},t.arrayToInt=function(e){for(var t="0x",n=0;n<e.length;n++)e[n]<16&&(t+="0"),t+=e[n].toString(16);return parseInt(t)},t.parseID3=function(r){return e.reduce(r,(function(r,i){if(!("value"in i)&&"data"in i&&i.data instanceof ArrayBuffer){var o=new Uint8Array(i.data),a=o.length;i={value:{key:"",data:""}};for(var s=10;s<14&&s<o.length&&0!==o[s];)i.value.key+=String.fromCharCode(o[s]),s++;var l=19,c=o[l];3!==c&&0!==c||(c=o[++l],a--);var u=0;if(1!==c&&2!==c)for(var d=l+1;d<a;d++)if(0===o[d]){u=d-l;break}if(u>0){var f=t.utf8ArrayToStr(o.subarray(l,l+=u),0);if("PRIV"===i.value.key){if("com.apple.streaming.transportStreamTimestamp"===f){var h=1&t.syncSafeInt(o.subarray(l,l+=4)),p=t.syncSafeInt(o.subarray(l,l+=4));h&&(p+=4294967296),i.value.data=p}else i.value.data=t.utf8ArrayToStr(o,l+1);i.value.info=f}else i.value.info=f,i.value.data=t.utf8ArrayToStr(o,l+1)}else{var m=o[l];i.value.data=1===m||2===m?t.utf16BigEndianArrayToStr(o,l+1):t.utf8ArrayToStr(o,l+1)}}if(n.hasOwnProperty(i.value.key)&&(r[n[i.value.key]]=i.value.data),i.value.info){var g=r[i.value.key];e.isObject(g)||(g={},r[i.value.key]=g),g[i.value.info]=i.value.data}else r[i.value.key]=i.value.data;return r}),{})},t}.apply(t,r))||(e.exports=i)},function(e,t,n){var r;void 0===(r=function(){return{createId:function(e,t){var n=e.kind||"cc";return e.default||e.defaulttrack?"default":e._id||e.file||n+t},createLabel:function(e,t){var n=e.label||e.name||e.language;return n||(n="Unknown CC",(t+=1)>1&&(n+=" ["+t+"]")),{label:n,unknownCount:t}}}}.apply(t,[]))||(e.exports=r)},function(e,t,n){var r,i;r=[n(1),n(2),n(20),n(35),n(103),n(36)],void 0===(i=function(e,t,r,i,o,a){function s(e,t,n,a){var s,c,u=e.responseXML?e.responseXML.firstChild:null;if(u)for("xml"===r.localName(u)&&(u=u.nextSibling);u.nodeType===u.COMMENT_NODE;)u=u.nextSibling;try{if(u&&"tt"===r.localName(u))s=o(e.responseXML),c=this.convertToVTTCues(s),delete t.xhr,n(c);else{var d=e.responseText;d.indexOf("WEBVTT")>=0?l(d,t,n,a):(s=i(d),c=this.convertToVTTCues(s),delete t.xhr,n(c))}}catch(f){delete t.xhr,a(f)}}function l(e,t,r,i){n.e(13,(function(o){var a=new(n(25))(window),s=[];a.oncue=function(e){s.push(e)},a.onflush=function(){delete t.xhr,r(s)};try{a.parse(e)}catch(l){delete t.xhr,i(l)}}))}var c={loadFile:function(e,n,r){e.xhr=t.ajax(e.file,(function(t){s.call(c,t,e,n,r)}),r)},cancelXhr:function(t){e.each(t,(function(e){var t=e.xhr;t&&(t.onload=null,t.onreadystatechange=null,t.onerror=null,"abort"in t&&t.abort()),delete e.xhr}))},convertToVTTCues:function(t){return e.map(t,(function(e){return new a(e.begin,e.end,e.text)}))}};return c}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(7),n(1),n(115)],void 0===(i=function(e,t,n){var r={createElement:function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild},styleDimension:function(e){return e+(e.toString().indexOf("%")>0?"":"px")}},i=function(e){return t.isString(e.className)?e.className.split(" "):[]},o=function(t,n){n=e.trim(n),t.className!==n&&(t.className=n)};return r.classList=function(e){return e.classList?e.classList:i(e)},r.hasClass=n.hasClass,r.addClass=function(e,n){var r=i(e),a=t.isArray(n)?n:n.split(" ");t.each(a,(function(e){t.contains(r,e)||r.push(e)})),o(e,r.join(" "))},r.removeClass=function(e,n){var r=i(e),a=t.isArray(n)?n:n.split(" ");o(e,t.difference(r,a).join(" "))},r.replaceClass=function(e,t,n){var r=e.className||"";t.test(r)?r=r.replace(t,n):n&&(r+=" "+n),o(e,r)},r.toggleClass=function(e,n,i){var o=r.hasClass(e,n);(i=t.isBoolean(i)?i:!o)!==o&&(i?r.addClass(e,n):r.removeClass(e,n))},r.emptyElement=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},r.addStyleSheet=function(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)},r.empty=function(e){if(e)for(;e.childElementCount>0;)e.removeChild(e.children[0])},r.bounds=function(e){var t={left:0,right:0,width:0,height:0,top:0,bottom:0};if(!e||!document.body.contains(e))return t;var n=e.getBoundingClientRect(),r=window.pageYOffset,i=window.pageXOffset;return n.width||n.height||n.left||n.top?(t.left=n.left+i,t.right=n.right+i,t.top=n.top+r,t.bottom=n.bottom+r,t.width=n.right-n.left,t.height=n.bottom-n.top,t):t},r}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(4),n(3),n(1)],void 0===(i=function(e,t,n){var r={},i={NEW:0,LOADING:1,ERROR:2,COMPLETE:3},o=function(o,a){function s(t){u=i.ERROR,c.trigger(e.ERROR,t)}function l(t){u=i.COMPLETE,c.trigger(e.COMPLETE,t)}var c=n.extend(this,t),u=i.NEW;this.addEventListener=this.on,this.removeEventListener=this.off,this.makeStyleLink=function(e){var t=document.createElement("link");return t.type="text/css",t.rel="stylesheet",t.href=e,t},this.makeScriptTag=function(e){var t=document.createElement("script");return t.src=e,t},this.makeTag=a?this.makeStyleLink:this.makeScriptTag,this.load=function(){if(u===i.NEW){var t=r[o];if(t&&(u=t.getStatus())<2)return t.on(e.ERROR,s),void t.on(e.COMPLETE,l);var n=document.getElementsByTagName("head")[0]||document.documentElement,c=this.makeTag(o),d=!1;c.onload=c.onreadystatechange=function(e){d||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(d=!0,l(e),c.onload=c.onreadystatechange=null,n&&c.parentNode&&!a&&n.removeChild(c))},c.onerror=s,n.insertBefore(c,n.firstChild),u=i.LOADING,r[o]=this}},this.getStatus=function(){return u}};return o.loaderstatus=i,o}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(1)],void 0===(i=function(e){var t="free",n="premium",r="enterprise",i="platinum",o="ads",a="unlimited",s="trial",l={setup:[t,n,r,o,a,s,i],dash:[n,r,o,a,s,i],drm:[r,o,a,s],hls:[n,o,r,a,s,i],ads:[o,a,s,i,r],casting:[n,r,o,a,s,i],jwpsrv:[t,n,r,o,s,i]};return function(t){return function(n){return e.contains(l[n],t)}}}.apply(t,r))||(e.exports=i)},,,,function(e,t,n){var r,i;r=[n(7)],void 0===(i=function(e){return{localName:function(e){var t="";return e&&(e.localName?t=e.localName:e.baseName&&(t=e.baseName)),t},textContent:function(t){var n="";return t&&(t.textContent?n=e.trim(t.textContent):t.text&&(n=e.trim(t.text))),n},getChildNode:function(e,t){return e.childNodes[t]},numChildren:function(e){return e.childNodes?e.childNodes.length:0}}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(107),n(108),n(55),n(26)],void 0===(i=function(e,t,n,r){var i={},o={};return{loadPlugins:function(n,r){return o[n]=new e(new t(i),r),o[n]},registerPlugin:function(e,t,o,a){var s=r.getPluginName(e);i[s]||(i[s]=new n(e)),i[s].registerPlugin(e,t,o,a)}}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r;void 0===(r=function(){return{repo:"http://ssl.p.jwpcdn.com/player/v/",SkinsIncluded:["seven"],SkinsLoadable:["beelden","bekle","five","glow","roundster","six","stormtrooper","vapor"],dvrSeekLimit:-25}}.apply(t,[]))||(e.exports=r)},function(e,t,n){var r,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r=[n(7),n(49)],void 0===(i=function(e,t){function n(e){e=e.split("-");for(var t=1;t<e.length;t++)e[t]=e[t].charAt(0).toUpperCase()+e[t].slice(1);return e.join("")}function r(t,n){return""===n||void 0===n||null===n?"":"string"==typeof n&&isNaN(n)?/png|gif|jpe?g/i.test(n)&&n.indexOf("url")<0?"url("+n+")":n:0===n||"z-index"===t||"opacity"===t?""+n:/color/i.test(t)?"#"+e.pad(n.toString(16).replace(/^0x/i,""),6):Math.ceil(n)+"px"}var i,a=function(e,t){if(void 0!==e&&null!==e){void 0===e.length&&(e=[e]);var i,o={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(o[i]=r(i,t[i]));for(var a=0;a<e.length;a++){var s,l=e[a];if(void 0!==l&&null!==l)for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(s=n(i),l.style[s]!==o[i]&&(l.style[s]=o[i]))}}},s=function(e,t){var n="rgb",r=void 0!==t&&100!==t;if(r&&(n+="a"),!i){var o=document.createElement("canvas");o.height=1,o.width=1,i=o.getContext("2d")}e?isNaN(parseInt(e,16))||(e="#"+e):e="#000000",i.clearRect(0,0,1,1),i.fillStyle=e,i.fillRect(0,0,1,1);var a=i.getImageData(0,0,1,1).data;return n+="("+a[0]+", "+a[1]+", "+a[2],r&&(n+=", "+t/100),n+")"};return{css:function(e,n,r,i){r=r||"all-players";var s="";if("object"===("undefined"==typeof n?"undefined":o(n))){var l=document.createElement("div");a(l,n);var c=l.style.cssText;i&&c&&(c=c.replace(/;/g," !important;")),s="{"+c+"}"}else"string"==typeof n&&(s=n);return""===s||"{}"===s?void t.clear(r,e):void t.style([[e,e+s]],r)},style:a,clearCss:t.clear,transform:function(e,t){a(e,{transform:t,webkitTransform:t,msTransform:t,mozTransform:t,oTransform:t})},hexToRgba:s,getRgba:s}}.apply(t,r))||(e.exports=i)},,,function(e,t,n){var r,i;r=[n(7)],void 0===(i=function(e){var t={},n=t.pluginPathType={ABSOLUTE:0,RELATIVE:1,CDN:2};return t.getPluginPathType=function(t){if("string"==typeof t){var r=(t=t.split("?")[0]).indexOf("://");if(r>0)return n.ABSOLUTE;var i=t.indexOf("/"),o=e.extension(t);return!(r<0&&i<0)||o&&isNaN(o)?n.RELATIVE:n.CDN}},t.getPluginName=function(e){return e.replace(/^(.*\/)?([^-]*)-?.*\.(swf|js)$/,"$2")},t.getPluginVersion=function(e){return e.replace(/[^-]*-?([^\.]*).*$/,"$1")},t}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(1)],void 0===(i=function(e){function t(e){return function(){return r(e)}}var n={},r=e.memoize((function(e){return null!==navigator.userAgent.toLowerCase().match(e)})),i=n.isInt=function(e){return parseFloat(e)%1===0};n.isFlashSupported=function(){var e=n.flashVersion();return e&&e>=18},n.isFF=t(/gecko\//i),n.isIPod=t(/iP(hone|od)/i),n.isIPad=t(/iPad/i),n.isSafari602=t(/Macintosh.*Mac OS X 10_8.*6\.0\.\d* Safari/i),n.isOSX=t(/Mac OS X/i),n.isFacebook=t(/FBAV/i);var o=n.isEdge=function(e){return r(e?new RegExp("\\sedge\\/"+e,"i"):/\sEdge\/\d+/i)},a=n.isIETrident=t(/trident\/.+rv:\s*11/i),s=n.isMSIE=function(e){return e?(e=parseFloat(e).toFixed(1),r(new RegExp("msie\\s*"+e,"i"))):r(/msie/i)};n.isChrome=function(){return r(/\s(?:Chrome|CriOS)\//i)&&!n.isEdge()},n.isIE=function(e){return e?(e=parseFloat(e).toFixed(1))>=12?o(e):e>=11?a():s(e):o()||a()||s()},n.isSafari=function(){return r(/safari/i)&&!r(/chrome/i)&&!r(/crios/i)&&!r(/chromium/i)&&!r(/android/i)};var l=n.isIOS=function(e){return r(e?new RegExp("iP(hone|ad|od).+\\s(OS\\s"+e+"|.*\\sVersion/"+e+")","i"):/iP(hone|ad|od)/i)};n.isAndroidNative=function(e){return c(e,!0)};var c=n.isAndroid=function(e,t){return!(t&&r(/chrome\/[123456789]/i)&&!r(/chrome\/18/))&&(e?(i(e)&&!/\./.test(e)&&(e+="."),r(new RegExp("Android\\s*"+e,"i"))):r(/Android/i))};return n.isMobile=function(){return l()||c()},n.isIframe=function(){try{return window.self!==window.top}catch(e){return!0}},n.flashVersion=function(){if(n.isAndroid())return 0;var e,t=navigator.plugins;if(t&&((e=t["Shockwave Flash"])&&e.description))return parseFloat(e.description.replace(/\D+(\d+\.?\d*).*/,"$1"));if("undefined"!=typeof window.ActiveXObject){try{if(e=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash"))return parseFloat(e.GetVariable("$version").split(" ")[1].replace(/\s*,\s*/,"."))}catch(r){return 0}return e}return 0},n}.apply(t,r))||(e.exports=i)},function(e,t,n){var r;void 0===(r=function(){return"7.12.13+commercial_v7-12-13.244.commercial.e03d90.hls.js..jwplayer.bdc5e4.freewheel.98a531.googima.56bbb2.vast.aa7c7d.analytics.785f4d.plugin-gapro.fb7ea6.plugin-related.7adae3.plugin-sharing.586630.vr-plugin.725b2e"}.apply(t,[]))||(e.exports=r)},function(e,t,n){var r,i;r=[n(1),n(16)],void 0===(i=function(e,t){var n,r=[{configName:"clearkey",keyName:"org.w3.clearkey"},{configName:"widevine",keyName:"com.widevine.alpha"},{configName:"playready",keyName:"com.microsoft.playready"}],i=[],o={},a=function(e){return new Promise((function(t,n){var r;try{r=new window.MSMediaKeys(e)}catch(i){}r?t():n()}))},s=function(t){var s=a;return navigator.requestMediaKeySystemAccess&&(s=navigator.requestMediaKeySystemAccess.bind(navigator)),n?n.then(t):(e.forEach(r,(function(e){var t=s(e.keyName,[{initDataTypes:["cenc"],videoCapabilities:[{contentType:'video/mp4;codecs="avc1.4d401e"'}],audioCapabilities:[{contentType:'audio/mp4;codecs="mp4a.40.2"'}]}]).then((function(){o[e.configName]=!0})).catch((function(){o[e.configName]=!1}));i.push(t)})),n=Promise.all(i).then(t))},l=function(e){return o[e]};return{containsDrm:function(t){var n=t.get("playlist");return!!t.get("drm")||e.some(n,(function(t){return!!t.drm||e.some(t.sources,(function(e){return!!e.drm}))}))},probe:function(e,n){(navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||window.MSMediaKeys)&&t(n)("drm")?s(e):e()},anySupported:function(t){n||console.error('DRM only supported with "drm" block in initial setup.',t);var r=e.keys(t);return e.some(r,(function(e){return l(e)}))},isSupported:l}}.apply(t,r))||(e.exports=i)},,,,function(e,t,n){var r,i;r=[n(2),n(45),n(99),n(1),n(3),n(117),n(4),n(5)],void 0===(i=function(e,t,n,r,i,o,a,s){var l=function(){function o(e,t){var n=r.extend({},t,{type:e}),i=this.mediaModel;switch(e){case"flashThrottle":var o="resume"!==t.state;this.set("flashThrottle",o),this.set("flashBlocked",o);break;case"flashBlocked":return void this.set("flashBlocked",!0);case"flashUnblocked":return void this.set("flashBlocked",!1);case"volume":return void this.set(e,t[e]);case"mute":return void(this.get("autostartMuted")||this.set(e,t[e]));case"ratechange":var l=t.playbackRate;return void(l>0&&this.set("playbackRate",l));case a.JWPLAYER_MEDIA_TYPE:return void(i.get("mediaType")!==t.mediaType&&(i.set("mediaType",t.mediaType),this.mediaController.trigger(e,n)));case a.JWPLAYER_PLAYER_STATE:return void i.set("state",t.newstate);case a.JWPLAYER_MEDIA_BUFFER:this.set("buffer",t.bufferPercent);case a.JWPLAYER_MEDIA_META:var c=t.duration;r.isNumber(c)&&!r.isNaN(c)&&(i.set("duration",c),this.set("duration",c));break;case a.JWPLAYER_MEDIA_BUFFER_FULL:i.get("playAttempt")?this.playVideo():i.on("change:playAttempt",(function(){this.playVideo()}),this),this.setPlaybackRate(this.get("defaultPlaybackRate"));break;case a.JWPLAYER_MEDIA_TIME:i.set("position",t.position),this.set("position",t.position),r.isNumber(t.duration)&&(i.set("duration",t.duration),this.set("duration",t.duration));break;case a.JWPLAYER_PROVIDER_CHANGED:this.set("provider",d.getName());break;case a.JWPLAYER_MEDIA_LEVELS:this.setQualityLevel(t.currentQuality,t.levels),i.set("levels",t.levels);break;case a.JWPLAYER_MEDIA_LEVEL_CHANGED:this.setQualityLevel(t.currentQuality,t.levels),this.persistQualityLevel(t.currentQuality,t.levels);break;case a.JWPLAYER_MEDIA_COMPLETE:return h=!0,this.mediaController.trigger(a.JWPLAYER_MEDIA_BEFORECOMPLETE,n),void(p&&this.playbackComplete());case a.JWPLAYER_AUDIO_TRACKS:this.setCurrentAudioTrack(t.currentTrack,t.tracks),i.set("audioTracks",t.tracks);break;case a.JWPLAYER_AUDIO_TRACK_CHANGED:this.setCurrentAudioTrack(t.currentTrack,t.tracks);break;case"subtitlesTrackChanged":this.persistVideoSubtitleTrack(t.currentTrack,t.tracks);break;case"visualQuality":var u=r.extend({},t);i.set("visualQuality",u);break;case"autoplayFailed":this.set("autostartFailed",!0),i.get("state")===s.PLAYING&&i.set("state",s.PAUSED)}this.mediaController.trigger(e,n)}function l(){var t=!f.get("advertising")||f.get("advertising").autoplayadsmuted,n=!!e.isIOS()&&!(e.isIOS(6)||e.isIOS(7)||e.isIOS(8)||e.isIOS(9))&&(e.isSafari()||e.isChrome()||e.isFacebook()),r=e.isAndroid()&&e.isChrome(),i=n||r,o=1===f.get("sdkplatform");return!f.get("sdkplatform")&&t&&i||o}var u,d,f=this,h=!1,p=!0;this.mediaController=r.extend({},i),this.mediaModel=new c,n.model(this),this.set("mediaModel",this.mediaModel),this.setup=function(e){return r.extend(this.attributes,e,{item:0,itemMeta:{},playlistItem:void 0,state:s.IDLE,flashBlocked:!1,provider:void 0,duration:0,position:0,buffer:0}),this.updateProviders(),this},this.getConfiguration=function(){return r.omit(this.clone(),["mediaModel"])},this.updateProviders=function(){u=new t(this.getConfiguration())},this.setQualityLevel=function(e,t){e>-1&&t.length>1&&"youtube"!==d.getName().name&&this.mediaModel.set("currentLevel",parseInt(e))},this.persistQualityLevel=function(e,t){var n=(t[e]||{}).label;this.set("qualityLabel",n)},this.setCurrentAudioTrack=function(e,t){e>-1&&t.length>0&&e<t.length&&this.mediaModel.set("currentAudioTrack",parseInt(e))},this.onMediaContainer=function(){var e=this.get("mediaContainer");d.setContainer(e)},this.changeVideoProvider=function(e){if(this.off("change:mediaContainer",this.onMediaContainer),d&&(d.off(null,null,this),d.getContainer()&&d.remove(),delete d.instreamMode),!e)return this.resetProvider(),void this.set("provider",void 0);d=new e(f.get("id"),f.getConfiguration());var t=this.get("mediaContainer");t?d.setContainer(t):this.once("change:mediaContainer",this.onMediaContainer),-1===d.getName().name.indexOf("flash")&&(this.set("flashThrottle",void 0),this.set("flashBlocked",!1)),d.volume(f.get("volume")),d.mute(this.autoStartOnMobile()||f.get("mute")),d.on("all",o,this),this.setPlaybackRate(this.get("defaultPlaybackRate")),this.set("playbackRate",d.getPlaybackRate()),!0===this.get("instreamMode")&&(d.instreamMode=!0),this.set("renderCaptionsNatively",d.renderNatively)},this.checkComplete=function(){return h},this.detachMedia=function(){return p=!1,d.off("all",o,this),d.detachMedia()},this.attachMedia=function(){p=!0,d.off("all",o,this),d.on("all",o,this),h&&this.playbackComplete(),d.attachMedia(),this.setPlaybackRate(this.get("defaultPlaybackRate"))},this.playbackComplete=function(){h=!1,d.setState(s.COMPLETE),this.mediaController.trigger(a.JWPLAYER_MEDIA_COMPLETE,{})},this.destroy=function(){this.off(),d&&(d.off(null,null,this),d.destroy())},this.getVideo=function(){return d},this.setFullscreen=function(e){(e=!!e)!==f.get("fullscreen")&&f.set("fullscreen",e)},this.chooseProvider=function(e){return u.choose(e).provider},this.setItemIndex=function(e){var t=this.get("playlist");e=((e=parseInt(e,10)||0)+t.length)%t.length,this.set("item",e),this.set("playlistItem",t[e]),this.setActiveItem(t[e])},this.setActiveItem=function(t){this.mediaModel.off(),this.mediaModel=new c,this.set("itemMeta",{}),this.set("mediaModel",this.mediaModel),this.set("position",t.starttime||0),this.set("minDvrWindow",t.minDvrWindow),this.set("duration",t.duration&&e.seconds(t.duration)||0),this.setProvider(t)},this.setProvider=function(e){var t=e&&e.sources&&e.sources[0];if(void 0!==t){var n=this.chooseProvider(t);n&&d instanceof n||f.changeVideoProvider(n),d&&(d.init&&d.init(e),this.set("provider",d.getName()),this.trigger("itemReady",e))}},this.getProviders=function(){return u},this.resetProvider=function(){d=null},this.setVolume=function(e){e=Math.round(e),this.set("volume",e),d&&d.volume(e);var t=0===e;t!==this.getMute()&&this.setMute(t)},this.getMute=function(){return this.get("autostartMuted")||this.get("mute")},this.setMute=function(t){if(e.exists(t)||(t=!this.getMute()),this.set("mute",t),d&&d.mute(t),!t){var n=Math.max(10,this.get("volume"));this.set("autostartMuted",!1),this.setVolume(n)}},this.setStreamType=function(e){this.set("streamType",e),"LIVE"===e&&this.setPlaybackRate(1)},this.setPlaybackRate=function(t){p&&r.isNumber(t)&&(t=e.between(t,.25,4),"LIVE"===this.get("streamType")&&(t=1),this.set("defaultPlaybackRate",t),d&&d.setPlaybackRate&&d.setPlaybackRate(t))},this.loadVideo=function(t){t||(t=this.get("playlist")[this.get("item")]),this.set("position",t.starttime||0),this.set("duration",t.duration&&e.seconds(t.duration)||0),this.mediaModel.set("playAttempt",!0),this.mediaController.trigger(a.JWPLAYER_MEDIA_PLAY_ATTEMPT,{playReason:this.get("playReason")}),d.load(t)},this.stopVideo=function(){d&&d.stop()},this.playVideo=function(){d.play()},this.persistCaptionsTrack=function(){var e=this.get("captionsTrack");e?this.set("captionLabel",e.name):this.set("captionLabel","Off")},this.setVideoSubtitleTrack=function(e,t){this.set("captionsIndex",e),e&&t&&e<=t.length&&t[e-1].data&&this.set("captionsTrack",t[e-1]),d&&d.setSubtitlesTrack&&d.setSubtitlesTrack(e)},this.persistVideoSubtitleTrack=function(e,t){this.setVideoSubtitleTrack(e,t),this.persistCaptionsTrack()},this.autoStartOnMobile=function(){return this.get("autostart")&&l()},this.setAutoStart=function(e){r.isUndefined(e)||this.set("autostart",e);var t=this.autoStartOnMobile();t&&this.set("autostartMuted",!0),this.set("playOnViewable",t||"viewable"===this.get("autostart"))}},c=l.MediaModel=function(){this.set("state",s.IDLE)};return r.extend(l.prototype,o),r.extend(c.prototype,o),l}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(5)],void 0===(i=function(e){function t(t){return t===e.COMPLETE||t===e.ERROR?e.IDLE:t}return function(e,n,r){if((n=t(n))!==(r=t(r))){var i=n.replace(/(?:ing|d)$/,""),o={type:i,newstate:n,oldstate:r,reason:e.mediaModel.get("state")};"play"===i?o.playReason=e.get("playReason"):"pause"===i&&(o.pauseReason=e.get("pauseReason")),this.trigger(i,o)}}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(2),n(7)],void 0===(i=function(e,t){function n(e){var t={},n=e.split("\r\n");1===n.length&&(n=e.split("\n"));var i=1;if(n[0].indexOf(" --\x3e ")>0&&(i=0),n.length>i+1&&n[i+1]){var o=n[i],a=o.indexOf(" --\x3e ");a>0&&(t.begin=r(o.substr(0,a)),t.end=r(o.substr(a+5)),t.text=n.slice(i+1).join("\r\n"))}return t}var r=e.seconds;return function(e){var r=[],i=(e=t.trim(e)).split("\r\n\r\n");1===i.length&&(i=e.split("\n\n"));for(var o=0;o<i.length;o++)if("WEBVTT"!==i[o]){var a=n(i[o]);a.text&&r.push(a)}return r}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r;void 0===(r=function(){function e(e){return"string"==typeof e&&(!!i[e.toLowerCase()]&&e.toLowerCase())}function t(e){return"string"==typeof e&&(!!o[e.toLowerCase()]&&e.toLowerCase())}function n(n,i,o){var a=this;a.hasBeenReset=!1;var s="",l=!1,c=n,u=i,d=o,f=null,h="",p=!0,m="auto",g="start",v=50,y="middle",b=50,w="middle";Object.defineProperty(a,"id",{enumerable:!0,get:function(){return s},set:function(e){s=""+e}}),Object.defineProperty(a,"pauseOnExit",{enumerable:!0,get:function(){return l},set:function(e){l=!!e}}),Object.defineProperty(a,"startTime",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");c=e,this.hasBeenReset=!0}}),Object.defineProperty(a,"endTime",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");u=e,this.hasBeenReset=!0}}),Object.defineProperty(a,"text",{enumerable:!0,get:function(){return d},set:function(e){d=""+e,this.hasBeenReset=!0}}),Object.defineProperty(a,"region",{enumerable:!0,get:function(){return f},set:function(e){f=e,this.hasBeenReset=!0}}),Object.defineProperty(a,"vertical",{enumerable:!0,get:function(){return h},set:function(t){var n=e(t);if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");h=n,this.hasBeenReset=!0}}),Object.defineProperty(a,"snapToLines",{enumerable:!0,get:function(){return p},set:function(e){p=!!e,this.hasBeenReset=!0}}),Object.defineProperty(a,"line",{enumerable:!0,get:function(){return m},set:function(e){if("number"!=typeof e&&e!==r)throw new SyntaxError("An invalid number or illegal string was specified.");m=e,this.hasBeenReset=!0}}),Object.defineProperty(a,"lineAlign",{enumerable:!0,get:function(){return g},set:function(e){var n=t(e);if(!n)throw new SyntaxError("An invalid or illegal string was specified.");g=n,this.hasBeenReset=!0}}),Object.defineProperty(a,"position",{enumerable:!0,get:function(){return v},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");v=e,this.hasBeenReset=!0}}),Object.defineProperty(a,"positionAlign",{enumerable:!0,get:function(){return y},set:function(e){var n=t(e);if(!n)throw new SyntaxError("An invalid or illegal string was specified.");y=n,this.hasBeenReset=!0}}),Object.defineProperty(a,"size",{enumerable:!0,get:function(){return b},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");b=e,this.hasBeenReset=!0}}),Object.defineProperty(a,"align",{enumerable:!0,get:function(){return w},set:function(e){var n=t(e);if(!n)throw new SyntaxError("An invalid or illegal string was specified.");w=n,this.hasBeenReset=!0}}),a.displayState=void 0}if(window.VTTCue)return window.VTTCue;var r="auto",i={"":!0,lr:!0,rl:!0},o={start:!0,middle:!0,end:!0,left:!0,right:!0};return n.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},n}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){var r,i;r=[n(1),n(54),n(106)],void 0===(i=function(e,t,n){var r={sources:[],tracks:[],minDvrWindow:120};return function(i){i=i||{},e.isArray(i.tracks)||delete i.tracks;var o=e.extend({},r,i);e.isObject(o.sources)&&!e.isArray(o.sources)&&(o.sources=[t(o.sources)]),e.isArray(o.sources)&&0!==o.sources.length||(i.levels?o.sources=i.levels:o.sources=[t(i)]);for(var a=0;a<o.sources.length;a++){var s=o.sources[a];if(s){var l=s.default;s.default=!!l&&"true"===l.toString(),o.sources[a].label||(o.sources[a].label=a.toString()),o.sources[a]=t(o.sources[a])}}return o.sources=e.compact(o.sources),e.isArray(o.tracks)||(o.tracks=[]),e.isArray(o.captions)&&(o.tracks=o.tracks.concat(o.captions),delete o.captions),o.tracks=e.compact(e.map(o.tracks,n)),o}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(40)],void 0===(i=function(e,t){function r(t){return e.some(t,(function(e){return"parsererror"===e.nodeName}))}var i={getAbsolutePath:function(e,n){if(t.exists(n)||(n=document.location.href),t.exists(e)){if(function(e){return/^(?:(?:https?|file)\:)?\/\//.test(e)}(e))return e;var r,i=n.substring(0,n.indexOf("://")+3),o=n.substring(i.length,n.indexOf("/",i.length+1));if(0===e.indexOf("/"))r=e.split("/");else{var a=n.split("?")[0];r=(a=a.substring(i.length+o.length+1,a.lastIndexOf("/"))).split("/").concat(e.split("/"))}for(var s=[],l=0;l<r.length;l++)r[l]&&t.exists(r[l])&&"."!==r[l]&&(".."===r[l]?s.pop():s.push(r[l]));return i+o+"/"+s.join("/")}}};return i.getScriptPath=e.memoize((function(e){for(var t=document.getElementsByTagName("script"),n=0;n<t.length;n++){var r=t[n].src;if(r){var i=r.indexOf("/"+e);if(i>=0)return r.substr(0,i+1)}}return""})),i.parseXML=function(e){var t=null;try{"DOMParser"in window?(r((t=(new window.DOMParser).parseFromString(e,"text/xml")).childNodes)||t.childNodes&&r(t.childNodes[0].childNodes))&&(t=null):((t=new window.ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(n){}return t},i.serialize=function(e){if(void 0===e)return null;if("string"==typeof e&&e.length<6){var t=e.toLowerCase();if("true"===t)return!0;if("false"===t)return!1;if(!isNaN(Number(e))&&!isNaN(parseFloat(e)))return Number(e)}return e},i.parseDimension=function(e){return"string"==typeof e?""===e?0:e.lastIndexOf("%")>-1?e:parseInt(e.replace("px",""),10):e},i.timeFormat=function(t,n){if(t<=0&&!n||e.isNaN(parseInt(t)))return"00:00";var r=t<0?"-":"";t=Math.abs(t);var i=Math.floor(t/3600),o=Math.floor((t-3600*i)/60),a=Math.floor(t%60);return r+(i?i+":":"")+(o<10?"0":"")+o+":"+(a<10?"0":"")+a},i}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i,o=n(113);r=[n(1)],void 0===(i=function(e){return function(){var t={},n={},r={},i={};return{start:function(e){t[e]=(0,o.dateTime)(),r[e]=r[e]+1||1},end:function(e){if(t[e]){var r=(0,o.dateTime)()-t[e];delete t[e],n[e]=n[e]+r||r}},dump:function(){var a=e.extend({},n);for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var l=(0,o.dateTime)()-t[s];a[s]=a[s]+l||l}return{counts:e.extend({},r),sums:a,events:e.extend({},i)}},tick:function(e){i[e]=(0,o.dateTime)()},clear:function(e){delete i[e]},between:function(e,t){return i[t]&&i[e]?i[t]-i[e]:null}}}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r=[n(1)],void 0===(i=function(e){var t={exists:function(e){switch("undefined"==typeof e?"undefined":o(e)){case"string":return e.length>0;case"object":return null!==e;case"undefined":return!1;default:return!0}},isHTTPS:function(){return 0===window.location.href.indexOf("https")},isRtmp:function(e,t){return 0===e.indexOf("rtmp")||"rtmp"===t},isYouTube:function(e,t){return"youtube"===t||/^(http|\/\/).*(youtube\.com|youtu\.be)\/.+/.test(e)},youTubeID:function(e){var t=/v[=\/]([^?&]*)|youtu\.be\/([^?]*)|^([\w-]*)$/i.exec(e);return t?t.slice(1).join("").replace("?",""):""},typeOf:function(t){if(null===t)return"null";var n="undefined"==typeof t?"undefined":o(t);return"object"===n&&e.isArray(t)?"array":n}};return t}.apply(t,r))||(e.exports=i)},,,,function(e,t,n){var r,i;r=[n(27),n(16),n(1),n(111),n(29)],void 0===(i=function(e,t,n,r,i){var o=n.find(r,n.matches({name:"flash"})),a=o.supports;o.supports=function(n,r){if(!e.isFlashSupported()||n.drm)return!1;var i=n&&n.type;if("hls"===i||"m3u8"===i){var o=t(r);return o("hls")}return a.apply(this,arguments)};var s=n.find(r,n.matches({name:"html5"})),l=s.supports;return s.supports=function(e,n){var r=l.apply(this,arguments);if(r&&e.drm&&"hls"===e.type){var i=t(n),o=i("drm");if(o&&e.drm.fairplay){var a=window.WebKitMediaKeys;return a&&a.isTypeSupported&&a.isTypeSupported("com.apple.fps.1_0","video/mp4")}return o}return r},r.push({name:"shaka",supports:function(r,o){if(e.isSafari())return!1;if(!t(o)("dash"))return!1;if(r.drm&&!i.anySupported(r.drm))return!1;var a=window.MediaSource;if(!window.HTMLVideoElement||!a)return!1;var s=!0;return r.mediaTypes&&(s=n.all(r.mediaTypes,(function(e){return a.isTypeSupported(e)}))),s&&("dash"===r.type||"mpd"===r.type||(r.file||"").indexOf("mpd-time-csf")>-1)}}),r.splice(1,0,{name:"hlsjs",supports:function(n,r){var i=e.isChrome()||e.isFF()||e.isIE(11)||e.isEdge(),o=e.isAndroid()&&n.hlsjsdefault;if(i&&window.MediaSource&&window.MediaSource.isTypeSupported&&window.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')&&(!e.isMobile()||o)&&!n.drm){var a=n&&n.type;if((n&&n.file).indexOf(".m3u8")>-1||"hls"===a||"m3u8"===a){var s=t(r);return s("hls")}}}}),r}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(112),n(1),n(44)],void 0===(i=function(e,t){function r(e,n,r){var i=t.indexOf(e,t.findWhere(e,{name:r})),o=t.indexOf(e,t.findWhere(e,{name:n}));if(!(o<i)){var a=e.splice(o,1)[0];e.splice(i,0,a)}}var i,o=e.registerProvider,a=e.prototype.reorderProviders;return t.extend(e.loaders,{shaka:function(e){n.e(3,(function(t){var r=n(78);o(r),e(r)}))},hlsjs:function(e){n.e(2,(function(t){var r=n(76);r.default&&(r=r.default),r.setEdition&&r.setEdition(i),o(r),e(r)}))}}),t.extend(e.prototype,{reorderProviders:function(e){var t=a.call(this,e);return"flash"!==e?r(t,"hlsjs","flash"):(r(t,"flash","hlsjs"),r(t,"hlsjs","html5")),t},providerSupports:function(e,t){return i=this.config.edition,e.supports(t,i)}}),e}.apply(t,r))||(e.exports=i)},,,,function(e,t,n){var r;void 0===(r=function(e,t,n){function r(e){var t=document.createElement("style");return t.type="text/css",t.setAttribute("data-jwplayer-id",e),function(e){l().appendChild(e)}(t),t}function i(e,t){var n,i,a,l=s[e];l||(l=s[e]={element:r(e),counter:0});var c=l.counter++;return n=l.element,i=o.bind(null,n,c,!1),a=o.bind(null,n,c,!0),i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media)return;i(t=e)}else a()}}function o(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=c(t,i);else{var o=document.createTextNode(i),a=e.childNodes[t];a?e.replaceChild(o,a):e.appendChild(o)}}var a={},s={},l=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}}((function(){return document.head||document.getElementsByTagName("head")[0]}));n.exports={style:function(e,t){!function(e,t){for(var n=0;n<t.length;n++){var r=t[n],o=(a[e]||{})[r.id];if(o){for(var s=0;s<o.parts.length;s++)o.parts[s](r.parts[s]);for(;s<r.parts.length;s++)o.parts.push(i(e,r.parts[s]))}else{var l=[];for(s=0;s<r.parts.length;s++)l.push(i(e,r.parts[s]));a[e]=a[e]||{},a[e][r.id]={id:r.id,parts:l}}}}(t,function(e){for(var t=[],n={},r=0;r<e.length;r++){var i=e[r],o=i[0],a={css:i[1],media:i[2]};n[o]?n[o].parts.push(a):t.push(n[o]={id:o,parts:[a]})}return t}(e))},clear:function(e,t){var n=a[e];if(n)if(t){var r=n[t];if(r)for(var i=0;i<r.parts.length;i+=1)r.parts[i]()}else{for(var o=Object.keys(n),s=0;s<o.length;s+=1)for(var l=n[o[s]],c=0;c<l.parts.length;c+=1)l.parts[c]();delete a[e]}}};var c=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){var r;void 0===(r=function(){var e=null;return{load:function(){return e||(e=new Promise((function(e){n.e(1,(function(t){var r=n(72);e(r)}))}))),e}}}.apply(t,[]))||(e.exports=r)},function(e,t,n){var r,i;r=[n(7),n(20),n(104),n(105),n(37)],void 0===(i=function(e,t,n,r,i){function o(t){for(var o={},s=0;s<t.childNodes.length;s++){var l=t.childNodes[s],u=c(l);if(u)switch(u.toLowerCase()){case"enclosure":o.file=e.xmlAttribute(l,"url");break;case"title":o.title=a(l);break;case"guid":o.mediaid=a(l);break;case"pubdate":o.date=a(l);break;case"description":o.description=a(l);break;case"link":o.link=a(l);break;case"category":o.tags?o.tags+=a(l):o.tags=a(l)}}return o=r(t,o),o=n(t,o),new i(o)}var a=t.textContent,s=t.getChildNode,l=t.numChildren,c=t.localName,u={parse:function(e){var t=[];t.feedData={};for(var n=0;n<l(e);n++){var r=s(e,n);if("channel"===c(r).toLowerCase())for(var i=0;i<l(r);i++){var u=s(r,i),d=c(u).toLowerCase();"item"===d?t.push(o(u)):d&&(t.feedData[d]=a(u))}}return t}};return u}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(20),n(51),n(2),n(4),n(3),n(1)],void 0===(i=function(e,t,n,r,i,o){return function(){function a(i){n.tryCatch((function(){var n,a=i.responseXML?i.responseXML.childNodes:null,s="";if(a){for(var u=0;u<a.length&&8===(s=a[u]).nodeType;u++);if("xml"===e.localName(s)&&(s=s.nextSibling),"rss"===e.localName(s)){var d=t.parse(s);n=o.extend({playlist:d},d.feedData)}}if(!n)try{var f=JSON.parse(i.responseText);if(o.isArray(f))n={playlist:f};else{if(!o.isArray(f.playlist))throw Error;n=f}}catch(h){return void l("Not a valid RSS/JSON feed")}c.trigger(r.JWPLAYER_PLAYLIST_LOADED,n)}))instanceof n.Error&&l()}function s(e){l("Playlist load error: "+e)}function l(e){c.trigger(r.JWPLAYER_ERROR,{message:e||"Error loading file"})}var c=o.extend(this,i);this.load=function(e){n.ajax(e,a,s)},this.destroy=function(){this.off()}}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(37),n(54),n(1),n(45)],void 0===(i=function(e,t,n,r){function i(e,t){return n.isUndefined(e)?t:e}var o=function(t){return t=n.isArray(t)?t:[t],n.compact(n.map(t,e))};o.filterPlaylist=function(e,t,r){var i=[],o=t.getProviders(),l=t.get("preload"),c=n.extend({},r);return delete c.playlist,n.each(e,(function(e){(e=n.extend({},e)).allSources=a(e,t),e.sources=s(e.allSources,o),e.sources.length&&(e.file=e.sources[0].file,l&&(e.preload=e.preload||l),r&&(e.feedData=c),i.push(e))})),i};var a=function(e,r){var o=e.sources,a=r.get("androidhls"),s=e.drm||r.get("drm"),l=e.preload||r.get("preload"),c=i(e.withCredentials,r.get("withCredentials")),u=r.get("hlsjsdefault");return n.compact(n.map(o,(function(e){if(!n.isObject(e))return null;void 0!==a&&null!==a&&(e.androidhls=a),(e.drm||s)&&(e.drm=e.drm||s),(e.preload||l)&&(e.preload=e.preload||l);var r=i(e.withCredentials,c);return n.isUndefined(r)||(e.withCredentials=r),u&&(e.hlsjsdefault=u),t(e)})))},s=function(e,t){t&&t.choose||(t=new r({primary:t?"flash":null}));var i=function(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=t.choose(r);if(i)return{type:r.type,provider:i.providerToCheck}}return null}(e,t);if(!i)return[];var o=i.provider,a=i.type;return n.filter(e,(function(e){return e.type===a&&t.providerSupports(o,e)}))};return o}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(2),n(7),n(1)],void 0===(i=function(e,t,n){var r={default:!1};return function(i){if(i&&i.file){var o=n.extend({},r,i);o.file=t.trim(""+o.file);var a=/^[^\/]+\/(?:x-)?([^\/]+)$/;if(a.test(o.type)&&(o.mimeType=o.type,o.type=o.type.replace(a,"$1")),e.isYouTube(o.file)?o.type="youtube":e.isRtmp(o.file)?o.type="rtmp":o.type||(o.type=t.extension(o.file)),o.type){switch(o.type){case"m3u8":case"vnd.apple.mpegurl":o.type="hls";break;case"dash+xml":o.type="dash";break;case"smil":o.type="rtmp";break;case"m4a":o.type="aac"}return n.each(o,(function(e,t){""===e&&delete o[t]})),o}}}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r=[n(2),n(26),n(4),n(3),n(15),n(1)],void 0===(i=function(e,t,n,r,i,a){var s=0,l=1,c=2;return function(u){function d(){switch(t.getPluginPathType(u)){case t.pluginPathType.ABSOLUTE:return u;case t.pluginPathType.RELATIVE:return e.getAbsolutePath(u,window.location.href)}}function f(){a.defer((function(){b=i.loaderstatus.COMPLETE,y.trigger(n.COMPLETE)}))}function h(){b=i.loaderstatus.ERROR,y.trigger(n.ERROR,{url:u})}var p,m,g,v,y=a.extend(this,r),b=i.loaderstatus.NEW;this.load=function(){if(b===i.loaderstatus.NEW){if(u.lastIndexOf(".swf")>0)return p=u,b=i.loaderstatus.COMPLETE,void y.trigger(n.COMPLETE);if(t.getPluginPathType(u)===t.pluginPathType.CDN)return b=i.loaderstatus.COMPLETE,void y.trigger(n.COMPLETE);b=i.loaderstatus.LOADING;var e=new i(d());e.on(n.COMPLETE,f),e.on(n.ERROR,h),e.load()}},this.registerPlugin=function(e,t,r,o){v&&(clearTimeout(v),v=void 0),g=t,r&&o?(p=o,m=r):"string"==typeof r?p=r:"function"==typeof r?m=r:r||o||(p=e),b=i.loaderstatus.COMPLETE,y.trigger(n.COMPLETE)},this.getStatus=function(){return b},this.getPluginName=function(){return t.getPluginName(u)},this.getFlashPath=function(){if(p)switch(t.getPluginPathType(p)){case t.pluginPathType.ABSOLUTE:return p;case t.pluginPathType.RELATIVE:return u.lastIndexOf(".swf")>0?e.getAbsolutePath(p,window.location.href):e.getAbsolutePath(p,d())}return null},this.getJS=function(){return m},this.getTarget=function(){return g},this.getPluginmode=function(){return void 0!==("undefined"==typeof p?"undefined":o(p))&&void 0!==("undefined"==typeof m?"undefined":o(m))?c:void 0!==("undefined"==typeof p?"undefined":o(p))?s:void 0!==("undefined"==typeof m?"undefined":o(m))?l:void 0},this.getNewInstance=function(e,t,n){return new m(e,t,n)},this.getURL=function(){return u}}}.apply(t,r))||(e.exports=i)},,,,,function(e,t,n){var r,i;r=[n(27)],void 0===(i=function(e){return function(t){if("hls"===t.type){if(!1===t.androidhls&&e.isAndroid())return!1;var n=e.isAndroidNative;if(n(2)||n(3)||n("4.0"))return!1;if(e.isAndroid()&&!e.isFF())return!0}return null}}.apply(t,r))||(e.exports=i)},,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="hidden"in document?function(){return!document.hidden}:"webkitHidden"in document?function(){return!document.webkitHidden}:function(){return!0}},function(e,t,n){var r,i;r=[n(1),n(38)],void 0===(i=function(e,t){function n(e){e.onload=null,e.onprogress=null,e.onreadystatechange=null,e.onerror=null,"abort"in e&&e.abort()}function r(t,r){return function(i){var o=i.currentTarget||r.xhr;if(clearTimeout(r.timeoutId),r.retryWithoutCredentials&&r.xhr.withCredentials){n(o);var a=e.extend({},r,{xhr:null,withCredentials:!1,retryWithoutCredentials:!1});u(a)}else r.onerror(t,r.url,o)}}function i(e){return function(n){var r=n.currentTarget||e.xhr;if(clearTimeout(e.timeoutId),e.responseType){if("json"===e.responseType)return o(r,e)}else{var i,c=r.responseXML;if(c)try{i=c.firstChild}catch(s){}if(c&&i)return a(r,c,e);if(l&&r.responseText&&!c&&((c=t.parseXML(r.responseText))&&c.firstChild))return a(r,c,e);if(e.requireValidXML)return void e.onerror("Invalid XML",e.url,r)}e.oncomplete(r)}}function o(t,n){if(!t.response||e.isString(t.response)&&'"'!==t.responseText.substr(1))try{t=e.extend({},t,{response:JSON.parse(t.responseText)})}catch(r){return void n.onerror("Invalid JSON",n.url,t)}return n.oncomplete(t)}function a(t,n,r){var i=n.documentElement;return r.requireValidXML&&("parsererror"===i.nodeName||i.getElementsByTagName("parsererror").length)?void r.onerror("Invalid XML",r.url,t):(t.responseXML||(t=e.extend({},t,{responseXML:n})),r.oncomplete(t))}var s=function(){},l=!1,c=function(e){var t=document.createElement("a"),n=document.createElement("a");t.href=location.href;try{return n.href=e,n.href=n.href,t.protocol+"//"+t.host!=n.protocol+"//"+n.host}catch(r){}return!0},u=function(t,o,a,u){e.isObject(t)&&(t=(u=t).url);var d,f=e.extend({xhr:null,url:t,withCredentials:!1,retryWithoutCredentials:!1,timeout:6e4,timeoutId:-1,oncomplete:o||s,onerror:a||s,mimeType:u&&!u.responseType?"text/xml":"",requireValidXML:!1,responseType:u&&u.plainText?"text":""},u);if("XDomainRequest"in window&&c(t))(d=f.xhr=new window.XDomainRequest).onload=i(f),d.ontimeout=d.onprogress=s,l=!0;else{if(!("XMLHttpRequest"in window))return void f.onerror("",t);(d=f.xhr=new window.XMLHttpRequest).onreadystatechange=function(e){return function(t){var n=t.currentTarget||e.xhr;if(4===n.readyState){var r;if(clearTimeout(e.timeoutId),n.status>=400)return r=404===n.status?"File not found":n.status+"("+n.statusText+")",e.onerror(r,e.url,n);if(200===n.status)return i(e)(t)}}}(f)}var h=r("Error loading file",f);d.onerror=h,"overrideMimeType"in d?f.mimeType&&d.overrideMimeType(f.mimeType):l=!0;try{t=t.replace(/#.*$/,""),d.open("GET",t,!0)}catch(p){return h(p),d}if(f.responseType)try{d.responseType=f.responseType}catch(p){}f.timeout&&(f.timeoutId=setTimeout((function(){n(d),f.onerror("Timeout",t,d)}),f.timeout),d.onabort=function(){clearTimeout(f.timeoutId)});try{f.withCredentials&&"withCredentials"in d&&(d.withCredentials=!0),d.send()}catch(p){h(p)}return d};return{ajax:u,crossdomain:c}}.apply(t,r))||(e.exports=i)},,function(e,t,n){var r,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r=[n(2),n(3),n(1)],void 0===(i=function(e,t,n){function r(e,t,n){var r=document.createElement("param");r.setAttribute("name",t),r.setAttribute("value",n),e.appendChild(r)}function i(e,t,n){Object.defineProperty(e,t,{get:function(){return n}})}function a(e,t,n){e instanceof window.HTMLElement&&delete n[t]}var s="#000000";return{embed:function(l,c,u,d){var f,h=!0;if(d=d||"opaque",e.isMSIE()){var p=document.createElement("div");c.appendChild(p),p.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%" id="'+u+'" name="'+u+'" tabindex="0"><param name="movie" value="'+l+'"><param name="allowfullscreen" value="true"><param name="allowscriptaccess" value="always"><param name="wmode" value="'+d+'"><param name="bgcolor" value="'+s+'"><param name="menu" value="false"></object>';for(var m=c.getElementsByTagName("object"),g=m.length;g--;)m[g].id===u&&(f=m[g])}else(f=document.createElement("object")).setAttribute("type","application/x-shockwave-flash"),f.setAttribute("data",l),f.setAttribute("width","100%"),f.setAttribute("height","100%"),f.setAttribute("bgcolor",s),f.setAttribute("id",u),f.setAttribute("name",u),r(f,"allowfullscreen","true"),r(f,"allowscriptaccess","always"),r(f,"wmode",d),r(f,"menu","false"),c.appendChild(f,c);f.className="jw-swf jw-reset",f.style.display="block",f.style.position="absolute",f.style.left=0,f.style.right=0,f.style.top=0,f.style.bottom=0,e.isIE()&&"PointerEvent"in window&&(f.style.pointerEvents="none");var v=-1;return i(f,"on",t.on),i(f,"once",t.once),i(f,"_eventQueue",[]),i(f,"off",(function(){var e=Array.prototype.slice.call(arguments);return e.length||(f._eventQueue.length=0,clearTimeout(v)),t.off.apply(f,e)})),i(f,"trigger",(function(e,n){var r=f._eventQueue;r.push({type:e,json:n}),v>-1||(v=setTimeout((function(){var e=r.length;for(v=-1;e--;){var n=r.shift();if(n.json){var i=JSON.parse(decodeURIComponent(n.json));t.trigger.call(f,n.type,i)}else t.trigger.call(f,n.type)}})))})),i(f,"_events",{}),i(f,"triggerFlash",(function(t){if("setupCommandQueue"===t&&(h=!1),"setup"!==t&&h||!f.__externalCall){for(var r=f.__commandQueue,i=r.length;i--;)r[i][0]===t&&r.splice(i,1);return r.push(Array.prototype.slice.call(arguments)),f}var s=Array.prototype.slice.call(arguments,1),l=e.tryCatch((function(){if(s.length){for(var e=s.length;e--;)"object"===o(s[e])&&n.each(s[e],a);var r=JSON.stringify(s);f.__externalCall(t,r)}else f.__externalCall(t)}));return l instanceof e.Error&&(console.error(t,l),"setup"===t)?(l.name="Failed to setup flash",l):f})),i(f,"__commandQueue",[]),f},remove:function(e){e&&e.parentNode&&(e.style.display="none",e.parentNode.removeChild(e),e=null)}}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(22),n(1),n(40),n(38),n(28)],void 0===(i=function(e,t,n,r,i){var o={};return o.repo=t.memoize((function(){var t=i.split("+")[0],r=e.repo+t+"/";return n.isHTTPS()?r.replace(/^http:/,"https:"):r})),o.versionCheck=function(e){var t=("0"+e).split(/\W/),n=i.split(/\W/),r=parseFloat(t[0]),o=parseFloat(n[0]);return!(r>o)&&!(r===o&&parseFloat("0"+t[1])>parseFloat(n[1]))},o.loadFrom=function(){return o.repo()},o}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";function r(e,t,n){if(!e&&!t)return"";var r=a(t)+" kbps",i=r;return e&&(i=e+"p",t&&n&&(i+=" ("+r+")")),i}function i(e,t){var n=null,r=s.keys(e);if(t&&e&&r.length){var i=parseFloat(t);isNaN(i)||(n=e[o(r,a(i))])}return n}function o(e,t){var n=null,r=1/0,i=void 0;return s.isArray(e)&&s.forEach(e,(function(e){(i=Math.abs(e-t))<r&&(n=e,r=i)})),n}function a(e){return Math.floor(e/1e3)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1);t.generateLabel=function(e,t,n){if(!e)return"";var o=e.bitrate||e.bandwidth;return i(t,o)||e.label||r(e.height,o,n)},t.createLabel=r,t.getCustomLabel=i,t.findClosestBandwidth=o,t.toKbps=a,t.hasRedundantLevels=function(e){return!!s.isArray(e)&&s.some(e,(function(e){var t=e.height||e.bitrate||e.bandwidth,n=this[t];return this[t]=1,n}),{})}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requestAnimationFrame=window.requestAnimationFrame||function(e){return setTimeout(e,17)},t.cancelAnimationFrame=window.cancelAnimationFrame||clearTimeout},function(e,t,n){var r;void 0===(r=function(){return document.createElement("video")}.apply(t,[]))||(e.exports=r)},,,,,function(e,t,n){var r,i;r=[n(90),n(21),n(1)],void 0===(i=function(e,t,n){var r=e.selectPlayer;return n.extend(e,{selectPlayer:function(){var e=r.apply(this,arguments);return e||{registerPlugin:function(e,n,r){"jwpsrv"!==e&&t.registerPlugin(e,n,r)}}}})}.apply(t,r))||(e.exports=i)},,,,,function(e,t,n){var r,i;r=[n(2),n(80),n(16)],void 0===(i=function(e,t,n){var r="invalid";return function(i){var o,a,s;this.edition=function(){return s&&s.getTime()<(new Date).getTime()?r:o},this.token=function(){return a},this.expiration=function(){return s},function(i){e.exists(i)||(i="");try{var l=(i=t.decrypt(i,"RnXcsftYjWRDA^Uy")).split("/");"pro"!==(o=l[0])&&"starter"!==o&&"business"!==o||(o="premium");var c=n(o);if(l.length>2&&c("setup")){a=l[1];var u=parseInt(l[2]);u>0&&(s=new Date).setTime(u)}else o=r}catch(d){o=r}}(i)}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r;void 0===(r=function(){var e=function(e){for(var t=new Array(Math.ceil(e.length/4)),n=0;n<t.length;n++)t[n]=e.charCodeAt(4*n)+(e.charCodeAt(4*n+1)<<8)+(e.charCodeAt(4*n+2)<<16)+(e.charCodeAt(4*n+3)<<24);return t};return{decrypt:function(n,r){if(n=String(n),r=String(r),0==n.length)return"";for(var i,o,a=e(function(e){return window.atob(e)}(n)),s=e(function(e){return unescape(encodeURIComponent(e))}(r).slice(0,16)),l=a.length,c=a[l-1],u=a[0],d=2654435769,f=Math.floor(6+52/l)*d;0!=f;){o=f>>>2&3;for(var h=l-1;h>=0;h--)i=((c=a[h>0?h-1:l-1])>>>5^u<<2)+(u>>>3^c<<4)^(f^u)+(s[3&h^o]^c),u=a[h]-=i;f-=d}var p=function(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=String.fromCharCode(255&e[n],e[n]>>>8&255,e[n]>>>16&255,e[n]>>>24&255);return t.join("")}(a);return function(e){try{return decodeURIComponent(escape(e))}catch(t){return e}}(p=p.replace(/\0+$/,""))}}}.apply(t,[]))||(e.exports=r)},function(e,t,n){var r,i;r=[n(2),n(152),n(4),n(174),n(1)],void 0===(i=function(e,t,n,r,i){return function(o,a){var s=new t(o,a),l=s.setup;s.setup=function(){l.call(this),a.on("change:skipButton",this.onSkipButton,this),a.change("castAvailable",this.onCastAvailable,this),a.change("castActive",this.onCastActive,this)};var c=s.addControls;return s.addControls=function(e){c.call(this,e);var t=this.controlsContainer();t&&this._skipButton&&t.appendChild(this._skipButton.element())},s.addSkipButton=function(){this._skipButton=new r(this.instreamModel),this._skipButton.on(n.JWPLAYER_AD_SKIPPED,(function(){this.api.skipAd()}),this);var e=this.controlsContainer();e&&e.appendChild(this._skipButton.element())},s.onSkipButton=function(e,t){t?this.addSkipButton():this._skipButton&&(this._skipButton.destroy(),this._skipButton=null)},s.onCastActive=function(t,n){n=n||!1;var r=t.get("airplayActive")||!1;e.toggleClass(this.getContainer(),"jw-flag-casting",n),e.toggleClass(this.getContainer(),"jw-flag-airplay-casting",r)},s.onCastAvailable=function(t,n){var r=t.get("cast");i.isObject(r)&&e.toggleClass(this.getContainer(),"jw-flag-cast-available",n)},s}}.apply(t,r))||(e.exports=i)},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},,,function(e,t,n){var r,i;r=[n(21),n(1)],void 0===(i=function(e,t){return function(n,r){t.each(["skipAd","stop","resize","addButton","removeButton","registerPlugin","attachMedia","next"],(function(e){n[e]=function(){return r[e].apply(r,arguments),n}})),n.registerPlugin=e.registerPlugin}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(1)],void 0===(i=function(e){return function(t,n){e.each(["buffer","controls","position","duration","fullscreen","volume","item","stretching","playbackRate","playlist","captions","viewable"],(function(e){var r=e.slice(0,1).toUpperCase()+e.slice(1);t["get"+r]=function(){return n._model.get(e)}}));e.each(["getAudioTracks","getCaptionsList","getWidth","getHeight","getCurrentAudioTrack","setCurrentAudioTrack","getCurrentCaptions","setCurrentCaptions","getCurrentQuality","setCurrentQuality","getQualityLevels","getVisualQuality","getConfig","getState","getSafeRegion","isBeforeComplete","isBeforePlay","getProvider","detachMedia"],(function(e){t[e]=function(){return n[e]?n[e].apply(n,arguments):null}})),e.each(["setConfig","setControls","setFullscreen","setVolume","setMute","setPlaybackRate","setCues","setCaptions"],(function(e){t[e]=function(){return n[e].apply(n,arguments),t}})),t.getPlaylistIndex=t.getItem}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(4),n(5),n(3),n(2),n(39),n(1),n(160),n(85),n(86),n(88),n(28)],void 0===(i=function(e,t,n,r,i,o,a,s,l,c,u){return function(d,f){var h,p=this;o.extend(this,n),this.utils=r,this._=o,this.Events=n,this.version=u,this.trigger=function(e,t){(t=o.isObject(t)?o.extend({},t):{}).type=e;var r=window.jwplayer;return r&&r.debug?n.trigger.call(p,e,t):n.triggerSafe.call(p,e,t)},this.dispatchEvent=this.trigger,this.removeEventListener=this.off.bind(this);var m=function(){h=new a(d),s(p,h),l(p,h),h.on(e.JWPLAYER_MEDIA_META,(function(e){var t=h._model.get("itemMeta");o.extend(t,e.metadata)})),h.on(e.JWPLAYER_READY,(function(e){g.tick("ready"),e.setupTime=g.between("setup","ready")})),h.on("all",p.trigger)};m(),c(this),this.id=d.id;var g=this._qoe=new i;g.tick("init");var v=function(){p.off(),h&&h.off(),h&&h.playerDestroy&&h.playerDestroy()};return this.getPlugin=function(e){return p.plugins&&p.plugins[e]},this.addPlugin=function(e,t){this.plugins=this.plugins||{},this.plugins[e]=t,this.onReady(t.addToPlayer),t.resize&&this.onResize(t.resizeHandler)},this.setup=function(e){return g.tick("setup"),v(),m(),r.foreach(e.events,(function(e,t){var n=p[e];"function"==typeof n&&n.call(p,t)})),e.id=p.id,h.setup(e,this),p},this.qoe=function(){var e=h.getItemQoe();return{setupTime:g.between("setup","ready"),firstFrame:e.getFirstFrame(),player:g.dump(),item:e.dump()}},this.getContainer=function(){return h.getContainer?h.getContainer():d},this.getMeta=this.getItemMeta=function(){return h._model.get("itemMeta")||{}},this.getPlaylistItem=function(e){if(!r.exists(e))return h._model.get("playlistItem");var t=p.getPlaylist();return t?t[e]:null},this.getRenderingMode=function(){return"html5"},this.getMute=function(){return h._model.getMute()},this.load=function(e,t){return h.load(e,t),p},this.play=function(e,n){if(o.isObject(e)&&e.reason&&(n=e),n||(n={reason:"external"}),!0===e)return h.play(n),p;if(!1===e)return h.pause(n),p;switch(e=p.getState()){case t.PLAYING:case t.BUFFERING:h.pause(n);break;default:h.play(n)}return p},this.pause=function(e,t){return o.isBoolean(e)?this.play(!e,t):this.play(t)},this.seek=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{reason:"external"};return h.seek(e,t),p},this.playlistNext=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{reason:"external"};return h.playlistNext(e),p},this.playlistPrev=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{reason:"external"};return h.playlistPrev(e),p},this.playlistItem=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{reason:"external"};return h.playlistItem(e,t),p},this.createInstream=function(){return h.createInstream()},this.castToggle=function(){h&&h.castToggle&&h.castToggle()},this.playAd=this.pauseAd=r.noop,this.remove=function(){return f(p),p.trigger("remove"),v(),p},this}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(4)],void 0===(i=function(e,t){return function(n){var r={onBufferChange:t.JWPLAYER_MEDIA_BUFFER,onBufferFull:t.JWPLAYER_MEDIA_BUFFER_FULL,onError:t.JWPLAYER_ERROR,onSetupError:t.JWPLAYER_SETUP_ERROR,onFullscreen:t.JWPLAYER_FULLSCREEN,onMeta:t.JWPLAYER_MEDIA_META,onMute:t.JWPLAYER_MEDIA_MUTE,onPlaylist:t.JWPLAYER_PLAYLIST_LOADED,onPlaylistItem:t.JWPLAYER_PLAYLIST_ITEM,onPlaylistComplete:t.JWPLAYER_PLAYLIST_COMPLETE,onReady:t.JWPLAYER_READY,onResize:t.JWPLAYER_RESIZE,onComplete:t.JWPLAYER_MEDIA_COMPLETE,onSeek:t.JWPLAYER_MEDIA_SEEK,onTime:t.JWPLAYER_MEDIA_TIME,onVolume:t.JWPLAYER_MEDIA_VOLUME,onBeforePlay:t.JWPLAYER_MEDIA_BEFOREPLAY,onBeforeComplete:t.JWPLAYER_MEDIA_BEFORECOMPLETE,onDisplayClick:t.JWPLAYER_DISPLAY_CLICK,onControls:t.JWPLAYER_CONTROLS,onQualityLevels:t.JWPLAYER_MEDIA_LEVELS,onQualityChange:t.JWPLAYER_MEDIA_LEVEL_CHANGED,onCaptionsList:t.JWPLAYER_CAPTIONS_LIST,onCaptionsChange:t.JWPLAYER_CAPTIONS_CHANGED,onAdError:t.JWPLAYER_AD_ERROR,onAdClick:t.JWPLAYER_AD_CLICK,onAdImpression:t.JWPLAYER_AD_IMPRESSION,onAdTime:t.JWPLAYER_AD_TIME,onAdComplete:t.JWPLAYER_AD_COMPLETE,onAdCompanions:t.JWPLAYER_AD_COMPANIONS,onAdSkipped:t.JWPLAYER_AD_SKIPPED,onAdPlay:t.JWPLAYER_AD_PLAY,onAdPause:t.JWPLAYER_AD_PAUSE,onAdMeta:t.JWPLAYER_AD_META,onCast:t.JWPLAYER_CAST_SESSION,onAudioTrackChange:t.JWPLAYER_AUDIO_TRACK_CHANGED,onAudioTracks:t.JWPLAYER_AUDIO_TRACKS};e.each({onBuffer:"buffer",onPause:"pause",onPlay:"play",onIdle:"idle"},(function(t,r){n[r]=e.partial(n.on,t,e)})),e.each(r,(function(t,r){n[r]=e.partial(n.on,t,e)}))}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(2),n(1)],void 0===(i=function(e,t){function r(e){return e.slice&&"px"===e.slice(-2)&&(e=e.slice(0,-2)),e}var i={autostart:!1,controls:!0,displaytitle:!0,displaydescription:!0,mobilecontrols:!1,defaultPlaybackRate:1,playbackRateControls:!1,repeat:!1,castAvailable:!1,skin:"seven",stretching:"uniform",mute:!1,volume:90,width:480,height:270,audioMode:!1,localization:{player:"Video Player",play:"Play",playback:"Start playback",pause:"Pause",volume:"Volume",prev:"Previous",next:"Next",cast:"Chromecast",airplay:"Airplay",fullscreen:"Fullscreen",playlist:"Playlist",hd:"Quality",cc:"Closed captions",audioTracks:"Audio tracks",playbackRates:"Playback rates",replay:"Replay",buffer:"Loading",more:"More",liveBroadcast:"Live broadcast",loadingAd:"Loading ad",rewind:"Rewind 10s",nextUp:"Next Up",nextUpClose:"Next Up Close",related:"Discover",close:"Close"},renderCaptionsNatively:!0,nextUpDisplay:!0};return function(o,a){var s=a&&a.getAllItems(),l=t.extend({},(window.jwplayer||{}).defaults,s,o);(function(n){t.each(n,(function(t,r){n[r]=e.serialize(t)}))})(l),l.localization=t.extend({},i.localization,l.localization);var c=t.extend({},i,l);"."===c.base&&(c.base=e.getScriptPath("jwplayer.js")),c.base=(c.base||e.loadFrom()).replace(/\/?$/,"/"),n.p=c.base,c.width=r(c.width),c.height=r(c.height);var u=e.getScriptPath("jwplayer.js")||c.base;c.flashplayer=c.flashplayer||u+"jwplayer.flash.swf",c.flashloader=c.flashloader||u+"jwplayer.loader.swf","http:"===window.location.protocol&&(c.flashplayer=c.flashplayer.replace("https","http"),c.flashloader=c.flashloader.replace("https","http")),c.aspectratio=function(t,n){if(-1===n.toString().indexOf("%"))return 0;if("string"!=typeof t||!e.exists(t))return 0;if(/^\d*\.?\d+%$/.test(t))return t;var r=t.indexOf(":");if(-1===r)return 0;var i=parseFloat(t.substr(0,r)),o=parseFloat(t.substr(r+1));return i<=0||o<=0?0:o/i*100+"%"}(c.aspectratio,c.width),t.isObject(c.skin)&&(c.skinUrl=c.skin.url,c.skinColorInactive=c.skin.inactive,c.skinColorActive=c.skin.active,c.skinColorBackground=c.skin.background,c.skin=t.isString(c.skin.name)?c.skin.name:i.skin),t.isString(c.skin)&&c.skin.indexOf(".xml")>0&&(console.warn("JW Player does not support XML skins, please update your config"),c.skin=c.skin.replace(".xml",""));var d=c.playbackRateControls;if(d){var f=[.5,1,1.25,1.5,2];t.isArray(d)&&((f=d.filter((function(e){return t.isNumber(e)&&e>=.25&&e<=4})).map((function(e){return Math.round(4*e)/4}))).indexOf(1)<0&&f.push(1),f.sort()),c.playbackRateControls=f}(!c.playbackRateControls||c.playbackRateControls.indexOf(c.defaultPlaybackRate)<0)&&(c.defaultPlaybackRate=1),c.playbackRate=c.defaultPlaybackRate,c.aspectratio||delete c.aspectratio;var h=c.playlist;if(h)t.isArray(h.playlist)&&(c.feedData=h,c.playlist=h.playlist);else{var p=t.pick(c,["title","description","type","mediaid","image","file","sources","tracks","preload"]);c.playlist=[p]}return c.qualityLabels=c.qualityLabels||c.hlslabels,c}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(87),n(1),n(45),n(44),n(21)],void 0===(i=function(e,t,n,r,i){var o=[],a=0,s=function(t){var n,r;return t?"string"==typeof t?(n=l(t))||(r=document.getElementById(t)):"number"==typeof t?n=o[t]:t.nodeType&&(n=l((r=t).id)):n=o[0],n||(r?c(new e(r,u)):{registerPlugin:i.registerPlugin})},l=function(e){for(var t=0;t<o.length;t++)if(o[t].id===e)return o[t];return null},c=function(e){return a++,e.uniqueId=a,o.push(e),e},u=function(e){for(var t=o.length;t--;)if(o[t].uniqueId===e.uniqueId){o.splice(t,1);break}},d={selectPlayer:s,registerProvider:n.registerProvider,availableProviders:r,registerPlugin:i.registerPlugin};return s.api=d,d}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=["repeat","volume","mute","autostart"];t.default=function(e,t){var n=e._model;r.size(t)&&i.forEach((function(i){var o=t[i];if(!r.isUndefined(o))switch(i){case"mute":e.setMute(o);break;case"volume":e.setVolume(o);break;case"autostart":!function(e,t,n){e.setAutoStart(n),"idle"===e.get("state")&&!0===n&&t.play({reason:"autostart"})}(n,e,o);break;default:n.set(i,o)}}))}},function(e,t,n){var r,i;r=[n(161),n(3),n(1),n(4)],void 0===(i=function(e,t,n,r){var i=function(t,i,o,a){function s(){d("Setup Timeout Error","Setup took longer than "+m+" seconds to complete.")}function l(){for(var e in p)if(Object.prototype.hasOwnProperty.call(p,e)){var n=p[e];!n.complete&&!n.running&&t&&u(n.depends)&&(n.running=!0,c(n))}}function c(e){e.method((function(t){(function(e,t){"error"===t.type?d(t.msg,t.reason):"complete"===t.type?(clearTimeout(f),h.trigger(r.JWPLAYER_READY)):(e.complete=!0,l())})(e,t=t||{})}),i,t,o,a)}function u(e){return n.all(e,(function(e){return p[e].complete}))}function d(e,t){clearTimeout(f),h.trigger(r.JWPLAYER_SETUP_ERROR,{message:e+": "+t}),h.destroy()}var f,h=this,p=e.getQueue(),m=30;this.start=function(){f=setTimeout(s,1e3*m),l()},this.destroy=function(){clearTimeout(f),this.off(),p.length=0,t=null,i=null,o=null}};return i.prototype=t,i}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(2),n(13),n(12)],void 0===(i=function(e,t,n){return function(r){function i(){d=[],f={},h=0}function o(e){return"subtitles"===e||"captions"===e}function a(e,t){e.data=t}function s(t){e.log("CAPTIONS("+t+")")}function l(e){if(e.data=e.data||[],e.name=e.label||e.name||e.language,e._id=n.createId(e,d.length),!e.name){var t=n.createLabel(e,h);e.name=t.label,h=t.unknownCount}f[e._id]=e,d.push(e)}function c(){for(var e=[{id:"off",label:"Off"}],t=0;t<d.length;t++)e.push({id:d[t]._id,label:d[t].name||"Unknown CC"});return e}function u(){var e=0,t=r.get("captionLabel");if("Off"!==t){for(var n=0;n<d.length;n++){var i=d[n];if(t&&t===i.name){e=n+1;break}i.default||i.defaulttrack||"default"===i._id?e=n+1:i.autoselect}!function(e){d.length?r.setVideoSubtitleTrack(e,d):r.set("captionsIndex",e)}(e)}else r.set("captionsIndex",0)}r.on("change:playlistItem",i,this),r.on("change:captionsIndex",(function(e,t){var n=null;0!==t&&(n=d[t-1]),e.set("captionsTrack",n)}),this),r.on("itemReady",(function(e){i();var n,d,h=e.tracks,p=h&&h.length;if(!r.get("renderCaptionsNatively")&&p)for(n=0;n<p;n++)o((d=h[n]).kind)&&!f[d._id]&&(l(d),t.loadFile(d,a.bind(null,d),s));var m=c();u(),this.setCaptionsList(m)}),this),r.mediaController.on("subtitlesTracks",(function(e){if(e.tracks.length){for(var t=e.tracks||[],n=0;n<t.length;n++)l(t[n]);d=Object.keys(f).map((function(e){return f[e]}));var r=c();u(),this.setCaptionsList(r)}}),this);var d=[],f={},h=0;this.getCurrentIndex=function(){return r.get("captionsIndex")},this.getCaptionsList=function(){return r.get("captionsList")},this.setCaptionsList=function(e){r.set("captionsList",e)}}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e){return e&&e.__esModule?e:{default:e}}(n(91));r=[n(89),n(96),n(1),n(92),n(93),n(33),n(101),n(53),n(52),n(2),n(81),n(3),n(34),n(5),n(4),n(141),n(95)],void 0===(i=function(e,t,n,r,i,s,l,c,u,d,f,h,p,m,g,v,y){function b(e){return function(){var t=Array.prototype.slice.call(arguments,0);this._model.getVideo()?this["_"+e].apply(this,t):this.eventsQueue.push([e,t])}}var w=function(e){this.originalContainer=this.currentContainer=e,this.eventsQueue=[],n.extend(this,h),this._model=new s};return w.prototype={play:b("play"),pause:b("pause"),seek:b("seek"),stop:b("stop"),load:b("load"),playlistNext:b("next"),playlistPrev:b("prev"),playlistItem:b("item"),setCurrentCaptions:b("setCurrentCaptions"),setCurrentQuality:b("setCurrentQuality"),setFullscreen:b("setFullscreen"),setup:function(s,v){function b(e,t){ee.triggerAfterReady(e,t)}function w(e,t){ee.trigger(g.JWPLAYER_CONTROLS,{controls:t})}function _(){X.change("visibility",S),X.on("change:controls",w),ee.trigger(g.JWPLAYER_READY,{setupTime:0}),ee.triggerAfterReady=ee.trigger;for(var e=0;e<oe.length;e++){var t=oe[e];J=t.type===g.JWPLAYER_MEDIA_BEFOREPLAY,ee.trigger(t.type,t.args),J=!1}C(),X.change("viewable",P),X.change("viewable",k),X.once("change:autostartFailed change:autostartMuted change:mute",(function(e){e.off("change:viewable",k)}))}function S(e,t){n.isUndefined(t)||X.set("viewable",Math.round(t))}function C(){d.isMobile()||!0!==X.get("autostart")||N()}function x(){te.bail=!0,X.off("itemReady",E)}function E(){var e=this;Promise.resolve().then((function(){e.bail||C()}))}function P(e,t){ee.trigger("viewable",{viewable:t})}function k(e,t){X.get("playOnViewable")&&(t?N():d.isMobile()&&ee.pause({reason:"autostart"}))}function T(e){var t=X.getProviders(),n=t.required(e,X.get("primary"));return t.load(n).then((function(){ee.getProvider()||(X.setProvider(X.get("playlistItem")),function(){for(;ee.eventsQueue.length>0;){var e=ee.eventsQueue.shift(),t=e[0],n=e[1]||[];ee["_"+t].apply(ee,n)}}())}))}function A(e,t){switch(X.get("state")===m.ERROR&&X.set("state",m.IDLE),X.set("preInstreamState","instream-idle"),ee.trigger("destroyPlugin",{}),D(!0),x(),te={bail:!1},X.once("itemReady",E,te),j(),"undefined"==typeof e?"undefined":o(e)){case"string":!function(e){var t=new u;t.on(g.JWPLAYER_PLAYLIST_LOADED,(function(e){A(e.playlist,e)})),t.on(g.JWPLAYER_ERROR,(function(e){e.message="Error loading playlist: "+e.message,ee.triggerError(e)}),ee),t.load(e)}(e);break;case"object":L(e,t)&&B(0);break;case"number":B(e)}}function O(){return ee._instreamAdapter&&ee._instreamAdapter.getState()}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(x(),X.set("playReason",e.reason),X.get("state")!==m.ERROR){var t,r=O();if(n.isString(r))return void v.pauseAd(!1);if(X.get("state")===m.COMPLETE&&(D(!0),B(0)),!J&&(J=!0,ee.triggerAfterReady(g.JWPLAYER_MEDIA_BEFOREPLAY,{playReason:X.get("playReason")}),J=!1,Q))return Q=!1,void(K=null);if(F()){if(0===X.get("playlist").length)return;t=d.tryCatch((function(){X.loadVideo()}))}else X.get("state")===m.PAUSED&&(t=d.tryCatch((function(){X.playVideo()})));t instanceof d.Error&&(ee.triggerError(t),K=null)}}function j(){if(function(e){return e&&/^(?:mouse|pointer|touch|gesture|click|key)/.test(e.type)}(window.event)){var e=ee.currentContainer.querySelector("video, audio");e&&F()&&e.load()}}function N(){var e=X.get("state");e!==m.IDLE&&e!==m.PAUSED||I({reason:"autostart"})}function D(e){x();var t=!e;K=null;var n=d.tryCatch((function(){X.stopVideo()}),ee);return n instanceof d.Error?(ee.triggerError(n),!1):(t&&(Z=!0),J&&(Q=!0),!0)}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};K=null,X.set("pauseReason",e.reason),"interaction"!==e.reason&&"external"!==e.reason||X.set("playOnViewable",!1);var t=O();if(n.isString(t))v.pauseAd(!0);else switch(X.get("state")){case m.ERROR:return;case m.PLAYING:case m.BUFFERING:var r=d.tryCatch((function(){ne().pause()}),this);if(r instanceof d.Error)return void ee.triggerError(r);break;default:J&&(Q=!0)}}function F(){var e=X.get("state");return e===m.IDLE||e===m.COMPLETE||e===m.ERROR}function M(e,t){D(!0),X.get("state")===m.ERROR&&X.set("state",m.IDLE),B(e),I(t)}function L(e,t){X.set("feedData",t);var r=c(e);return r=c.filterPlaylist(r,X,t),X.set("playlist",r),n.isArray(r)&&0!==r.length?(T(r),!0):(ee.triggerError({message:"Error loading playlist: No playable sources found"}),!1)}function B(e){X.setItemIndex(e)}function U(e){M(X.get("item")+1,e)}function z(){if(F())return Z?void(Z=!1):(K=z,X.get("item")===X.get("playlist").length-1?void(X.get("repeat")?U({reason:"repeat"}):(d.isIOS()&&V(!1),X.set("playOnViewable",!1),X.set("state",m.COMPLETE),ee.trigger(g.JWPLAYER_PLAYLIST_COMPLETE,{}))):void U({reason:"playlist"}))}function H(){return ne()?ne().getCurrentQuality():-1}function W(){return ne()?ne().getQualityLevels():null}function q(){return Y.getCaptionsList()}function V(e){n.isBoolean(e)||(e=!X.get("fullscreen")),X.set("fullscreen",e),this._instreamAdapter&&this._instreamAdapter._adModel&&this._instreamAdapter._adModel.set("fullscreen",e)}var $,Y,G,K,Q,X=this._model,J=!1,Z=!1,ee=this,te={},ne=function(){return X.getVideo()},re=new l;re.track(X);var ie=new e(s,re),oe=[];X.setup(ie,re),$=this._view=new f(v,X),(G=new r(v,X,$,L)).on(g.JWPLAYER_READY,(function(){G=null,$.on("all",b,ee);var e=v.getPlugin("related");e&&e.on("nextUp",(function(e){X.set("nextUp",e)})),$.once(g.JWPLAYER_RESIZE,_),$.init()}),this),G.on(g.JWPLAYER_SETUP_ERROR,this.setupError,this),X.mediaController.on("all",b,this),X.mediaController.on(g.JWPLAYER_MEDIA_COMPLETE,(function(){n.defer(z)})),X.mediaController.on(g.JWPLAYER_MEDIA_ERROR,this.triggerError,this),X.on("change:flashBlocked",(function(e,t){if(t){var n=!!e.get("flashThrottle"),r={message:n?"Click to run Flash":"Flash plugin failed to load"};n||this.trigger(g.JWPLAYER_ERROR,r),this._model.set("errorEvent",r)}else this._model.set("errorEvent",void 0)}),this),X.on("change:state",p,this),X.on("change:duration",(function(e,t){var n=e.get("minDvrWindow"),r=d.streamType(t,n);e.setStreamType(r)})),X.on("change:castState",(function(e,t){ee.trigger(g.JWPLAYER_CAST_SESSION,t)})),X.on("change:fullscreen",(function(e,t){ee.trigger(g.JWPLAYER_FULLSCREEN,{fullscreen:t}),t&&e.set("playOnViewable",!1)})),X.on("itemReady",(function(){ee.triggerAfterReady(g.JWPLAYER_PLAYLIST_ITEM,{index:X.get("item"),item:X.get("playlistItem")})})),X.on("change:playlist",(function(e,t){if(t.length){var r={playlist:t},i=X.get("feedData");if(i){var o=n.extend({},i);delete o.playlist,r.feedData=o}ee.triggerAfterReady(g.JWPLAYER_PLAYLIST_LOADED,r)}})),X.on("change:volume",(function(e,t){ee.trigger(g.JWPLAYER_MEDIA_VOLUME,{volume:t})})),X.on("change:mute",(function(e,t){ee.trigger(g.JWPLAYER_MEDIA_MUTE,{mute:t})})),X.on("change:playbackRate",(function(e,t){ee.trigger(g.JWPLAYER_PLAYBACK_RATE_CHANGED,{playbackRate:t,position:e.get("position")})})),X.on("change:scrubbing",(function(e,t){t?R():I({reason:"interaction"})})),X.on("change:captionsList",(function(e,t){ee.triggerAfterReady(g.JWPLAYER_CAPTIONS_LIST,{tracks:t,track:X.get("captionsIndex")||0})})),X.on("change:mediaModel",(function(e){e.mediaModel.on("change:state",(function(t,n){e.set("state",function(e){return e===m.LOADING||e===m.STALLED?m.BUFFERING:e}(n))}))})),Y=new i(X),X.on("change:viewSetup",(function(e,t){if(t){var n=this.currentContainer.querySelector("video, audio");if(ee.showView($.element()),n)X.get("mediaContainer").appendChild(n)}}),this),this.triggerAfterReady=function(e,t){oe.push({type:e,args:t})},this._play=I,this._pause=R,this._seek=function(e,t){X.get("state")!==m.ERROR&&(X.get("scrubbing")||X.get("state")===m.PLAYING||I(t),ne().seek(e))},this._stop=D,this._load=A,this._next=U,this._prev=function(e){M(X.get("item")-1,e)},this._item=M,this._setCurrentCaptions=function(e){e=parseInt(e,10)||0,X.persistVideoSubtitleTrack(e),ee.trigger(g.JWPLAYER_CAPTIONS_CHANGED,{tracks:q(),track:e})},this._setCurrentQuality=function(e){ne()&&(e=parseInt(e,10)||0,ne().setCurrentQuality(e))},this._setFullscreen=V,this.detachMedia=function(){return X.detachMedia()},this.attachMedia=function(){var e=d.tryCatch((function(){X.attachMedia()}));return e instanceof d.Error?void d.log("Error calling _attachMedia",e):void("function"==typeof K&&K())},this.getCurrentQuality=H,this.getQualityLevels=W,this.setCurrentAudioTrack=function(e){ne()&&(e=parseInt(e,10)||0,ne().setCurrentAudioTrack(e))},this.getCurrentAudioTrack=function(){return ne()?ne().getCurrentAudioTrack():-1},this.getAudioTracks=function(){return ne()?ne().getAudioTracks():null},this.getCurrentCaptions=function(){return Y.getCurrentIndex()},this.getCaptionsList=q,this.getVisualQuality=function(){if(this._model.mediaModel)return this._model.mediaModel.get("visualQuality");var e=W();if(e){var t=H(),r=e[t];if(r)return{level:n.extend({index:t},r),mode:"",reason:""}}return null},this.getConfig=function(){return this._model?this._model.getConfiguration():void 0},this.getState=function(){var e=O();return n.isString(e)?e:X.get("state")},this.setVolume=X.setVolume.bind(X),this.setMute=X.setMute.bind(X),this.setPlaybackRate=X.setPlaybackRate.bind(X),this.getProvider=function(){return X.get("provider")},this.getWidth=function(){return X.get("containerWidth")},this.getHeight=function(){return X.get("containerHeight")},this.getContainer=function(){return this.currentContainer},this.resize=$.resize,this.getSafeRegion=$.getSafeRegion,this.setCues=$.addCues,this.setCaptions=$.setCaptions,this.next=function(){var e=v.getPlugin("related");if(e){var t=X.get("nextUp");t&&ee.trigger("nextClick",{mode:t.mode,ui:"nextup",target:t,itemsShown:[t],feedData:t.feedData}),e.next()}},this.setConfig=function(e){return(0,a.default)(ee,e)},this.addButton=function(e,t,r,i,o){var a={img:e,tooltip:t,callback:r,id:i,btnClass:o},s=!1,l=n.map(X.get("dock"),(function(e){return e!==a&&e.id===a.id?(s=!0,a):e}));s||l.push(a),X.set("dock",l)},this.removeButton=function(e){var t=X.get("dock")||[];t=n.reject(t,n.matches({id:e})),X.set("dock",t)},this.checkBeforePlay=function(){return J},this.getItemQoe=function(){return X._qoeItem},this.setControls=function(e){n.isBoolean(e)||(e=!X.get("controls")),X.set("controls",e);var t=X.getVideo();t&&t.setControls(e)},this.playerDestroy=function(){this.stop(),this.showView(this.originalContainer),$&&$.destroy(),X&&X.destroy(),G&&(G.destroy(),G=null)},this.isBeforePlay=this.checkBeforePlay,this.isBeforeComplete=function(){return X.checkComplete()},this.createInstream=function(){return this.instreamDestroy(),j(),this._instreamAdapter=new t(this,X,$),this._instreamAdapter},this.skipAd=function(){this._instreamAdapter&&this._instreamAdapter.skipAd()},this.instreamDestroy=function(){ee._instreamAdapter&&ee._instreamAdapter.destroy()},this.trigger=function(e,t){var n=y(X,e,t);return h.trigger.call(this,e,n)},G.start()},showView:function(e){if(!document.body.contains(this.currentContainer)){var t=document.getElementById(this._model.get("id"));t&&(this.currentContainer=t)}this.currentContainer.parentElement&&this.currentContainer.parentElement.replaceChild(e,this.currentContainer),this.currentContainer=e},triggerError:function(e){this._model.set("errorEvent",e),this._model.set("state",m.ERROR),this._model.once("change:state",(function(){this._model.set("errorEvent",void 0)}),this),this.trigger(g.JWPLAYER_ERROR,e)},setupError:function(e){var t=e.message,r=d.createElement(v(this._model.get("id"),this._model.get("skin"),t)),i=this._model.get("width"),o=this._model.get("height");d.style(r,{width:i.toString().indexOf("%")>0?i:i+"px",height:o.toString().indexOf("%")>0?o:o+"px"}),this.showView(r);var a=this;n.defer((function(){a.trigger(g.JWPLAYER_SETUP_ERROR,{message:t})}))}},w}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(4)],void 0===(i=function(e,t){return function(n,r,i){var o=i;switch(r){case t.JWPLAYER_MEDIA_TIME:case"beforePlay":case"pause":case"play":case"ready":var a=n.get("viewable");e.isUndefined(a)||(o=e.extend({},i,{viewable:a}))}return o}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(98),n(97),n(4),n(5),n(2),n(3),n(1)],void 0===(i=function(e,t,n,r,i,o,a){function s(n){var r="",i=n.get("provider");return i&&(r=i.name),r.indexOf("flash")>=0?t:e}var l={skipoffset:null,tag:null},c=function(e,o,c){function u(){w._adModel.set("state","buffering"),o.set("skipButton",!1),_++;var e,t=p[_];m&&(e=m[_]),C.loadItem(t,e)}function d(e,t){"complete"!==e&&(t=t||{},S.tag&&!t.tag&&(t.tag=S.tag),this.trigger(e,t),"mediaError"!==e&&"error"!==e||p&&_+1<p.length&&u())}function f(e){w._adModel.set("duration",e.duration),w._adModel.set("position",e.position)}function h(e){var t={};S.tag&&(t.tag=S.tag),this.trigger(n.JWPLAYER_MEDIA_COMPLETE,t),P.call(this,e)}var p,m,g,v,y,b=s(o),w=new b(e,o),_=0,S={},C=this,x=a.bind((function(e){(e=e||{}).hasControls=!!o.get("controls"),this.trigger(n.JWPLAYER_INSTREAM_CLICK,e),w&&w._adModel&&(w._adModel.get("state")===r.PAUSED?e.hasControls&&w.instreamPlay():w.instreamPause())}),this),E=a.bind((function(){w&&w._adModel&&w._adModel.get("state")===r.PAUSED&&o.get("controls")&&(e.setFullscreen(),e.play())}),this);this.type="instream",this.init=function(t){g=o.getVideo(),v=o.get("position"),y=o.get("playlist")[o.get("item")],g.setPlaybackRate(1),w.on("all",d,this),w.on(n.JWPLAYER_MEDIA_TIME,f,this),w.on(n.JWPLAYER_MEDIA_COMPLETE,h,this),w.init(),e.detachMedia(),o.mediaModel.set("state",r.BUFFERING),e.checkBeforePlay()||0===v&&!o.checkComplete()?(v=0,o.set("preInstreamState","instream-preroll")):g&&o.checkComplete()||o.get("state")===r.COMPLETE?o.set("preInstreamState","instream-postroll"):o.set("preInstreamState","instream-midroll");var a=o.get("state");return t||a!==r.PLAYING&&a!==r.BUFFERING||g.pause(),c.setupInstream(w._adModel),w._adModel.set("state",r.BUFFERING),c.clickHandler()&&c.clickHandler().setAlternateClickHandlers(i.noop,null),this.setText(o.get("localization").loadingAd),this};var P=function(e){p&&_+1<p.length?u():(this.trigger("adBreakEnd",{}),e.type===n.JWPLAYER_MEDIA_COMPLETE&&this.trigger(n.JWPLAYER_PLAYLIST_COMPLETE,{}),this.destroy())};this.loadItem=function(e,s){if(i.isAndroid(2.3))this.trigger({type:n.JWPLAYER_ERROR,message:"Error loading instream: Cannot play instream on Android 2.3"});else{var c=e;a.isArray(e)?(m=s,e=(p=e)[_],m&&(s=m[_])):c=[e];var u=o.getProviders(),d=b===t?"flash":void 0,f=u.required(c,d);o.set("hideAdsControls",!1),w._adModel.set("state",r.BUFFERING),u.load(f).then((function(){if(null!==w){C.trigger(n.JWPLAYER_PLAYLIST_ITEM,{index:_,item:e}),S=a.extend({},l,s),w.load(e),C.addClickHandler();var t=e.skipoffset||S.skipoffset;t&&C.setupSkipButton(t,S)}}))}},this.setupSkipButton=function(e,t,n){o.set("skipButton",!1),n&&(P=n),w._adModel.set("skipMessage",t.skipMessage),w._adModel.set("skipText",t.skipText),w._adModel.set("skipOffset",e),o.set("skipButton",!0)},this.applyProviderListeners=function(e){w.applyProviderListeners(e),this.addClickHandler()},this.play=function(){w.instreamPlay()},this.pause=function(){w.instreamPause()},this.addClickHandler=function(){c.clickHandler()&&c.clickHandler().setAlternateClickHandlers(x,E),w.on(n.JWPLAYER_MEDIA_META,this.metaHandler,this)},this.skipAd=function(e){var t=n.JWPLAYER_AD_SKIPPED;this.trigger(t,e),P.call(this,{type:t})},this.metaHandler=function(e){e.width&&e.height&&c.resizeMedia()},this.destroy=function(){if(this.off(),o.set("skipButton",!1),w)switch(c.clickHandler()&&c.clickHandler().revertAlternateClickHandlers(),o.off(null,null,w),w.off(null,null,C),w.instreamDestroy(),c.destroyInstream(),w=null,e.attachMedia(),o.get("preInstreamState")){case"instream-preroll":case"instream-midroll":i.isMobile()&&o.mediaModel.get("state")===r.BUFFERING&&g.setState(r.BUFFERING);var t=a.extend({},y);t.starttime=v,o.loadVideo(t);break;case"instream-postroll":case"instream-idle":g.stop()}},this.getState=function(){return!(!w||!w._adModel)&&w._adModel.get("state")},this.setText=function(e){c.setAltText(e||"")},this.hide=function(){o.set("hideAdsControls",!0)}};return a.extend(c.prototype,o),c}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(3),n(33),n(34),n(4),n(5),n(2),n(1)],void 0===(i=function(e,t,n,r,i,o,a){var s=function(e,r){this.model=r,this._adModel=(new t).setup({id:r.get("id"),volume:r.get("volume"),fullscreen:r.get("fullscreen"),mute:r.get("mute")}),this._adModel.on("change:state",n,this);var i=e.getContainer();this.swf=i.querySelector("object")};return s.prototype=a.extend({init:function(){if(o.isChrome()){var e=-1,t=!1;this.swf.on("throttle",(function(n){if(clearTimeout(e),"resume"===n.state)t&&(t=!1,this.instreamPlay());else{var r=this;e=setTimeout((function(){r._adModel.get("state")===i.PLAYING&&(t=!0,r.instreamPause())}),250)}}),this)}this.swf.on("instream:state",this.stateHandler,this).on("instream:time",(function(e){this._adModel.set("position",e.position),this._adModel.set("duration",e.duration),this.trigger(r.JWPLAYER_MEDIA_TIME,e)}),this).on("instream:complete",(function(e){this.trigger(r.JWPLAYER_MEDIA_COMPLETE,e)}),this).on("instream:error",(function(e){this.trigger(r.JWPLAYER_MEDIA_ERROR,e)}),this),this.swf.triggerFlash("instream:init"),this.applyProviderListeners=function(e){e&&(this.model.on("change:volume",(function(t,n){e.volume(n)}),this),this.model.on("change:mute",(function(t,n){e.mute(n)}),this),e.volume(this.model.get("volume")),e.mute(this.model.get("mute")),e.off(),e.on(r.JWPLAYER_PLAYER_STATE,this.stateHandler,this),e.on(r.JWPLAYER_MEDIA_TIME,(function(e){this.trigger(r.JWPLAYER_MEDIA_TIME,e)}),this))}},stateHandler:function(e){switch(e.newstate){case i.PLAYING:case i.PAUSED:this._adModel.set("state",e.newstate)}},instreamDestroy:function(){this._adModel&&(this.off(),this.swf.off(null,null,this),this.swf.triggerFlash("instream:destroy"),this.swf=null,this._adModel.off(),this._adModel=null,this.model=null)},load:function(e){this.swf.triggerFlash("instream:load",e)},instreamPlay:function(){this.swf.triggerFlash("instream:play")},instreamPause:function(){this.swf.triggerFlash("instream:pause")}},e),s}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(3),n(34),n(4),n(5),n(33)],void 0===(i=function(e,t,n,r,i,o){return function(a,s){function l(t){var i=t||f.getVideo();if(h!==i){if(h=i,!i)return;var o="vpaid"===i.type;i.off(),i.on("all",(function(t,n){o&&t===r.JWPLAYER_MEDIA_COMPLETE||this.trigger(t,e.extend({},n,{type:t}))}),p),i.on(r.JWPLAYER_MEDIA_BUFFER_FULL,d),i.on(r.JWPLAYER_PLAYER_STATE,c),i.attachMedia(),i.volume(s.get("volume")),i.mute(s.get("mute")||s.get("autostartMuted")),f.on("change:state",n,p)}}function c(e){switch(e.newstate){case i.PLAYING:case i.PAUSED:f.set("state",e.newstate)}}function u(e){s.trigger(e.type,e),p.trigger(r.JWPLAYER_FULLSCREEN,{fullscreen:e.jwstate})}function d(){f.getVideo().play()}var f,h,p=e.extend(this,t);return a.on(r.JWPLAYER_FULLSCREEN,(function(e){this.trigger(r.JWPLAYER_FULLSCREEN,e)}),p),this.init=function(){(f=(new o).setup({id:s.get("id"),volume:s.get("volume"),fullscreen:s.get("fullscreen"),mute:s.get("mute")||s.get("autostartMuted"),instreamMode:!0})).on("fullscreenchange",u),this._adModel=f},p.load=function(e){f.set("item",0),f.set("playlistItem",e),f.setActiveItem(e),l(),f.off(r.JWPLAYER_ERROR),f.on(r.JWPLAYER_ERROR,(function(e){this.trigger(r.JWPLAYER_ERROR,e)}),p),f.loadVideo(e)},p.applyProviderListeners=function(e){l(e),e&&(e.off(r.JWPLAYER_ERROR),e.on(r.JWPLAYER_ERROR,(function(e){this.trigger(r.JWPLAYER_ERROR,e)}),p),s.on("change:volume",(function(e,t){h.volume(t)}),p),s.on("change:mute",(function(e,t){h.mute(t)}),p),s.on("change:autostartMuted",(function(e,t){t||h.mute(s.get("mute"))}),p))},this.instreamDestroy=function(){f&&(f.off(),this.off(),h&&(h.detachMedia(),h.off(),f.getVideo()&&h.destroy()),f=null,a.off(null,null,this),a=null)},p.instreamPlay=function(){f.getVideo()&&f.getVideo().play(!0)},p.instreamPause=function(){f.getVideo()&&f.getVideo().pause(!0)},p}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(39),n(1)],void 0===(i=function(e,t){function n(e){e.mediaController.off(o,e._onPlayAttempt),e.mediaController.off(a,e._triggerFirstFrame),e.mediaController.off(l,e._onTime),e.off("change:activeTab",e._onTabVisible)}function r(e){e._onTabVisible&&n(e),e._triggerFirstFrame=t.once((function(){var t=e._qoeItem;t.tick(s);var r=t.getFirstFrame();e.mediaController.trigger(s,{loadTime:r}),n(e)})),e._onTime=d(e._triggerFirstFrame),e._onPlayAttempt=function(){e._qoeItem.tick(o)},e._onTabVisible=function(t,n){n?e._qoeItem.tick(u):e._qoeItem.tick(c)},e.on("change:activeTab",e._onTabVisible),e.mediaController.on(o,e._onPlayAttempt),e.mediaController.once(a,e._triggerFirstFrame),e.mediaController.on(l,e._onTime)}var i="playlistItem",o="playAttempt",a="providerFirstFrame",s="firstFrame",l="time",c="tabHidden",u="tabVisible",d=function(e){var t=0;return function(n){var r=n.position;r>t&&e(),t=r}};return{model:function(t){t.on("change:mediaModel",(function(t,n,a){t._qoeItem&&a&&t._qoeItem.end(a.get("state")),t._qoeItem=new e,t._qoeItem.getFirstFrame=function(){var e=this.between(o,s),t=this.between(u,s);return t>0&&t<e?t:e},t._qoeItem.tick(i),t._qoeItem.start(n.get("state")),r(t),n.on("change:state",(function(e,n,r){t._qoeItem.end(r),t._qoeItem.start(n)}))}))}}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(21),n(52),n(15),n(65),n(22),n(1),n(2),n(4),n(50)],void 0===(i=function(e,t,r,i,o,a,s,l,c){function u(e){setTimeout(e,0)}function d(e){window.Promise?e():n.e(11,(function(t){n(57),e()}))}function f(e){window.btoa&&window.atob?e():n.e(12,(function(t){n(56),e()}))}function h(e){"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?e():n.e(7,(function(t){n(83),e()}))}function p(t,n){window.jwplayerPluginJsonp=e.registerPlugin,(k=e.loadPlugins(n.get("id"),n.get("plugins"))).on(l.COMPLETE,t),k.on(l.ERROR,a.partial(g,t)),k.load()}function m(e,t,n){delete window.jwplayerPluginJsonp,k.setupPlugins(n,t),e()}function g(e,t){P(e,"Could not load plugin",t.message)}function v(e,n){var r=n.get("playlist");a.isString(r)?((T=new t).on(l.JWPLAYER_PLAYLIST_LOADED,(function(t){n.attributes.feedData=t,n.attributes.playlist=t.playlist,e()})),T.on(l.JWPLAYER_ERROR,a.partial(w,e)),T.load(r)):e()}function y(e,t,n,r){var o="flash"===t.get("primary"),a=s.flashVersion();if(o&&a){var l,c=function(){-1!==l&&(clearTimeout(l),l=-1,setTimeout((function(){i.remove(f.querySelector("#"+h)),e()}),0))},u=function(){t.set("primary",void 0),t.updateProviders(),c()},d=r.element(),f=d.querySelector(".jw-media");d.parentElement||u();var h=t.get("id")+"-"+Math.random().toString(16).substr(2),p=t.get("flashloader");Object.defineProperty(i.embed(p,f,h,null),"embedCallback",{get:function(){return c}}),l=setTimeout(u,3e3)}else e()}function b(e,t,n,r,i){i(t.get("playlist"),t.get("feedData"))?e():w(e)}function w(e,t){t&&t.message?P(e,"Error loading playlist",t.message):P(e,"Error loading player","No playable sources found")}function _(e,t){var n=t.get("skin"),i=t.get("skinUrl");if(a.contains(o.SkinsIncluded,n))e();else{if(i||(i=function(e,t){var n;return a.contains(o.SkinsLoadable,e)&&(n=t+"skins/"+e+".css"),n}(n,t.get("base"))),a.isString(i)&&!function(e){for(var t=document.styleSheets,n=0,r=t.length;n<r;n++)if(t[n].href===e)return!0;return!1}(i)){t.set("skin-loading",!0);var s=new r(i,!0);s.addEventListener(l.COMPLETE,(function(){t.set("skin-loading",!1)})),s.addEventListener(l.ERROR,(function(){t.set("skin","seven"),t.set("skin-loading",!1)})),s.load()}e()}}function S(e,t,n,r){t.setAutoStart(),r.setup(),e()}function C(e,t){t.once("itemReady",e),t.setItemIndex(t.get("item"))}function x(e){e({type:"complete"})}function E(e,t,n,r){return t.get("controls")?void c.load().then((function(t){r.setControlsModule(t),e()})).catch((function(t){P(e,"Failed to load controls",t)})):void e()}function P(e,t,n){e({type:"error",msg:t,reason:n})}var k,T;return{getQueue:function(){return{LOAD_PROMISE_POLYFILL:{method:d,depends:[]},LOAD_BASE64_POLYFILL:{method:f,depends:[]},LOAD_PLUGINS:{method:p,depends:["LOAD_PROMISE_POLYFILL"]},LOAD_XO_POLYFILL:{method:h,depends:[]},LOAD_SKIN:{method:_,depends:[]},LOAD_PLAYLIST:{method:v,depends:[]},LOAD_CONTROLS:{method:E,depends:["LOAD_PROMISE_POLYFILL"]},SETUP_VIEW:{method:S,depends:["LOAD_SKIN","LOAD_XO_POLYFILL","LOAD_PROMISE_POLYFILL"]},INIT_PLUGINS:{method:m,depends:["LOAD_PLUGINS","SETUP_VIEW"]},CHECK_FLASH:{method:y,depends:["SETUP_VIEW"]},FILTER_PLAYLIST:{method:b,depends:["LOAD_PLAYLIST","CHECK_FLASH"]},SET_ITEM:{method:C,depends:["INIT_PLUGINS","FILTER_PLAYLIST"]},DEFERRED:{method:u,depends:[]},SEND_READY:{method:x,depends:["LOAD_CONTROLS","SET_ITEM","DEFERRED"]}}},error:P}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(2)],void 0===(i=function(e,t){function n(e){return"jwplayer."+e}function i(e,t){try{a[n(e)]=t}catch(r){var i=window.jwplayer;i&&i.debug&&console.error(r)}}function o(){this.persistItems=["volume","mute","captionLabel","qualityLabel"]}var a={removeItem:t.noop};try{a=window.localStorage}catch(s){}return e.extend(o.prototype,{getAllItems:function(){return e.reduce(this.persistItems,(function(e,r){var i=a[n(r)];return i&&(e[r]=t.serialize(i)),e}),{})},track:function(t){e.each(this.persistItems,(function(e){t.on("change:"+e,(function(t,n){i(e,n)}))}))},clear:function(){e.each(this.persistItems,(function(e){a.removeItem(n(e))}))}}),o}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(74),n(2)],void 0===(i=function(e,t){return n.p=t.loadFrom(),e.selectPlayer}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(7)],void 0===(i=function(e){function t(e){e||n()}function n(){throw new Error("Invalid DFXP file")}var r=e.seconds;return function(i){t(i);var o=[],a=i.getElementsByTagName("p"),s=30,l=i.getElementsByTagName("tt");if(l&&l[0]){var c=parseFloat(l[0].getAttribute("ttp:frameRate"));isNaN(c)||(s=c)}t(a),a.length||((a=i.getElementsByTagName("tt:p")).length||(a=i.getElementsByTagName("tts:p")));for(var u=0;u<a.length;u++){for(var d=a[u],f=d.getElementsByTagName("br"),h=0;h<f.length;h++){var p=f[h];p.parentNode.replaceChild(i.createTextNode("\r\n"),p)}var m=d.innerHTML||d.textContent||d.text||"",g=e.trim(m).replace(/>\s+</g,"><").replace(/(<\/?)tts?:/g,"$1").replace(/<br.*?\/>/g,"\r\n");if(g){var v=d.getAttribute("begin"),y=d.getAttribute("dur"),b=d.getAttribute("end"),w={begin:r(v,s),text:g};b?w.end=r(b,s):y&&(w.end=w.begin+r(y,s)),o.push(w)}}return o.length||n(),o}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(20),n(7),n(2)],void 0===(i=function(e,t,n){return function(r,i){for(var o=[],a=[],s=t.xmlAttribute,l="default",c="label",u="file",d=0;d<r.childNodes.length;d++){var f=r.childNodes[d];if("jwplayer"===f.prefix){var h=e.localName(f);"source"===h?(delete i.sources,o.push({file:s(f,u),default:s(f,l),label:s(f,c),type:s(f,"type")})):"track"===h?(delete i.tracks,a.push({file:s(f,u),default:s(f,l),kind:s(f,"kind"),label:s(f,c)})):(i[h]=n.serialize(e.textContent(f)),"file"===h&&i.sources&&delete i.sources)}i[u]||(i[u]=i.link)}if(o.length)for(i.sources=[],d=0;d<o.length;d++)o[d].file.length>0&&(o[d][l]="true"===o[d][l],o[d].label.length||delete o[d].label,i.sources.push(o[d]));if(a.length)for(i.tracks=[],d=0;d<a.length;d++)a[d].file.length>0&&(a[d][l]="true"===a[d][l],a[d].kind=a[d].kind.length?a[d].kind:"captions",a[d].label.length||delete a[d].label,i.tracks.push(a[d]));return i}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(20),n(7),n(2)],void 0===(i=function(e,t,n){function r(e){for(var t=[],n=0;n<s(e);n++){var r=e.childNodes[n];"jwplayer"===r.prefix&&"mediatypes"===o(r).toLowerCase()&&t.push(a(r))}return t}var i=t.xmlAttribute,o=e.localName,a=e.textContent,s=e.numChildren;return function e(t,l){function c(e){var t={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish"};return t[e]?t[e]:e}var u,d,f="tracks",h=[];for(d=0;d<s(t);d++)if("media"===(u=t.childNodes[d]).prefix){if(!o(u))continue;switch(o(u).toLowerCase()){case"content":if(i(u,"duration")&&(l.duration=n.seconds(i(u,"duration"))),i(u,"url")){l.sources||(l.sources=[]);var p={file:i(u,"url"),type:i(u,"type"),width:i(u,"width"),label:i(u,"label")},m=r(u);m.length&&(p.mediaTypes=m),l.sources.push(p)}s(u)>0&&(l=e(u,l));break;case"title":l.title=a(u);break;case"description":l.description=a(u);break;case"guid":l.mediaid=a(u);break;case"thumbnail":l.image||(l.image=i(u,"url"));break;case"group":e(u,l);break;case"subtitle":var g={};g.file=i(u,"url"),g.kind="captions",i(u,"lang").length>0&&(g.label=c(i(u,"lang"))),h.push(g)}}for(l.hasOwnProperty(f)||(l[f]=[]),d=0;d<h.length;d++)l[f].push(h[d]);return l}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(1)],void 0===(i=function(e){var t={kind:"captions",default:!1};return function(n){if(n&&n.file)return e.extend({},t,n)}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(26),n(2),n(4),n(3),n(1),n(15)],void 0===(i=function(e,t,n,r,i,o){return function(a,s){function l(){p||(p=!0,h=o.loaderstatus.COMPLETE,f.trigger(n.COMPLETE))}function c(){if(!g&&(s&&0!==i.keys(s).length||l(),!p)){var r=a.getPlugins();d=i.after(m,l),i.each(s,(function(i,a){var s=e.getPluginName(a),l=r[s],c=l.getJS(),u=l.getTarget(),h=l.getStatus();h!==o.loaderstatus.LOADING&&h!==o.loaderstatus.NEW&&(c&&!t.versionCheck(u)&&f.trigger(n.ERROR,{message:"Incompatible player version"}),d())}))}}function u(e){if(!g){var r="File not found";e.url&&t.log(r,e.url),this.off(),this.trigger(n.ERROR,{message:r}),c()}}var d,f=i.extend(this,r),h=o.loaderstatus.NEW,p=!1,m=i.size(s),g=!1;this.setupPlugins=function(n,r){var o=[],s=a.getPlugins(),l=r.get("plugins");i.each(l,(function(r,a){var c=e.getPluginName(a),u=s[c],d=u.getFlashPath(),f=u.getJS(),h=u.getURL();if(d){var p=i.extend({name:c,swf:d,pluginmode:u.getPluginmode()},r);o.push(p)}t.tryCatch((function(){if(f){var e=l[h];if(!e)return void t.log("JW Plugin already loaded",c,h);var r=document.createElement("div");r.id=n.id+"_"+c,r.className="jw-plugin jw-reset";var o=i.extend({},e),a=u.getNewInstance(n,o,r);a.addToPlayer=function(e,t,n){return function(){var r=e.getContainer().getElementsByClassName("jw-overlays")[0];r&&(n.left=r.style.left,n.top=r.style.top,r.appendChild(n),t.displayArea=r)}}(n,a,r),a.resizeHandler=function(e){function t(){var t=e.displayArea;t&&e.resize(t.clientWidth,t.clientHeight)}return function(){t(),setTimeout(t,400)}}(a),n.addPlugin(c,a,r)}}))instanceof t.Error&&t.log("ERROR: Failed to load "+c+".")})),r.set("flashPlugins",o)},this.load=function(){if(t.exists(s)&&"object"!==t.typeOf(s))c();else{h=o.loaderstatus.LOADING,i.each(s,(function(e,r){if(t.exists(r)){var i=a.addPlugin(r);i.on(n.COMPLETE,c),i.on(n.ERROR,u)}}));var e=a.getPlugins();i.each(e,(function(e){e.load()})),c()}},this.destroy=function(){g=!0,this.off()},this.getStatus=function(){return h}}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(26),n(55)],void 0===(i=function(e,t){return function(n){this.addPlugin=function(r){var i=e.getPluginName(r);return n[i]||(n[i]=new t(r)),n[i]},this.getPlugins=function(){return n}}}.apply(t,r))||(e.exports=i)},,function(e,t,n){var r;void 0===(r=function(){return{}}.apply(t,[]))||(e.exports=r)},function(e,t,n){var r,i;r=[n(60),n(2),n(1),n(69)],void 0===(i=function(e,t,n,r){return[{name:"youtube",supports:function(e){return t.isYouTube(e.file,e.type)}},{name:"html5",supports:function(n){var i={aac:"audio/mp4",mp4:"video/mp4",f4v:"video/mp4",m4v:"video/mp4",mov:"video/mp4",mp3:"audio/mpeg",mpeg:"audio/mpeg",ogv:"video/ogg",ogg:"video/ogg",oga:"video/ogg",vorbis:"video/ogg",webm:"video/webm",f4a:"video/aac",m3u8:"application/vnd.apple.mpegurl",m3u:"application/vnd.apple.mpegurl",hls:"application/vnd.apple.mpegurl"},o=n.file,a=n.type,s=e(n);return null!==s?s:!t.isRtmp(o,a)&&(!!i[a]&&(!!r.canPlayType&&!!r.canPlayType(i[a])))}},{name:"flash",supports:function(e){var r=n.keys({flv:"video",f4v:"video",mov:"video",m4a:"video",m4v:"video",mp4:"video",aac:"video",f4a:"video",mp3:"sound",mpeg:"sound",smil:"rtmp"});if(!t.isFlashSupported())return!1;var i=e.file,o=e.type;return!!t.isRtmp(i,o)||n.contains(r,o)}}]}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(10),n(44),n(110),n(1),n(114)],void 0===(i=function(e,t,r,i,o){function a(e){this.config=e||{},this.providers=this.reorderProviders(this.config.primary)}a.loaders={html5:function(e){n.e(5,(function(t){var r=n(77);s(r),e(r)}))},flash:function(e){n.e(6,(function(t){var r=n(59);s(r),e(r)}))},youtube:function(e){n.e(9,(function(t){var r=n(61);s(r),e(r)}))}};var s=a.registerProvider=function(n){var a=n.getName().name;if(!r[a]){if(!i.find(t,i.matches({name:a}))){if(!i.isFunction(n.supports))throw new Error("Tried to register a provider with an invalid object");t.unshift({name:a,supports:n.supports})}o(n.prototype,e),r[a]=n}};return i.extend(a.prototype,{load:function(e){return Promise.all(i.map(e,(function(e){return new Promise((function(t){var n=a.loaders[e.name];n?n(t):t()}))})))},reorderProviders:function(e){var n=i.clone(t);if("flash"===e){var r=i.indexOf(n,i.findWhere(n,{name:"flash"})),o=n.splice(r,1)[0],a=i.indexOf(n,i.findWhere(n,{name:"html5"}));n.splice(a,0,o)}return n},providerSupports:function(e,t){return e.supports(t)},required:function(e,t){var n=this,r=this.reorderProviders(t);return e=e.slice(),i.compact(i.map(r,(function(t){for(var r=!1,i=e.length;i--;){var o=e[i],a=n.providerSupports(t,o.sources[0]);a&&e.splice(i,1),r=r||a}if(r)return t})))},choose:function(e){e=i.isObject(e)?e:{};for(var t=this.providers.length,n=0;n<t;n++){var o=this.providers[n];if(this.providerSupports(o,e))return{priority:t-n-1,name:o.name,type:e.type,providerToCheck:o,provider:r[o.name]}}return null}}),a}.apply(t,r))||(e.exports=i)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.now=function(){return r.now()},t.dateTime=function(){return i+r.now()};var n=window.Date,r=window.performance||{timing:{}},i=r.timing.navigationStart||(new n).getTime();"now"in r||(r.now=function(){return(new n).getTime()-i})},function(e,t,n){var r,i;r=[n(1)],void 0===(i=function(e){return function(t){return e.each(Array.prototype.slice.call(arguments,1),(function(e){if(e)for(var n in e)n in t||(t[n]=e[n])})),t}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r;void 0===(r=function(){return{hasClass:function(e,t){var n=" "+t+" ";return 1===e.nodeType&&(" "+e.className+" ").replace(/[\t\r\n\f]/g," ").indexOf(n)>=0}}}.apply(t,[]))||(e.exports=r)},,function(e,t,n){var r,i;r=[n(1),n(3)],void 0===(i=function(e,t){return e.extend({get:function(e){return this.attributes=this.attributes||{},this.attributes[e]},set:function(e,t){if(this.attributes=this.attributes||{},this.attributes[e]!==t){var n=this.attributes[e];this.attributes[e]=t,this.trigger("change:"+e,this,t,n)}},clone:function(){return e.clone(this.attributes)},change:function(e,t,n){var r=this;return e.split(" ").forEach((function(e){var i="change:"+e,o=r.get(e);r.on(i,t,n),t.call(n,r,o,o)})),this}},t)}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(1)],void 0===(i=function(e){var t={isDvr:function(e,t){return Math.abs(e)>=Math.max(t,0)},streamType:function(n,r){var i=e.isUndefined(r)?120:r,o="VOD";return n===1/0?o="LIVE":n<0&&(o=t.isDvr(n,i)?"DVR":"LIVE"),o}};return t}.apply(t,r))||(e.exports=i)},function(e,t,n){var r;void 0===(r=function(){var e=function(e,t){this.name=e,this.message=t.message||t.toString(),this.error=t};return{tryCatch:function(t,n,r){n=n||this,r=r||[];var i=window.jwplayer;if(i&&i.debug)return t.apply(n,r);try{return t.apply(n,r)}catch(o){return new e(t.name,o)}},Error:e}}.apply(t,[]))||(e.exports=r)},function(e,t,n){var r,i;r=[n(2),n(23),n(14),n(5),n(1)],void 0===(i=function(e,t,r,i,o){var a=t.style,s={back:!0,backgroundOpacity:50,edgeStyle:null,fontSize:14,fontOpacity:100,fontScale:.05,preprocessor:o.identity,windowOpacity:0};return function(i){function l(){if(o.isFinite(x.fontSize))return i.get("containerHeight")?void(S=s.fontScale*x.fontSize/s.fontSize):void i.once("change:containerHeight",l)}function c(){var e=i.get("containerHeight");if(e){var t=Math.round(e*S);i.get("renderCaptionsNatively")?h(i.get("id"),t):a(y,{fontSize:t+"px"})}}function u(e,t){c(),f(e,t),d(e,t)}function d(e,n){t.css("#"+e+" .jw-text-track-display",C,e),t.css("#"+e+" .jw-text-track-cue",n,e)}function f(n,r){e.isSafari()&&t.css("#"+n+" .jw-video::-webkit-media-text-track-display-backdrop",{backgroundColor:r.backgroundColor},n,!0),t.css("#"+n+" .jw-video::-webkit-media-text-track-display",C,n,!0),t.css("#"+n+" .jw-video::cue",r,n,!0)}function h(e,n){C.fontSize=n+"px",t.css("#"+e+" .jw-video::-webkit-media-text-track-display",C,e,!0)}function p(e,n,r){var i=t.hexToRgba("#000000",r);"dropshadow"===e?n.textShadow="0 2px 1px "+i:"raised"===e?n.textShadow="0 0 5px "+i+", 0 1px 5px "+i+", 0 2px 5px "+i:"depressed"===e?n.textShadow="0 -2px 1px "+i:"uniform"===e&&(n.textShadow="-2px 0 1px "+i+",2px 0 1px "+i+",0 -2px 1px "+i+",0 2px 1px "+i+",-1px 1px 1px "+i+",1px 1px 1px "+i+",1px -1px 1px "+i+",1px 1px 1px "+i)}var m,g,v,y,b,w,_,S,C,x={};(y=document.createElement("div")).className="jw-captions jw-reset",this.show=function(){r.addClass(y,"jw-captions-enabled")},this.hide=function(){r.removeClass(y,"jw-captions-enabled")},this.populate=function(e){if(!i.get("renderCaptionsNatively"))return g=[],m=e,e?void this.selectCues(e,v):(g=[],void this.renderCues())},this.resize=function(){c(),this.renderCues(!0)},this.renderCues=function(e){e=!!e,_&&_.processCues(window,g,y,e)},this.selectCues=function(e,t){var n,r;e&&e.data&&t&&(!1!==(r=this.getAlignmentPosition(e,t))&&(n=this.getCurrentCues(e.data,r),this.updateCurrentCues(n),this.renderCues(!0)))},this.getCurrentCues=function(e,t){return o.filter(e,(function(e){return t>=e.startTime&&(!e.endTime||t<=e.endTime)}))},this.updateCurrentCues=function(e){return e.length?o.difference(e,g).length&&(r.addClass(b,"jw-captions-window-active"),g=e):g=[],g},this.getAlignmentPosition=function(e,t){var n=e.source,r=t.metadata;return n?r&&o.isNumber(r[n])?r[n]:void 0:t.duration<0?t.position-t.duration:t.position},this.clear=function(){e.empty(y)},this.setup=function(e,n){b=document.createElement("div"),w=document.createElement("span"),b.className="jw-captions-window jw-reset",w.className="jw-captions-text jw-reset",x=o.extend({},s,n),S=s.fontScale,l(x.fontSize);var r=x.windowColor,c=x.windowOpacity,d=x.edgeStyle;C={};var f={};(function(e,n){var r=n.color,i=n.fontOpacity;if((r||i!==s.fontOpacity)&&(e.color=t.hexToRgba(r||"#ffffff",i)),n.back){var o=n.backgroundColor,a=n.backgroundOpacity;o===s.backgroundColor&&a===s.backgroundOpacity||(e.backgroundColor=t.hexToRgba(o,a))}else e.background="transparent";n.fontFamily&&(e.fontFamily=n.fontFamily),n.fontStyle&&(e.fontStyle=n.fontStyle),n.fontWeight&&(e.fontWeight=n.fontWeight),n.textDecoration&&(e.textDecoration=n.textDecoration)})(f,x),(r||c!==s.windowOpacity)&&(C.backgroundColor=t.hexToRgba(r||"#000000",c)),p(d,f,x.fontOpacity),x.back||null!==d||p("uniform",f),a(b,C),a(w,f),u(e,f),b.appendChild(w),y.appendChild(b),this.populate(i.get("captionsTrack")),i.set("captions",x)},this.element=function(){return y},i.on("change:playlistItem",(function(){v=null,g=[]}),this),i.on("change:captionsTrack",(function(e,t){this.populate(t)}),this),i.mediaController.on("seek",(function(){g=[]}),this),i.mediaController.on("time seek",(function(e){i.get("renderCaptionsNatively")||(v=e,this.selectCues(m,v))}),this),i.mediaController.on("subtitlesTrackData",(function(){this.selectCues(m,v)}),this),i.on("itemReady",(function(){i.get("renderCaptionsNatively")||n.e(10,(function(e){n(58),_=window.WebVTT}))}),this)}}.apply(t,r))||(e.exports=i)},,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r,i=function(e){return e&&e.__esModule?e:{default:e}}(n(153));void 0===(r=function(){return function(e,t,n,r){return(0,i.default)(e,t,n,r)}}.apply(t,[]))||(e.exports=r)},function(e,t,n){var r,i,o=function(e){return e&&e.__esModule?e:{default:e}}(n(154));r=[n(6),n(2),n(4),n(1),n(3)],void 0===(i=function(e,t,n,r,i){var a=t.style,s={linktarget:"_blank",margin:8,hide:!1,position:"top-right"};return function(l){function c(){var e=l.get("dock"),n=!!(e&&e.length&&"top-right"===d.position&&l.get("controls"));t.toggleClass(u,"jw-below",n)}r.extend(this,i);var u,d,f=new Image;return this.setup=function(){(d=r.extend({},s,l.get("logo"))).file&&(d.position=d.position||s.position,d.hide="true"===d.hide.toString(),u||(u=t.createElement((0,o.default)(d.position,d.hide))),l.set("logo",d),l.change("dock",c),l.on("change:controls",c),f.onload=function(){var e={backgroundImage:'url("'+this.src+'")',width:this.width,height:this.height};if(d.margin!==s.margin){var t=/(\w+)-(\w+)/.exec(d.position);3===t.length&&(e["margin-"+t[1]]=d.margin,e["margin-"+t[2]]=d.margin)}a(u,e),l.set("logoWidth",e.width)},f.src=d.file,new e(u).on("click tap",(function(e){t.exists(e)&&e.stopPropagation&&e.stopPropagation(),this.trigger(n.JWPLAYER_LOGO_CLICK,{link:d.link,linktarget:d.linktarget})}),this))},this.setContainer=function(e){if(u){var t=e.querySelector(".jw-dock");t&&t.parentNode===e?e.insertBefore(u,t):e.appendChild(u)}},this.element=function(){return u},this.position=function(){return d.position},this.destroy=function(){l.off("change:dock",c),l.off("change:controls",c),f.onload=null},this}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(2)],void 0===(i=function(e,t){function n(e,t){t.off("change:mediaType",null,this),t.on("change:mediaType",(function(t,n){"audio"===n&&this.setImage(e.get("playlistItem").image)}),this)}function r(e,n){return e.get("autostart")&&!t.isMobile()||e.get("item")>0?(this.setImage(null),e.off("change:state",null,this),void e.on("change:state",(function(e,t){"complete"!==t&&"idle"!==t&&"error"!==t||(this.setImage(n.image),this.resize(null,null,e.get("stretching")))}),this)):void this.setImage(n.image)}var i=function(e){this.model=e,e.on("change:playlistItem",r,this),e.on("change:mediaModel",n,this)};return e.extend(i.prototype,{setup:function(e){this.el=e;var t=this.model.get("playlistItem");t&&this.setImage(t.image)},setImage:function(n){var r=this.image;r&&(r.onload=null,this.image=null),this.model.off("change:state",null,this);var i="";e.isString(n)&&(i='url("'+n+'")',(r=this.image=new Image).src=n),t.style(this.el,{backgroundImage:i})},resize:function(e,n,r){if("uniform"===r){if(e&&(this.playerAspectRatio=e/n),!this.playerAspectRatio)return;var i=this.image,o=null;if(i){if(0===i.width){var a=this;return void(i.onload=function(){a.resize(e,n,r)})}var s=i.width/i.height;Math.abs(this.playerAspectRatio-s)<.09&&(o="cover")}t.style(this.el,{backgroundSize:o})}},element:function(){return this.el}}),i}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(2)],void 0===(i=function(e,t){var n=function(e){this.model=e,this.model.on("change:playlistItem",this.playlistItem,this)};return e.extend(n.prototype,{hide:function(){this.el.style.display="none"},show:function(){this.el.style.display=""},setup:function(e){this.el=e;var t=this.el.getElementsByTagName("div");this.title=t[0],this.description=t[1],this.model.get("playlistItem")&&this.playlistItem(this.model,this.model.get("playlistItem")),this.model.on("change:logoWidth",this.update,this),this.model.on("change:dock",this.update,this)},update:function(e){var n={paddingLeft:0,paddingRight:0},r=e.get("controls"),i=e.get("dock"),o=e.get("logo");if(o){var a=1*(""+o.margin).replace("px",""),s=e.get("logoWidth")+(isNaN(a)?0:a);"top-left"===o.position?n.paddingLeft=s:"top-right"===o.position&&(n.paddingRight=s)}if(r&&i&&i.length){var l=56*i.length;n.paddingRight=Math.max(n.paddingRight,l)}t.style(this.el,n)},playlistItem:function(e,t){if(e.get("displaytitle")||e.get("displaydescription")){var n="",r="";t.title&&e.get("displaytitle")&&(n=t.title),t.description&&e.get("displaydescription")&&(r=t.description),this.updateText(n,r)}else this.hide()},updateText:function(e,t){this.title.innerHTML=e,this.description.innerHTML=t,this.title.firstChild||this.description.firstChild?this.show():this.hide()},element:function(){return this.el}}),n}.apply(t,r))||(e.exports=i)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.CONTROLBAR_ONLY_HEIGHT=44;t.isAudioMode=function(e){var t=e.get("height");if(e.get("aspectratio"))return!1;if("string"==typeof t&&t.indexOf("%")>-1)return!1;var r=1*t||NaN;return!!(r=isNaN(r)?e.get("containerHeight"):r)&&r&&r<=n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBreakpoint=function(e){var t=0;return e>=1280?t=7:e>=960?t=6:e>=800?t=5:e>=640?t=4:e>=540?t=3:e>=420?t=2:e>=320&&(t=1),t},t.setBreakpoint=function(e,t){var n="jw-breakpoint-"+t;r.replaceClass(e,/jw-breakpoint-\d+/,n)};var r=n(14)},function(e,t,n){var r,i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();r=[n(6),n(4),n(3),n(1)],void 0===(i=function(e,t,n,r){return function(){function i(t,o,a){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,i),r.extend(this,n),this.revertAlternateClickHandlers(),this.domElement=o,this.model=t;this.ui=new e(o,r.extend({enableDoubleTap:!0,useMove:!0},a)).on({"click tap":this.clickHandler,"doubleClick doubleTap":function(){return this.alternateDoubleClickHandler?void this.alternateDoubleClickHandler():void this.trigger("doubleClick")},move:function(){this.trigger("move")},over:function(){this.trigger("over")},out:function(){this.trigger("out")}},this)}return o(i,[{key:"destroy",value:function(){this.ui&&(this.ui.destroy(),this.ui=this.domElement=this.model=null,this.revertAlternateClickHandlers())}},{key:"clickHandler",value:function(e){if(!this.model.get("flashBlocked"))return this.alternateClickHandler?void this.alternateClickHandler(e):void this.trigger(e.type===t.touchEvents.CLICK?"click":"tap")}},{key:"element",value:function(){return this.domElement}},{key:"setAlternateClickHandlers",value:function(e,t){this.alternateClickHandler=e,this.alternateDoubleClickHandler=t||null}},{key:"revertAlternateClickHandlers",value:function(){this.alternateClickHandler=null,this.alternateDoubleClickHandler=null}}]),i}()}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(14)],void 0===(i=function(e){return function(t){var n=!1,r=function(){n=!1,e.removeClass(t,"jw-no-focus")},i=function(){n=!0,e.addClass(t,"jw-no-focus")},o=function(){n||r()};return t.addEventListener("focus",o),t.addEventListener("blur",r),t.addEventListener("mousedown",i),{destroy:function(){t.removeEventListener("focus",o),t.removeEventListener("blur",r),t.removeEventListener("mousedown",i)}}}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r;void 0===(r=function(){var e=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"];return function(t,n,r){for(var i=t.requestFullscreen||t.webkitRequestFullscreen||t.webkitRequestFullScreen||t.mozRequestFullScreen||t.msRequestFullscreen,o=n.exitFullscreen||n.webkitExitFullscreen||n.webkitCancelFullScreen||n.mozCancelFullScreen||n.msExitFullscreen,a=!(!i||!o),s=e.length;s--;)n.addEventListener(e[s],r);return{events:e,supportsDomFullscreen:function(){return a},requestFullscreen:function(){i.apply(t)},exitFullscreen:function(){o.apply(n)},fullscreenElement:function(){return n.fullscreenElement||n.webkitCurrentFullScreenElement||n.mozFullScreenElement||n.msFullscreenElement},destroy:function(){for(s=e.length;s--;)n.removeEventListener(e[s],r)}}}}.apply(t,[]))||(e.exports=r)},function(e,t,n){"use strict";function r(){(0,a.cancelAnimationFrame)(c),c=(0,a.requestAnimationFrame)((function(){s.forEach((function(e){e.updateBounds()})),s.forEach((function(e){e.model.get("visibility")&&e.updateStyles()})),s.forEach((function(e){e.checkResized()}))}))}function i(){s.forEach((function(e){e.model.set("activeTab",(0,o.default)())}))}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(62)),a=n(68),s=[],l=void 0,c=-1;document.addEventListener("visibilitychange",i),document.addEventListener("webkitvisibilitychange",i),window.addEventListener("resize",r),window.addEventListener("orientationchange",r),window.addEventListener("beforeunload",(function(){document.removeEventListener("visibilitychange",i),document.removeEventListener("webkitvisibilitychange",i),window.removeEventListener("resize",r),window.removeEventListener("orientationchange",r)})),t.default={add:function(e){s.push(e)},remove:function(e){var t=s.indexOf(e);-1!==t&&s.splice(t,1)},size:function(){return s.length},observe:function(e){!function(){var e=window.IntersectionObserver;window.IntersectionObserver&&!l&&(l=new e((function(e){if(e&&e.length)for(var t=e.length;t--;)for(var n=e[t],r=s.length;r--;){var i=s[r];if(n.target===i.getContainer()){i.model.set("intersectionRatio",n.intersectionRatio);break}}}),{threshold:[0,.25,.5,.75,1]}))}();try{l.unobserve(e)}catch(t){}l.observe(e)},unobserve:function(e){l&&l.unobserve(e)}}},function(e,t){"use strict";function n(e,t){var n=document.documentElement,i=document.body,o={top:0,left:0,right:n.clientWidth||i.clientWidth,width:n.clientWidth||i.clientWidth,bottom:n.clientHeight||i.clientHeight,height:n.clientHeight||i.clientHeight};if(!i.contains(e))return 0;for(var a=e.getBoundingClientRect(),s=a,l=e.parentNode,c=!1;!c;){var u=null;if(l&&1===l.nodeType?"visible"!==window.getComputedStyle(l).overflow&&(u=t(l)):(c=!0,u=o),u&&!(s=r(u,s)))return 0;l=l.parentNode}var d=a.width*a.height,f=s.width*s.height;return d?f/d:0}function r(e,t){var n=Math.max(e.top,t.top),r=Math.min(e.bottom,t.bottom),i=Math.max(e.left,t.left),o=Math.min(e.right,t.right),a=o-i,s=r-n;return a>=0&&s>=0&&{top:n,bottom:r,left:i,right:o,width:a,height:s}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if(e.get("fullscreen"))return 1;if(!e.get("activeTab"))return 0;var i=e.get("intersectionRatio");return void 0===i&&(i=n(t,r)),i}},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}var i,o,a=r(n(155)),s=n(145),l=r(n(150)),c=r(n(151)),u=r(n(62)),d=n(68),f=n(146),h=void 0;i=[n(4),n(5),n(3),n(2),n(1),n(149),n(148),n(147),n(120),n(142),n(143),n(144),n(50)],void 0===(o=function(e,t,r,i,o,p,m,g,v,y,b,w,_){function S(S,T){function A(){(0,d.cancelAnimationFrame)(fe),fe=(0,d.requestAnimationFrame)(O)}function O(){ee.isSetup&&(ee.updateBounds(),ee.updateStyles(),ee.checkResized())}function I(e,t){var n=(0,s.isAudioMode)(T);if(o.isNumber(e)&&o.isNumber(t)){var r=(0,f.getBreakpoint)(e);(0,f.setBreakpoint)(te,r);var a=r<2,l=T.get("timeSliderAbove"),c=!n&&!1!==l&&(l||a);i.toggleClass(te,"jw-flag-small-player",a),i.toggleClass(te,"jw-flag-time-slider-above",c),i.toggleClass(te,"jw-orientation-portrait",t>e)}i.toggleClass(te,"jw-flag-audio-player",n),T.set("audioMode",n)}function j(){T.set("visibility",(0,c.default)(T,te,x))}function N(e,t){t?h?D():_.load().then((function(e){h=e,D()})).catch((function(e){ee.trigger("error",{message:"Controls failed to load",reason:e})})):ee.removeControls()}function D(){var e=new h(document,ee.element());ee.addControls(e)}function R(e){var t=ne.querySelector("video, audio");if(t){var n=document.createElement("div");n.innerHTML=e.title||"",t.setAttribute("title",n.textContent)}}function F(e,t,n){t&&!n&&(X(ue||e),ee.updateStyles())}function M(n,r,o){var a=new g(r,o,{useHover:!0});return a.on({click:function(){ee.trigger(e.JWPLAYER_DISPLAY_CLICK),T.get("controls")&&n.play({reason:"interaction"})},tap:function(){ee.trigger(e.JWPLAYER_DISPLAY_CLICK);var o=r.get("state"),a=T.get("controls");if(a&&(o===t.IDLE||o===t.COMPLETE||ue&&ue.get("state")===t.PAUSED)&&n.play({reason:"interaction"}),a&&o===t.PAUSED){if(ue||r.get("castActive")||r.mediaModel&&"audio"===r.mediaModel.get("mediaType"))return;i.toggleClass(te,"jw-flag-controls-hidden"),oe.renderCues(!0)}else ve&&(ve.showing?ve.userInactive():ve.userActive())},doubleClick:function(){return ve&&n.setFullscreen()},move:function(){return ve&&ve.userActive()},over:function(){return ve&&ve.userActive()}}),a}function L(e,t){i.replaceClass(te,/jw-skin-\S+/,t?"jw-skin-"+t:"")}function B(e,t){i.replaceClass(te,/jw-stretch-\S+/,"jw-stretch-"+t)}function U(e,t){i.toggleClass(te,"jw-flag-aspect-mode",!!t);var n=te.querySelector(".jw-aspect");C(n,{paddingTop:t||null})}function z(e,t){i.toggleClass(te,"jw-flag-flash-blocked",t)}function H(e){e.link?(S.pause(!0,{reason:"interaction"}),S.setFullscreen(!1),window.open(e.link,e.linktarget)):T.get("controls")&&S.play({reason:"interaction"})}function W(e,t,n){var r=i.exists(e),o=i.exists(t),a={width:e};o&&n&&T.set("aspectratio",null),T.get("aspectratio")||(a.height=t),r&&o&&(T.set("width",e),T.set("height",t)),C(te,a)}function q(e,t){if((e&&!isNaN(1*e)||(e=T.get("containerWidth")))&&(t&&!isNaN(1*t)||(t=T.get("containerHeight")))){re&&re.resize(e,t,T.get("stretching"));var n=T.getVideo();if(n)n.resize(e,t,T.get("stretching"))&&(clearTimeout(de),de=setTimeout(q,250))}}function V(e){var t=T.get("fullscreen"),n=void 0!==e.jwstate?e.jwstate:function(){if(pe.supportsDomFullscreen()){var e=pe.fullscreenElement();return!(!e||e.id!==T.get("id"))}return ue?ue.getVideo().getFullScreen():T.getVideo().getFullScreen()}();t!==n&&T.set("fullscreen",n),A(),clearTimeout(de),de=setTimeout(q,200)}function $(e,t){i.toggleClass(e,"jw-flag-fullscreen",t),C(document.body,{overflowY:t?"hidden":""}),t&&ve&&ve.userActive(),q(),A()}function Y(){ve.userActive()}function G(e,t){var n="audio"===t,r=T.getVideo(),o=r&&0===r.getName().name.indexOf("flash");i.toggleClass(te,"jw-flag-media-audio",n),n&&!o?te.insertBefore(re.el,ne):te.insertBefore(re.el,oe.element())}function K(e,t){if(!ue){var n="LIVE"===t;i.toggleClass(te,"jw-flag-live",n),ee.setAltText(n?e.get("localization").liveBroadcast:"")}}function Q(e,t){return t?void(t.name?ie.updateText(t.name,t.message):ie.updateText(t.message,"")):void ie.playlistItem(e,e.get("playlistItem"))}function X(e){if(T.get("viewSetup")){se=e.get("state");var t=null;ue&&(t=se),ve&&(ve.instreamState=t),J(se)}}function J(e){switch(T.get("controls")&&e!==t.PAUSED&&i.hasClass(te,"jw-flag-controls-hidden")&&i.removeClass(te,"jw-flag-controls-hidden"),i.replaceClass(te,/jw-state-\S+/,"jw-state-"+e),e){case t.IDLE:case t.ERROR:case t.COMPLETE:oe.hide();break;default:oe.show(),e===t.PAUSED&&ve&&!ve.showing&&oe.renderCues(!0)}}function Z(){!ve||ue||E||ve.userActive()}var ee=o.extend(this,r,{isSetup:!1,api:S,model:T});o.extend(T.attributes,{containerWidth:void 0,containerHeight:void 0,mediaContainer:void 0,fullscreen:!1,inDom:void 0,iFrame:void 0,activeTab:void 0,intersectionRatio:void 0,visibility:void 0,viewable:void 0,viewSetup:!1,audioMode:void 0,touchMode:void 0,altText:"",cues:void 0,castClicked:!1,scrubbing:!1,logoWidth:0});var te=i.createElement((0,a.default)(T.get("id"),T.get("localization").player)),ne=te.querySelector(".jw-media"),re=new b(T),ie=new w(T),oe=new v(T),ae=void 0,se=void 0,le=void 0,ce=void 0,ue=void 0,de=-1,fe=-1,he=void 0,pe=void 0,me=void 0,ge=null,ve=void 0;this.updateBounds=function(){(0,d.cancelAnimationFrame)(fe);var e=document.body.contains(te),t=x(te),n=Math.round(t.width),r=Math.round(t.height);return n===le&&r===ce?(le&&ce||A(),void T.set("inDom",e)):(n&&r||le&&ce||A(),(n||r||e)&&(T.set("containerWidth",n),T.set("containerHeight",r)),T.set("inDom",e),void(e&&l.default.observe(te)))},this.updateStyles=function(){var e=T.get("containerWidth"),t=T.get("containerHeight");T.get("controls")&&I(e,t),ve&&ve.resize(e,t),q(e,t),oe.resize()},this.checkResized=function(){var t=T.get("containerWidth"),n=T.get("containerHeight");if(t!==le||n!==ce){le=t,ce=n,ee.trigger(e.JWPLAYER_RESIZE,{width:t,height:n});var r=(0,f.getBreakpoint)(t);ge!==r&&(ge=r,ee.trigger(e.JWPLAYER_BREAKPOINT,{breakpoint:ge}))}},this.handleColorOverrides=function(){function e(e,n,r,o){e=i.prefix(e,"#"+t+(o?"":" "));var a={};a[n]=r,i.css(e.join(", "),a,t)}var t=T.get("id"),n=T.get("skinColorActive"),r=T.get("skinColorInactive"),o=T.get("skinColorBackground");if(n&&(e([".jw-button-color.jw-toggle",".jw-button-color:hover",".jw-button-color.jw-toggle.jw-off:hover",".jw-option:not(.jw-active-option):hover",".jw-nextup-header"],"color",n),e([".jw-option.jw-active-option",".jw-progress"],"background","none "+n)),r&&(e([".jw-text",".jw-option",".jw-button-color",".jw-toggle.jw-off",".jw-skip .jw-skip-icon",".jw-nextup-body"],"color",r),e([".jw-cue",".jw-knob",".jw-active-option",".jw-nextup-header"],"background","none "+r)),o){if(e([".jw-background-color"],"background","none "+o),!1!==T.get("timeSliderAbove"))e([".jw-flag-time-slider-above .jw-background-color.jw-controlbar"],"background","transparent linear-gradient(180deg, "+i.getRgba(o,0)+" 0%, "+i.getRgba(o,.25)+" 30%, "+i.getRgba(o,.4)+" 70%, "+i.getRgba(o,.5)+") 100%",!0);e([".jw-flag-time-slider-above .jw-background-color.jw-slider-time"],"background","transparent",!0)}!function(e,t,n){if(e){var r={color:e,borderColor:e,stroke:e};i.css("#"+n+" .jw-color-active",r,n),i.css("#"+n+" .jw-color-active-hover:hover",r,n)}if(t){var o={color:t,borderColor:t,stroke:t};i.css("#"+n+" .jw-color-inactive",o,n),i.css("#"+n+" .jw-color-inactive-hover:hover",o,n)}}(n,r,t)},this.setup=function(){var t=this;re.setup(te.querySelector(".jw-preview")),ie.setup(te.querySelector(".jw-title")),(ae=new y(T)).setup(),ae.setContainer(te),ae.on(e.JWPLAYER_LOGO_CLICK,H),oe.setup(te.id,T.get("captions")),te.insertBefore(oe.element(),ie.element()),he=M(S,T,ne),me=m(te),pe=p(te,document,V),te.addEventListener("focus",Z),T.on("change:errorEvent",Q),T.on("change:hideAdsControls",(function(e,t){i.toggleClass(te,"jw-flag-ads-hide-controls",t)})),T.on("change:scrubbing",(function(e,t){i.toggleClass(te,"jw-flag-dragging",t)})),T.mediaController.on("fullscreenchange",V),T.change("mediaModel",(function(e,n){n.change("mediaType",G,t),n.on("change:visualQuality",(function(){q()}),t)})),T.change("skin",L,this),T.change("stretching",B),T.change("flashBlocked",z);var r=T.get("width"),o=T.get("height");W(r,o),T.change("aspectratio",U),T.get("controls")?I(r,o):i.addClass(te,"jw-flag-controls-hidden"),k||(k=!0,n(185)),P&&i.addClass(te,"jw-ie"),!0===T.get("skin-loading")&&(i.addClass(te,"jw-flag-skin-loading"),T.once("change:skin-loading",(function(){i.removeClass(te,"jw-flag-skin-loading")}))),this.handleColorOverrides(),T.set("mediaContainer",ne),T.set("iFrame",i.isIframe()),T.set("activeTab",(0,u.default)()),T.set("touchMode",E&&("string"==typeof o||o>=s.CONTROLBAR_ONLY_HEIGHT)),l.default.add(this),this.isSetup=!0,T.set("viewSetup",!0),T.set("inDom",document.body.contains(te))},this.init=function(){this.updateBounds(),T.on("change:fullscreen",be),T.on("change:activeTab",j),T.on("change:fullscreen",j),T.on("change:intersectionRatio",j),T.on("change:visibility",F),j(),1!==l.default.size()||T.get("visibility")||F(T,1,0),T.change("state",X),T.change("controls",N),E&&(R(T.get("playlistItem")),T.on("itemReady",R)),le=ce=null,this.checkResized()};var ye=function(e,t){t&&X(ue||T)};this.addControls=function(e){ve=e,i.removeClass(te,"jw-flag-controls-hidden"),T.change("streamType",K,this),e.enable(S,T),e.addActiveListeners(ae.element());var n=e.logoContainer();n&&ae.setContainer(n),ce&&(I(le,ce),e.resize(le,ce),oe.renderCues(!0)),e.on("userActive userInactive",(function(){se!==t.PLAYING&&se!==t.BUFFERING||oe.renderCues(!0)})),e.on("all",ee.trigger,ee),te.querySelector(".jw-overlays").addEventListener("mousemove",Y)},this.removeControls=function(){ae.setContainer(te),ve&&(ve.removeActiveListeners(ae.element()),ve.disable(),ve=null);var e=document.querySelector(".jw-overlays");e&&e.removeEventListener("mousemove",Y),i.addClass(te,"jw-flag-controls-hidden")};var be=function(e,t){var n=T.getVideo();t&&ve&&T.get("autostartMuted")&&ve.unmuteAutoplay(S,T),pe.supportsDomFullscreen()?(t?pe.requestFullscreen():pe.exitFullscreen(),$(te,t)):P?$(te,t):(ue&&ue.getVideo()&&ue.getVideo().setFullscreen(t),n.setFullscreen(t)),n&&0===n.getName().name.indexOf("flash")&&n.setFullscreen(t)};this.resize=function(e,t){W(e,t,!0),O()},this.resizeMedia=q,this.setupInstream=function(e){this.instreamModel=ue=e,ue.on("change:controls",ye,this),ue.on("change:state",X,this),i.addClass(te,"jw-flag-ads"),ve&&ve.userActive()},this.setAltText=function(e){T.set("altText",e)},this.destroyInstream=function(){(ue&&(ue.off(null,null,this),ue=null),this.setAltText(""),i.removeClass(te,["jw-flag-ads","jw-flag-ads-hide-controls"]),T.set("hideAdsControls",!1),T.getVideo)&&T.getVideo().setContainer(ne);K(T,T.get("streamType")),he.revertAlternateClickHandlers()},this.addCues=function(e){T.set("cues",e)},this.clickHandler=function(){return he},this.getContainer=this.element=function(){return te},this.controlsContainer=function(){return ve?ve.element():null},this.getSafeRegion=function(e){var t={x:0,y:0,width:le||0,height:ce||0};return ve&&((e=e||!i.exists(e))&&(t.height-=ve.controlbarHeight())),t},this.setCaptions=function(e){oe.clear(),oe.setup(T.get("id"),e),oe.resize()},this.destroy=function(){l.default.unobserve(te),l.default.remove(this),this.isSetup=!1,this.off(),(0,d.cancelAnimationFrame)(fe),clearTimeout(de),te.removeEventListener("focus",Z),me&&(me.destroy(),me=null),pe&&(pe.destroy(),pe=null),T.mediaController&&T.mediaController.off("fullscreenchange",V),ve&&ve.disable(),ue&&this.destroyInstream(),he&&(he.destroy(),he=null),ae&&(ae.destroy(),ae=null),i.clearCss(T.get("id"))}}var C=i.style,x=i.bounds,E=i.isMobile(),P=i.isIE(),k=!1;return S.prototype.setControlsModule=function(e){h=e},S}.apply(t,i))||(e.exports=o)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return'<div id="'+e+'" class="jw-skin-'+t+' jw-error jw-reset"><div class="jw-title jw-reset"><div class="jw-title-primary jw-reset">'+n+'</div><div class="jw-title-secondary jw-reset">'+r+'</div></div><div class="jw-display-container jw-reset"><div class="jw-display-icon-container jw-background-color jw-reset"><div class="jw-icon jw-icon-display jw-reset" aria-hidden="true"></div></div></div></div>'}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return'<div class="jw-logo jw-logo-'+e+(t?" jw-hide":"")+' jw-reset"></div>'}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return'<div id="'+e+'" class="jwplayer jw-reset jw-state-setup" tabindex="0" aria-label="'+t+'"><div class="jw-aspect jw-reset"></div><div class="jw-media jw-reset"></div><div class="jw-preview jw-reset"></div><div class="jw-title jw-reset"><div class="jw-title-primary jw-reset"></div><div class="jw-title-secondary jw-reset"></div></div><div class="jw-overlays jw-reset"></div></div>'}},function(e,t,n){var r,i;r=[n(74),n(1),n(28),n(2),n(7),n(6),n(79),n(15),n(80),n(69),n(4),n(5),n(53),n(37),n(51),n(21)],void 0===(i=function(e,t,n,r,i,o,a,s,l,c,u,d,f,h,p,m){var g={};return g.api=e,g._=t,g._=t,g.version=n,g.utils=t.extend(r,i,{key:a,extend:t.extend,scriptloader:s,rssparser:p,tea:l,UI:o}),g.utils.css.style=g.utils.style,g.vid=c,g.events=t.extend({},u,{state:d}),g.playlist=t.extend({},f,{item:h}),g.plugins=m,g}.apply(t,r))||(e.exports=i)},,,,function(e,t,n){var r,i;r=[n(94),n(16),n(173),n(29),n(27),n(1)],void 0===(i=function(e,t,r,i,o,a){var s=e.prototype.setup;return e.prototype.setup=function(e,l){function c(){var e=h.get("cast");return a.isObject(e)&&m("casting")}function u(){var e=h.getVideo(),t=h.get("cast")||{};c()?(!t.customAppId&&i.containsDrm(h)||d.apply(this),f.apply(this)):e&&e.video&&(e.video.webkitWirelessVideoPlaybackDisabled=!0)}function d(){n.e(4,function(e){if(window.chrome&&o.isChrome()){var t=n(75);this._castController=new t(this,h),this.castToggle=this._castController.castToggle.bind(this._castController)}}.bind(this))}function f(){window.WebKitPlaybackTargetAvailabilityEvent&&n.e(8,function(e){var t=n(73);this._airplayController=new t(this,h),this.castToggle=this._airplayController.airplayToggle.bind(this._airplayController)}.bind(this))}s.apply(this,arguments);var h=this._model,p=h.get("edition"),m=t(p),g=r.setup(this._view);e.analytics&&(e.sdkplatform=e.sdkplatform||e.analytics.sdkplatform);var v=this;l.getAdBlock=g.getAdBlock,this.on("playlistItem",(function(){g.onReady.apply(v)})),this.once("ready",u,this)},e}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(79),n(16),n(1),n(2),n(66),n(100),n(29)],void 0===(i=function(e,t,r,i,o,a,s){function l(e,t,n){if(t){var r=t.client;delete t.client,/\.(js|swf)$/.test(r||"")||(r=o.repo()+n),e[r]=t}}function c(e,n){var i=n.get("ab");i&&r.each(i.tests,(function(e){r.each(e,(function(e){r.isFunction(e.addConfig)&&e.addConfig(n.attributes,e.selection)}))}));var a=r.clone(n.get("plugins"))||{},s=n.get("edition"),c=t(s),u=o.repo(),d=r.clone(n.get("advertising"));if(c("ads")&&d&&(/\.(js|swf)$/.test(d.client)?a[d.client]=d:/^(vast|googima|freewheel)$/.test(d.client)&&(a[u+d.client+".js"]=d),delete d.client),c("jwpsrv")){var f=n.get("analytics");r.isObject(f)||(f={}),l(a,f,"jwpsrv.js")}l(a,n.get("ga"),"gapro.js"),l(a,n.get("sharing"),"sharing.js");var h=n.get("related"),p=r.isObject(h);if(!1!==n.get("controls")||p){var m=!1!==n.get("visualplaylist")||p;p||(h={disableRelated:!0}),h.showDockButton=m,l(a,h,"related.js")}if(!n.get("mobileSdk")){var g=n.get("playlist");r.some(g,(function(e){if(e.stereomode&&e.stereomode.length>0)return l(a,n.get("vr")||{},"vr.js"),!0}))}n.set("plugins",a),e()}function u(t,r){var s=r.get("key")||window.jwplayer&&window.jwplayer.key,l=new e(s).edition();if(r.set("key",s),r.set("edition",l),"unlimited"===l){var c=i.getScriptPath("jwplayer.js");if(!c)return void a.error(t,"Error setting up player","Could not locate jwplayer.js script tag");n.p=c,i.repo=o.repo=o.loadFrom=function(){return c}}r.updateProviders(),"invalid"===l?a.error(t,"Error setting up player",(void 0===s?"Missing":"Invalid")+" license key"):t()}function d(e,t){s.containsDrm(t)?s.probe(e,t.get("edition")):e()}return{getQueue:function(){var e=a.getQueue();return e.CHECK_KEY={method:u,depends:["LOAD_BASE64_POLYFILL"]},e.PROBE_DRM_SUPPORT={method:d,depends:["CHECK_KEY","LOAD_PROMISE_POLYFILL"]},e.FILTER_PLUGINS={method:c,depends:["CHECK_KEY"]},e.FILTER_PLAYLIST.depends.push("PROBE_DRM_SUPPORT"),e.LOAD_PLUGINS.depends.push("FILTER_PLUGINS"),e}}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(102),n(156),n(1)],void 0===(i=function(e,t,n){var r=window,i=n.extend(e,t);return"function"==typeof r.define&&r.define.amd&&r.define([],(function(){return i})),r.jwplayer?r.jwplayer:i}.apply(t,r))||(e.exports=i)},,,,,,,,,,,function(e,t,n){var r;void 0===(r=function(){var e="afs_ads";return{setup:function(t){var n=!1,r=function(){var t=document.createElement("div");return t.className=e,t.innerHTML="&nbsp;",t.style.width="1px",t.style.height="1px",t.style.position="absolute",t.style.background="transparent",t}();return t.element().appendChild(r),{onReady:function(){if(n)return!0;null!==r.offsetParent&&r.className===e&&""!==r.innerHTML&&0!==r.clientHeight||(n=!0),n&&this.trigger("adBlock")},getAdBlock:function(){return n}}}}}.apply(t,[]))||(e.exports=r)},function(e,t,n){var r,i,o=function(e){return e&&e.__esModule?e:{default:e}}(n(176));r=[n(2),n(4),n(6),n(3),n(1)],void 0===(i=function(e,t,n,r,i){var a=function(e){this.model=e,this.setup()};return i.extend(a.prototype,r,{setup:function(){this.destroy(),this.skipMessage=this.model.get("skipText"),this.skipMessageCountdown=this.model.get("skipMessage"),this.setWaitTime(this.model.get("skipOffset"));var t=(0,o.default)();this.el=e.createElement(t),this.skiptext=this.el.getElementsByClassName("jw-skiptext")[0],this.skipAdOnce=i.once(this.skipAd.bind(this)),new n(this.el).on("click tap",i.bind((function(){this.skippable&&this.skipAdOnce()}),this)),this.model.on("change:duration",this.onChangeDuration,this),this.model.on("change:position",this.onChangePosition,this),this.onChangeDuration(this.model,this.model.get("duration")),this.onChangePosition(this.model,this.model.get("position"))},updateMessage:function(e){this.skiptext.innerHTML=e},updateCountdown:function(e){this.updateMessage(this.skipMessageCountdown.replace(/xx/gi,Math.ceil(this.waitTime-e)))},onChangeDuration:function(t,n){if(n){if(this.waitPercentage){if(!n)return;this.itemDuration=n,this.setWaitTime(this.waitPercentage),delete this.waitPercentage}e.removeClass(this.el,"jw-hidden")}},onChangePosition:function(t,n){this.waitTime-n>0?this.updateCountdown(n):(this.updateMessage(this.skipMessage),this.skippable=!0,e.addClass(this.el,"jw-skippable"))},element:function(){return this.el},setWaitTime:function(t){if(i.isString(t)&&"%"===t.slice(-1)){var n=parseFloat(t);this.itemDuration&&!isNaN(n)?this.waitTime=this.itemDuration*n/100:this.waitPercentage=t}else i.isNumber(t)?this.waitTime=t:"string"===e.typeOf(t)?this.waitTime=e.seconds(t):isNaN(Number(t))?this.waitTime=0:this.waitTime=Number(t)},skipAd:function(){this.trigger(t.JWPLAYER_AD_SKIPPED)},destroy:function(){this.el&&(this.el.removeEventListener("click",this.skipAdOnce),this.el.parentElement&&this.el.parentElement.removeChild(this.el)),delete this.skippable,delete this.itemDuration,delete this.waitPercentage}}),a}.apply(t,r))||(e.exports=i)},,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return'<div class="jw-skip jw-background-color jw-hidden jw-reset"><span class="jw-text jw-skiptext jw-reset"></span><span class="jw-icon jw-icon-inline jw-skip-icon jw-reset"></span></div>'}},,,function(e,t,n){(e.exports=n(82)()).push([e.id,".jw-reset{color:inherit;background-color:transparent;padding:0;margin:0;float:none;font-family:Arial,Helvetica,sans-serif;font-size:1em;line-height:1em;list-style:none;text-align:left;text-transform:none;vertical-align:baseline;border:0;direction:ltr;font-variant:inherit;font-stretch:inherit;-webkit-tap-highlight-color:rgba(255,255,255,0)}.jw-background-color{background:rgba(33,33,33,.8)}.jw-knob,.jw-text{color:#cecece}.jw-knob{background-color:#fff}.jw-button-color{color:#cecece;fill:#cecece}.jw-button-color:focus,:not(.jw-flag-touch) .jw-button-color:hover{outline:none;color:#fff;fill:#fff}.jw-toggle{color:#fff}.jw-toggle.jw-off{color:#cecece}.jw-toggle.jw-off:focus{color:#fff}.jw-toggle:focus{outline:none}:not(.jw-flag-touch) .jw-toggle.jw-off:hover{color:#fff}.jw-display-icon-container{margin:0 .25em}.jw-display-icon-container .jw-icon{color:#cecece}.jw-rail{background:hsla(0,0%,100%,.2)}.jw-buffer{background:hsla(0,0%,100%,.3)}.jw-progress{background:#fff}.jw-slider-horizontal,.jw-slider-horizontal .jw-buffer,.jw-slider-horizontal .jw-progress,.jw-slider-horizontal .jw-rail{height:.3em}.jw-slider-horizontal .jw-knob{margin-left:-.3em}.jw-slider-vertical .jw-knob{margin-bottom:-.3em}.jw-slider-vertical .jw-progress,.jw-slider-vertical .jw-rail,.jw-slider-vertical .jw-slider-container{width:.3em}.jw-menu,.jw-time-tip,.jw-volume-tip{border:0}.jw-menu,.jw-time-tip{padding:.5em}.jw-volume-tip{padding:1em}.jw-skip{padding:.5em}.jw-skip .jw-skip-icon,.jw-skip .jw-skiptext{color:#cecece}.jw-skip.jw-skippable:hover .jw-skip-icon,.jw-skip.jw-skippable:hover .jw-text{color:#fff}.jw-dock-button .jw-text,.jw-time-tip .jw-text{color:#cecece}.jw-dock-button{background:rgba(33,33,33,.8)}:not(.jw-flag-touch) .jw-dock-button:hover{background:#212121}.jw-icon-cast button{--connected-color:#fff;--disconnected-color:#cecece}.jw-icon-cast button:focus{--connected-color:#fff;--disconnected-color:#fff}.jw-icon-cast button.jw-off{--connected-color:#cecece}.jw-icon-cast:hover button{--connected-color:#fff;--disconnected-color:#fff}.jw-nextup-container{bottom:2.5em;padding:5px .5em}.jw-nextup{border-radius:0}.jw-nextup-header{background:rgba(33,33,33,.8);color:#fff}.jw-nextup-body{background:rgba(0,0,0,.8);color:#fff}.jw-nextup-thumbnail-visible+.jw-nextup-title:after{background:-webkit-linear-gradient(top,transparent,#000);background:linear-gradient(-180deg,transparent,#000)}.jw-nextup-close{color:#cecece}.jw-nextup-close:active,.jw-nextup-close:hover{color:#fff}.jwplayer:not(.jw-flag-touch):not(.jw-error):not(.jw-state-error):not(.jw-state-buffering) .jw-display-icon-container:hover,.jwplayer:not(.jw-flag-touch):not(.jw-error):not(.jw-state-error):not(.jw-state-buffering) .jw-media:hover~.jw-controls .jw-display-icon-display{background-color:#212121}.jwplayer:not(.jw-flag-touch):not(.jw-error):not(.jw-state-error):not(.jw-state-buffering) .jw-display-icon-container:hover .jw-icon{color:#fff}.jw-color-active,:not(.jw-flag-touch) .jw-color-active-hover:hover{color:#fff;stroke:#fff;border-color:#fff}.jw-color-inactive,:not(.jw-flag-touch) .jw-color-inactive-hover:hover{color:#cecece;stroke:#cecece;border-color:#cecece}.jw-option{color:#cecece}.jw-option.jw-active-option{color:#fff;background-color:hsla(0,0%,100%,.1)}:not(.jw-flag-touch) .jw-option:hover{color:#fff}.jwplayer{width:100%;font-size:16px;position:relative;display:block;min-height:0;overflow:hidden;box-sizing:border-box;font-family:Arial,Helvetica,sans-serif;background-color:#000;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jwplayer *{box-sizing:inherit}.jwplayer.jw-flag-aspect-mode{height:auto!important}.jwplayer.jw-flag-aspect-mode .jw-aspect{display:block}.jwplayer .jw-aspect{display:none}.jwplayer.jw-no-focus:focus,.jwplayer .jw-swf{outline:none}.jwplayer.jw-ie:focus{outline:1px dotted #585858}.jw-media,.jw-preview{position:absolute;width:100%;height:100%;top:0;left:0;bottom:0;right:0}.jw-media{overflow:hidden;cursor:pointer}.jw-plugin{position:absolute;bottom:2.5em}.jw-plugin .jw-banner{max-width:100%;opacity:0;cursor:pointer;position:absolute;margin:auto auto 0;left:0;right:0;bottom:0;display:block}.jw-captions,.jw-preview,.jw-title{pointer-events:none}.jw-logo,.jw-media{pointer-events:all}.jwplayer video{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;margin:auto;background:transparent}.jwplayer video::-webkit-media-controls-start-playback-button{display:none}.jwplayer.jw-stretch-uniform video{-o-object-fit:contain;object-fit:contain}.jwplayer.jw-stretch-none video{-o-object-fit:none;object-fit:none}.jwplayer.jw-stretch-fill video{-o-object-fit:cover;object-fit:cover}.jwplayer.jw-stretch-exactfit video{-o-object-fit:fill;object-fit:fill}.jw-preview{position:absolute;display:none;opacity:1;visibility:visible;width:100%;height:100%;background:#000 no-repeat 50% 50%}.jw-error .jw-preview,.jwplayer .jw-preview{background-size:contain}.jw-stretch-none .jw-preview{background-size:auto auto}.jw-stretch-fill .jw-preview{background-size:cover}.jw-stretch-exactfit .jw-preview{background-size:100% 100%}.jw-title{display:none;position:absolute;top:0;width:100%;font-size:.875em;height:8em;background:-webkit-linear-gradient(top,#000,#000 18%,transparent);background:linear-gradient(180deg,#000 0,#000 18%,transparent)}.jw-title-primary,.jw-title-secondary{padding:.75em 1.5em;min-height:2.5em;width:100%;color:#fff;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.jw-title-primary{font-weight:700}.jw-title-secondary{margin-top:-.5em}.jw-flag-small-player .jw-title{background:-webkit-linear-gradient(top,rgba(51,51,51,.75),rgba(51,51,51,0));background:linear-gradient(180deg,rgba(51,51,51,.75),rgba(51,51,51,0));height:auto;padding:16px 0}.jw-flag-small-player .jw-title-primary,.jw-flag-small-player .jw-title-secondary{min-height:inherit;padding:0 16px}.jw-flag-small-player .jw-title-secondary{display:none;margin-top:5px}.jw-captions{position:absolute;width:100%;height:100%;text-align:center;display:none;max-height:calc(100% - 40px);letter-spacing:normal;word-spacing:normal;text-transform:none;text-indent:0;text-decoration:none;pointer-events:none;overflow:hidden;top:0}.jw-captions.jw-captions-enabled{display:block}.jw-captions-window{display:none;padding:.25em;border-radius:.25em}.jw-captions-text,.jw-captions-window.jw-captions-window-active{display:inline-block}.jw-captions-text{color:#fff;background-color:#000;word-wrap:normal;word-break:normal;white-space:pre-line;font-style:normal;font-weight:400;text-align:center;text-decoration:none}.jw-text-track-display{font-size:inherit;line-height:1.5}.jw-text-track-cue{background-color:rgba(0,0,0,.5);color:#fff;padding:.1em .3em}.jwplayer video::-webkit-media-controls{-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start}.jwplayer video::-webkit-media-text-track-container{max-height:calc(100% - 40px);line-height:normal}.jwplayer video::-webkit-media-text-track-display{min-width:-webkit-min-content}.jwplayer video::cue{background-color:rgba(0,0,0,.5)}.jwplayer video::-webkit-media-controls-panel-container{display:none}.jw-logo{position:absolute;margin:.75em;cursor:pointer;pointer-events:all;background-repeat:no-repeat;background-size:contain;top:auto;right:auto;left:auto;bottom:auto}.jw-flag-audio-player .jw-logo{display:none}.jw-logo-top-right{top:0;right:0}.jw-logo-top-right.jw-below{top:3.5em}.jw-logo-top-left{top:0;left:0}.jw-logo-bottom-left{bottom:0;left:0}.jw-logo-bottom-right{bottom:0;right:0}.jw-state-setup{background-color:transparent}.jw-state-setup .jw-logo{visibility:hidden}body .jw-error .jw-title,body .jwplayer.jw-state-error .jw-title{display:block}body .jw-error .jw-title .jw-title-primary,body .jwplayer.jw-state-error .jw-title .jw-title-primary{white-space:normal}body .jw-error .jw-title .jw-title-secondary,body .jwplayer.jw-state-error .jw-title .jw-title-secondary{display:block}body .jw-error{font-size:16px;background-color:#000;color:#fff;width:100%;height:100%;display:table;opacity:1;position:relative}.jw-state-idle .jw-preview,.jw-state-idle .jw-title,.jwplayer.jw-state-complete:not(.jw-flag-casting):not(.jw-flag-audio-player) .jw-preview,.jwplayer.jw-state-complete:not(.jw-flag-casting):not(.jw-flag-audio-player) .jw-title,body .jw-error .jw-preview,body .jw-error .jw-title,body .jwplayer.jw-state-error .jw-preview,body .jwplayer.jw-state-error .jw-title{display:block}.jw-state-idle .jw-captions,.jwplayer.jw-state-complete .jw-captions,body .jwplayer.jw-state-error .jw-captions{display:none}.jw-state-idle video::-webkit-media-text-track-container,.jwplayer.jw-state-complete video::-webkit-media-text-track-container,body .jwplayer.jw-state-error video::-webkit-media-text-track-container{display:none}.jwplayer.jw-flag-skin-loading .jw-captions,.jwplayer.jw-flag-skin-loading .jw-controls,.jwplayer.jw-flag-skin-loading .jw-media,.jwplayer.jw-flag-skin-loading .jw-preview,.jwplayer.jw-flag-skin-loading .jw-rightclick,.jwplayer.jw-flag-skin-loading .jw-title{display:none}.jwplayer.jw-flag-fullscreen{width:100%!important;height:100%!important;top:0;right:0;bottom:0;left:0;z-index:1000;margin:0;position:fixed}body .jwplayer.jw-flag-flash-blocked .jw-title{display:block}.jwplayer.jw-flag-controls-hidden .jw-captions{max-height:none}.jwplayer.jw-flag-controls-hidden video::-webkit-media-text-track-container{max-height:none}.jwplayer.jw-flag-controls-hidden .jw-media{cursor:default}.jw-flag-audio-player:not(.jw-flag-flash-blocked) .jw-media{visibility:hidden}.jw-flag-audio-player .jw-title{background:none}.jw-flag-audio-player object{min-height:45px}",""])},,,,,,function(e,t,n){var r=n(179);"string"==typeof r&&(r=[["all-players",r,""]]),n(49).style(r,"all-players"),r.locals&&(e.exports=r.locals)}])},function(e,t,n){"use strict";var r,i;r=[n(2)],void 0===(i=function(e){return e((function(){this.defaultAttrs({multiFileDropboxSaverContainer:".js-dropbox-container",resendReceiptTriggerSelector:".js-resend-receipt-trigger"}),this.setupMultifileDropboxSaver=function(e,t){if(0!==this.select("multiFileDropboxSaverContainer").length&&window.Dropbox&&!this.select("multiFileDropboxSaverContainer").data("has-setup-dropbox-saver-button")){var n=this.select("multiFileDropboxSaverContainer").data("product-files");if(0!==n.length){var r={files:n,success:function(){},progress:function(e){},cancel:function(){},error:function(e){}},i=window.Dropbox.createSaveButton(r);this.select("multiFileDropboxSaverContainer").html(i),this.select("multiFileDropboxSaverContainer").data("has-setup-dropbox-saver-button",!0)}}},this.resendReceipt=function(e){e.preventDefault(),this.select("resendReceiptTriggerSelector").text(I18n.t("js.resending_receipt")),this.trigger("uiNeedsToResendReceipt",{id:this.select("resendReceiptTriggerSelector").data("id")})},this.showReceiptResent=function(e){this.trigger("uiShowFlashMessage",{message:I18n.t("js.receipt_resent")}),this.select("resendReceiptTriggerSelector").text(I18n.t("js.resend_receipt"))},this.receiptResendFailed=function(e){this.trigger("uiShowFlashMessage",{message:I18n.t("js.something_went_wrong")}),this.select("resendReceiptTriggerSelector").text(I18n.t("js.resend_receipt"))},this.after("initialize",(function(){this.on(document,"uiNeedsToSetupMultifileDropboxSaverButton",this.setupMultifileDropboxSaver),this.on(document,"dataReceiptResent",this.showReceiptResent),this.on(document,"dataReceiptFailed",this.receiptResendFailed),this.setupMultifileDropboxSaver(),this.on("click",{resendReceiptTriggerSelector:this.resendReceipt})}))}))}.apply(t,r))||(e.exports=i)},function(e,t){!function(e){e.belowthefold=function(t,n){return e(window).height()+e(window).scrollTop()<=e(t).offset().top-n.threshold},e.abovethetop=function(t,n){return e(window).scrollTop()>=e(t).offset().top+e(t).height()-n.threshold},e.rightofscreen=function(t,n){return e(window).width()+e(window).scrollLeft()<=e(t).offset().left-n.threshold},e.leftofscreen=function(t,n){return e(window).scrollLeft()>=e(t).offset().left+e(t).width()-n.threshold},e.inviewport=function(t,n){return!e.rightofscreen(t,n)&&!e.leftofscreen(t,n)&&!e.belowthefold(t,n)&&!e.abovethetop(t,n)},e.extend(e.expr[":"],{"below-the-fold":function(t,n,r){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t,n,r){return e.abovethetop(t,{threshold:0})},"left-of-screen":function(t,n,r){return e.leftofscreen(t,{threshold:0})},"right-of-screen":function(t,n,r){return e.rightofscreen(t,{threshold:0})},"in-viewport":function(t,n,r){return e.inviewport(t,{threshold:0})}})}(jQuery)},function(e,t,n){var r=n(10);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template({1:function(e,t,n,r,i){return'  <a href="#" class="js-buyer-menu-trigger buyer-circle-link">\n    <div class="profile-picture-small">\n      <div class="profile-picture js-buyer-circle"></div>\n    </div>\n  </a>\n'},3:function(e,t,r,o,a){var s,l=null!=t?t:e.nullContext||{},c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <li>\n      <a href="'+c(i(n(130)).call(l,null!=t?u(t,"domain_with_protocol"):t,"/settings",{name:"path_with_host",hash:{},data:a,loc:{start:{line:12,column:15},end:{line:12,column:66}}}))+'"><i class="gi gi-gear"></i> '+c(i(n(3)).call(l,"settings_prompt",{name:"t",hash:{},data:a,loc:{start:{line:12,column:95},end:{line:12,column:118}}}))+"</a>\n    </li>\n\n"+(null!=(s=u(r,"if").call(l,null!=t?u(t,"show_library_link"):t,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a,loc:{start:{line:15,column:4},end:{line:19,column:11}}}))?s:"")+'\n    <li>\n      <a href="'+c(i(n(130)).call(l,null!=t?u(t,"domain_with_protocol"):t,"/logout",{name:"path_with_host",hash:{},data:a,loc:{start:{line:22,column:15},end:{line:22,column:64}}}))+'" class="js-logout-link"><i class="gi gi-logout"></i> '+c(i(n(3)).call(l,"logout_prompt",{name:"t",hash:{},data:a,loc:{start:{line:22,column:118},end:{line:22,column:139}}}))+"</a>\n    </li>\n"},4:function(e,t,r,o,a){var s=null!=t?t:e.nullContext||{},l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'      <li>\n        <a href="'+l(i(n(130)).call(s,null!=t?c(t,"domain_with_protocol"):t,"/library",{name:"path_with_host",hash:{},data:a,loc:{start:{line:17,column:17},end:{line:17,column:67}}}))+'"><i class="gi gi-library"></i> '+l(i(n(3)).call(s,"library_prompt",{name:"t",hash:{},data:a,loc:{start:{line:17,column:99},end:{line:17,column:121}}}))+"</a>\n      </li>\n"},6:function(e,t,r,o,a){var s=null!=t?t:e.nullContext||{},l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <li>\n      <a href="'+l(i(n(130)).call(s,null!=t?c(t,"domain_with_protocol"):t,"/login",{name:"path_with_host",hash:{},data:a,loc:{start:{line:26,column:15},end:{line:26,column:63}}}))+'" class="js-login-trigger">'+l(i(n(3)).call(s,"login",{name:"t",hash:{},data:a,loc:{start:{line:26,column:90},end:{line:26,column:103}}}))+"</a>\n    </li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,i){var o,a=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=s(n,"unless").call(a,null!=t?s(t,"is_on_custom_domain"):t,{name:"unless",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:1,column:0},end:{line:7,column:11}}}))?o:"")+'\n<ul class="account nav core js-buyer-menu">\n'+(null!=(o=s(n,"if").call(a,null!=t?s(t,"is_logged_in"):t,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.program(6,i,0),data:i,loc:{start:{line:10,column:2},end:{line:28,column:9}}}))?o:"")+"</ul>\n"},useData:!0})},function(e,t,n){"use strict";var r,i;r=[n(2)],void 0===(i=function(e){return e((function(){this.defaultAttrs({metaAnalyticsURLSelector:'meta[property="gr:third_party_analytics_url"]'}),this.addIFrameWithAnalytics=function(e,t){if(Modernizr.sandbox){var n=document.createElement("IFRAME");n.setAttribute("hidden",!0),n.setAttribute("sandbox","allow-scripts allow-same-origin"),n.setAttribute("id","third-party-analytics-iframe"),n.setAttribute("src",$(this.attr.metaAnalyticsURLSelector).attr("value")+Routes.third_party_analytics_path({link_id:t.permalink,purchase_id:t.purchase_id})),document.body.appendChild(n)}},this.after("initialize",(function(){this.on(this.$node,"uiToAddThirdPartyAnalytics",this.addIFrameWithAnalytics)}))}))}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(539),n(82),n(276),n(24),n(45),n(245),n(31)],void 0===(i=function(e,t,n,r,i,o,a){return function(){a.mixin(this,[e,t,r,i,o]),this.defaultAttrs({paymentFormSelector:".buy-form-main",paymentContainerSelector:".payment-container",payButtonContainerSelector:".pay_button_container",payButtonSelector:".pay_button",urlParamsSelector:".url_parameters",fromProfileSelector:".from_profile",fromMultiOverlaySelector:".from-multi-overlay",purchaseFormSelector:".purchase_form",changedMindButtonSelector:".changed_mind_button",parentIdSelector:".parent_id",referrerSelector:".referrer",pluginsSelector:".plugins",sourceSelector:".source",wasProductRecommendedSelector:".js-was-product-recommended",recommendedBySelector:".js-recommended-by",purchaseFormRequiredFieldSelector:".purchase_form .required",envelopeRequiredFieldSelector:".envelope .required",authenticityTokenSelector:'input[name="authenticity_token"]',utf8Selector:'input[name="utf8"]',zipcodeFieldSelector:"input.js-cc_zipcode",bundleBuyButtonSelector:".js-bundle-pay-trigger",localeSelector:".js-locale",isSamplePurchase:!1,isProcessingPayment:!1,isSingleUnit:!1,offerCodeUsed:!1,taxCountry:"",paymentFormPadding:20,paymentRequestAvailable:!1,lastClickedPayButton:"payButton"}),this.setLoginInfo=function(){this.attr.user.is_logged_in?this.select("emailReceiptFormSelector").hide():this.select("keepOnFileSelector").hide()},this.setIsProcessingPayment=function(e){this.attr.isProcessingPayment=e,this.attr.paymentRequestAvailable&&this.validateFormForPaymentRequest()},this.paymentsAllowed=function(){return this.attr.isShowingPaymentForm&&!this.attr.isProcessingPayment&&!this.attr.isProductDisabled},this.payIfAllowed=function(e){return e&&e.preventDefault(),this.attr.lastClickedPayButton="payButton",this.paymentsAllowed()&&this.validateFormForCardPayment()&&(this.showPaymentAsProcessing(),this.verifyShippingAddress()&&this.continueWithPayment()),!1},this.validateFormForCardPayment=function(){var e=this.getIsFreePurchase()?"envelopeRequiredFieldSelector":"purchaseFormRequiredFieldSelector",t=this.validatePaymentFormFields(e);return this.getIsFreePurchase()||(t=t&&this.validateCreditCardForm()),t},this.validatePaymentFormFields=function(e){var t=this.validateRequiredInputs(e);return t=t&&this.validateEmailsIfNotAutoFill()&&this.validateQuantity(),this.validateCustomFields&&(t=t&&this.validateCustomFields()),t},this.makePayment=function(e,t){return this.setIsProcessingPayment(!0),(this.getIsFreePurchase()||this.attr.isSamplePurchase)&&this.setPasswordPromptForAccountCreationInReceipt(),this.select("changedMindButtonSelector").hide(),this.select("receiptContainerSelector").fadeIn(),this.processPayment(t),!1},this.setPaymentAsProcessingForMultiBuyMode=function(){return this.setIsProcessingPayment(!0),this.select("receiptContainerSelector").fadeIn(),!0},this.showPaymentAsProcessing=function(){var e=this.select("payButtonSelector");this.select("paymentFormSelector").animate({height:this.getPaymentFormHeight()}),e.data("default",e.text()),this.showPayButtonAsProcessing(),this.trigger("uiShouldHideTipsys")},this.showPayButtonAsProcessing=function(){var e=this.select("payButtonSelector");e.text(I18n.t("js.processing_notice")),e.attr("disabled",!0),this.select("payWithPaypalHolderSelector").hide(),this.select("payWithCreditCardHolderSelector").hide()},this.resetPayButton=function(){var e=this.select("payButtonSelector");e.attr("disabled",!1),e.text(e.data("default")),this.select("payWithPaypalHolderSelector").show(),this.select("payWithCreditCardHolderSelector").show()},this.processPayment=function(e){this.trigger("uiNeedsToTrackProductSpecificEvent",{name:"process_payment",permalink:this.attr.permalink,wasProductRecommended:this.attr.wasProductRecommended}),this.trigger("uiSetFriendValue"),this.getIsFreePurchase()?(this.setCreditCardFormInUse(!1),this.processPaymentWithCardParams({})):e?(this.setCreditCardFormInUse(!1),this.processPaymentWithPaymentRequest(e)):(this.setCreditCardFormInUse(!0),this.getCardParams(function(e){this.processPaymentWithCardParams(e.cardParams)}.bind(this)))},this.changeUiStateToPaymentProcessing=function(){this.select("changedMindButtonSelector").hide(),this.select("receiptContainerSelector").fadeIn(),this.setIsProcessingPayment(!0),this.showPayButtonAsProcessing()},this.resetPaymentProcessingUiState=function(){this.resetPayButton(),this.setIsProcessingPayment(!1),this.select("receiptContainerSelector").fadeOut(),this.select("changedMindButtonSelector").show()},this.processPaymentWithPaymentRequest=function(e){this.triggerUiNeedsToMakePayment(e)},this.processPaymentWithCardParams=function(e){var t=this,n=function(n){t.triggerUiNeedsToMakePayment(e,n)};if(this.resetPaymentProcessingUiState(),this.getIsFreePurchase())return n(null);this.activateRecaptcha(n),this.select("payButtonSelector").prop("disabled",!0),setTimeout((function(){t.select("payButtonSelector").prop("disabled",!1)}),1e3)},this.triggerUiNeedsToMakePayment=function(e,t){this.changeUiStateToPaymentProcessing();var n=this.select("wantFormSelector").serialize()+"&"+this.select("purchaseFormSelector").serialize()+"&"+$.param(e)+"&"+this.serializePaymentForm();t&&(n+="&"+$.param({"g-recaptcha-response":t})),this.trigger("uiNeedsToMakePayment",{permalink:this.attr.permalink,is_bundled:!1,payingWithPayPal:this.attr.payingWithPayPal,paypalOrderDetails:this.attr.paypalOrderDetails,serializedForm:n})},this.activateRecaptcha=function(e){var t=$("#payButtonRecaptcha");t.replaceWith(t.clone().empty());var n=grecaptcha.render(t.attr("id"),{sitekey:t.data("sitekey"),size:"invisible",badge:"inline",callback:e});grecaptcha.execute(n)},this.notifyUserAnalytics=function(e,t){this.trigger("uiNeedsToTrackActivityWithSellerAnalytics",{permalink:t.permalink,action:"purchased",value:t.non_formatted_price,valueIsSingleUnit:this.getIsSingleUnit(),currency:t.currency_type.toUpperCase()}),this.trigger("uiNeedsToTrackECommerceEventWithSellerAnalytics",{permalink:t.permalink,purchase_external_id:t.id,currency:t.currency_type.toUpperCase(),product_name:t.name,price:t.non_formatted_price,priceIsSingleUnit:this.getIsSingleUnit(),quantity:t.quantity,tax:t.non_formatted_seller_tax_amount})},this.getThirdPartyAnalytics=function(e,t){this.trigger(this.$node,"uiToAddThirdPartyAnalytics",{permalink:t.permalink,purchase_id:t.id})},this.notifyPurchaseAndShowReceipt=function(e,t){this.setIsProcessingPayment(!1),this.select("payButtonSelector").attr("disabled",!1),this.attr.permalink==t.permalink&&(this.fillReceiptWithPurchaseDetails(t),this.attr.user.product.remaining=t.remaining,this.hideGiftInputs(),this.showReceipt(!0),this.attr.purchaseWasGift="true"==this.select("giftSignifierSelector").val())},this.notifyClearCvc=function(){this.clearCvc()},this.stopProcessingAndShowError=function(e,t){if(t.zipcode_required&&(this.showZipcodeField(t.card_country),this.select("zipcodeFieldSelector").addClass("required error")),this.attr.permalink==t.permalink){var n=t&&t.error_message?t.error_message:I18n.t("js.something_went_wrong_notice");this.select("creditCardHolderSelector").is(":visible")&&this.select("envelopeSelector").is(":visible")?this.popupCreditCardError(n):this.trigger("uiShowFlashMessage",{message:n}),this.resetPayButton(),this.select("changedMindButtonSelector").show(),this.select("receiptContainerSelector").fadeOut(function(){this.select("paymentFormSelector").animate({height:this.getPaymentFormHeight()})}.bind(this)),this.setIsProcessingPayment(!1)}},this.getPaymentFormHeight=function(){var e=this.select("paymentContainerSelector");if(e.length>0){var t=e.height()+2*this.attr.paymentFormPadding;return this.attr.paymentFormHeight>0&&(t=this.attr.paymentFormHeight,this.setPaymentFormHeight(0)),t}return 0},this.setPaymentFormHeight=function(e){this.attr.paymentFormHeight=e},this.resizePaymentForm=function(){this.attr.isShowingPaymentForm&&this.select("paymentFormSelector").height(this.getPaymentFormHeight())},this.resetAndShowProductMain=function(e){return e.preventDefault(),this.switchToProductMain(!0),!1},this.disablePayButton=function(){this.disablePayPalButton(),this.select("payButtonSelector").attr("disabled",!0)},this.enablePayButton=function(){this.enablePayPalButton(),this.select("payButtonSelector").attr("disabled",!1)},this.setPaymentRequestAvailability=function(){this.attr.paymentRequestAvailable=!0},this.handlePaymentRequestButtonClick=function(){this.attr.lastClickedPayButton="paymentRequestButton",this.validateFormForPaymentRequest()},this.validateFormForPaymentRequest=function(){var e=!1;return this.paymentsAllowed()&&this.validatePaymentFormFields("envelopeRequiredFieldSelector")&&(e=this.verifyShippingAddress()),this.trigger("uiUpdateFormForPaymentRequestValidity",e),e},this.getSerializedFormExcludingCreditCard=function(){var e="textarea, select, input:not("+this.attr.utf8Selector+", "+this.attr.authenticityTokenSelector+", "+this.attr.parentIdSelector+", "+this.attr.saveCardSelector+")";return this.select("purchaseFormSelector").find(e).serialize()},this.updateUrlParameters=function(e,t){this.select("urlParamsSelector").val(JSON.stringify(t))},this.validateBundleCheckoutForm=function(){var e=!0,t=this.select("bundleCheckoutFormSelector").find(".required:visible, .required-placeholder:visible");$.each(t,function(t,n){if(!this.validateRequiredInput($(n)))return e=!1,!1}.bind(this));var n=this.validateCustomFields();return e&&n},this.after("initialize",(function(){this.select("urlParamsSelector").val(JSON.stringify(this.getUrlParams())),this.select("referrerSelector").val(this.getReferrer()),this.select("pluginsSelector").val(this.getPluginNames()),this.select("sourceSelector").val(this.getSource()),this.select("localeSelector").val(I18n.locale),this.select("fromProfileSelector").val(this.attr.onUserProfile||-1!==window.location.search.indexOf("from_profile=1")),this.select("fromMultiOverlaySelector").val(this.attr.onMultiOverlay),this.select("wasProductRecommendedSelector").val(this.attr.wasProductRecommended),this.select("recommendedBySelector").val(this.attr.recommendedBy),this.attr.isMobile&&this.select("payButtonSelector").addClass("small"),this.select("productSelector").data("seller-has-third-party-analytics")&&(n.attachTo(this.$node),this.trigger("uiThirdPartyAnalyticsEnabled")),this.on(document,"dataPurchaseSuccessful",this.notifyClearCvc),this.on(document,"dataPurchaseSuccessful",this.notifyPurchaseAndShowReceipt),this.on(document,"dataPurchaseSuccessful",this.notifyUserAnalytics),this.on(document,"dataPurchaseSuccessful",this.getThirdPartyAnalytics),this.on(document,"dataPurchaseFail",this.stopProcessingAndShowError),this.on(document,"uiShowProductMain",this.resetAndShowProductMain),this.on(document,"uiUpdateUrlParameters",this.updateUrlParameters),this.on(document,"uiNeedsToResizePaymentForm",this.resizePaymentForm),this.on(this.$node,"uiShouldDisablePayButton",this.disablePayButton),this.on(this.$node,"uiShouldEnablePayButton",this.enablePayButton),this.on(this.$node,"uiShouldResetPayButton",this.resetPayButton),this.on("click",{changedMindButtonSelector:this.resetAndShowProductMain,payButtonSelector:this.payIfAllowed}),this.on(document,"uiMakePaymentRequestPayment",this.makePayment),this.on(document,"uiSetPaymentRequestAvailable",this.setPaymentRequestAvailability),this.on(document,"uiHandlePaymentRequestButtonClick",this.handlePaymentRequestButtonClick)}))}}.apply(t,r))||(e.exports=i)},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,c=[],u=!1,d=-1;function f(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&h())}function h(){if(!u){var e=s(f);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||u||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r,i;r=[n(31),n(45),n(555),n(82),n(280),n(556),n(3),n(281)],void 0===(i=function(e,t,n,r,i,o){var a=n.getTwitterShareUrl;return function(){e.mixin(this,[t,r]),this.defaultAttrs({receiptContainerSelector:".receipt_container",receiptSelector:".receipt",receiptEntriesSelector:".receipt-entries",receiptEntryFailedSelector:".js-receipt-entry-failed",receiptEntrySuccessfulSelector:".js-receipt-entry-successful",receiptSuccessNotice:".js-receipt-success-notice",receiptSuccessStateParagraphSelector:".js-receipt-success-notice-p",emailReceiptFormSelector:".email-receipt-form",emailedLinkNoticeSelector:".emailed-link-notice",receiptPriceSelector:".receipt-price",receiptShadowSelector:".receipt_shadow",customTextSelector:".js-receipt-custom-text",receiptCreateUserMsgSelector:".receipt_create_user_p",addedToLibrarySelector:".js-added-to-library",userPurchaseIdSelector:".user_purchase_id",createAccountButtonSelector:".js-create-account-button",userEmailSelector:".user_email",twitterSelector:".js-twitter-share-trigger",facebookSelector:".js-facebook-share-trigger",viewReceiptSelector:".js-view-receipt-container",receiptTwitterShareSelector:".receipt_container .js-twitter-share-trigger",receiptFacebookShareSelector:".receipt_container .js-facebook-share-trigger",passwordFieldSelector:".js-password-field",libraryUrlSelector:".js-library-url",customDeliveryUrlSelector:".js-custom-delivery-url",customDeliveryRedirectDelayInSeconds:5}),this.setReceipt=function(){if(!this.attr.onUserProfile||!this.$node.parents(".product-grid").length){var e=this.select("receiptSelector");this.select("receiptContainerSelector").css({position:"absolute",visibility:"hidden",display:"block"});var t=e.height()+30;this.select("receiptContainerSelector").css({position:"relative",visibility:"visible",display:"none"}),e.css({marginTop:-t})}},this.showReceipt=function(e){var t=this.select("receiptContainerSelector"),n=this.select("receiptSelector"),r=this.select("purchaseFormSelector"),i=this.select("payButtonContainerSelector"),o=this.select("receiptShadowSelector"),a=this.select("changedMindButtonSelector");this.setPaymentFormHeight(this.select("paymentFormSelector").outerHeight()),e?(r.slideUp(),a.fadeOut(),t.animate({"margin-top":0}),i.slideUp((function(){o.animate({opacity:1},600,"linear"),n.animate({"margin-top":3},600,"swing").animate({"margin-top":0},200,"linear")})),t.height(n.height()+45).show(),this.select("paymentFormSelector").animate({height:t.height()+45})):(a.hide(),r.hide(),t.show(),n.show(),t.css({"margin-top":0}),i.hide(),o.css({opacity:1}),n.css({"margin-top":0}),t.height(n.height()+45).show()),this.attr.isShowingReceipt=!0,this.startRedirect()},this.performRedirect=function(){clearInterval(this.redirectTimer);var e=this.select("customDeliveryUrlSelector").attr("href");this.attr.isOverlayPage?this.trigger("uiNeedsToRedirectOverlayFromReceipt",{url:e}):window.location.href=e},this.showRedirectCountdown=function(){this.select("customDeliveryUrlSelector").text(I18n.t("js.custom_delivery_redirect",{seconds:this.attr.customDeliveryRedirectDelayInSeconds}))},this.startRedirect=function(){0===this.select("receiptEntryFailedSelector").length&&1===this.select("receiptEntrySuccessfulSelector").length&&1===this.select("customDeliveryUrlSelector").length&&(this.showRedirectCountdown(),this.redirectTimer=setInterval(function(){this.attr.customDeliveryRedirectDelayInSeconds-=1,this.showRedirectCountdown(),this.attr.customDeliveryRedirectDelayInSeconds<=0&&this.performRedirect()}.bind(this),1e3))},this.showCheckEmailReceipt=function(){this.select("receiptEntriesSelector").text(I18n.t("js.purchase_processing_check_email_notice")),this.showReceipt(!0)},this.hideReceipt=function(e){var t=this.select("receiptContainerSelector"),n=this.select("receiptSelector"),r=this.select("purchaseFormSelector"),i=this.select("payButtonContainerSelector"),o=this.select("payButtonSelector"),a=this.select("receiptShadowSelector"),s=this.select("changedMindButtonSelector");e?(s.fadeIn(),t.hide(),r.show(),i.show(),this.attr.purchaseWasGift?(this.toggleGiftPaymentForm(!1),this.select("paymentFormSelector").stop()):this.select("paymentFormSelector").animate({height:this.select("paymentContainerSelector").outerHeight()}),t.show(),r.hide(),i.hide(),o.text(o.data("default")),a.animate({opacity:0},600,"linear"),n.animate({"margin-top":-(n.height()+45)},600,"swing"),setTimeout((function(){r.show().css({position:"relative",top:-(r.height()+40)}),t.animate({"margin-top":20}),i.show(),r.animate({top:0}),t.height("auto").hide()}),600)):(s.show(),r.show(),i.show(),this.select("paymentFormSelector").height(this.getPaymentFormHeight()),n.show(),t.css({"margin-top":20}),a.css({opacity:0}),n.css({"margin-top":-(n.height()+45)}),t.hide().height("auto")),this.attr.isShowingReceipt=!1},this.setPasswordPromptForAccountCreationInReceipt=function(){this.select("receiptCreateUserMsgSelector").text(I18n.t("js.enter_pwd_to_create_account_free"))},this.fillReceiptWithPurchaseDetails=function(e){this.updateReceiptSuccessText(),this.select("userPurchaseIdSelector").val(e.id),this.select("parentIdSelector").val(e.id),e.name=this.attr.name,this.select("receiptEntriesSelector").html(i(e)+o(e)),this.attr.user.purchase.parent_id=e.id,e.is_following&&this.showFollowing(),this.attr.user.is_logged_in||this.attr.payingWithPayPal&&this.attr.implementationInUse==this.attr.PayPalImplementations.NATIVE?this.select("emailReceiptFormSelector").hide():e.account_by_this_email_exists&&(this.select("addedToLibrarySelector").show(),this.select("emailReceiptFormSelector").hide())},this.createAccount=function(e){e.preventDefault(),this.select("userEmailSelector").val(this.select("emailSelector").val());var t=this.select("createAccountButtonSelector");return t.data("default",t.text()),t.text("..."),this.isCreditCardFormInUse()?this.getCardParams(function(e){this.createAccountWithCardParams(e.cardParams)}.bind(this)):this.createAccountWithCardParams({}),!1},this.createAccountWithCardParams=function(e){var t=this.select("emailReceiptFormSelector").serialize()+"&"+$.param({user:e});this.trigger("uiNeedsToCreateAccount",{permalink:this.attr.permalink,serializedForm:t})},this.reloadPage=function(e,t){this.attr.permalink==t.permalink&&location.reload(!0)},this.showAccountCreationError=function(e,t){if(this.attr.permalink==t.permalink){this.select("receiptCreateUserMsgSelector").text(t.message).addClass("error");var n=this.select("createAccountButtonSelector");n.text(n.data("default"))}},this.updateReceiptSuccessText=function(){var e=!this.getIsPreorder()&&this.getTotalPriceCents()>0?"js.charged_card_and_sent_receipt_to_email":"js.sent_receipt_to_email";this.select("receiptSuccessStateParagraphSelector").text(I18n.t(e,{email:this.select("emailSelector").val()}))},this.updateReceiptSuccessTextForProductBundle=function(){var e=this.getWhetherActuallyWasCharged()?"js.charged_card_and_sent_receipt_to_email":"js.sent_receipt_to_email";this.select("receiptSuccessStateParagraphSelector").text(I18n.t(e,{email:this.select("emailSelector").val()}))},this.updateSocialShareTextForProductBundle=function(e){var t=window.location.host+window.location.pathname,n=[window.location.host,"l",this.getFirstProductPermalink()].join("/"),r=this.select("facebookSelector"),i=this.select("twitterSelector");if(this.attr.isOverlayPage?t=this.attr.overlayPageShareUrl||n:1==this.getNumberOfProductsInBundle()&&(t=n),r.data("url",t),2==e.length){var o=I18n.t("js.twitter_share_text_for_multi_buy.counting",{name:e[0],another_name:e[1],count:1,url:t});i.attr("href",a(o))}else if(e.length>0){o=I18n.t("js.twitter_share_text_for_multi_buy.counting",{name:e[0],count:e.length-1,url:t});i.attr("href",a(o))}else i.hide(),r.hide()},this.showFollowing=function(){this.trigger("uiShowFollowing")},this.updateCustomText=function(e,t){if(t.text.length>0){var n=$("<div></div>").text(t.text).html();this.select("customTextSelector").html("<p>"+n.replace(/\n/g,"</p><p>")+"</p>"),this.select("customTextSelector").show()}else this.select("customTextSelector").hide();this.trigger("uiAnimatePaymentFormHeight",{animate:!1})},this.initializeModalShareURLs=function(){var e=this.select("receiptTwitterShareSelector"),t=this.select("receiptFacebookShareSelector"),n=this.getUrlParams().source_url;"undefined"!=typeof n&&e.length>0&&t.length>0&&(e.attr("href",e.attr("href").replace(/%20.*$/,"%20"+n)),t.attr("data-url",n))},this.hideReceiptWithoutAnimation=function(e){return e.preventDefault(),this.hideReceipt(!1),!1},this.showReceiptExample=function(e,t){return e.preventDefault(),t&&this.fillReceiptWithPurchaseDetails(t),this.showReceipt(!1),!1},this.updateReceiptHeight=function(){this.showReceipt(!1)},this.showMobileAppPopover=function(){this.select("productInformationSelector").hide(),this.select("previewContainerSelector").hide(),this.select("paymentFormSelector").css({overflow:"visible"}),this.select("productSelector").css({overflow:"visible"}),this.select("productMainSelector").css({overflow:"visible"}),this.select("receiptContainerSelector").css({overflow:"visible"})},this.hideMobileAppPopover=function(){this.select("productInformationSelector").show(),this.select("previewContainerSelector").show(),this.select("paymentFormSelector").css({overflow:"hidden"}),this.select("productSelector").css({overflow:"hidden"}),this.select("productMainSelector").css({overflow:"hidden"}),this.select("receiptContainerSelector").css({overflow:"hidden"})},this.setOverlayPageShareUrl=function(e,t){this.attr.isOverlayPage=!0,t.url&&(this.attr.overlayPageShareUrl=t.url)},this.after("initialize",(function(){this.on(document,"dataAccount",this.reloadPage),this.on(document,"dataFailedToCreateAccount",this.showAccountCreationError),this.on(document,"uiUpdateReceiptCustomText",this.updateCustomText),this.on(document,"uiShowReceipt",this.showReceiptExample),this.on(document,"uiUpdateReceiptHeight",this.updateReceiptHeight),this.on(document,"uiHideReceipt",this.hideReceipt),this.on(document,"uiHideReceiptWithoutAnimation",this.hideReceiptWithoutAnimation),this.on(document,"uiNeedsToDisplayMobileAppPopover",this.showMobileAppPopover),this.on(document,"uiNeedsToHideMobileAppPopover",this.hideMobileAppPopover),this.on(document,"uiSetOverlayPageShareUrl",this.setOverlayPageShareUrl),this.on("click",{createAccountButtonSelector:this.createAccount}),this.attr.isModal&&this.initializeModalShareURLs()}))}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r=n(10);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template({1:function(e,t,r,o,a){var s=e.escapeExpression,l=e.lambda,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <li class="receipt-entry purchase_error js-receipt-entry-failed">\n    <span class="purchase_failed_notice">'+s(i(n(3)).call(null!=t?t:e.nullContext||{},"purchase_failed",{name:"t",hash:{},data:a,loc:{start:{line:3,column:41},end:{line:3,column:64}}}))+'</span>\n    <h2 class="product-name">'+s(l(null!=t?c(t,"name"):t,t))+'</h2>\n    <p class="purchase_error_message">'+s(l(null!=t?c(t,"error_message"):t,t))+"</p>\n  </li>\n"},3:function(e,t,n,r,i){var o,a=e.lambda,s=e.escapeExpression,l=null!=t?t:e.nullContext||{},c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <li class="receipt-entry js-receipt-entry-successful">\n    <div class="product-details">\n      <h2 class="product-name">'+s(a(null!=t?c(t,"name"):t,t))+" "+s(a(null!=t?c(t,"variants_displayable"):t,t))+" "+(null!=(o=c(n,"if").call(l,null!=t?c(t,"show_quantity"):t,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i,loc:{start:{line:10,column:65},end:{line:10,column:137}}}))?o:"")+'</h2>\n      <span class="receipt-price">'+s(a(null!=t?c(t,"price"):t,t))+'</span>\n    </div>\n    <div class="view-content-actions">\n'+(null!=(o=c(n,"if").call(l,null!=t?c(t,"has_content"):t,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.program(8,i,0),data:i,loc:{start:{line:14,column:6},end:{line:20,column:13}}}))?o:"")+'    </div>\n    <div class="additional-text-items">\n'+(null!=(o=c(n,"if").call(l,null!=t?c(t,"is_gift_sender_purchase"):t,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.program(16,i,0),data:i,loc:{start:{line:23,column:6},end:{line:32,column:13}}}))?o:"")+(null!=(o=c(n,"if").call(l,null!=t?c(t,"is_gift_receiver_purchase"):t,{name:"if",hash:{},fn:e.program(19,i,0),inverse:e.noop,data:i,loc:{start:{line:33,column:6},end:{line:35,column:13}}}))?o:"")+"      "+(null!=(o=c(n,"if").call(l,null!=t?c(t,"test_purchase_notice"):t,{name:"if",hash:{},fn:e.program(21,i,0),inverse:e.noop,data:i,loc:{start:{line:36,column:6},end:{line:36,column:72}}}))?o:"")+"\n    </div>\n  </li>\n"+(null!=(o=c(n,"if").call(l,null!=t?c(t,"has_shipping_to_show"):t,{name:"if",hash:{},fn:e.program(23,i,0),inverse:e.noop,data:i,loc:{start:{line:39,column:2},end:{line:46,column:9}}}))?o:"")+(null!=(o=c(n,"if").call(l,null!=t?c(t,"has_sales_tax_to_show"):t,{name:"if",hash:{},fn:e.program(25,i,0),inverse:e.noop,data:i,loc:{start:{line:47,column:2},end:{line:54,column:9}}}))?o:"")},4:function(e,t,n,r,i){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="quantity">\xd7 '+e.escapeExpression(e.lambda(null!=t?o(t,"quantity"):t,t))+"</span>"},6:function(e,t,n,r,i){var o=e.lambda,a=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <a href="'+a(o(null!=t?s(t,"content_url"):t,t))+'" class="button button-primary button-block button-full-width js-track-product-click-event" data-product-event-name="receipt_view_content" target="_blank">'+a(o(null!=t?s(t,"view_content_button_text"):t,t))+"</a>\n"},8:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"custom_delivery_url"):t,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i,loc:{start:{line:17,column:8},end:{line:19,column:15}}}))?o:""},9:function(e,t,n,r,i){var o=e.lambda,a=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'          <a href="'+a(o(null!=t?s(t,"custom_delivery_url"):t,t))+'" class="button button-primary button-block button-full-width js-track-product-click-event js-custom-delivery-url" data-product-event-name="receipt_click_custom_delivery_url" target="_blank">'+a(o(null!=t?s(t,"view_content_button_text"):t,t))+"</a>\n"},11:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        <p>"+e.escapeExpression(e.lambda(null!=t?a(t,"gift_sender_text"):t,t))+"</p>\n"+(null!=(o=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"has_files"):t,{name:"if",hash:{},fn:e.program(12,i,0),inverse:e.program(14,i,0),data:i,loc:{start:{line:25,column:8},end:{line:29,column:15}}}))?o:"")},12:function(e,t,r,o,a){return"          <p>"+e.escapeExpression(i(n(3)).call(null!=t?t:e.nullContext||{},"emailed_gift_notice",{name:"t",hash:{},data:a,loc:{start:{line:26,column:13},end:{line:26,column:40}}}))+"</p>\n"},14:function(e,t,r,o,a){return"          <p>"+e.escapeExpression(i(n(3)).call(null!=t?t:e.nullContext||{},"emailed_gift_notice_physical",{name:"t",hash:{},data:a,loc:{start:{line:28,column:13},end:{line:28,column:49}}}))+"</p>\n"},16:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        "+(null!=(o=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"extra_purchase_notice"):t,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i,loc:{start:{line:31,column:8},end:{line:31,column:78}}}))?o:"")+"\n"},17:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<p>"+(null!=(o=e.lambda(null!=t?a(t,"extra_purchase_notice"):t,t))?o:"")+"</p>"},19:function(e,t,n,r,i){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        <p>"+e.escapeExpression(e.lambda(null!=t?o(t,"gift_receiver_text"):t,t))+"</p>\n"},21:function(e,t,n,r,i){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<p>"+e.escapeExpression(e.lambda(null!=t?o(t,"test_purchase_notice"):t,t))+"</p>"},23:function(e,t,r,o,a){var s=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <li class="receipt-entry">\n      <div class="product-details">\n        <h2 class="product-name">'+s(i(n(3)).call(null!=t?t:e.nullContext||{},"shipping",{name:"t",hash:{},data:a,loc:{start:{line:42,column:33},end:{line:42,column:49}}}))+'</h2>\n        <span class="receipt-price">'+s(e.lambda(null!=t?l(t,"shipping_amount"):t,t))+"</span>\n      </div>\n    </li>\n"},25:function(e,t,n,r,i){var o=e.lambda,a=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <li class="receipt-entry">\n      <div class="product-details">\n        <h2 class="product-name">'+a(o(null!=t?s(t,"sales_tax_label"):t,t))+'</h2>\n        <span class="receipt-price">'+a(o(null!=t?s(t,"sales_tax_amount"):t,t))+"</span>\n      </div>\n    </li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"error_message"):t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.program(3,i,0),data:i,loc:{start:{line:1,column:0},end:{line:55,column:7}}}))?o:""},useData:!0})},function(e,t,n){"use strict";var r,i;r=[n(10)],void 0===(i=function(e){function t(e,t){return e="js."+e,void 0==t?I18n.t(e).toUpperCase():I18n.t(e,t).toUpperCase()}return e.registerHelper("t_upcase",t),t}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";n.r(t),t.default=function(){this.defaultAttrs({playerContainerSelector:".js-audio-player",htmlAudioPlayerSelector:".js-html-audio-player",playButtonSelector:".js-audio-player .play-button",pauseButtonSelector:".js-audio-player .pause-button",textProgressSelector:".js-audio-player .progress-text",playerOutsideContainerSelector:".js-audio-player-container"}),this.play=function(){var e;null===(e=this.select("htmlAudioPlayerSelector")[0])||void 0===e||e.play()},this.pause=function(){var e;null===(e=this.select("htmlAudioPlayerSelector")[0])||void 0===e||e.pause()},this.togglePlayAndPause=function(e){e&&e.preventDefault(),this.select("playButtonSelector").is(":visible")?(this.trigger("pauseAudioPlayers"),this.playAudio()):this.pauseAudio()},this.playAudio=function(e){e&&e.preventDefault();var t=this.select("playerOutsideContainerSelector").data("url-redirect-id"),n=this.select("playerOutsideContainerSelector").data("product-file-id"),r=this.select("playerOutsideContainerSelector").data("purchase-id");this.trigger("uiNeedsToTrackConsumptionEvent",{eventType:"listen",platform:"web",urlRedirectId:t,productFileId:n,purchaseId:r}),this.play()},this.pauseAudio=function(e){e&&e.preventDefault(),this.pause()},this.onTimeUpdate=function(){var t=this.select("htmlAudioPlayerSelector")[0];null!=t&&t.duration>0&&this.select("textProgressSelector").text(e(t.currentTime)+"/"+e(t.duration))};var e=function(e){e=Math.floor(e);var t=Math.floor(e/60),n=e%60;return"".concat(t,":").concat(n)};this.initializeAudioPlayer=function(){var e=this.select("htmlAudioPlayerSelector");e.on("timeupdate",this.onTimeUpdate.bind(this)),e.on("play",function(){this.select("pauseButtonSelector").show(),this.select("playButtonSelector").hide()}.bind(this)),e.on("pause",function(){this.select("playButtonSelector").show(),this.select("pauseButtonSelector").hide()}.bind(this))},this.after("initialize",(function(){this.on("click",{playerContainerSelector:this.togglePlayAndPause})}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"BundleCustomFields",(function(){return g}));var r=n(0),i=n(1),o=n(20),a=n(15),s=n(36),l=n(12),c=n(138);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=i.m({}),g=function(e){!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e);var t=Object(a.m)(a.g.getCustomFieldDescriptors),n=Object(a.m)((function(e){return l.g.getCustomFieldValuesByProduct(e.paymentState)})),i=Object(a.m)(a.g.getCustomFieldErrors),o=Object(a.j)(),u=h(r.useState((function(){return Object(l.e)(t)})),2),p=u[0],m=u[1],g=r.useRef({});return Object(s.c)((function(){for(var e in m(i),i){var t=i[e];for(var n in t){if(t[n]){var r=g.current[e][n];r&&r.focus();break}}}})),r.useMemo((function(){return Object.keys(t).some((function(e){return t[e].length>0}))}),[t])?r.createElement("div",null,Object.keys(t).map((function(e){var i=t[e];return r.createElement("div",{key:e,className:"custom-field-container"},r.createElement("div",{className:"mini-rule"}),i.map((function(t,i){var a=p[e]&&p[e][t.name],s=n[e]&&n[e][t.name];return r.createElement(c.CustomFieldInput,{key:"".concat(t.name,"_").concat(i),ref:function(n){null==g.current[e]&&(g.current[e]={}),g.current[e][t.name]=n},name:t.name,required:t.required,hasError:a,value:s||"",onChange:function(n){m((function(n){return d(d({},n),{},f({},e,d(d({},n[e]),{},f({},t.name,!1))))})),o({type:"pass-through-payment-action",action:{type:"set-custom-field-value",productUid:e,fieldName:t.name,value:""===n?null:n}})},showLabel:!0})})))}))):null};t.default=Object(o.a)(Object(a.b)({component:g,propParser:m}))},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){"use strict";n.r(t),n.d(t,"BundleProductListContent",(function(){return h}));var r=n(0),i=n(1),o=n(20),a=n(11),s=n(9),l=n(18),c=n(15);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=i.m({}),h=function(e){!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e);var t=Object(c.m)(c.g.getAllProducts),n=Object(c.m)((function(e){var t=e.paymentState.computed.sumUsdSurchargeData.totalPriceCentsBeforeShipping;return"US$"+Math.round(t)/100})),i=Object(c.j)(),o=Object(l.a)("uiBundleNeedsToStartCheckout"),d=Object(l.a)("uiBundleNeedsToCloseCartTooltip");return r.createElement(r.Fragment,null,r.createElement("div",{className:"bundle-header"},r.createElement("div",{className:"bundle-header-text"},I18n.t("bundle_header")),r.createElement(s.a,{tag:"span",variant:"close",className:"bundle-close",onClick:function(e){e.preventDefault(),d(void 0)}},r.createElement(a.b,null))),r.createElement("ul",{className:"js-bundled-product-list bundled-product-list"},t.map((function(e){var t=u(e,2),n=t[0],o=t[1];return r.createElement("li",{key:n.uid,"data-unique-permalink":o.permalink},r.createElement("div",{className:"name"},r.createElement("a",{className:"title",href:Routes.short_link_path(o.permalink)},o.name),n.showQuantity?r.createElement("span",{className:"quantity"},"\xd7 ",o.quantity):null,r.createElement("a",{href:"#",className:"button-close remove",onClick:function(e){e.preventDefault(),i({type:"remove-product-from-bundle-list",productUid:n.uid})}},I18n.t("js.remove"))),r.createElement("div",{className:"price-tag"},o.currency.currency_symbol,n.formattedPrice))}))),r.createElement("div",{className:"bundle-subtotal-section"},r.createElement("div",{className:"subtotal"},I18n.t("subtotal"),r.createElement("div",{className:"subtotal-amount"},n)),r.createElement(s.a,{tag:"button",variant:"primary",className:"bundle-start-button",onClick:function(e){e.preventDefault(),o(void 0)}},I18n.t("checkout_prompt"))))};t.default=Object(o.a)(Object(c.b)({component:h,propParser:f}))},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(6),o=n.n(i),a=n(1),s=n(20),l=n(36),c=n(12),u=a.m({}),d=function(e){return e(Object(l.d)({productSelector:function(e){return e.paymentState},subscriptionSelector:function(e){return e.paymentState},bundleSelector:function(e){return e.paymentState}}))};t.default=Object(s.a)(Object(l.a)({component:function(e){var t,n=d((function(e){return e.offerCode.name})),i=d((function(e){return e.offerCode.isLoading})),a=(t=Object(l.b)(),r.useCallback((function(e){t({productAction:{type:"pass-through-payment-action",action:e},subscriptionAction:{type:"pass-through-payment-action",action:e},bundleAction:{type:"pass-through-payment-action",action:e}})}),[t])),s=d(c.g.getHasProductsWithOfferCodeField),u=d(c.g.getIsUsingPresetOfferCode);return!s||u?null:r.createElement("p",{className:"offer-code-p"},r.createElement("input",{type:"text",className:o()("offer_code_field",{loading:i}),placeholder:I18n.t("offer_field_placeholder"),value:n||"",onChange:function(e){a({type:"set-offer-code-from-input-box",offerCodeName:e.target.value})},autoComplete:"off"}))},propParser:u}))},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(1),o=n(20),a=n(23),s=n(21),l=n(5),c=i.m({});t.default=Object(o.a)(Object(l.c)({component:function(e){var t=Object(l.p)((function(e){return e.productData.currency})),n=Object(l.p)((function(e){return l.i.getPriceCentsAfterDiscount(e)})),i=Object(l.p)((function(e){return e.selection.selectedRecurrenceId})),o=Object(l.p)((function(e){return e.productData.product_duration_in_months}));if(0==n||null==i||null==o)return null;var c=Object(a.b)(t,n),u=Object(s.a)(i,c);return r.createElement("p",{className:"subscription-charge-occurrences-message"},I18n.t("charge_message_for_fixed_length_subscriptions",{priceAndRecurrence:u,duration:o}))},propParser:c}))},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(1),o=n(20),a=n(68),s=n(86),l=n(142),c=n(19);var u=i.m({});t.default=Object(o.a)(Object(c.b)({component:function(e){return function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e),r.createElement(r.Fragment,null,r.createElement("div",{className:"manage-membership__selection"},r.createElement(a.VariantSelector,{displayInRows:!0}),r.createElement(s.PWYWInput,null)),r.createElement(l.ContactInfo,null))},propParser:u}))},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(1),o=n(20),a=n(5);var s=i.m({});t.default=Object(o.a)(Object(a.c)({component:function(e){!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e);var t=Object(a.p)((function(e){return e.productData})),n=t.custom_summary,i=t.file_info_attributes,o=t.custom_attributes,s=t.preorder_release_date_fmt,l=t.is_stream_only,c=null==n&&0===i.length&&0===o.length;return r.createElement(r.Fragment,null,c&&null==s?null:r.createElement("div",{className:"product-info"},null!=s?r.createElement("h5",{className:"product-info-preorder-indicator"},I18n.t("release_date",{date:s})):null,c?null:r.createElement("ul",null,null!=n?r.createElement("li",{className:"summary"},n):null,i.map((function(e){return r.createElement("li",{key:e.name},r.createElement("span",null,e.name),r.createElement("strong",null,e.value))})),o.map((function(e,t){return r.createElement("li",{key:t},r.createElement("span",null,e.name),r.createElement("strong",null,e.value))})))),l?r.createElement("div",{className:"product-info-stream-only-indicator"},r.createElement("h5",null,I18n.t("product_stream_immediately")),r.createElement("small",null,I18n.t("no_download_warning"))):null)},propParser:s}))},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(1),o=n(20),a=n(5),s=n(143);var l=i.m({});t.default=Object(o.a)(Object(a.c)({component:function(e){!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e);var t=Object(a.p)((function(e){return e.productData})),n=r.useMemo((function(){var e=t.variant_list,n="skus"===e.kind?e.skus.length>0?1:0:e.variant_categories.length,r="skus"===e.kind?e.skus.length:null!=e.variant_categories[0]?e.variant_categories[0].options.length:0,i="skus"===e.kind?e.skus[0]:null!=e.variant_categories[0]?e.variant_categories[0].options[0]:null,o=null!=i&&0===i.price_difference_cents,a=null!=t.recurrences&&t.recurrences.available_recurrences.length>1,s=1===n&&1===r&&!a&&o;return 1===n&&null==t.product_duration_in_months&&!t.is_customizable&&!s||t.is_tiered_membership}),[t]);return r.createElement(r.Fragment,null,n?null:r.createElement("div",{className:"product-price-tag-container"},r.createElement(s.ProductPriceTag,null)),r.createElement("h1",{itemProp:"name"},r.createElement("strong",null,t.name)))},propParser:l}))},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(1),o=n(20),a=n(5),s=n(21);var l=i.m({});t.default=Object(o.a)(Object(a.c)({component:function(e){!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e);var t=Object(a.p)(a.i.getSelectedVariantOptionNames),n=Object(a.p)(a.i.getSelectedRecurrence);return null!=n?r.createElement("p",{className:"subtitle"},I18n.t("subscription_signup_notice",{recurrence:Object(s.d)(n.recurrence_id)})," ",I18n.t("subscription_can_cancel_notice")):r.createElement("p",{className:"subtitle"},t.length>0?I18n.t("js.purchase_form_notice_with_variants",{variants:t.join(", ")}):I18n.t("js.purchase_form_notice"))},propParser:l}))},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(1),o=n(20),a=n(147),s=n(148);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=i.m({product_permalink:i.n,purchase_id:i.n,rating_range:i.e(i.l),current_rating:i.k(i.l)});t.default=Object(o.a)({component:function(e){var t=e.product_permalink,n=e.purchase_id,i=e.rating_range,o=e.current_rating,c=l(Object(s.a)({initial:o,productPermalink:t,purchaseId:n}),2),u=c[0],d=c[1];return r.createElement("div",{className:"ratings-container js-ratings-container"},r.createElement("div",{className:"ratings-header-container"},r.createElement("p",{className:"ratings-header js-rating-notice"},null!=u&&u>0?I18n.t("your_rating"):I18n.t("liked_it_give_it_a_rating"))),r.createElement("div",{className:"ratings-box-container"},r.createElement(a.a,{ratingRange:i,currentRating:u,onChangeCurrentRating:d})))},propParser:u})},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(1),o=n(20),a=n(18),s=n(147),l=n(148);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=i.m({product_permalink:i.n,rating_range:i.e(i.l)});t.default=Object(o.a)({component:function(e){var t=e.product_permalink,n=e.rating_range,i=c(r.useState(null),2),o=i[0],s=i[1];return Object(a.b)("uiSetInitialRating",(function(e,t){s(t)})),null==o||1==o.preorder?null:r.createElement(f,{initialData:o,productPermalink:t,ratingRange:n})},propParser:d});var f=function(e){var t=e.initialData,n=e.ratingRange,i=e.productPermalink,o=c(Object(l.a)({initial:t.rating,productPermalink:i,purchaseId:t.purchase_id}),2),a=o[0],u=o[1];return r.createElement("div",{className:"ratings-container js-ratings-container"},r.createElement("p",{className:"already-bought-notice__section-title js-rating-notice"},null!=a&&a>0?I18n.t("your_rating"):I18n.t("liked_it_give_it_a_rating")),r.createElement(s.a,{ratingRange:n,currentRating:a,onChangeCurrentRating:u}))}},function(module,exports){var topLevel="undefined"===typeof window?this:window;module.exports=function(className){var constructor;return constructor=topLevel[className],constructor||(constructor=eval(className)),constructor&&constructor.default&&(constructor=constructor.default),constructor}},function(e,t,n){"use strict";var r;void 0===(r=function(){return function(){this.defaultAttrs({followUserContainerSelector:".js-follow-container",followUserOneClickButtonSelector:".js-follow-user-one-click-trigger",followUserFormSelector:".js-follow-user-form",followUserEmailSelector:".js-follow-user-email",followUserButtonSelector:".js-follow-user-trigger",followUserSpinnerSelector:".js-follow-spinner-button",unfollowUserButtonSelector:".js-unfollow-user-trigger",checkHTML:'<i class="gi gi-check"></i>',isOwner:!1}),this.followUser=function(e){if(e.preventDefault(),!this.attr.isOwner)return this.select("followUserOneClickButtonSelector").is(":visible")?(this.select("followUserOneClickButtonSelector").text(I18n.t("js.following_creator")),this.trigger("uiNeedsToFollowUser",{seller_id:this.$node.data("user-id")})):this.select("followUserFormSelector").length&&this.validateForm(this.select("followUserFormSelector"))?(this.select("followUserButtonSelector").hide(),this.select("followUserSpinnerSelector").removeClass("hidden"),this.trigger("uiNeedsToFollowUser",{email:this.select("followUserEmailSelector").val(),seller_id:this.$node.data("user-id")})):(this.select("followUserFormSelector").removeClass("shake"),setTimeout(function(){this.select("followUserFormSelector").addClass("shake")}.bind(this),0)),!1;this.trigger("uiShowFlashMessage",{message:I18n.t("js.cant_follow_self")})},this.unfollowUser=function(e){return e.preventDefault(),this.select("unfollowUserButtonSelector").text(I18n.t("js.unfollowing")+"..."),this.trigger("uiNeedsToUnfollowUser",{follower_id:this.select("unfollowUserButtonSelector").data("follower-id")}),!1},this.showUnfollowing=function(e,t){var n=this.select("unfollowUserButtonSelector");t.follower_id==n.data("follower-id")&&n.html(this.attr.checkHTML).addClass("done").prop("disabled",!0)},this.showFollowing=function(){this.attr.isOwner||(this.select("followUserOneClickButtonSelector").is(":visible")?this.select("followUserOneClickButtonSelector").html(this.attr.checkHTML).addClass("done").prop("disabled",!0):(this.select("followUserSpinnerSelector").html(this.attr.checkHTML).prop("disabled",!0),this.select("followUserFormSelector").addClass("done")))},this.showSellerFollowed=function(e,t){this.showFollowing(),t.message&&this.trigger("uiShowFlashMessage",{message:t.message})},this.updateFollowCallToAction=function(e,t){this.select("followUserButtonSelector").text(I18n.t("js."+t.follow_call_to_action))},this.after("initialize",(function(){this.attr.isOwner=this.$node.data("is-owner"),this.on("click",{followUserButtonSelector:this.followUser,followUserOneClickButtonSelector:this.followUser,unfollowUserButtonSelector:this.unfollowUser}),this.on(document,"uiShowFollowing",this.showFollowing),this.on(document,"dataFollowSeller",this.showSellerFollowed),this.on(document,"uiShowUnfollowing",this.showUnfollowing),this.on(document,"uiShouldUpdateFollowCallToAction",this.updateFollowCallToAction)}))}}.apply(t,[]))||(e.exports=r)},,function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(1),o=n(20),a=n(7),s=n(17),l=n(14);function c(e,t){Object(l.a)(2,arguments);var n=Object(s.a)(e),r=Object(s.a)(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function u(e,t){Object(l.a)(2,arguments);var n=Object(s.a)(e),r=Object(s.a)(t),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return 12*i+o}function d(e,t){Object(l.a)(2,arguments);var n=Object(s.a)(e),r=Object(s.a)(t),i=c(n,r),o=Math.abs(u(n,r));n.setMonth(n.getMonth()-i*o);var a=c(n,r)===-i,d=i*(o-a);return 0===d?0:d}function f(e,t){Object(l.a)(2,arguments);var n=Object(s.a)(e),r=Object(s.a)(t);return n.getTime()-r.getTime()}function h(e,t){Object(l.a)(2,arguments);var n=f(e,t)/1e3;return n>0?Math.floor(n):Math.ceil(n)}var p=n(151);function m(e){return function(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t=t||{})t.hasOwnProperty(n)&&(e[n]=t[n]);return e}({},e)}var g=n(112),v=1440,y=43200;function b(e,t,n){Object(l.a)(2,arguments);var r=n||{},i=r.locale||p.a;if(!i.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=c(e,t);if(isNaN(o))throw new RangeError("Invalid time value");var a,u,f=m(r);f.addSuffix=Boolean(r.addSuffix),f.comparison=o,o>0?(a=Object(s.a)(t),u=Object(s.a)(e)):(a=Object(s.a)(e),u=Object(s.a)(t));var b,w=h(u,a),_=(Object(g.a)(u)-Object(g.a)(a))/1e3,S=Math.round((w-_)/60);if(S<2)return r.includeSeconds?w<5?i.formatDistance("lessThanXSeconds",5,f):w<10?i.formatDistance("lessThanXSeconds",10,f):w<20?i.formatDistance("lessThanXSeconds",20,f):w<40?i.formatDistance("halfAMinute",null,f):w<60?i.formatDistance("lessThanXMinutes",1,f):i.formatDistance("xMinutes",1,f):0===S?i.formatDistance("lessThanXMinutes",1,f):i.formatDistance("xMinutes",S,f);if(S<45)return i.formatDistance("xMinutes",S,f);if(S<90)return i.formatDistance("aboutXHours",1,f);if(S<v){var C=Math.round(S/60);return i.formatDistance("aboutXHours",C,f)}if(S<2520)return i.formatDistance("xDays",1,f);if(S<y){var x=Math.round(S/v);return i.formatDistance("xDays",x,f)}if(S<86400)return b=Math.round(S/y),i.formatDistance("aboutXMonths",b,f);if((b=d(u,a))<12){var E=Math.round(S/y);return i.formatDistance("xMonths",E,f)}var P=b%12,k=Math.floor(b/12);return P<3?i.formatDistance("aboutXYears",k,f):P<9?i.formatDistance("overXYears",k,f):i.formatDistance("almostXYears",k+1,f)}var w=n(742),_=n(111);function S(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var C=function(e){var t=e.datetime,n=e.name;return r.createElement("div",{className:"post-row-content-component"},r.createElement("div",{className:"post-row-content-component__kind-icon"},r.createElement(x,{datetime:t})),r.createElement("div",{className:"post-row-content-component__info"},r.createElement("h4",null,n),r.createElement(_.a,{className:"post-row-content-component__info__summary-bullets"},function(e,t){return Object(l.a)(1,arguments),b(e,Date.now(),t)}(t)," ago")))},x=function(e){var t=e.datetime,n=S(e,["datetime"]);return r.createElement("div",Object.assign({className:"post-icon"},n),r.createElement("small",null,Object(w.a)(t,"MMM").toUpperCase()),r.createElement("br",null),r.createElement("strong",null,Object(w.a)(t,"d")))},E=n(63),P=i.m({posts:i.e(i.m({name:i.n,view_url:i.n,action_at:i.j}))});t.default=Object(o.a)({component:function(e){var t=e.posts;return r.createElement(a.a,null,t.map((function(e,t){return r.createElement(a.b,{key:t,clickable:!0},r.createElement(E.TrackClick,{eventName:"post_click"},r.createElement("a",{href:e.view_url},r.createElement(a.b.Content,null,r.createElement(a.b.ContentFlexibleContainer,null,r.createElement(C,{name:e.name,datetime:e.action_at}))))))})))},propParser:P})},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(6),o=n.n(i),a=n(1),s=n(20),l=function(e,t){var n=e.split(/\{\{|\}\}/g);return r.createElement(r.Fragment,null,n.map((function(e,n){return n%2===0?r.createElement(r.Fragment,{key:n},e):r.createElement(r.Fragment,{key:n},t[e])})))},c=n(23),u=n(36),d=n(12);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var m=function(e){var t=e.children,n=e.className,i=p(e,["children","className"]),a=f(r.useState(!1),2),s=a[0],l=a[1];return r.useEffect((function(){l(!0);var e=setTimeout((function(){l(!1)}),1e3);return function(){return clearTimeout(e)}}),[t]),r.createElement("span",Object.assign({},i,{className:o()(n,"flash-on-change",{highlighted:s})}),t)};function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=a.m({}),b=function(){return Object(u.d)({productSelector:function(e){return e.paymentState},subscriptionSelector:function(e){return e.paymentState},bundleSelector:function(e){return e.paymentState}})},w=function(){var e=Object(u.b)();return r.useCallback((function(t){e({productAction:{type:"pass-through-payment-action",action:t},bundleAction:{type:"pass-through-payment-action",action:t},subscriptionAction:{type:"pass-through-payment-action",action:t}})}),[e])},_=function(e){var t=e.formattedTotal;return l(I18n.t("js.card_will_be_charged_with_price_excluding_biz_vat_tax",{price:"{{price}}"}),{price:r.createElement(m,{className:"js-price"},t)})},S=function(){var e=b(),t=e.vat,n=e.computed.sumUsdSurchargeData,i=w(),a=g(r.useState(!1),2),s=a[0],l=a[1];if(r.useEffect((function(){"invalid"===n.businessVatStatus?l(!0):"valid"===n.businessVatStatus&&l(!1)}),[n.businessVatStatus]),null==t)return null;return r.createElement("div",{className:"vat-id-blurb"},r.createElement("input",{className:o()("vat_id",{error:s}),type:"text",maxLength:19,placeholder:I18n.t("business_vat_id_placeholder"),value:t.vatId||"",onChange:function(e){return t=e.target.value,l(!1),void i({type:"set-vat-id",vatId:""!=t?t:null});var t}}))},C=function(e){var t=e.anchorEl,n=e.isShowing,i=e.allVatCountries,o=e.selectedVatCountry,a=e.onChangeCountry,s=r.useRef(null);return r.useLayoutEffect((function(){var e=s.current;if(null!=e&&null!=t){var r=$(e);if(n){var i=$(t);r.css({top:i.position().top-(r.outerHeight()||0)+35,left:i.position().left-(r.outerWidth()||0)/2+(i.width()||0)/2}).toggleClass("showing")}else r.removeClass("showing")}}),[t,n]),r.createElement("div",{className:"vat-country-choice",ref:s},r.createElement("span",null,I18n.t("vat_country_message")),r.createElement("select",{name:"vat_country",value:o||"",onChange:function(e){return a(e.target.value)}},i.map((function(e){return r.createElement("option",{key:e,value:e},e)}))))},x=function(e){var t=e.formattedTotal,n=e.formattedVat,i=b(),o=i.vat,a=i.availableVatCountries,s=w(),c=g(r.useState(null),2),u=c[0],d=c[1];if(null==o)return null;var f=o.vatCountry,h=o.isShowingVatCountrySelector;return r.createElement(r.Fragment,null,r.createElement(C,{anchorEl:u,isShowing:h,allVatCountries:a,selectedVatCountry:f,onChangeCountry:function(e){s({type:"set-vat-country",vatCountry:e}),s({type:"hide-vat-country-selector"})}}),l(I18n.t("js.card_will_be_charged_with_price_including_vat_tax",{price:"{{price}}",tax:"{{tax}}",country:"{{country}}"}),{price:r.createElement(m,{className:"js-price"},t),tax:r.createElement("span",{className:"js-tax-amount"},n),country:r.createElement("a",{ref:function(e){return d(e)},href:"#",onClick:function(e){e.preventDefault(),s({type:"show-vat-country-selector"})}},f||"N/A")}))},E=function(e){var t=e.formattedTotal;return l(I18n.t("js.card_will_be_charged_with_price_including_sales_tax",{price:"{{price}}"}),{price:r.createElement(m,{className:"js-price"},t)})},P=function(e){var t=e.formattedTotal;return l(I18n.t("card_will_be_charged_today_with_price",{price:"{{price}}"}),{price:r.createElement(m,{className:"js-price"},t)})},k=function(e){var t=e.formattedTotal;return l(I18n.t("js.card_will_be_charged_with_price",{price:"{{price}}"}),{price:r.createElement(m,{className:"js-price"},t)})};t.default=Object(s.a)(Object(u.a)({component:function(e){var t=b(),n=t.computed.sumUsdSurchargeData,i=t.vat,o=Object(u.d)({productSelector:function(e){return{isRecurring:null!=e.productData.recurrences,shouldHideVatId:!1}},subscriptionSelector:function(){return{isRecurring:!0,shouldHideVatId:!0}},bundleSelector:function(){return{isRecurring:!1,shouldHideVatId:!1}}}),a=o.isRecurring,s=o.shouldHideVatId,l=null!=i,f=l&&!s,h="valid"===n.businessVatStatus,p=Object(u.d)({productSelector:function(e){return d.g.getTotalInUSDCents(e.paymentState)},subscriptionSelector:function(e){return d.g.getTotalInUSDCents(e.paymentState)},bundleSelector:function(e){return d.g.getTotalInUSDCents(e.paymentState)}}),m=n.vatCents,g=n.totalTaxCents,v=Object(c.b)(c.e,p),y=Object(c.b)(c.e,m);return 0===p?null:r.createElement(r.Fragment,null,f?r.createElement(S,null):null,r.createElement("div",{className:"payment-blurb"},h?r.createElement(_,{formattedTotal:v}):l?r.createElement(x,{formattedTotal:v,formattedVat:y}):g>0?r.createElement(E,{formattedTotal:v}):a?r.createElement(P,{formattedTotal:v}):r.createElement(k,{formattedTotal:v})))},propParser:y}))},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(6),o=n.n(i),a=n(1),s=n(20),l=n(33),c=n(22),u=n.n(c),d=function(e,t){"redirect"===t?window.location.assign(e):window.open(e,"_blank")},f=n(9),h=n(7),p=n(50),m=n(18),g=n(63);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=a.m({url:a.n,redirect_id:a.n,purchase_id:a.k(a.n)}),w=a.m({download_url:a.n}),_=a.m({download_url:a.k(a.n),stream_url:a.k(a.n),audio_params:a.k(b),kindle_data:a.k(a.m({email:a.k(a.n),icon_url:a.n})),read_url:a.k(a.n),subtitle_data:a.p(w)}),S=a.p(_),C=a.m({files:a.e(l.c),download_info:S}),x=function(e){var t=e.file,n=e.downloadInfo,i=v(r.useState(!1),2),a=i[0],s=i[1];return r.createElement(h.b,{className:"file-row-neu js-file-list-element"},r.createElement(h.b.Content,null,r.createElement(h.b.ContentFlexibleContainer,null,r.createElement(p.a,{extension:t.extension,name:t.file_name,description:t.description,details:r.createElement(r.Fragment,null,t.file_size?r.createElement(p.b,null,u.a.getFullFileSizeString(t.file_size)):null,t.pagelength?r.createElement(p.b,null,I18n.t("pages",{count:t.pagelength})):null)})),r.createElement(h.b.ContentActionBar,null,null!=n.download_url?r.createElement(g.TrackClick,{eventName:"download_click"},r.createElement(f.a,{tag:"button",variant:"default",onClick:function(e){e.preventDefault(),d(n.download_url,"redirect")}},I18n.t("download_prompt"))):null,null!=n.stream_url?r.createElement(g.TrackClick,{eventName:"stream_click"},r.createElement(f.a,{tag:"button",variant:"primary",onClick:function(e){e.preventDefault(),d(n.stream_url,"new-tab")}},I18n.t("stream_prompt"))):null,null!=n.audio_params?r.createElement(E,{fileId:t.id,params:n.audio_params}):null,null!=n.kindle_data?r.createElement(g.TrackClick,{eventName:"send_to_kindle_click"},r.createElement(f.a,{tag:"a",variant:"default",className:o()("kindle-button",{"button-active":a}),onClick:function(){return s((function(e){return!e}))}},r.createElement("img",{src:n.kindle_data.icon_url})," ",I18n.t("send_to_kindle"))):null,null!=n.read_url?r.createElement(f.a,{tag:"a",variant:"primary",className:"js-read",href:n.read_url},I18n.t("read")):null)),null!=n.kindle_data&&a?r.createElement(P,{fileId:t.id,email:n.kindle_data.email,onDone:function(){return s(!1)}}):null,null!=n.stream_url&&null!=n.download_url&&null!=t.subtitle_files&&t.subtitle_files.length>0?t.subtitle_files.map((function(e){var t=n.subtitle_data[e.url];if(null==t)throw new Error("Subtitle file ".concat(e.url," does not have associated download info, shouldn't be possible"));return r.createElement(k,{key:e.url,subtitleFile:e,subtitleDownloadInfo:t})})):null)},E=function(e){var t=e.fileId,n=e.params;return r.createElement("div",{className:"js-audio-player-container","data-url-redirect-id":n.redirect_id,"data-product-file-id":t,"data-purchase-id":n.purchase_id},r.createElement(g.TrackClick,{eventName:"listen_click"},r.createElement(f.a,{tag:"button",variant:"primary",className:"js-listen-trigger"},I18n.t("listen"))),r.createElement(f.a,{tag:"div",variant:"default",className:"js-audio-player soft-hidden"},r.createElement("audio",{className:"js-html-audio-player",preload:"none",src:n.url}),r.createElement("a",{className:"play-button media-control"},"\u25b6"),r.createElement("a",{className:"pause-button media-control"},"\u2759\u2759"),r.createElement("span",{className:"audio-progress progress-text"})))},P=function(e){var t=e.fileId,n=e.email,i=e.onDone,a=v(r.useState(n||""),2),s=a[0],l=a[1],c=v(r.useState(!1),2),u=c[0],d=c[1],h=Object(m.a)("uiNeedsToSendToKindle");return Object(m.b)("dataSendToKindleFailed",(function(){d(!0)})),Object(m.b)("dataSendToKindleSuccess",(function(){i()})),r.createElement("div",{className:"send-to-kindle-container"},r.createElement("div",{className:"flex-container"},r.createElement("input",{type:"text",value:s,onChange:function(e){e.stopPropagation(),l(e.target.value),d(!1)},onKeyUp:function(e){e.stopPropagation()},placeholder:"e7@kindle.com",name:"kindle_email",autoFocus:!0,className:o()({error:u})}),r.createElement(f.a,{tag:"button",variant:"primary",block:!0,onClick:function(e){e.preventDefault(),h({email:s,file_external_id:t})}},I18n.t("send_to_kindle"))),r.createElement("p",{className:"note"},r.createElement("span",{dangerouslySetInnerHTML:{__html:I18n.t("kindle_email_information",{url:"https://www.amazon.com/gp/help/customer/display.html?nodeId=GX9XLEVV8G4DB28H"})}})))},k=function(e){var t=e.subtitleFile,n=e.subtitleDownloadInfo;return r.createElement(h.b,{className:"file-row-neu js-file-list-element"},r.createElement(h.b.Content,null,r.createElement(h.b.ContentFlexibleContainer,null,r.createElement(p.a,{extension:t.extension,name:"".concat(t.file_name," (").concat(t.language,")"),description:null,details:t.file_size?r.createElement(p.b,null,u.a.getFullFileSizeString(t.file_size)):null})),r.createElement(h.b.ContentActionBar,null,r.createElement(f.a,{tag:"button",variant:"default",onClick:function(e){e.preventDefault(),d(n.download_url,"redirect")}},I18n.t("download_prompt")))))};t.default=Object(s.a)({component:function(e){var t=e.files,n=e.download_info;return r.createElement(h.a,{className:"file-list-neu js-files-box"},t.map((function(e){var t=n[e.id];if(null==t)throw new Error("File ".concat(e.id," does not have associated download info, shouldn't be possible"));return r.createElement(x,{key:e.id,file:e,downloadInfo:t})})))},propParser:C})},function(e,t,n){"use strict";n.r(t);var r=n(234),i=n.n(r),o=n(0),a=n(153),s="https://js.stripe.com/v3",l=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,c="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",u=null,d=function(e){return null!==u?u:u=new Promise((function(t,n){if("undefined"!==typeof window)if(window.Stripe&&e&&console.warn(c),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(s,'"]')),t=0;t<e.length;t++){var n=e[t];if(l.test(n.src))return n}return null}();r&&e?console.warn(c):r||(r=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(s).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n}(e)),r.addEventListener("load",(function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))})),r.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(i){return void n(i)}else t(null)}))},f=function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.10.0",startTime:t})}(r,n),r},h=Promise.resolve().then((function(){return d(null)})),p=!1;h.catch((function(e){p||console.warn(e)}));var m=n(1),g=n(18),v=n(20),y=n(5),b=n(12),w=n(146);function _(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k=m.m({}),T=function(){if("undefined"===typeof document)return null;var e=document.querySelector("meta[property='stripe:pk']"),t=e?e.getAttribute("value"):null;return t?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];p=!0;var r=Date.now();return h.then((function(e){return f(e,t,r)}))}(t):null},A=function(e){var t=Object(g.a)("uiMakePaymentRequestPayment");Object(g.b)("dataPurchaseFail",(function(){e&&e.complete("fail")})),Object(g.b)("dataPurchaseSuccessful",(function(){e&&e.complete("success")})),o.useEffect((function(){var n;e&&(n=e.paymentMethod,t({paymentMethod:n}))}),[e])},O={country:"US",currency:"usd"},I=function(e){var t=e.totalCents,n=Object(a.useStripe)(),r=E(o.useState(null),2),s=r[0],l=r[1],c=E(o.useState(null),2),u=c[0],d=c[1],f=E(o.useState(null),2),h=f[0],p=f[1];return A(h),o.useEffect((function(){if(n){var e=n.paymentRequest(C(C({},O),{},{total:{label:"Gumroad",amount:t}}));e.on("paymentmethod",function(){var e,t=(e=i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(t.paymentMethod),p(t);case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){_(o,r,i,a,s,"next",e)}function s(e){_(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}()),e.canMakePayment().then((function(t){t&&l(e)}))}}),[n]),o.useEffect((function(){s&&s.update({total:{amount:t,label:"Gumroad"}})}),[s,t]),{paymentRequest:s,paymentMethod:u}},j=function(){var e,t,n,r=Object(y.p)((function(e){return b.g.getTotalInUSDCents(e.paymentState)})),i=(e=E(o.useState(!0),2),t=e[0],n=e[1],Object(g.b)("uiShouldDisablePayButton",(function(){n(!1)})),Object(g.b)("uiShouldEnablePayButton",(function(){n(!0)})),t),s=I({totalCents:r}),l=s.paymentRequest,c=s.paymentMethod;!function(e){var t=Object(g.a)("uiSetPaymentRequestAvailable");o.useEffect((function(){e&&t(void 0)}),[e])}(l);var u=E(o.useState(!1),2),d=u[0],f=u[1],h=Object(g.a)("uiHandlePaymentRequestButtonClick");return Object(g.b)("uiUpdateFormForPaymentRequestValidity",(function(e,t){f(t)})),null===l||0===r?null:i?o.createElement("div",null,o.createElement(a.PaymentRequestButtonElement,{onClick:function(e){h(void 0),!c&&d||e.preventDefault()},options:{paymentRequest:l}}),o.createElement("div",{className:"divider"},I18n.t("or"))):o.createElement(w.a,null)};t.default=Object(v.a)(Object(y.c)({component:function(e){!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e);var t=E(o.useState((function(){return T()})),1)[0];return o.createElement("div",{className:"payment-request-component"},o.createElement(a.Elements,{stripe:t},o.createElement(j,null)))},propParser:k}))},,,,,,function(e,t,n){var r,i;r=[n(94)],void 0===(i=function(e){"use strict";var t={around:function(e,t){return function(){var n=0,r=arguments.length,i=new Array(r+1);for(i[0]=e.bind(this);n<r;n++)i[n+1]=arguments[n];return t.apply(this,i)}},before:function(e,t){var n="function"==typeof t?t:t.obj[t.fnName];return function(){return n.apply(this,arguments),e.apply(this,arguments)}},after:function(e,t){var n="function"==typeof t?t:t.obj[t.fnName];return function(){var t=(e.unbound||e).apply(this,arguments);return n.apply(this,arguments),t}},withAdvice:function(){["before","after","around"].forEach((function(n){this[n]=function(r,i){r.trim().split(" ").forEach((function(r){e.mutateProperty(this,r,(function(){return"function"==typeof this[r]?this[r]=t[n](this[r],i):this[r]=i,this[r]}))}),this)}}),this)}};return t}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r=[n(94),n(113),n(154)],void 0===(i=function(e,t,n){"use strict";var r=0;function i(e,t){try{window.postMessage(t,"*")}catch(r){n.warn.call(this,['Event "',e,'" was triggered with non-serializable data. ',"Flight recommends you avoid passing non-serializable data in events."].join(""))}}function a(e){n.warn.call(this,['Attribute "',e,'" defaults to an array or object. ',"Enclose this in a function to avoid sharing between component instances."].join(""))}function s(e){var t,r=[];if(this.attr=new this.attrDef,n.enabled&&window.console){for(var i in this.attrDef.prototype)r.push(i);for(var s=(t=Object.keys(e)).length-1;s>=0;s--)if(-1==r.indexOf(t[s])){n.warn.call(this,'Passed unused attribute "'+t[s]+'".');break}}for(var i in this.attrDef.prototype){if("undefined"==typeof e[i]){if(null===this.attr[i])throw new Error('Required attribute "'+i+'" not specified in attachTo for component "'+this.toString()+'".');n.enabled&&"object"===o(this.attr[i])&&a.call(this,i)}else this.attr[i]=e[i];"function"==typeof this.attr[i]&&(this.attr[i]=this.attr[i].call(this))}}function l(e){n.enabled&&n.warn.call(this,"defaultAttrs will be removed in a future version. Please use attributes.");var t=Object.create(e);for(var r in this.defaults)e.hasOwnProperty(r)||(t[r]=this.defaults[r],n.enabled&&"object"===o(this.defaults[r])&&a.call(this,r));this.attr=t,Object.keys(this.defaults||{}).forEach((function(e){if(null===this.defaults[e]&&null===this.attr[e])throw new Error('Required attribute "'+e+'" not specified in attachTo for component "'+this.toString()+'".')}),this)}function c(e){return function(t,n){$(t.target).trigger(e,n)}}return function(){this.trigger=function(){var e,t,r,a,s,l=arguments.length-1,c=arguments[l];return"string"==typeof c||c&&c.defaultBehavior||(l--,r=c),1==l?(e=$(arguments[0]),a=arguments[1]):(e=this.$node,a=arguments[0]),a.defaultBehavior&&(s=a.defaultBehavior,a=$.Event(a.type)),t=a.type||a,n.enabled&&window.postMessage&&i.call(this,t,r),"object"==o(this.attr.eventData)&&(r=$.extend(!0,{},this.attr.eventData,r)),e.trigger(a||t,r),s&&!a.isDefaultPrevented()&&(this[s]||s).call(this,a,r),e},this.on=function(){var t,n,r,i,a=arguments.length-1,s=arguments[a];if(i="object"==o(s)?e.delegate(this.resolveDelegateRules(s)):"string"==typeof s?c(s):s,2==a?(t=$(arguments[0]),n=arguments[1]):(t=this.$node,n=arguments[0]),"function"!=typeof i&&"object"!=o(i))throw new Error('Unable to bind to "'+n+'" because the given callback is not a function or an object');return(r=i.bind(this)).target=i,r.context=this,t.on(n,r),i.bound||(i.bound=[]),i.bound.push(r),r},this.off=function(){var e,n,r,i=arguments.length-1;if("function"==typeof arguments[i]&&(r=arguments[i],i-=1),1==i?(e=$(arguments[0]),n=arguments[1]):(e=this.$node,n=arguments[0]),r){var o=r.target?r.target.bound:r.bound||[];o&&o.some((function(e,t,n){if(e.context&&this.identity==e.context.identity)return n.splice(t,1),r=e,!0}),this),e.off(n,r)}else t.findInstanceInfo(this).events.forEach((function(t){n==t.type&&e.off(n,t.callback)}));return e},this.resolveDelegateRules=function(e){var t={};return Object.keys(e).forEach((function(n){if(!(n in this.attr))throw new Error('Component "'+this.toString()+'" wants to listen on "'+n+'" but no such attribute was defined.');t[this.attr[n]]="string"==typeof e[n]?c(e[n]):e[n]}),this),t},this.select=function(e){return this.$node.find(this.attr[e])},this.attributes=function(e){var t=function(){};for(var n in this.attrDef&&(t.prototype=new this.attrDef),e)t.prototype[n]=e[n];this.attrDef=t},this.defaultAttrs=function(t){e.push(this.defaults,t,!0)||(this.defaults=t)},this.initialize=function(e,t){if(t=t||{},this.identity||(this.identity=r++),!e)throw new Error("Component needs a node");return e.jquery?(this.node=e[0],this.$node=e):(this.node=e,this.$node=$(e)),this.attrDef?s.call(this,t):l.call(this,t),this},this.teardown=function(){var e=t.findInstanceInfo(this);e&&function(e){e&&e.events.slice().forEach((function(e){var t=[e.type];e.element&&t.unshift(e.element),"function"==typeof e.callback&&t.push(e.callback),this.off.apply(this,t)}),e.instance)}(e)}}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r=[n(94)],void 0===(i=function(e){"use strict";var t={on:"<-",trigger:"->",off:"x "};function n(e,n,r){var i,a,s,l,c,u,d,f,h,p;window.DEBUG&&window.DEBUG.enabled&&("function"==typeof r[r.length-1]&&(l=(l=r.pop()).unbound||l),1==r.length?(s=n.$node[0],a=r[0]):2!=r.length||"object"!=o(r[1])||r[1].type?(s=r[0],a=r[1],"trigger"==e&&(c=r[2])):(s=n.$node[0],a=r[0],"trigger"==e&&(c=r[1])),i="object"==o(a)?a.type:a,f="all"==(u=window.DEBUG.events.logFilter).actions||u.actions.indexOf(e)>-1,d=function(e){return e.test?e:new RegExp("^"+e.replace(/\*/g,".*")+"$")},h="all"==u.eventNames||u.eventNames.some((function(e){return d(e).test(i)})),f&&h&&(p=[t[e],e,"["+i+"]"],c&&p.push(c),p.push(function(e){var t=(e.tagName?e.tagName.toLowerCase():e.toString())+(e.className?"."+e.className:"");return e.tagName?["'","'"].join(t):t}(s)),p.push(n.constructor.describe.split(" ").slice(0,3).join(" ")),console.groupCollapsed&&"trigger"==e&&console.groupCollapsed(e,i),Function.prototype.apply.call(console.info,console,p)))}return function(){this.before("trigger",(function(){n("trigger",this,e.toArray(arguments))})),console.groupCollapsed&&this.after("trigger",(function(){console.groupEnd()})),this.before("on",(function(){n("on",this,e.toArray(arguments))})),this.before("off",(function(){n("off",this,e.toArray(arguments))}))}}.apply(t,r))||(e.exports=i)},,,function(e,t,n){var r,i;!function(){"use strict";r=[n(2)],void 0===(i=function(e){return e((function(){this.getAutocompleteSearchResults=function(e,t){$.ajax({type:"GET",dataType:"json",url:Routes.discover_search_autocomplete_path(),data:t}).done(function(e){this.trigger("dataAutocompleteSearchResults",e)}.bind(this)).fail(function(){this.trigger("dataAutocompleteSearchError")}.bind(this))},this.showAutocompleteSearchError=function(e,t){this.trigger("uiShowFlashMessage",{message:I18n.t("js.something_went_wrong")})},this.after("initialize",(function(){this.on(document,"uiNeedsAutocompleteSearchResults",this.getAutocompleteSearchResults),this.on(document,"dataAutocompleteSearchError",this.showAutocompleteSearchError)}))}))}.apply(t,r))||(e.exports=i)}()},function(e,t,n){"use strict";n.r(t);var r=n(2),i=n.n(r);t.default=i()((function(){this.defaultAttrs({messageSelector:".js-message"}),this.showFlashMessage=function(e,t){var n=this;this.select("messageSelector").text(t.message),this.$node.addClass("showing"),setTimeout((function(){n.hideFlashMessage()}),t.delay?t.delay:5e3)},this.initializeFlashMessage=function(){var e=this.select("messageSelector");e.text().length>0&&this.trigger("uiShowFlashMessage",{message:e.text()})},this.hideFlashMessage=function(){this.$node.removeClass("showing")},this.after("initialize",(function(){this.on(document,"uiShowFlashMessage",this.showFlashMessage),this.initializeFlashMessage(),this.on("click",{messageSelector:this.hideFlashMessage})}))}))},function(e,t,n){"use strict";var r,i;r=[n(2)],void 0===(i=function(e){return e((function(){this.trackUserClick=function(e){this.trigger("uiNeedsToTrackUserActionEvent",{name:$(e.target).data("event-name")})},this.after("initialize",(function(){this.on("click",this.trackUserClick)}))}))}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(2)],void 0===(i=function(e){return e((function(){this.selectAll=function(e){return this.$node.select(),!1},this.after("initialize",(function(){this.on("click",this.selectAll)}))}))}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(2)],void 0===(i=function(e){return e((function(){this.defaultAttrs({tipsyElementsSelector:".tippable",tipsysSelector:".tipsy"}),this.tipsyElements=function(){this.select("tipsyElementsSelector").each((function(){var e=$(this);e.tipsy({trigger:e.data("tipsy-trigger")||"hover",gravity:e.data("tipsy-gravity")||"w",html:"true"})}))},this.hideTipsyElements=function(){this.select("tipsysSelector").hide()},this.after("initialize",(function(){this.tipsyElements(),this.on(document,"uiShouldTipsyElements",this.tipsyElements),this.on(document,"uiShouldHideTipsys",this.hideTipsyElements)}))}))}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(2)],void 0===(i=function(e){return e((function(){function e(e){return e.data("gated")}this.defaultAttrs({upgradeGateTriggerSelector:".js-upgrade-gate-trigger",upgradeGatePopoverSelector:".js-upgrade-gate-popover",upgradeMessageSelector:".js-upgrade-message"}),this.disableGateTriggers=function(){this.select("upgradeGateTriggerSelector").each((function(){var t=$(this);e(t)&&t.attr("disabled",!0)}))},this.shakeTrigger=function(t){var n=$(t.target||t.srcElement);e(n)?(t.preventDefault(),t.stopPropagation(),n.hasClass("button")&&(n.removeClass("shake"),setTimeout((function(){n.addClass("shake")}),0))):this.hidePopover()},this.showPopover=function(e){var t=$(e.target||e.srcElement),n=this.select("upgradeGatePopoverSelector");t.data("gate-message")&&t.data("gate-message").length>0&&(this.select("upgradeMessageSelector").text(t.data("gate-message")),n.css({top:t.offset().top+t.outerHeight()+15,left:t.offset().left-n.outerWidth()/2+t.outerWidth()/2}),n.addClass("showing"),clearTimeout(this.attr.hidePopoverTimeout))},this.hidePopover=function(){this.attr.hidePopoverTimeout=setTimeout(function(){this.select("upgradeGatePopoverSelector").is(":hover")||this.select("upgradeGatePopoverSelector").removeClass("showing")}.bind(this),400)},this.after("initialize",(function(){this.disableGateTriggers(),this.on(document,"uiShouldDisableGateTriggers",this.disableGateTriggers),this.on(document,"uiShouldHideUpgradePopovers",this.hidePopover),this.on("click",{upgradeGateTriggerSelector:this.shakeTrigger}),this.on("mouseover",{upgradeGateTriggerSelector:this.showPopover}),this.on("mouseout",{upgradeGateTriggerSelector:this.hidePopover,upgradeGatePopoverSelector:this.hidePopover})}))}))}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(2)],void 0===(i=function(e){return e((function(){this.after("initialize",(function(){this.$node.placeholder()}))}))}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(2)],void 0===(i=function(e){return e((function(){this.after("initialize",(function(){var e=this.$node,t=e.next();!t.is("input")&&e.prev().is("input")&&(t=$(this).prev()),t.on("focus",(function(){e.addClass("focused")})),t.on("focusout",(function(){e.removeClass("focused")}))}))}))}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())}))}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i="%[a-f0-9]{2}",o=new RegExp(i,"gi"),a=new RegExp("("+i+")+","gi");function s(e,t){try{return decodeURIComponent(e.join(""))}catch(i){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],s(n),s(r))}function l(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(o),n=1;n<t.length;n++)t=(e=s(t,n).join("")).match(o);return e}}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+r(e)+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var n={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},r=a.exec(e);r;){try{n[r[0]]=decodeURIComponent(r[0])}catch(t){var i=l(r[0]);i!==r[0]&&(n[r[0]]=i)}r=a.exec(e)}n["%C2"]="\ufffd";for(var o=Object.keys(n),s=0;s<o.length;s++){var c=o[s];e=e.replace(new RegExp(c,"g"),n[c])}return e}(e)}}},function(e,t,n){"use strict";e.exports=function(e,t){if("string"!==typeof e||"string"!==typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];var n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},function(e,t,n){var r,i;!function(){"use strict";r=[n(2)],void 0===(i=function(e){return e((function(){this.facebookShare=function(e){e.preventDefault();var t=this.$node;FB&&FB.ui({href:t.data("url"),method:"share",name:t.data("name"),picture:t.data("preview")},(function(e){void 0!==e&&t.find(".gi-facebook").removeClass("gi-facebook").addClass("gi-check")}))},this.after("initialize",(function(){this.on("click",this.facebookShare)}))}))}.apply(t,r))||(e.exports=i)}()},function(e,t,n){"use strict";var r=n(2),i=n(45),o=n(54),a=n(324),s=n(35),l=n(137),c=n(344).keyCodes,u=n(61).ProductCardFetchTypes;e.exports=r((function(){this.defaultAttrs({searchFilterDropdownTriggerSelector:".js-discover-search-filter-dropdown-trigger",searchFilterDropdownSelector:".js-discover-search-filter-dropdown",searchFieldSelector:".js-discover-search-field",searchFieldAutocompleteDropdown:".js-discover-search-autocomplete-dropdown",searchFilterOptionSelector:".js-discover-search-filter-option",selectedCategory:"everything",navigationSelector:".js-navigation",searchButton:".js-search-button",searchResultLinkSelector:".search-result-link",previousAutocompleteSearchQuery:"",selectedResultIndex:void 0}),this.searchKeyListener=function(e){e.preventDefault(),this.searchFieldFocusin();var t=this.select("searchFieldSelector").val();switch(e.keyCode){case c.enter:void 0==this.attr.selectedResultIndex?this.submitSearchField():window.location=this.selectedResultNode().attr("href");break;case c.escape:this.searchFieldFocusout();break;case c.downArrow:this.navigateSearchResult(c.downArrow);break;case c.upArrow:this.navigateSearchResult(c.upArrow);break;default:t.length>0?this.attr.previousAutocompleteSearchQuery!=t&&(this.getAutocompleteSearchResults(t),this.attr.previousAutocompleteSearchQuery=t):this.select("searchFieldAutocompleteDropdown").html("")}},this.getAutocompleteSearchResults=l((function(e){this.trigger("uiNeedsAutocompleteSearchResults",{query:e})}),300),this.submitSearchField=function(){this.searchFieldFocusout();var e=this.select("searchFieldSelector").val();this.select("searchFieldAutocompleteDropdown").removeClass("showing"),this.attr.isOnDiscoverPage?(this.trigger("uiNeedsToFetchNewResults",{fetchType:u.SEARCH,query:e,categorySlug:this.attr.category}),e.length>0?(this.toggleSearchFilterDropdown(),this.trigger("uiNeedsToHideSearchAndHamburgerButtons")):(this.toggleQueryClass(),this.trigger("uiNeedsToShowSearchAndHamburgerButtons")),this.select("searchFieldSelector").select()):this.navigateToDiscover(e)},this.selectedResultNode=function(){return this.$node.find(".search-result-link:eq("+this.attr.selectedResultIndex+")")},this.updateSelectedResultIndex=function(e){this.selectedResultNode().parent().removeClass("selected"),this.attr.selectedResultIndex=e,this.selectedResultNode().parent().addClass("selected"),this.select("searchFieldAutocompleteDropdown").removeClass("autocomplete-result-hover")},this.navigateToDiscover=function(e){window.location.href=Routes.discover_path({query:e,category:this.attr.category})},this.toggleSearchFilterDropdown=function(e){e&&e.preventDefault(),this.trigger("uiToToggleMobileOverlayToDiscover"),this.select("searchFilterDropdownSelector").toggleClass("showing")},this.hideSearchFilterDropdown=function(e){e&&(!e.target.classList.contains(this.attr.searchFilterDropdownTriggerSelector.replace(".",""))&&this.select("searchFilterDropdownSelector").hasClass("showing")&&(this.trigger("uiToToggleMobileOverlayToDiscover"),this.select("searchFilterDropdownSelector").removeClass("showing")))},this.updateSearchFilter=function(e){if(this.attr.category!==$(e.target||e.srcElement).attr("data-value"))if(this.attr.category=$(e.target||e.srcElement).attr("data-value"),this.attr.isOnDiscoverPage)this.toggleSearchFilterDropdown(e),this.updateSearchFilterDropdown(),this.trigger("uiToClearTags"),this.trigger("uiNeedsToFetchNewResults",{fetchType:u.CATEGORY,categorySlug:this.attr.category});else{var t=this.select("searchFieldSelector").val();this.navigateToDiscover(t)}},this.updateSearchCategory=function(e,t){this.attr.category=t.category,this.updateSearchFilterDropdown()},this.updateSearchFilterDropdown=function(){this.select("searchFilterDropdownTriggerSelector").html($("[data-value='"+this.attr.category+"']").text());var e=this.select("searchFilterDropdownTriggerSelector").outerWidth();this.select("searchFieldSelector").css("padding-left",e+20),o.isOnDesktop()&&this.select("searchFieldAutocompleteDropdown").css({left:e,width:"calc(100% - ".concat(e,"px)")})},this.updateCategoryLinksWithParams=function(e,t){delete t.params.category;var n=s.stringify(t.params,{encode:!1});this.select("searchFilterOptionSelector").each((function(e,t){var r=$(t).data("value"),i=Routes.discover_path({category:r});$(t).attr("href","".concat(i,"&").concat(n))}))},this.toggleQueryClass=function(){this.$node.toggleClass("has-query")},this.navigateSearchResult=function(e){var t=this.select("searchResultLinkSelector").length;if(t>0){if(e==c.downArrow)var n=Math.min(this.attr.selectedResultIndex+1,t-1);else n=Math.max(this.attr.selectedResultIndex-1,0);n=void 0==this.attr.selectedResultIndex?0:n,this.updateSelectedResultIndex(n)}},this.onResultHover=function(e){event.stopPropagation(),this.updateSelectedResultIndex(void 0),this.select("searchFieldAutocompleteDropdown").addClass("autocomplete-result-hover")},this.updateSearchAutocompleteDropdown=function(e,t){var n=this.select("searchFieldAutocompleteDropdown");t.results.length>0?(n.html(a(t)),n.addClass("showing")):n.removeClass("showing")},this.searchFieldFocusin=function(){$(".js-autocomplete-overlay").addClass("autocomplete-overlay"),$(".js-autocomplete-nav-overlay").addClass("autocomplete-nav-overlay")},this.searchFieldFocusout=function(e){this.select("searchFieldAutocompleteDropdown").html("").removeClass("showing"),this.updateSelectedResultIndex(void 0),$(".js-autocomplete-overlay").removeClass("autocomplete-overlay"),$(".js-autocomplete-nav-overlay").removeClass("autocomplete-nav-overlay")},this.after("initialize",(function(){this.attr.isOnDiscoverPage="discover-page"===this.$node.parents("body").attr("id"),this.getUrlParams().query&&this.attr.isOnDiscoverPage&&(this.select("searchFieldSelector").val(this.getUrlParams().query),this.select("searchFieldSelector").select(),(this.getUrlParams().category||this.getUrlParams().query)&&(this.toggleQueryClass(),this.trigger("uiNeedsToHideSearchAndHamburgerButtons"))),this.on(document,"uiToToggleQueryClass",this.toggleQueryClass),this.on(document,"uiToUpdateCategoryLinksWithParams",this.updateCategoryLinksWithParams),this.on(document,"uiToUpdateSearchCategory",this.updateSearchCategory),this.on("keyup",{searchFieldSelector:this.searchKeyListener}),this.on("click",{searchFilterDropdownTriggerSelector:this.toggleSearchFilterDropdown,searchFilterOptionSelector:this.updateSearchFilter,searchButton:this.submitSearchField}),this.on("focusin",{searchFieldSelector:this.searchFieldFocusin}),this.on(document,"dataAutocompleteSearchResults",this.updateSearchAutocompleteDropdown),this.on(document,"uiNeedsToHideAutocompleteOverlay",this.searchFieldFocusout),this.on("mouseover",{searchFieldAutocompleteDropdown:this.onResultHover}),this.on(document,"click",this.hideSearchFilterDropdown)}))}),i)},function(e,t,n){var r=n(10);e.exports=(r.default||r).template({1:function(e,t,r,i,o,a,s){var l,c,u=e.lambda,d=e.escapeExpression,f=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"  <li>\n    <a href="+d(u(null!=t?f(t,"link"):t,t))+' class="search-result-link">\n      <div class="search-result-icon">\n        <i class="gi gi-custom gi-box-custom"></i>\n      </div>\n      <div class="search-result">\n        <div class="search-result-name"> '+(null!=(l=(c=n(340),c&&(c.__esModule?c.default:c)).call(null!=t?t:e.nullContext||{},null!=s[1]?f(s[1],"query"):s[1],null!=t?f(t,"name"):t,{name:"highlight_matches",hash:{},data:o,loc:{start:{line:8,column:41},end:{line:8,column:78}}}))?l:"")+'</div>\n        <div class="search-result-information">'+d(u(null!=t?f(t,"information"):t,t))+"</div>\n      </div>\n    </a>\n  </li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,i,o,a){var s,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(s=l(n,"each").call(null!=t?t:e.nullContext||{},null!=t?l(t,"results"):t,{name:"each",hash:{},fn:e.program(1,i,0,o,a),inverse:e.noop,data:i,loc:{start:{line:1,column:0},end:{line:13,column:9}}}))?s:"")+'<li>\n  <a class="button button-primary search-button js-search-button" href="#">\n    <p>Search</p>\n  </a>\n</li>\n'},useData:!0,useDepths:!0})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.__esModule=!0;var o=i(n(239)),a=r(n(336)),s=r(n(70)),l=i(n(55)),c=i(n(337)),u=r(n(339));function d(){var e=new o.HandlebarsEnvironment;return l.extend(e,o),e.SafeString=a.default,e.Exception=s.default,e.Utils=l,e.escapeExpression=l.escapeExpression,e.VM=c,e.template=function(t){return c.template(t,e)},e}var f=d();f.create=d,u.default(f),f.default=f,t.default=f,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=n(55);t.default=function(e){e.registerHelper("blockHelperMissing",(function(t,n){var i=n.inverse,o=n.fn;if(!0===t)return o(this);if(!1===t||null==t)return i(this);if(r.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):i(this);if(n.data&&n.ids){var a=r.createFrame(n.data);a.contextPath=r.appendContextPath(n.data.contextPath,n.name),n={data:a}}return o(t,n)}))},e.exports=t.default},function(e,t,n){"use strict";(function(r){function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.__esModule=!0;var o,a=n(55),s=n(70),l=(o=s)&&o.__esModule?o:{default:o};t.default=function(e){e.registerHelper("each",(function(e,t){if(!t)throw new l.default("Must pass iterator to #each");var n,o=t.fn,s=t.inverse,c=0,u="",d=void 0,f=void 0;function h(t,n,r){d&&(d.key=t,d.index=n,d.first=0===n,d.last=!!r,f&&(d.contextPath=f+t)),u+=o(e[t],{data:d,blockParams:a.blockParams([e[t],t],[f+t,null])})}if(t.data&&t.ids&&(f=a.appendContextPath(t.data.contextPath,t.ids[0])+"."),a.isFunction(e)&&(e=e.call(this)),t.data&&(d=a.createFrame(t.data)),e&&"object"===i(e))if(a.isArray(e))for(var p=e.length;c<p;c++)c in e&&h(c,c,c===e.length-1);else if(r.Symbol&&e[r.Symbol.iterator]){for(var m=[],g=e[r.Symbol.iterator](),v=g.next();!v.done;v=g.next())m.push(v.value);for(p=(e=m).length;c<p;c++)h(c,c,c===e.length-1)}else n=void 0,Object.keys(e).forEach((function(e){void 0!==n&&h(n,c-1),n=e,c++})),void 0!==n&&h(n,c-1,!0);return 0===c&&(u=s(this)),u}))},e.exports=t.default}).call(this,n(76))},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(70),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){e.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new o.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(55),o=n(70),a=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){e.registerHelper("if",(function(e,t){if(2!=arguments.length)throw new a.default("#if requires exactly one argument");return i.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||i.isEmpty(e)?t.inverse(this):t.fn(this)})),e.registerHelper("unless",(function(t,n){if(2!=arguments.length)throw new a.default("#unless requires exactly one argument");return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}))},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("log",(function(){for(var t=[void 0],n=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)t.push(arguments[r]);var i=1;null!=n.hash.level?i=n.hash.level:n.data&&null!=n.data.level&&(i=n.data.level),t[0]=i,e.log.apply(e,t)}))},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("lookup",(function(e,t,n){return e?n.lookupProperty(e,t):e}))},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(55),o=n(70),a=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){e.registerHelper("with",(function(e,t){if(2!=arguments.length)throw new a.default("#with requires exactly one argument");i.isFunction(e)&&(e=e.call(this));var n=t.fn;if(i.isEmpty(e))return t.inverse(this);var r=t.data;return t.data&&t.ids&&((r=i.createFrame(t.data)).contextPath=i.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:r,blockParams:i.blockParams([e],[r&&r.contextPath])})}))},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.registerDefaultDecorators=function(e){o.default(e)};var r,i=n(334),o=(r=i)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(55);t.default=function(e){e.registerDecorator("inline",(function(e,t,n,i){var o=e;return t.partials||(t.partials={},o=function(i,o){var a=n.partials;n.partials=r.extend({},a,t.partials);var s=e(i,o);return n.partials=a,s}),t.partials[i.args[0]]=i.fn,o}))},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.createNewLookupObject=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.extend.apply(void 0,[Object.create(null)].concat(t))};var r=n(55)},function(e,t,n){"use strict";function r(e){this.string=e}t.__esModule=!0,r.prototype.toString=r.prototype.toHTML=function(){return""+this.string},t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.__esModule=!0,t.checkRevision=function(e){var t=e&&e[0]||1,n=l.COMPILER_REVISION;if(t>=l.LAST_COMPATIBLE_COMPILER_REVISION&&t<=l.COMPILER_REVISION)return;if(t<l.LAST_COMPATIBLE_COMPILER_REVISION){var r=l.REVISION_CHANGES[n],i=l.REVISION_CHANGES[t];throw new s.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+i+").")}throw new s.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")},t.template=function(e,t){if(!t)throw new s.default("No environment passed to template");if(!e||!e.main)throw new s.default("Unknown template object: "+r(e));e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var n=e.compiler&&7===e.compiler[0];var i={strict:function(e,t,n){if(!e||!(t in e))throw new s.default('"'+t+'" not defined in '+e,{loc:n});return e[t]},lookupProperty:function(e,t){var n=e[t];return null==n||Object.prototype.hasOwnProperty.call(e,t)||d.resultIsAllowed(n,i.protoAccessControl,t)?n:void 0},lookup:function(e,t){for(var n=e.length,r=0;r<n;r++){if(null!=(e[r]&&i.lookupProperty(e[r],t)))return e[r][t]}},lambda:function(e,t){return"function"===typeof e?e.call(t):e},escapeExpression:o.escapeExpression,invokePartial:function(n,r,i){i.hash&&(r=o.extend({},r,i.hash),i.ids&&(i.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,r,i);var a=o.extend({},i,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),l=t.VM.invokePartial.call(this,n,r,a);if(null==l&&t.compile&&(i.partials[i.name]=t.compile(n,e.compilerOptions,t),l=i.partials[i.name](r,a)),null!=l){if(i.indent){for(var c=l.split("\n"),u=0,d=c.length;u<d&&(c[u]||u+1!==d);u++)c[u]=i.indent+c[u];l=c.join("\n")}return l}throw new s.default("The partial "+i.name+" could not be compiled when running in runtime-only mode")},fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,r,i){var o=this.programs[e],a=this.fn(e);return t||i||r||n?o=f(this,e,a,t,n,r,i):o||(o=this.programs[e]=f(this,e,a)),o},data:function(e,t){for(;e&&t--;)e=e._parent;return e},mergeIfNeeded:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=o.extend({},t,e)),n},nullContext:Object.seal({}),noop:t.VM.noop,compilerInfo:e.compiler};function a(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=n.data;a._setup(n),!n.partial&&e.useData&&(r=p(t,r));var o=void 0,s=e.useBlockParams?[]:void 0;function l(t){return""+e.main(i,t,i.helpers,i.partials,r,s,o)}return e.useDepths&&(o=n.depths?t!=n.depths[0]?[t].concat(n.depths):n.depths:[t]),(l=m(e.main,l,i,n.depths||[],r,s))(t,n)}return a.isTop=!0,a._setup=function(r){if(r.partial)i.protoAccessControl=r.protoAccessControl,i.helpers=r.helpers,i.partials=r.partials,i.decorators=r.decorators,i.hooks=r.hooks;else{var a=o.extend({},t.helpers,r.helpers);!function(e,t){Object.keys(e).forEach((function(n){var r=e[n];e[n]=function(e,t){var n=t.lookupProperty;return u.wrapHelper(e,(function(e){return o.extend({lookupProperty:n},e)}))}(r,t)}))}(a,i),i.helpers=a,e.usePartial&&(i.partials=i.mergeIfNeeded(r.partials,t.partials)),(e.usePartial||e.useDecorators)&&(i.decorators=o.extend({},t.decorators,r.decorators)),i.hooks={},i.protoAccessControl=d.createProtoAccessControl(r);var s=r.allowCallsToHelperMissing||n;c.moveHelperToHooks(i,"helperMissing",s),c.moveHelperToHooks(i,"blockHelperMissing",s)}},a._child=function(t,n,r,o){if(e.useBlockParams&&!r)throw new s.default("must pass block params");if(e.useDepths&&!o)throw new s.default("must pass parent depths");return f(i,t,e[t],n,0,r,o)},a},t.wrapProgram=f,t.resolvePartial=function(e,t,n){e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name];return e},t.invokePartial=function(e,t,n){var r=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var i=void 0;n.fn&&n.fn!==h&&function(){n.data=l.createFrame(n.data);var e=n.fn;i=n.data["partial-block"]=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=l.createFrame(n.data),n.data["partial-block"]=r,e(t,n)},e.partials&&(n.partials=o.extend({},n.partials,e.partials))}();void 0===e&&i&&(e=i);if(void 0===e)throw new s.default("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)},t.noop=h;var i,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(55)),a=n(70),s=(i=a)&&i.__esModule?i:{default:i},l=n(239),c=n(240),u=n(338),d=n(242);function f(e,t,n,r,i,o,a){function s(t){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=a;return!a||t==a[0]||t===e.nullContext&&null===a[0]||(s=[t].concat(a)),n(e,t,e.helpers,e.partials,i.data||r,o&&[i.blockParams].concat(o),s)}return(s=m(n,s,e,a,r,o)).program=t,s.depth=a?a.length:0,s.blockParams=i||0,s}function h(){return""}function p(e,t){return t&&"root"in t||((t=t?l.createFrame(t):{}).root=e),t}function m(e,t,n,r,i,a){if(e.decorator){var s={};t=e.decorator(t,s,n,r&&r[0],i,a,r),o.extend(t,s)}return t}},function(e,t,n){"use strict";t.__esModule=!0,t.wrapHelper=function(e,t){if("function"!==typeof e)return e;return function(){var n=arguments[arguments.length-1];return arguments[arguments.length-1]=t(n),e.apply(this,arguments)}}},function(e,t,n){"use strict";(function(n){t.__esModule=!0,t.default=function(e){var t="undefined"!==typeof n?n:window,r=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=r),e}},e.exports=t.default}).call(this,n(76))},function(e,t,n){"use strict";var r,i;r=[n(10)],void 0===(i=function(e){function t(e,t){if(e&&t){var n=new RegExp(e,"i"),r=t.match(n)[0];return t.replace(n,"<b>".concat(r,"</b>"))}return t}return e.registerHelper("highlight_matches",t),t}.apply(t,r))||(e.exports=i)},function(e,t,n){var r=n(56);e.exports=function(){return r.Date.now()}},function(e,t,n){var r=n(116),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){"use strict";n.r(t),n.d(t,"keyCodes",(function(){return r}));var r={enter:13,escape:27,upArrow:38,downArrow:40}},function(e,t,n){"use strict";var r,i;r=[n(2),n(245)],void 0===(i=function(e,t){return e((function(){this.trackProductSpecificEvent=function(e,t){$.ajax({type:"POST",data:{event_name:t.name,referrer:this.attr.referrer,plugins:this.attr.pluginNames,is_modal:this.attr.isModal,from_profile:this.attr.fromProfile,from_multi_overlay:this.attr.fromMultiOverlay,source:this.attr.source,was_product_recommended:!!t.wasProductRecommended,view_url:window.location.pathname},url:Routes.track_user_action_link_path(t.permalink),dataType:"json"})},this.trackViewEvent=function(e,t){$.ajax({type:"POST",url:Routes.increment_views_link_path(t.permalink),data:{is_modal:this.attr.isModal,plugins:this.attr.pluginNames,referrer:this.attr.referrer,got_cookies:navigator.cookieEnabled,from_profile:this.attr.fromProfile,from_multi_overlay:this.attr.fromMultiOverlay,source:this.attr.source,was_product_recommended:!!t.wasProductRecommended,recommended_by:t.recommendedBy,window_location:window.location.toString(),view_url:window.location.pathname},dataType:"json"})},this.trackUpdatePostViewEvent=function(e,t){$.ajax({type:"POST",url:Routes.increment_post_views_path(t.post_id),data:{referrer:this.attr.referrer,from_profile:this.attr.fromProfile,source:this.attr.source,window_location:window.location.toString(),view_url:window.location.pathname},dataType:"json"})},this.trackUserActionEvent=function(e,t){$.ajax({type:"POST",data:{event_name:t.name,referrer:this.attr.referrer,plugins:this.attr.pluginNames,is_modal:this.attr.isModal,from_multi_overlay:this.attr.fromMultiOverlay,from_profile:this.attr.fromProfile,source:this.attr.source,view_url:window.location.pathname},url:Routes.events_track_user_action_path(),dataType:"json"})},this.after("initialize",(function(){this.attr.pluginNames=this.getPluginNames(),this.attr.referrer=this.getReferrer(),this.attr.source=this.getSource(),this.attr.isModal=!!window.location.search.match(/as_modal/)&&top!=self,this.attr.fromProfile="user_page"===$("body").attr("id")||-1!==window.location.search.indexOf("from_profile=1"),this.attr.fromMultiOverlay="overlay-page"===$("body").attr("id"),this.on(document,"uiNeedsToTrackProductSpecificEvent",this.trackProductSpecificEvent),this.on(document,"uiNeedsToTrackViewEvent",this.trackViewEvent),this.on(document,"uiNeedsToTrackUserActionEvent",this.trackUserActionEvent),this.on(document,"uiNeedsToTrackUpdatePostViewEvent",this.trackUpdatePostViewEvent)}))}),t)}.apply(t,r))||(e.exports=i)},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r=n(370),i=n(423),o=n(265);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){var r=n(249),i=n(252);e.exports=function(e,t,n,o){var a=n.length,s=a,l=!o;if(null==e)return!s;for(e=Object(e);a--;){var c=n[a];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var u=(c=n[a])[0],d=e[u],f=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var h=new r;if(o)var p=o(d,f,u,e,t,h);if(!(void 0===p?i(f,d,3,o,h):p))return!1}}return!0}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(119),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},function(e,t,n){var r=n(119);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(119);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(119);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},function(e,t,n){var r=n(118);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(118),i=n(156),o=n(157);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(250),i=n(382),o=n(64),a=n(251),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,f=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?f:s).test(a(e))}},function(e,t,n){var r,i=n(383),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},function(e,t,n){var r=n(56)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(386),i=n(118),o=n(156);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(e,t,n){var r=n(387),i=n(388),o=n(389),a=n(390),s=n(391);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(120);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(120),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(120),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},function(e,t,n){var r=n(120);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(121);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e){var t=n(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(121);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(121);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(121);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},function(e,t,n){var r=n(249),i=n(253),o=n(403),a=n(407),s=n(418),l=n(65),c=n(260),u=n(261),d="[object Arguments]",f="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,v){var y=l(e),b=l(t),w=y?f:s(e),_=b?f:s(t),S=(w=w==d?h:w)==h,C=(_=_==d?h:_)==h,x=w==_;if(x&&c(e)){if(!c(t))return!1;y=!0,S=!1}if(x&&!S)return v||(v=new r),y||u(e)?i(e,t,n,m,g,v):o(e,t,w,n,m,g,v);if(!(1&n)){var E=S&&p.call(e,"__wrapped__"),P=C&&p.call(t,"__wrapped__");if(E||P){var k=E?e.value():e,T=P?t.value():t;return v||(v=new r),g(k,T,n,m,v)}}return!!x&&(v||(v=new r),a(e,t,n,m,g,v))}},function(e,t,n){var r=n(157),i=n(399),o=n(400);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(116),i=n(404),o=n(155),a=n(253),s=n(405),l=n(406),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var p=1&r;if(h||(h=l),e.size!=t.size&&!p)return!1;var m=f.get(e);if(m)return m==t;r|=2,f.set(e,t);var g=a(h(e),h(t),r,c,d,f);return f.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},function(e,t,n){var r=n(56).Uint8Array;e.exports=r},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t,n){var r=n(408),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var f=c[d];if(!(l?f in t:i.call(t,f)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=l;++d<u;){var v=e[f=c[d]],y=t[f];if(o)var b=l?o(y,v,f,t,e,s):o(v,y,f,e,t,s);if(!(void 0===b?v===y||a(v,y,n,o,s):b)){m=!1;break}g||(g="constructor"==f)}if(m&&!g){var w=e.constructor,_=t.constructor;w==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _||(m=!1)}return s.delete(e),s.delete(t),m}},function(e,t,n){var r=n(254),i=n(256),o=n(158);e.exports=function(e){return r(e,o,i)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(95),i=n(96);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(95),i=n(160),o=n(96),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(243),o="object"==r(t)&&t&&!t.nodeType&&t,a=o&&"object"==r(e)&&e&&!e.nodeType&&e,s=a&&a.exports===o&&i.process,l=function(){try{var e=a&&a.require&&a.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(t){}}();e.exports=l}).call(this,n(98)(e))},function(e,t,n){var r=n(262),i=n(417),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(263)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(419),i=n(156),o=n(420),a=n(421),s=n(422),l=n(95),c=n(251),u="[object Map]",d="[object Promise]",f="[object Set]",h="[object WeakMap]",p="[object DataView]",m=c(r),g=c(i),v=c(o),y=c(a),b=c(s),w=l;(r&&w(new r(new ArrayBuffer(1)))!=p||i&&w(new i)!=u||o&&w(o.resolve())!=d||a&&w(new a)!=f||s&&w(new s)!=h)&&(w=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return p;case g:return u;case v:return d;case y:return f;case b:return h}return t}),e.exports=w},function(e,t,n){var r=n(71)(n(56),"DataView");e.exports=r},function(e,t,n){var r=n(71)(n(56),"Promise");e.exports=r},function(e,t,n){var r=n(71)(n(56),"Set");e.exports=r},function(e,t,n){var r=n(71)(n(56),"WeakMap");e.exports=r},function(e,t,n){var r=n(264),i=n(158);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},function(e,t,n){var r=n(252),i=n(425),o=n(431),a=n(163),s=n(264),l=n(265),c=n(99);e.exports=function(e,t){return a(e)&&s(t)?l(c(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},function(e,t,n){var r=n(162);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},function(e,t,n){var r=n(427),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},function(e,t,n){var r=n(428);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},function(e,t,n){var r=n(157);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},function(e,t,n){var r=n(430);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(116),i=n(266),o=n(65),a=n(115),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},function(e,t,n){var r=n(432),i=n(433);e.exports=function(e,t){return null!=e&&i(e,t,r)}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(122),i=n(259),o=n(65),a=n(159),s=n(160),l=n(99);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,d=!1;++c<u;){var f=l(t[c]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&s(u)&&a(f,u)&&(o(e)||i(e))}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(436),i=n(437),o=n(163),a=n(99);e.exports=function(e){return o(e)?r(a(e)):i(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var r=n(162);e.exports=function(e){return function(t){return r(t,e)}}},,,,,,function(e,t,n){"use strict";var r;void 0===(r=function(){return function(){this.getTransformTranslation=function(e,t){return"translate("+e+","+t+")"}}}.apply(t,[]))||(e.exports=r)},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r=n(10);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template({1:function(e,t,n,r,i){return"complete"},3:function(e,t,n,r,i){return"showing-check"},5:function(e,t,n,r,i){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return' data-id="'+e.escapeExpression(e.lambda(null!=t?o(t,"id"):t,t))+'" '},7:function(e,t,n,r,i){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return' data-unsaved-id="'+e.escapeExpression(e.lambda(null!=t?o(t,"unsaved_id"):t,t))+'" '},9:function(e,t,n,r,i){var o=e.lambda,a=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return' data-dropbox-file-upload-state="'+a(o(null!=t?s(t,"dropboxFileUploadState"):t,t))+'" data-dropbox-file-external-id="'+a(o(null!=t?s(t,"dropboxFileExternalId"):t,t))+'" '},11:function(e,t,r,o,a){return'        <li><i class="remove-button js-remove-trigger tippable" data-tipsy-gravity="w" title="'+e.escapeExpression(i(n(3)).call(null!=t?t:e.nullContext||{},"remove",{name:"t",hash:{},data:a,loc:{start:{line:21,column:94},end:{line:21,column:108}}}))+'"></i></li>\n'},13:function(e,t,r,o,a){return'        <li><i class="remove-button js-cancel-trigger tippable" data-tipsy-gravity="w" title="'+e.escapeExpression(i(n(3)).call(null!=t?t:e.nullContext||{},"cancel",{name:"t",hash:{},data:a,loc:{start:{line:23,column:94},end:{line:23,column:108}}}))+'"></i></li>\n'},15:function(e,t,r,o,a){return'        <li>\n          <i class="icn-subtitles js-upload-subtitles-trigger tippable" data-tipsy-gravity="w" title="'+e.escapeExpression(i(n(3)).call(null!=t?t:e.nullContext||{},"upload_subtitles",{name:"t",hash:{},data:a,loc:{start:{line:28,column:102},end:{line:28,column:126}}}))+'"></i>\n          <i class="icn-subtitles js-hide-upload-subtitles-trigger active tippable soft-hidden"></i>\n        </li>\n'},17:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'          <div class="uploading-circle js-uploading-circle">\n            <i class="gi gi-rainbow gi-spin '+(null!=(o=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"complete"):t,{name:"if",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i,loc:{start:{line:36,column:44},end:{line:36,column:78}}}))?o:"")+'"></i>\n            <i class="gi gi-check"></i>\n          </div>\n'},18:function(e,t,n,r,i){return"soft-hidden"},20:function(e,t,r,o,a){return'    <div class="subtitle-upload-drawer js-subtitle-upload-drawer soft-hidden">\n      <ul class="subtitle-list js-subtitle-list soft-hidden"></ul>\n      <a class="edit-uploader subtitle-upload-box js-subtitle-upload-box">\n        <span class="prompt">'+e.escapeExpression(i(n(3)).call(null!=t?t:e.nullContext||{},"upload_subtitle_file",{name:"t",hash:{},data:a,loc:{start:{line:50,column:29},end:{line:50,column:57}}}))+"</span>\n      </a>\n    </div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,i){var o,a=null!=t?t:e.nullContext||{},s=e.lambda,l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <li class="file-row-container js-file-subtitle-wrapper '+(null!=(o=c(n,"if").call(a,null!=t?c(t,"complete"):t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:1,column:57},end:{line:1,column:88}}}))?o:"")+'" data-file-url="'+l(s(null!=t?c(t,"url"):t,t))+'">\n  <div class="file-row js-file-row relative '+(null!=(o=c(n,"if").call(a,null!=t?c(t,"complete"):t,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i,loc:{start:{line:2,column:44},end:{line:2,column:80}}}))?o:"")+' last-in-file-wrapper" '+(null!=(o=c(n,"if").call(a,null!=t?c(t,"id"):t,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i,loc:{start:{line:2,column:103},end:{line:2,column:139}}}))?o:"")+" "+(null!=(o=c(n,"if").call(a,null!=t?c(t,"unsaved_id"):t,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i,loc:{start:{line:2,column:140},end:{line:2,column:202}}}))?o:"")+" "+(null!=(o=c(n,"if").call(a,null!=t?c(t,"dropboxFileExternalId"):t,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i,loc:{start:{line:2,column:203},end:{line:2,column:358}}}))?o:"")+'>\n    <div class="uploading-bar rainbox-bar"></div>\n\n    <div class="file-row-left">\n      <i class="js-reorder-handle gi gi-hamburger soft-hidden"></i>\n\n      <div class="file-name js-file-name-holder">\n        <span class="js-file-name">'+l(s(null!=t?c(t,"name"):t,t))+'</span>\n        <i class="gi gi-pencil"></i>\n      </div>\n\n      <div class="file-name-form js-file-name-form soft-hidden">\n        <input type="text" class="file-name-input js-file-name-input" value="'+l(s(null!=t?c(t,"name"):t,t))+'" name="filename">\n        <button class="button-primary button-small js-change-file-name-trigger change-file-name-trigger"><i class="gi gi-check"></i></button>\n      </div>\n    </div>\n\n    <ul class="file-row-right">\n'+(null!=(o=c(n,"if").call(a,null!=t?c(t,"complete"):t,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.program(13,i,0),data:i,loc:{start:{line:20,column:6},end:{line:24,column:13}}}))?o:"")+"\n"+(null!=(o=c(n,"if").call(a,null!=t?c(t,"isStreamable"):t,{name:"if",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i,loc:{start:{line:26,column:6},end:{line:31,column:13}}}))?o:"")+'\n      <li class="meta-holder">\n'+(null!=(o=c(n,"if").call(a,null!=t?c(t,"dropboxFileExternalId"):t,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i,loc:{start:{line:34,column:8},end:{line:39,column:15}}}))?o:"")+"\n        "+l(s(null!=t?c(t,"fileInfo"):t,t))+" "+l(s(null!=t?c(t,"extension"):t,t))+"\n      </li>\n    </ul>\n  </div>\n\n"+(null!=(o=c(n,"if").call(a,null!=t?c(t,"isStreamable"):t,{name:"if",hash:{},fn:e.program(20,i,0),inverse:e.noop,data:i,loc:{start:{line:46,column:2},end:{line:53,column:9}}}))?o:"")+"</li>\n"},useData:!0})},function(e,t,n){var r=n(10);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template({1:function(e,t,r,o,a){return'          <li>\n            <i class="icn-subtitles js-upload-subtitles-trigger tippable" data-tipsy-gravity="w" title="'+e.escapeExpression(i(n(3)).call(null!=t?t:e.nullContext||{},"upload_subtitles",{name:"t",hash:{},data:a,loc:{start:{line:24,column:104},end:{line:24,column:128}}}))+'"></i>\n            <i class="icn-subtitles js-hide-upload-subtitles-trigger active tippable soft-hidden"></i>\n          </li>\n'},3:function(e,t,r,o,a){return'    <div class="subtitle-upload-drawer js-subtitle-upload-drawer soft-hidden">\n      <ul class="subtitle-list js-subtitle-list soft-hidden"></ul>\n      <a class="edit-uploader subtitle-upload-box js-subtitle-upload-box">\n        <span class="prompt">'+e.escapeExpression(i(n(3)).call(null!=t?t:e.nullContext||{},"upload_subtitle_file",{name:"t",hash:{},data:a,loc:{start:{line:39,column:29},end:{line:39,column:57}}}))+"</span>\n      </a>\n    </div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,r,o,a){var s,l=e.lambda,c=e.escapeExpression,u=null!=t?t:e.nullContext||{},d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="file-row-container js-file-subtitle-wrapper complete" data-existing-file-id="'+c(l(null!=t?d(t,"id"):t,t))+'" data-file-url="'+c(l(null!=t?d(t,"url"):t,t))+'">\n  <div class="file-row js-file-row relative showing-check last-in-file-wrapper">\n    <div class="uploading-bar rainbox-bar"></div>\n\n      <div class="file-row-left">\n        <i class="js-reorder-handle gi gi-hamburger soft-hidden"></i>\n\n        <div class="file-name js-file-name-holder">\n          <span class="js-file-name">'+c(l(null!=t?d(t,"name"):t,t))+'</span>\n          <i class="gi gi-pencil"></i>\n        </div>\n\n        <div class="file-name-form js-file-name-form soft-hidden">\n          <input type="text" class="file-name-input js-file-name-input" value="'+c(l(null!=t?d(t,"name"):t,t))+'" name="filename">\n          <button class="button-primary button-small js-change-file-name-trigger change-file-name-trigger"><i class="gi gi-check"></i></button>\n        </div>\n      </div>\n\n      <ul class="file-row-right">\n        <li><i class="remove-button js-remove-trigger tippable" data-tipsy-gravity="w" title="'+c(i(n(3)).call(u,"remove",{name:"t",hash:{},data:a,loc:{start:{line:20,column:94},end:{line:20,column:108}}}))+'"></i></li>\n\n'+(null!=(s=d(r,"if").call(u,null!=t?d(t,"isStreamable"):t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:22,column:8},end:{line:27,column:15}}}))?s:"")+'\n        <li class="meta-holder">\n          '+c(l(null!=t?d(t,"fileInfo"):t,t))+" "+c(l(null!=t?d(t,"extension"):t,t))+"\n        </li>\n      </ul>\n    </div>\n\n"+(null!=(s=d(r,"if").call(u,null!=t?d(t,"isStreamable"):t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a,loc:{start:{line:35,column:2},end:{line:42,column:9}}}))?s:"")+"</li>\n"},useData:!0})},function(e,t,n){var r=n(10);e.exports=(r.default||r).template({1:function(e,t,n,r,i){return"complete"},3:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <li><i class="remove-button js-remove-subtitle-trigger"></i></li>\n        <li>\n          <select class="subtitle-language-select js-subtitle-language-select">\n'+(null!=(o=d(n,"each").call(s,null!=t?d(t,"languages"):t,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i,loc:{start:{line:14,column:12},end:{line:16,column:21}}}))?o:"")+'          </select>\n        </li>\n        <li class="meta-holder">'+u(typeof(a=null!=(a=d(n,"fileInfo")||(null!=t?d(t,"fileInfo"):t))?a:l)===c?a.call(s,{name:"fileInfo",hash:{},data:i,loc:{start:{line:19,column:32},end:{line:19,column:44}}}):a)+" "+u(typeof(a=null!=(a=d(n,"extension")||(null!=t?d(t,"extension"):t))?a:l)===c?a.call(s,{name:"extension",hash:{},data:i,loc:{start:{line:19,column:45},end:{line:19,column:58}}}):a)+"</li>\n"},4:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'              <option value="'+u(typeof(a=null!=(a=d(n,"language")||(null!=t?d(t,"language"):t))?a:l)===c?a.call(s,{name:"language",hash:{},data:i,loc:{start:{line:15,column:29},end:{line:15,column:41}}}):a)+'" '+(null!=(o=d(n,"if").call(s,null!=t?d(t,"selected"):t,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i,loc:{start:{line:15,column:43},end:{line:15,column:85}}}))?o:"")+">"+u(typeof(a=null!=(a=d(n,"language")||(null!=t?d(t,"language"):t))?a:l)===c?a.call(s,{name:"language",hash:{},data:i,loc:{start:{line:15,column:86},end:{line:15,column:98}}}):a)+"</option>\n"},5:function(e,t,n,r,i){return'selected="selected"'},7:function(e,t,n,r,i){return'        <li><i class="remove-button js-cancel-subtitle-trigger"></i></li>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="subtitle-row-container js-subtitle-row '+(null!=(o=l(n,"if").call(s,null!=t?l(t,"complete"):t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:1,column:50},end:{line:1,column:81}}}))?o:"")+'">\n  <div class="subtitle-row relative">\n    <div class="uploading-bar rainbox-bar"></div>\n\n    <div class="subtitle-row-left">\n      '+e.escapeExpression("function"===typeof(a=null!=(a=l(n,"name")||(null!=t?l(t,"name"):t))?a:e.hooks.helperMissing)?a.call(s,{name:"name",hash:{},data:i,loc:{start:{line:6,column:6},end:{line:6,column:14}}}):a)+'\n    </div>\n\n    <ul class="subtitle-row-right">\n'+(null!=(o=l(n,"if").call(s,null!=t?l(t,"complete"):t,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.program(7,i,0),data:i,loc:{start:{line:10,column:6},end:{line:22,column:13}}}))?o:"")+"    </div>\n  </div>\n</li>"},useData:!0})},,,,,,,,,,,,,,,,,,function(e,t){!function(e){"use strict";var t={};function n(t){var n=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(this).ajaxSubmit(n))}function r(t){var n=t.target,r=e(n);if(!r.is("[type=submit],[type=image]")){var i=r.closest("[type=submit]");if(0===i.length)return;n=i[0]}var o=this;if(o.clk=n,"image"==n.type)if(void 0!==t.offsetX)o.clk_x=t.offsetX,o.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var a=r.offset();o.clk_x=t.pageX-a.left,o.clk_y=t.pageY-a.top}else o.clk_x=t.pageX-n.offsetLeft,o.clk_y=t.pageY-n.offsetTop;setTimeout((function(){o.clk=o.clk_x=o.clk_y=null}),100)}function i(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}t.fileapi=void 0!==e("<input type='file'/>").get(0).files,t.formdata=void 0!==window.FormData,e.fn.ajaxSubmit=function(n){if(!this.length)return i("ajaxSubmit: skipping submit process - no element selected"),this;var r,o,a,s=this;"function"==typeof n&&(n={success:n}),r=this.attr("method"),(a=(a="string"===typeof(o=this.attr("action"))?e.trim(o):"")||window.location.href||"")&&(a=(a.match(/^([^#]+)/)||[])[1]),n=e.extend(!0,{url:a,success:e.ajaxSettings.success,type:r||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},n);var l={};if(this.trigger("form-pre-serialize",[this,n,l]),l.veto)return i("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(n.beforeSerialize&&!1===n.beforeSerialize(this,n))return i("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var c=n.traditional;void 0===c&&(c=e.ajaxSettings.traditional);var u,d=[],f=this.formToArray(n.semantic,d);if(n.data&&(n.extraData=n.data,u=e.param(n.data,c)),n.beforeSubmit&&!1===n.beforeSubmit(f,this,n))return i("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[f,this,n,l]),l.veto)return i("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var h=e.param(f,c);u&&(h=h?h+"&"+u:u),"GET"==n.type.toUpperCase()?(n.url+=(n.url.indexOf("?")>=0?"&":"?")+h,n.data=null):n.data=h;var p=[];if(n.resetForm&&p.push((function(){s.resetForm()})),n.clearForm&&p.push((function(){s.clearForm(n.includeHidden)})),!n.dataType&&n.target){var m=n.success||function(){};p.push((function(t){var r=n.replaceTarget?"replaceWith":"html";e(n.target)[r](t).each(m,arguments)}))}else n.success&&p.push(n.success);n.success=function(e,t,r){for(var i=n.context||this,o=0,a=p.length;o<a;o++)p[o].apply(i,[e,t,r||s,s])};var g=e('input[type=file]:enabled[value!=""]',this).length>0,v="multipart/form-data",y=s.attr("enctype")==v||s.attr("encoding")==v,b=t.fileapi&&t.formdata;i("fileAPI :"+b);var w,_=(g||y)&&!b;!1!==n.iframe&&(n.iframe||_)?n.closeKeepAlive?e.get(n.closeKeepAlive,(function(){w=C(f)})):w=C(f):w=(g||y)&&b?function(t){var i=new FormData;if(n.extraData){var o=function(t){var n,r,i=e.param(t).split("&"),o=i.length,a={};for(n=0;n<o;n++)i[n]=i[n].replace(/\+/g," "),r=i[n].split("="),a[decodeURIComponent(r[0])]=decodeURIComponent(r[1]);return a}(n.extraData);for(var a in o)o.hasOwnProperty(a)&&i.append(a,o[a])}for(var s=0;s<t.length;s++)i.append(t[s].name,t[s].value);n.data=null;var l=e.extend(!0,{},e.ajaxSettings,n,{contentType:!1,processData:!1,cache:!1,type:r||"POST"});n.uploadProgress&&(l.xhr=function(){var e=jQuery.ajaxSettings.xhr();return e.upload&&(e.upload.onprogress=function(e){var t=0,r=e.loaded||e.position,i=e.total;e.lengthComputable&&(t=Math.ceil(r/i*100)),n.uploadProgress(e,r,i,t)}),e});l.data=null;var c=l.beforeSend;return l.beforeSend=function(e,t){t.data=i,c&&c.call(this,e,t)},e.ajax(l)}(f):e.ajax(n),s.removeData("jqxhr").data("jqxhr",w);for(var S=0;S<d.length;S++)d[S]=null;return this.trigger("form-submit-notify",[this,n]),this;function C(t){var o,a,l,c,u,f,h,p,m,g,v,y,b=s[0],w=!!e.fn.prop,_=e.Deferred();if(e("[name=submit],[id=submit]",b).length)return alert('Error: Form elements must not have name or id of "submit".'),_.reject(),_;if(t)for(a=0;a<d.length;a++)o=e(d[a]),w?o.prop("disabled",!1):o.removeAttr("disabled");if((l=e.extend(!0,{},e.ajaxSettings,n)).context=l.context||l,u="jqFormIO"+(new Date).getTime(),l.iframeTarget?(g=(f=e(l.iframeTarget)).attr("name"))?u=g:f.attr("name",u):(f=e('<iframe name="'+u+'" src="'+l.iframeSrc+'" />')).css({position:"absolute",top:"-1000px",left:"-1000px"}),h=f[0],p={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var n="timeout"===t?"timeout":"aborted";i("aborting upload... "+n),this.aborted=1;try{h.contentWindow.document.execCommand&&h.contentWindow.document.execCommand("Stop")}catch(r){}f.attr("src",l.iframeSrc),p.error=n,l.error&&l.error.call(l.context,p,n,t),c&&e.event.trigger("ajaxError",[p,l,n]),l.complete&&l.complete.call(l.context,p,n)}},(c=l.global)&&0===e.active++&&e.event.trigger("ajaxStart"),c&&e.event.trigger("ajaxSend",[p,l]),l.beforeSend&&!1===l.beforeSend.call(l.context,p,l))return l.global&&e.active--,_.reject(),_;if(p.aborted)return _.reject(),_;(m=b.clk)&&(g=m.name)&&!m.disabled&&(l.extraData=l.extraData||{},l.extraData[g]=m.value,"image"==m.type&&(l.extraData[g+".x"]=b.clk_x,l.extraData[g+".y"]=b.clk_y));function S(e){return e.contentWindow?e.contentWindow.document:e.contentDocument?e.contentDocument:e.document}var C=e("meta[name=csrf-token]").attr("content"),x=e("meta[name=csrf-param]").attr("content");function E(){var t=s.attr("target"),n=s.attr("action");b.setAttribute("target",u),r||b.setAttribute("method","POST"),n!=l.url&&b.setAttribute("action",l.url),l.skipEncodingOverride||r&&!/post/i.test(r)||s.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),l.timeout&&(y=setTimeout((function(){v=!0,O(1)}),l.timeout));var o=[];try{if(l.extraData)for(var a in l.extraData)l.extraData.hasOwnProperty(a)&&(e.isPlainObject(l.extraData[a])&&l.extraData[a].hasOwnProperty("name")&&l.extraData[a].hasOwnProperty("value")?o.push(e('<input type="hidden" name="'+l.extraData[a].name+'">').attr("value",l.extraData[a].value).appendTo(b)[0]):o.push(e('<input type="hidden" name="'+a+'">').attr("value",l.extraData[a]).appendTo(b)[0]));l.iframeTarget||(f.appendTo("body"),h.attachEvent?h.attachEvent("onload",O):h.addEventListener("load",O,!1)),setTimeout((function e(){try{var t=S(h).readyState;i("state = "+t),t&&"uninitialized"==t.toLowerCase()&&setTimeout(e,50)}catch(n){i("Server abort: ",n," (",n.name,")"),O(2),y&&clearTimeout(y),y=void 0}}),15),b.submit()}finally{b.setAttribute("action",n),t?b.setAttribute("target",t):s.removeAttr("target"),e(o).remove()}}x&&C&&(l.extraData=l.extraData||{},l.extraData[x]=C),l.forceSync?E():setTimeout(E,10);var P,k,T,A=50;function O(t){if(!p.aborted&&!T){try{k=S(h)}catch(b){i("cannot access response document: ",b),t=2}if(1===t&&p)return p.abort("timeout"),void _.reject(p,"timeout");if(2==t&&p)return p.abort("server abort"),void _.reject(p,"error","server abort");if(k&&k.location.href!=l.iframeSrc||v){h.detachEvent?h.detachEvent("onload",O):h.removeEventListener("load",O,!1);var n,r="success";try{if(v)throw"timeout";var o="xml"==l.dataType||k.XMLDocument||e.isXMLDoc(k);if(i("isXml="+o),!o&&window.opera&&(null===k.body||!k.body.innerHTML)&&--A)return i("requeing onLoad callback, DOM not available"),void setTimeout(O,250);var a=k.body?k.body:k.documentElement;p.responseText=a?a.innerHTML:null,p.responseXML=k.XMLDocument?k.XMLDocument:k,o&&(l.dataType="xml"),p.getResponseHeader=function(e){return{"content-type":l.dataType}[e]},a&&(p.status=Number(a.getAttribute("status"))||p.status,p.statusText=a.getAttribute("statusText")||p.statusText);var s=(l.dataType||"").toLowerCase(),u=/(json|script|text)/.test(s);if(u||l.textarea){var d=k.getElementsByTagName("textarea")[0];if(d)p.responseText=d.value,p.status=Number(d.getAttribute("status"))||p.status,p.statusText=d.getAttribute("statusText")||p.statusText;else if(u){var m=k.getElementsByTagName("pre")[0],g=k.getElementsByTagName("body")[0];m?p.responseText=m.textContent?m.textContent:m.innerText:g&&(p.responseText=g.textContent?g.textContent:g.innerText)}}else"xml"==s&&!p.responseXML&&p.responseText&&(p.responseXML=I(p.responseText));try{P=N(p,s,l)}catch(t){r="parsererror",p.error=n=t||r}}catch(t){i("error caught: ",t),r="error",p.error=n=t||r}p.aborted&&(i("upload aborted"),r=null),p.status&&(r=p.status>=200&&p.status<300||304===p.status?"success":"error"),"success"===r?(l.success&&l.success.call(l.context,P,"success",p),_.resolve(p.responseText,"success",p),c&&e.event.trigger("ajaxSuccess",[p,l])):r&&(void 0===n&&(n=p.statusText),l.error&&l.error.call(l.context,p,r,n),_.reject(p,"error",n),c&&e.event.trigger("ajaxError",[p,l,n])),c&&e.event.trigger("ajaxComplete",[p,l]),c&&!--e.active&&e.event.trigger("ajaxStop"),l.complete&&l.complete.call(l.context,p,r),T=!0,l.timeout&&clearTimeout(y),setTimeout((function(){l.iframeTarget||f.remove(),p.responseXML=null}),100)}}}var I=e.parseXML||function(e,t){return window.ActiveXObject?((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},j=e.parseJSON||function(e){return window.eval("("+e+")")},N=function(t,n,r){var i=t.getResponseHeader("content-type")||"",o="xml"===n||!n&&i.indexOf("xml")>=0,a=o?t.responseXML:t.responseText;return o&&"parsererror"===a.documentElement.nodeName&&e.error&&e.error("parsererror"),r&&r.dataFilter&&(a=r.dataFilter(a,n)),"string"===typeof a&&("json"===n||!n&&i.indexOf("json")>=0?a=j(a):("script"===n||!n&&i.indexOf("javascript")>=0)&&e.globalEval(a)),a};return _}},e.fn.ajaxForm=function(t){if((t=t||{}).delegation=t.delegation&&e.isFunction(e.fn.on),!t.delegation&&0===this.length){var o={s:this.selector,c:this.context};return!e.isReady&&o.s?(i("DOM not ready, queuing ajaxForm"),e((function(){e(o.s,o.c).ajaxForm(t)})),this):(i("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return t.delegation?(e(document).off("submit.form-plugin",this.selector,n).off("click.form-plugin",this.selector,r).on("submit.form-plugin",this.selector,t,n).on("click.form-plugin",this.selector,t,r),this):this.ajaxFormUnbind().bind("submit.form-plugin",t,n).bind("click.form-plugin",t,r)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(n,r){var i=[];if(0===this.length)return i;var o,a,s,l,c,u,d,f=this[0],h=n?f.getElementsByTagName("*"):f.elements;if(!h)return i;for(o=0,u=h.length;o<u;o++)if(s=(c=h[o]).name)if(n&&f.clk&&"image"==c.type)c.disabled||f.clk!=c||(i.push({name:s,value:e(c).val(),type:c.type}),i.push({name:s+".x",value:f.clk_x},{name:s+".y",value:f.clk_y}));else if((l=e.fieldValue(c,!0))&&l.constructor==Array)for(r&&r.push(c),a=0,d=l.length;a<d;a++)i.push({name:s,value:l[a]});else if(t.fileapi&&"file"==c.type&&!c.disabled){r&&r.push(c);var p=c.files;if(p.length)for(a=0;a<p.length;a++)i.push({name:s,value:p[a],type:c.type});else i.push({name:s,value:"",type:c.type})}else null!==l&&"undefined"!=typeof l&&(r&&r.push(c),i.push({name:s,value:l,type:c.type,required:c.required}));if(!n&&f.clk){var m=e(f.clk),g=m[0];(s=g.name)&&!g.disabled&&"image"==g.type&&(i.push({name:s,value:m.val()}),i.push({name:s+".x",value:f.clk_x},{name:s+".y",value:f.clk_y}))}return i},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var n=[];return this.each((function(){var r=this.name;if(r){var i=e.fieldValue(this,t);if(i&&i.constructor==Array)for(var o=0,a=i.length;o<a;o++)n.push({name:r,value:i[o]});else null!==i&&"undefined"!=typeof i&&n.push({name:this.name,value:i})}})),e.param(n)},e.fn.fieldValue=function(t){for(var n=[],r=0,i=this.length;r<i;r++){var o=this[r],a=e.fieldValue(o,t);null===a||"undefined"==typeof a||a.constructor==Array&&!a.length||(a.constructor==Array?e.merge(n,a):n.push(a))}return n},e.fieldValue=function(t,n){var r=t.name,i=t.type,o=t.tagName.toLowerCase();if(void 0===n&&(n=!0),n&&(!r||t.disabled||"reset"==i||"button"==i||("checkbox"==i||"radio"==i)&&!t.checked||("submit"==i||"image"==i)&&t.form&&t.form.clk!=t||"select"==o&&-1==t.selectedIndex))return null;if("select"==o){var a=t.selectedIndex;if(a<0)return null;for(var s=[],l=t.options,c="select-one"==i,u=c?a+1:l.length,d=c?a:0;d<u;d++){var f=l[d];if(f.selected){var h=f.value;if(h||(h=f.attributes&&f.attributes.value&&!f.attributes.value.specified?f.text:f.value),c)return h;s.push(h)}}return s}return e(t).val()},e.fn.clearForm=function(t){return this.each((function(){e("input,select,textarea",this).clearFields(t)}))},e.fn.clearFields=e.fn.clearInputs=function(t){var n=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each((function(){var r=this.type,i=this.tagName.toLowerCase();n.test(r)||"textarea"==i?this.value="":"checkbox"==r||"radio"==r?this.checked=!1:"select"==i?this.selectedIndex=-1:"file"==r?e.browser.msie?e(this).replaceWith(e(this).clone()):e(this).val(""):t&&(!0===t&&/hidden/.test(r)||"string"==typeof t&&e(this).is(t))&&(this.value="")}))},e.fn.resetForm=function(){return this.each((function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()}))},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each((function(){this.disabled=!e}))},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each((function(){var n=this.type;if("checkbox"==n||"radio"==n)this.checked=t;else if("option"==this.tagName.toLowerCase()){var r=e(this).parent("select");t&&r[0]&&"select-one"==r[0].type&&r.find("option").selected(!1),this.selected=t}}))},e.fn.ajaxSubmit.debug=!1}(jQuery)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r=n(10);e.exports=(r.default||r).template({1:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <div class="image-preview-container">\n    <img class="preview" src="'+e.escapeExpression("function"===typeof(a=null!=(a=l(n,"url")||(null!=t?l(t,"url"):t))?a:e.hooks.helperMissing)?a.call(s,{name:"url",hash:{},data:i,loc:{start:{line:3,column:30},end:{line:3,column:39}}}):a)+'" itemprop="image"'+(null!=(o=l(n,"if").call(s,null!=t?l(t,"width"):t,{name:"if",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i,loc:{start:{line:3,column:57},end:{line:3,column:111}}}))?o:"")+"></img>\n  </div>\n"},2:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return' style="max-width: '+e.escapeExpression("function"===typeof(o=null!=(o=a(n,"width")||(null!=t?a(t,"width"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"width",hash:{},data:i,loc:{start:{line:3,column:89},end:{line:3,column:100}}}):o)+'px;"'},4:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <div class="oembed-preview-container">\n    <iframe class="js-oembed-iframe" data-oembed-url="'+e.escapeExpression("function"===typeof(o=null!=(o=a(n,"url")||(null!=t?a(t,"url"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"url",hash:{},data:i,loc:{start:{line:9,column:54},end:{line:9,column:63}}}):o)+'" allowfullscreen="true" frameborder="0"></iframe>\n  </div>\n'},6:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <div class="video-preview-container js-video-player-container" data-playlist="'+e.escapeExpression("function"===typeof(a=null!=(a=l(n,"playlist")||(null!=t?l(t,"playlist"):t))?a:e.hooks.helperMissing)?a.call(s,{name:"playlist",hash:{},data:i,loc:{start:{line:14,column:80},end:{line:14,column:94}}}):a)+'">\n    <div id="video-player" class="js-player"></div>\n'+(null!=(o=l(n,"if").call(s,null!=t?l(t,"disallowPreviewPlayback"):t,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i,loc:{start:{line:16,column:4},end:{line:18,column:11}}}))?o:"")+"  </div>\n"},7:function(e,t,n,r,i){return'      <div class="preview-playback-overlay"></div>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,i){var o,a=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=s(n,"if").call(a,null!=t?s(t,"image_preview"):t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:1,column:0},end:{line:5,column:7}}}))?o:"")+"\n"+(null!=(o=s(n,"if").call(a,null!=t?s(t,"oembed_preview"):t,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i,loc:{start:{line:7,column:0},end:{line:11,column:7}}}))?o:"")+"\n"+(null!=(o=s(n,"if").call(a,null!=t?s(t,"video_preview"):t,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i,loc:{start:{line:13,column:0},end:{line:20,column:7}}}))?o:"")},useData:!0})},function(e,t,n){"use strict";var r,i;r=[n(2),n(81),n(273)],void 0===(i=function(e,t,n){return e((function(){this.defaultAttrs({productSelector:".product",productContainerSelector:".js-product-card",archiveSelector:".js-archive-button",creatorLinkClassName:"js-creator-profile-link",productLinkClassName:"js-show-product-page-trigger",libraryClassName:".library",productActionsSelector:".js-actions",previewContainerSelector:".js-preview-container",productActionsContainerSelector:".js-selected-product-actions"}),this.showProductActions=function(){this.trigger("showLibraryProduct",{purchase_id:this.attr.purchaseId})},this.toggleArchiveProduct=function(e){e&&e.stopPropagation(),this.attr.purchaseId=this.select("productSelector").data("purchase-id"),this.select("productSelector").parents(this.attr.productContainerSelector).addClass("disabled"),this.trigger("toggleArchive",{purchase_id:this.attr.purchaseId,is_archived:!this.attr.showArchivedOnly})},this.onToggleArchiveSuccess=function(e,t){var n=this;if(this.attr.purchaseId===t.purchase_id){this.select("productSelector").parents(this.attr.productContainerSelector).fadeOut(500),setTimeout((function(){n.select("productSelector").parents(n.attr.productContainerSelector).remove()}),600);var r=I18n.t(t.is_archived?"js.product_archived":"js.product_unarchived");this.trigger("uiNeedsToSetHasArchivedProducts",{value:!0}),this.trigger("uiToAdjustResultCount",{increment:!1}),this.trigger("uiShowFlashMessage",{message:r})}},this.onToggleArchiveFailure=function(e,t){this.attr.purchaseId===t.purchase_id&&(this.select("productSelector").parents(this.attr.productContainerSelector).removeClass("disabled"),this.trigger("uiShowFlashMessage",{message:I18n.t("js.error_placeholder")}))},this.renderProductActions=function(e,t){this.attr.purchaseId===t.purchase_id&&(this.select("productActionsContainerSelector").html(t.productNode),n.attachTo(this.attr.productActionsSelector))},this.after("initialize",(function(){this.$node.addClass("image-as-background"),this.attr.purchaseId=this.select("productSelector").data("purchase-id"),this.on(document,"uiNeedsToShowToggleArchiveSuccess",this.onToggleArchiveSuccess),this.on(document,"uiNeedsToShowToggleArchiveFailure",this.onToggleArchiveFailure),this.on("click",{archiveSelector:this.toggleArchiveProduct}),this.on("hover",{productContainerSelector:this.showProductActions}),this.on(document,"uiNeedsToShowLibraryProductActions",this.renderProductActions)}))}),t)}.apply(t,r))||(e.exports=i)},function(e,t,n){var r=n(117),i=n(519),o=n(520);e.exports=function(e,t){return o(e,i(r(t)))}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}},function(e,t,n){var r=n(266),i=n(117),o=n(521),a=n(526);e.exports=function(e,t){if(null==e)return{};var n=r(a(e),(function(e){return[e]}));return t=i(t),o(e,n,(function(e,n){return t(e,n[0])}))}},function(e,t,n){var r=n(162),i=n(522),o=n(122);e.exports=function(e,t,n){for(var a=-1,s=t.length,l={};++a<s;){var c=t[a],u=r(e,c);n(u,c)&&i(l,o(c,e),u)}return l}},function(e,t,n){var r=n(523),i=n(122),o=n(159),a=n(64),s=n(99);e.exports=function(e,t,n,l){if(!a(e))return e;for(var c=-1,u=(t=i(t,e)).length,d=u-1,f=e;null!=f&&++c<u;){var h=s(t[c]),p=n;if("__proto__"===h||"constructor"===h||"prototype"===h)return e;if(c!=d){var m=f[h];void 0===(p=l?l(m,h,f):void 0)&&(p=a(m)?m:o(t[c+1])?[]:{})}r(f,h,p),f=f[h]}return e}},function(e,t,n){var r=n(524),i=n(155),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(525);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(71),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},function(e,t,n){var r=n(254),i=n(527),o=n(529);e.exports=function(e){return r(e,o,i)}},function(e,t,n){var r=n(255),i=n(528),o=n(256),a=n(257),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s},function(e,t,n){var r=n(263)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(258),i=n(530),o=n(161);e.exports=function(e){return o(e)?r(e,!0):i(e)}},function(e,t,n){var r=n(64),i=n(262),o=n(531),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t){e.exports=function(e){return null==e}},function(e,t,n){var r=n(10);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,i){var o,a=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="filter-filetype '+c(typeof(o=null!=(o=u(n,"filetypesSelectorClass")||(null!=t?u(t,"filetypesSelectorClass"):t))?o:s)===l?o.call(a,{name:"filetypesSelectorClass",hash:{},data:i,loc:{start:{line:1,column:28},end:{line:1,column:56}}}):o)+'" data-filetype="'+c(typeof(o=null!=(o=u(n,"name")||(null!=t?u(t,"name"):t))?o:s)===l?o.call(a,{name:"name",hash:{},data:i,loc:{start:{line:1,column:73},end:{line:1,column:83}}}):o)+'">\n  <input class="'+c(typeof(o=null!=(o=u(n,"filetypesInputSelectorClass")||(null!=t?u(t,"filetypesInputSelectorClass"):t))?o:s)===l?o.call(a,{name:"filetypesInputSelectorClass",hash:{},data:i,loc:{start:{line:2,column:16},end:{line:2,column:49}}}):o)+'" type="checkbox" id="filetype_'+c(typeof(o=null!=(o=u(n,"name")||(null!=t?u(t,"name"):t))?o:s)===l?o.call(a,{name:"name",hash:{},data:i,loc:{start:{line:2,column:80},end:{line:2,column:90}}}):o)+'" data-filetype="'+c(typeof(o=null!=(o=u(n,"name")||(null!=t?u(t,"name"):t))?o:s)===l?o.call(a,{name:"name",hash:{},data:i,loc:{start:{line:2,column:107},end:{line:2,column:117}}}):o)+'" '+c(typeof(o=null!=(o=u(n,"isFiletypeCheckedAttr")||(null!=t?u(t,"isFiletypeCheckedAttr"):t))?o:s)===l?o.call(a,{name:"isFiletypeCheckedAttr",hash:{},data:i,loc:{start:{line:2,column:119},end:{line:2,column:146}}}):o)+'>\n  <label class="for-checkbox" for="filetype_'+c(typeof(o=null!=(o=u(n,"name")||(null!=t?u(t,"name"):t))?o:s)===l?o.call(a,{name:"name",hash:{},data:i,loc:{start:{line:3,column:44},end:{line:3,column:54}}}):o)+'">\n    .'+c(typeof(o=null!=(o=u(n,"name")||(null!=t?u(t,"name"):t))?o:s)===l?o.call(a,{name:"name",hash:{},data:i,loc:{start:{line:4,column:5},end:{line:4,column:15}}}):o)+'\n    <span class="count">\n      '+c(typeof(o=null!=(o=u(n,"count")||(null!=t?u(t,"count"):t))?o:s)===l?o.call(a,{name:"count",hash:{},data:i,loc:{start:{line:6,column:6},end:{line:6,column:17}}}):o)+"\n    </span>\n  </label>\n</div>\n"},useData:!0})},function(e,t,n){var r=n(10);e.exports=(r.default||r).template({1:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"      "+e.escapeExpression("function"===typeof(o=null!=(o=a(n,"name")||(null!=t?a(t,"name"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"name",hash:{},data:i,loc:{start:{line:5,column:6},end:{line:5,column:16}}}):o)+"\n"},3:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"username"):t,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(6,i,0),data:i,loc:{start:{line:6,column:4},end:{line:10,column:4}}}))?o:""},4:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"      "+e.escapeExpression("function"===typeof(o=null!=(o=a(n,"username")||(null!=t?a(t,"username"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"username",hash:{},data:i,loc:{start:{line:7,column:6},end:{line:7,column:20}}}):o)+"\n"},6:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"      "+e.escapeExpression("function"===typeof(o=null!=(o=a(n,"id")||(null!=t?a(t,"id"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"id",hash:{},data:i,loc:{start:{line:9,column:6},end:{line:9,column:14}}}):o)+"\n    "},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="filter-creator '+u(typeof(a=null!=(a=d(n,"creatorSelectorClass")||(null!=t?d(t,"creatorSelectorClass"):t))?a:l)===c?a.call(s,{name:"creatorSelectorClass",hash:{},data:i,loc:{start:{line:1,column:27},end:{line:1,column:53}}}):a)+'" data-id="'+u(typeof(a=null!=(a=d(n,"id")||(null!=t?d(t,"id"):t))?a:l)===c?a.call(s,{name:"id",hash:{},data:i,loc:{start:{line:1,column:64},end:{line:1,column:72}}}):a)+'">\n  <input class="'+u(typeof(a=null!=(a=d(n,"creatorInputSelectorClass")||(null!=t?d(t,"creatorInputSelectorClass"):t))?a:l)===c?a.call(s,{name:"creatorInputSelectorClass",hash:{},data:i,loc:{start:{line:2,column:16},end:{line:2,column:47}}}):a)+'" type="checkbox" id="creator_'+u(typeof(a=null!=(a=d(n,"id")||(null!=t?d(t,"id"):t))?a:l)===c?a.call(s,{name:"id",hash:{},data:i,loc:{start:{line:2,column:77},end:{line:2,column:85}}}):a)+'" data-id="'+u(typeof(a=null!=(a=d(n,"id")||(null!=t?d(t,"id"):t))?a:l)===c?a.call(s,{name:"id",hash:{},data:i,loc:{start:{line:2,column:96},end:{line:2,column:104}}}):a)+'" '+u(typeof(a=null!=(a=d(n,"isCreatorCheckedAttr")||(null!=t?d(t,"isCreatorCheckedAttr"):t))?a:l)===c?a.call(s,{name:"isCreatorCheckedAttr",hash:{},data:i,loc:{start:{line:2,column:106},end:{line:2,column:132}}}):a)+'>\n  <label class="for-checkbox" for="creator_'+u(typeof(a=null!=(a=d(n,"id")||(null!=t?d(t,"id"):t))?a:l)===c?a.call(s,{name:"id",hash:{},data:i,loc:{start:{line:3,column:43},end:{line:3,column:51}}}):a)+'">\n'+(null!=(o=d(n,"if").call(s,null!=t?d(t,"name"):t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.program(3,i,0),data:i,loc:{start:{line:4,column:4},end:{line:10,column:11}}}))?o:"")+'\n    <span class="count">\n      '+u(typeof(a=null!=(a=d(n,"count")||(null!=t?d(t,"count"):t))?a:l)===c?a.call(s,{name:"count",hash:{},data:i,loc:{start:{line:13,column:6},end:{line:13,column:17}}}):a)+"\n    </span>\n  </label>\n</div>\n"},useData:!0})},,,function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(15),o=n(12),a=n(43),s=n(88),l=n(60);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(){this.defaultAttrs({bundleDataHydrateDataSelector:".js-bundle-data-hydrate-holder",bundleCheckoutStore:void 0}),this.performBundleCheckoutAction=function(e){this.attr.bundleCheckoutStore.dispatch(e)},this.getIsForBundle=function(){return!0},this.getHasVariants=function(){return!1},this.getIsSingleUnit=function(){return null},this.getIsRecurringBilling=function(){return!1},this.getZeroPlusEnabled=function(){return!1},this.getCustomizedPriceCentsAfterDiscount=function(){return null},this.getNumberOfProductsInBundle=function(){var e=this.attr.bundleCheckoutStore.getState();return i.g.getAllProducts(e).length},this.getUidsOfProductsInBundle=function(){var e=this.attr.bundleCheckoutStore.getState();return i.g.getAllProducts(e).map((function(e){var t=c(e,2),n=t[0];t[1];return n.uid}))},this.getFirstProductPermalink=function(){var e=this.attr.bundleCheckoutStore.getState(),t=i.g.getAllProducts(e)[0];if(null==t)return"";var n=c(t,2);n[0];return n[1].permalink},this.getHasProductsWithShipping=function(){var e=this.attr.bundleCheckoutStore.getState();return i.g.getAllProducts(e).filter((function(e){var t=c(e,2),n=t[0];t[1];return n.shippingRequired})).length>0},this.getHasProductsWithRecurringBilling=function(){var e=this.attr.bundleCheckoutStore.getState();return i.g.getAllProducts(e).some((function(e){var t=c(e,2);t[0];return t[1].isRecurringBilling}))},this.getHasProductsForPreorder=function(){var e=this.attr.bundleCheckoutStore.getState();return i.g.getAllProducts(e).some((function(e){var t=c(e,2);t[0];return t[1].isPreorder}))},this.getCanBeGifted=function(){var e=this.attr.bundleCheckoutStore.getState();return i.g.getAllProducts(e).every((function(e){var t=c(e,2),n=(t[0],t[1]);return!n.isPreorder&&!n.isRecurringBilling}))},this.getIsSingleUnitForExternalId=function(e){var t=this.attr.bundleCheckoutStore.getState(),n=i.g.maybeFindProductByExternalId(t,e);if(null==n)return!1;var r=c(n,2);r[0];return r[1].currency.is_single_unit},this.getIsFreeProductForUid=function(e){var t=this.attr.bundleCheckoutStore.getState(),n=o.g.findProductEntryMaybe(t.paymentState,e);return null!=n&&(0===n.surchargeData.totalPriceCentsBeforeShipping&&0===n.surchargeData.totalShippingCents)},this.getPermalinkForUid=function(e){var t=this.attr.bundleCheckoutStore.getState(),n=o.g.forceFindProductEntry(t.paymentState,e);if(null==n)throw new Error("Invalid product UID");return n.permalink},this.getProductNameForUid=function(e){var t=this.attr.bundleCheckoutStore.getState(),n=i.g.maybeFindProduct(t,e);if(null==n)throw new Error("Invalid product UID");var r=c(n,2);r[0];return r[1].name},this.getFormattedPriceWithCurrencyForUid=function(e){var t=this.attr.bundleCheckoutStore.getState(),n=c(i.g.forceFindProduct(t,e),2),r=n[0];return n[1].currency.currency_symbol+r.formattedPrice},this.getBundleUrlParams=function(){return JSON.parse(this.select("urlParamsSelector").val())},this.initiatePriceInformationUpdate=function(){var e=this,t=this.attr.bundleCheckoutStore.getState();i.g.getAllProducts(t).forEach((function(t){var n=c(t,2),r=(n[0],n[1]);e.trigger("uiNeedsProductCustomerSurcharge",{externalId:r.externalId,permalink:r.permalink,priceCents:r.perceivedCents,quantity:r.quantity,sellerId:r.sellerId,postalCode:r.isPhysical?e.select("zipCodeSelector").val():"",country:r.isPhysical?e.select("countrySelector").val():e.getTaxCountry(),vatId:e.getVatID(),isPhysical:r.isPhysical,isTaxExclusive:r.isTaxedExclusively,isPartOfBundle:!0})}))},this.totalBundlePriceCents=function(){return this.attr.bundleCheckoutStore.getState().paymentState.computed.sumUsdSurchargeData.totalPriceCentsBeforeShipping},this.getTotalShippingCents=function(){var e=this.attr.bundleCheckoutStore.getState();return o.g.getTotalShippingInUSDCents(e.paymentState)},this.getWhetherActuallyWasCharged=function(){var e=this.attr.bundleCheckoutStore.getState();return i.g.getAllProducts(e).reduce((function(e,t){var n=c(t,2),r=n[0];return e+(n[1].isPreorder?0:r.price)}),0)>0},this.getIsFreePurchase=function(){return i.g.getIsFreePurchase(this.attr.bundleCheckoutStore.getState())},this.getVatID=function(){return o.g.getVATID(this.attr.bundleCheckoutStore.getState().paymentState)},this.getTaxCountry=function(){return o.g.getTaxCountry(this.attr.bundleCheckoutStore.getState().paymentState)},this.getIsNativePaypalPaymentDisabled=function(){var e=this.attr.bundleCheckoutStore.getState();return i.g.getAllProducts(e).some((function(e){var t=c(e,2),n=t[0];t[1];return!n.supportsNativePaypalPayment}))},this.validateCustomFields=function(){return!!i.g.getAreCustomFieldsValid(this.attr.bundleCheckoutStore.getState())||(this.trigger("uiForceCheckoutComponentValidation",{}),!1)},this.updateCustomerSurchargeForBundle=function(e,t){var n=this.attr.bundleCheckoutStore.getState(),r=i.g.maybeFindProductByPermalink(n,t.permalink);if(null!=r){var o=c(r,2),s=o[0];o[1];this.performBundleCheckoutAction({type:"pass-through-payment-action",action:{type:"receive-surcharge-data-for-product",productUid:s.uid,surchargeData:Object(a.c)(t)}})}},this.resetBundledProductListBeforeRetry=function(){this.performBundleCheckoutAction({type:"reset-bundle-list-to-retry"})},this.addProductToBundleList=function(e,t){var n=this;this.performBundleCheckoutAction({type:"add-product-to-bundle-list",product:t.product});var r=t.overlayOfferCodeName;r&&setTimeout((function(){n.performBundleCheckoutAction({type:"pass-through-payment-action",action:{type:"set-offer-code-from-query-params",offerCodeName:r}})}),200)},this.resetBundleListToEmpty=function(){this.performBundleCheckoutAction({type:"reset-bundle-list-to-empty"})},this.serializeProductInBundleCheckoutForPayment=function(e){return Object(i.h)(e,this.attr.bundleCheckoutStore.getState())},this.initializeBundleCheckoutState=function(){var e=this,t=this.select("bundleDataHydrateDataSelector");if(null==t)throw new Error("Hydration data is missing for bundle");var n=t.data("bundle-data"),o=Object(i.f)(n);if(r.c(o))throw new Error("Hydration data is missing for bundle");var a=Object(i.e)(o),c=Object(i.i)({flightComponent:this,stateGetter:function(){return e.attr.bundleCheckoutStore.getState()},stateDispatch:function(t){return e.performBundleCheckoutAction(t)}}).effectRunner;this.attr.bundleCheckoutStore=Object(s.a)(a,i.c,Object(l.a)((function(t){var n=t.onAction,r=t.onChanged;c({onAction:n,onChanged:r}),r((function(e){return e}),"reference",(function(){e.trigger(document,"uiSyncCheckoutBundleState",{state:e.attr.bundleCheckoutStore.getState()})}))}))),this.on(document,"uiPerformBundleCheckoutStateAction",(function(t,n){t.preventDefault(),e.performBundleCheckoutAction(n.action)}))},this.after("initialize",(function(){var e=this;this.initializeBundleCheckoutState(),this.on(document,"dataCustomerSurchargeForBundle",this.updateCustomerSurchargeForBundle),this.on(document,"addProductToBundle",this.addProductToBundleList),this.on(document,"uiNeedsToResetBundledList",this.resetBundledProductListBeforeRetry),this.on(document,"uiNeedsToGetPersistentBundle",(function(){e.performBundleCheckoutAction({type:"fetch-persistent-bundle"})})),this.on(document,"uiNeedsToRemoveProductFromPersistentBundle",(function(t,n){e.performBundleCheckoutAction({type:"remove-product-from-persistent-bundle",productUid:n.uid})})),this.on(document,"uiBundledProductPaymentCompleted",(function(t,n){n.success&&e.performBundleCheckoutAction({type:"remove-product-from-persistent-bundle",productUid:n.uid})}))}))}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(184),o=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var s=60109,l=60110,c=60112;t.Suspense=60113;var u=60115,d=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;o=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),s=f("react.provider"),l=f("react.context"),c=f("react.forward_ref"),t.Suspense=f("react.suspense"),u=f("react.memo"),d=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==r(e)&&"function"!==typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,i(w,v.prototype),w.isPureReactComponent=!0;var _={current:null},S=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,r)&&!C.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:_.current}}function E(e){return"object"===r(e)&&null!==e&&e.$$typeof===o}var P=/\/+/g;function k(e,t){return"object"===r(e)&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,i,s){var l=r(e);"undefined"!==l&&"boolean"!==l||(e=null);var c=!1;if(null===e)c=!0;else switch(l){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case o:case a:c=!0}}if(c)return s=s(c=e),e=""===i?"."+k(c,0):i,Array.isArray(s)?(n="",null!=e&&(n=e.replace(P,"$&/")+"/"),T(s,t,n,"",(function(e){return e}))):null!=s&&(E(s)&&(s=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,n+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(P,"$&/")+"/")+e)),t.push(s)),1;if(c=0,i=""===i?".":i+":",Array.isArray(e))for(var u=0;u<e.length;u++){var d=i+k(l=e[u],u);c+=T(l,t,n,d,s)}else if("function"===typeof(d=function(e){return null===e||"object"!==r(e)?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e)))for(e=d.call(e),u=0;!(l=e.next()).done;)c+=T(l=l.value,t,n,d=i+k(l,u++),s);else if("object"===l)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return c}function A(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var I={current:null};function j(){var e=I.current;if(null===e)throw Error(p(321));return e}var N={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:_,IsSomeRendererActing:{current:!1},assign:i};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(p(143));return e}},t.Component=v,t.PureComponent=b,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(p(267,e));var r=i({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)S.call(t,u)&&!C.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];r.children=c}return{$$typeof:o,type:e.type,key:a,ref:s,props:r,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:l,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return j().useCallback(e,t)},t.useContext=function(e,t){return j().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return j().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return j().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return j().useLayoutEffect(e,t)},t.useMemo=function(e,t){return j().useMemo(e,t)},t.useReducer=function(e,t,n){return j().useReducer(e,t,n)},t.useRef=function(e){return j().useRef(e)},t.useState=function(e){return j().useState(e)},t.version="17.0.1"},function(e,t,n){"use strict";var r,i;r=[n(45),n(24),n(540),n(31),n(79),n(541)],void 0===(i=function(e,t,n,r,i,o){return function(){r.mixin(this,[e,t,n]),this.defaultAttrs({envelopeSelector:".envelope",emailFieldsSelector:".envelope input[type=email]",emailSelector:".envelope input[name=email]",emailConfirmContainerSelector:".js-email-confirm-tool-tip",emailConfirmTriggerSelector:".js-confirm-email-trigger",emailDenyTriggerSelector:".js-deny-email-trigger",giftTriggerSelector:".gift-trigger",giftSignifierSelector:'input[name="is_gift"]',giftElementSelector:".gift-element",gifteeEmailSelector:".envelope input[name=giftee_email]",shippingInfoSelector:".shipping_information",shippingInformationSelector:".js-shipping-information-container",keepOnFileHolderSelector:".js-keep-on-file-holder",countrySelector:".purchase_country",streetSelector:".purchase_street_address",citySelector:".purchase_city",stateSelectorDropDown:"select.purchase_state",stateSelectorText:"input.purchase_state",zipCodeSelector:".purchase_zip_code",shippingFields:["street_address","zip_code","state","city","country"],stateInputName:"purchase[state]",shippingAddressVerifySelector:".js-shipping-address-tool-tip",streetAddressUpdateTriggerSelector:".js-street-address-post-trigger",shippingAddressConfirmTriggerSelector:".js-shipping-address-confirm-trigger",shippingRateHolderSelector:".js-shipping-rate-holder",shippingAddressMessageSelector:".js-shipping-address-message",shippingAddressFormattingSuggestionSelector:".js-shipping-address-formatting-suggestion",shippingRateSelector:".js-shipping-rate-info",shippingFormNoun:"purchase",usingStateDropdown:!1,hasVerifiedShippingAddress:!1,shippingAddressVerificationResult:".js-shipping-address-verification-result",addressSuggestion:"",addressFieldForSuggestionSelector:"",suggestedAddressResponse:{}}),this.checkEmailForTypos=function(){var e=this.select("emailSelector"),t=this;o.run({email:e.val(),domains:["126.com","163.com","21cn.com","alice.it","aliyun.com","aol.com","aol.it","arnet.com.ar","att.net","bellsouth.net","blueyonder.co.uk","bol.com.br","bt.com","btinternet.com","charter.net","comcast.net","cox.net","daum.net","earthlink.net","email.com","email.it","facebook.com","fastmail.fm","fibertel.com.ar","foxmail.com","free.fr","freeserve.co.uk","games.com","globo.com","globomail.com","gmail.com","gmx.com","gmx.de","gmx.fr","gmx.net","google.com","googlemail.com","hanmail.net","hey.com","hotmail.be","hotmail.co.uk","hotmail.com","hotmail.com.ar","hotmail.com.br","hotmail.com.mx","hotmail.de","hotmail.es","hotmail.fr","hotmail.it","hush.com","hushmail.com","icloud.com","ig.com.br","iname.com","inbox.com","itelefonica.com.br","juno.com","keemail.me","laposte.net","lavabit.com","libero.it","list.ru","live.be","live.co.uk","live.com","live.com.ar","live.com.mx","live.de","live.fr","live.it","love.com","mac.com","mail.com","mail.ru","me.com","msn.com","nate.com","naver.com","neuf.fr","ntlworld.com","o2.co.uk","oi.com.br","online.de","orange.fr","orange.net","outlook.com","outlook.com.br","pobox.com","poste.it","prodigy.net.mx","protonmail.ch","protonmail.com","qq.com","r7.com","rambler.ru","rocketmail.com","safe-mail.net","sbcglobal.net","sfr.fr","sina.cn","sina.com","sky.com","skynet.be","speedy.com.ar","t-online.de","talktalk.co.uk","telenet.be","teletu.it","terra.com.br","tin.it","tiscali.co.uk","tiscali.it","tuta.io","tutamail.com","tutanota.com","tutanota.de","tvcablenet.be","uol.com.br","verizon.net","virgilio.it","virgin.net","virginmedia.com","voo.be","wanadoo.co.uk","wanadoo.fr","web.de","wow.com","ya.ru","yahoo.co.id","yahoo.co.in","yahoo.co.jp","yahoo.co.kr","yahoo.co.uk","yahoo.com","yahoo.com.ar","yahoo.com.br","yahoo.com.mx","yahoo.com.ph","yahoo.com.sg","yahoo.de","yahoo.fr","yahoo.it","yandex.com","yandex.ru","yeah.net","ygm.com","ymail.com","zipmail.com.br","zoho.com"],suggested:function(e){void 0!==e&&(t.select("emailConfirmContainerSelector").find("span").text(I18n.t("js.email_confirm_paragraph",{email:e.full})),t.select("emailConfirmTriggerSelector").data("suggestion",e.full),t.select("emailConfirmContainerSelector").addClass("showing"))}})},this.handleEmailChange=function(){this.select("emailSelector").val(this.select("emailSelector").val().toLowerCase())},this.confirmEmail=function(e){e.preventDefault(),this.select("emailSelector").val(this.select("emailConfirmTriggerSelector").data("suggestion")),this.select("emailConfirmContainerSelector").removeClass("showing")},this.denyEmail=function(e){e.preventDefault(),this.select("emailConfirmContainerSelector").removeClass("showing")},this.setEmail=function(){var e=this.select("emailSelector");e.val(e.val()||this.getUrlParams().email||this.attr.user.purchase&&this.attr.user.purchase.email||this.attr.user.email||"")},this.validateEmailsIfNotAutoFill=function(){return this.validateEmails(this.select("emailFieldsSelector"))},this.showAddressVerify=function(e){this.select("shippingAddressVerifySelector").show(),this.trigger("uiAnimatePaymentFormHeight",{animate:!1})},this.hideAddressVerify=function(){this.select("shippingAddressVerifySelector").hide(),this.resetAddressUpdateAndConfirmButtons(),this.attr.addressFieldForSuggestionSelector&&this.select("addressFieldForSuggestionSelector").removeClass("error"),this.trigger("uiAnimatePaymentFormHeight",{animate:!1})},this.resetAddressUpdateAndConfirmButtons=function(){this.select("shippingAddressConfirmTriggerSelector").addClass("button-primary").removeClass("button-default").text(I18n.t("js.yes_it_is")),this.select("streetAddressUpdateTriggerSelector").hide()},this.updateHasVerifiedShippingAddress=function(e,t){this.attr.hasVerifiedShippingAddress=e,t||(t=e?I18n.t("js.shipping_address_verification_successful"):""),this.select("shippingAddressVerificationResult").text(t),this.attr.paymentRequestAvailable&&this.validateFormForPaymentRequest()},this.shippingAddressChanged=function(){this.updateHasVerifiedShippingAddress(!1)},this.buildShippingAddressVerificationPayload=function(){return{street_address:this.select("streetSelector").val(),city:this.select("citySelector").val(),state:this.usingStateDropdown?this.select("stateSelectorDropDown").val():this.select("stateSelectorText").val(),zip_code:this.select("zipCodeSelector").val(),country:this.select("countrySelector").val()}},this.verifyShippingAddress=function(){return this.hideAddressVerify(),!!(this.attr.hasVerifiedShippingAddress||0==this.select("streetSelector").length||!this.select("streetSelector").is(":visible")||!this.select("streetSelector").hasClass("required"))||(this.select("shippingAddressVerificationResult").text(I18n.t("js.shipping_address_verification_pending")),this.trigger("uiNeedsToVerifyShippingAddress",{shipping_data:this.buildShippingAddressVerificationPayload()}),!1)},this.verifiedShippingAddress=function(e,t){this.select("streetSelector").val(t.street_address),this.select("citySelector").val(t.city),this.select("stateSelectorText").val(t.state),this.select("zipCodeSelector").val(t.zip_code),this.updateHasVerifiedShippingAddress(!0),this.continueWithPayment()},this.unverifiedShippingAddress=function(e,t){t.easypost_verification_required?(this.select("streetAddressUpdateTriggerSelector").show(),this.select("shippingAddressConfirmTriggerSelector").addClass("button-default").removeClass("button-primary").text(I18n.t("js.no_and_continue")),this.select("shippingAddressMessageSelector").addClass("hidden"),this.attr.suggestedAddressResponse=t,this.select("shippingAddressFormattingSuggestionSelector").html(I18n.t("js.shipping_address_formatting_suggestion",{original_address:t.formatted_original_address,suggested_address:t.formatted_address}))):this.select("shippingAddressMessageSelector").text(t.error_message),t.suggestion&&(this.setAddressFieldErrorAndSuggestion(t),this.select("streetAddressUpdateTriggerSelector").show(),this.select("shippingAddressConfirmTriggerSelector").addClass("button-default").removeClass("button-primary").text(I18n.t("js.no_and_continue"))),this.showAddressVerify(t),this.trigger("uiShouldResetPayButton")},this.shippingAddressVerificationTimeout=function(){this.updateHasVerifiedShippingAddress(!0,I18n.t("js.shipping_address_verification_timeout")),this.continueWithPayment()},this.setAddressFieldErrorAndSuggestion=function(e){switch(this.attr.addressSuggestion=e.suggestion,e.error_field){case"street":this.attr.addressFieldForSuggestionSelector=this.attr.streetSelector;break;case"city":this.attr.addressFieldForSuggestionSelector=this.attr.citySelector;break;case"state":this.attr.addressFieldForSuggestionSelector=this.attr.stateSelector;break;case"zip_code":this.attr.addressFieldForSuggestionSelector=this.attr.zipCodeSelector;break;case"country":this.attr.addressFieldForSuggestionSelector=this.attr.countrySelector}this.select("addressFieldForSuggestionSelector").addClass("error")},this.updateStreetAddress=function(e){if(e.preventDefault(),this.attr.suggestedAddressResponse.street_address){var t=this.attr.suggestedAddressResponse,n=t.street_address,r=t.city,i=t.state,o=t.zip_code;this.select("streetSelector").val(n),this.select("zipCodeSelector").val(o),this.select("stateSelectorText").val(i),this.select("citySelector").val(r),this.confirmShippingAddress(e)}return this.select("addressFieldForSuggestionSelector").val(this.attr.addressSuggestion),this.hideAddressVerify(),!1},this.confirmShippingAddress=function(e){return e.preventDefault(),this.hideAddressVerify(),this.updateHasVerifiedShippingAddress(!0),this.getIsForBundle()?this.initiateValidationForProductBundle():"paymentRequestButton"!==this.attr.lastClickedPayButton&&this.payIfAllowed(),!1},this.continueWithPayment=function(){this.getIsForBundle()?this.makePaymentForProductBundle():this.attr.onUserProfile||"paymentRequestButton"===this.attr.lastClickedPayButton||this.makePayment()},this.setShippingInfo=function(){if(this.attr.user.detected_country&&(this.select("countrySelector").val(this.attr.user.detected_country),null!=this.attr.user.detected_state&&this.currentStateField().val(this.attr.user.detected_state)),this.attr.user.shipping_information)for(var e=0;e<this.attr.shippingFields.length;e++){var t=this.attr.shippingFields[e];$(".purchase_"+t).val(this.attr.user.shipping_information[t])}this.attr.user.is_logged_in||this.select("keepOnFileHolderSelector").remove(),this.changeCountry()},this.unsetShippingInfo=function(){this.select("countrySelector").val("");for(var e=0;e<this.attr.shippingFields.length;e++){var t=this.attr.shippingFields[e];$(".purchase_"+t).val("")}},this.showShippingInputs=function(){this.select("shippingInformationSelector").show()},this.hideShippingInputs=function(){this.select("shippingInformationSelector").hide()},this.toggleGiftPaymentForm=function(e){return e&&e.preventDefault(),this.attr.isProcessingPayment||("true"===this.select("giftSignifierSelector").val()?this.hideGiftInputs():this.showGiftInputs(),this.attr.onProductPage&&this.switchToPaymentForm(!0)),!1},this.showGiftInputs=function(){this.select("giftTriggerSelector").addClass("active"),this.select("giftSignifierSelector").val(!0),this.select("envelopeSelector").show(),this.select("giftElementSelector").show(),this.unsetShippingInfo()},this.hideGiftInputs=function(){this.select("giftTriggerSelector").removeClass("active"),this.select("giftSignifierSelector").val(!1),this.select("giftElementSelector").hide(),this.setShippingInfo()},this.updateShippingRate=function(e){null!=e?(this.select("shippingRateHolderSelector").addClass("has-shipping-rate"),this.select("shippingRateSelector").text("+ "+e)):this.select("shippingRateHolderSelector").removeClass("has-shipping-rate")},this.changeCountry=function(){this.updateStateAndZipCode(),this.scheduleUpdateCustomerSurcharge()},this.scheduleUpdateCustomerSurcharge=function(){this.trigger("uiShouldDisablePayButton"),i(function(){this.trigger("uiNeedsCustomerSurcharge")}.bind(this),1e3)},this.after("initialize",(function(){this.updateStateAndZipCode(),this.attr.isMobile&&this.select("envelopeSelector").addClass("small"),this.on("change",{countrySelector:this.changeCountry,emailSelector:this.handleEmailChange,streetSelector:this.shippingAddressChanged,citySelector:this.shippingAddressChanged,stateSelectorDropDown:this.shippingAddressChanged,stateSelectorText:this.shippingAddressChanged,zipCodeSelector:this.shippingAddressChanged}),this.on("paste keyup",{zipCodeSelector:this.scheduleUpdateCustomerSurcharge}),this.on("focusout",{emailSelector:this.checkEmailForTypos}),this.on("click",{giftTriggerSelector:this.toggleGiftPaymentForm,shippingAddressConfirmTriggerSelector:this.confirmShippingAddress,streetAddressUpdateTriggerSelector:this.updateStreetAddress,emailConfirmTriggerSelector:this.confirmEmail,emailDenyTriggerSelector:this.denyEmail}),this.on(document,"dataVerifyShippingAddressSuccessful",this.verifiedShippingAddress),this.on(document,"dataVerifyShippingAddressFail",this.unverifiedShippingAddress),this.on(document,"dataVerifyShippingAddressTimeout",this.shippingAddressVerificationTimeout)}))}}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r;void 0===(r=function(){return function(){this.defaultAttrs({statePlaceholder:[I18n.t("js.state"),I18n.t("js.county")],zipCodePlaceholder:[I18n.t("js.zip_code"),I18n.t("js.postal")],multiColumnHolderSelector:".js-multi-column-holder"}),this.currentStateField=function(){return this.attr.usingStateDropdown?this.select("stateSelectorDropDown"):this.select("stateSelectorText")},this.updateStateAndZipCode=function(){var e=this.select("countrySelector").val(),t="United States"==e||"Philippines"==e?0:1,n=this.currentStateField(),r=this.select("zipCodeSelector");n.attr({placeholder:this.attr.statePlaceholder[t]}),r.attr({placeholder:this.attr.zipCodePlaceholder[t]}),"United States"==e?this.useStateDropdown():this.useStateTextBox()},this.useStateDropdown=function(){this.usingStateDropdown=!0,this.select("stateSelectorDropDown").show().attr("name",this.attr.stateInputName).addClass("required"),this.select("stateSelectorText").hide().attr("name","").removeClass("required"),this.select("multiColumnHolderSelector").removeClass("no-dropdown")},this.useStateTextBox=function(){this.usingStateDropdown=!1,this.select("stateSelectorDropDown").hide().attr("name","").removeClass("required"),this.select("stateSelectorText").show().attr("name",this.attr.shippingFormNoun+"[state]").addClass("required"),this.select("multiColumnHolderSelector").addClass("no-dropdown"),"purchase"==this.attr.shippingFormNoun&&this.select("stateSelectorText").val("")},this.after("initialize",(function(){this.on(document,"uiNeedsToUpdateStateAndZipCode",this.updateStateAndZipCode)}))}}.apply(t,[]))||(e.exports=r)},function(e,t,n){var r,i={domainThreshold:2,secondLevelThreshold:2,topLevelThreshold:2,defaultDomains:["msn.com","bellsouth.net","telus.net","comcast.net","optusnet.com.au","earthlink.net","qq.com","sky.com","icloud.com","mac.com","sympatico.ca","googlemail.com","att.net","xtra.co.nz","web.de","cox.net","gmail.com","ymail.com","aim.com","rogers.com","verizon.net","rocketmail.com","google.com","optonline.net","sbcglobal.net","aol.com","me.com","btinternet.com","charter.net","shaw.ca"],defaultSecondLevelDomains:["yahoo","hotmail","mail","live","outlook","gmx"],defaultTopLevelDomains:["com","com.au","com.tw","ca","co.nz","co.uk","de","fr","it","ru","net","org","edu","gov","jp","nl","kr","se","eu","ie","co.il","us","at","be","dk","hk","es","gr","ch","no","cz","in","net","net.au","info","biz","mil","co.jp","sg","hu"],run:function(e){e.domains=e.domains||i.defaultDomains,e.secondLevelDomains=e.secondLevelDomains||i.defaultSecondLevelDomains,e.topLevelDomains=e.topLevelDomains||i.defaultTopLevelDomains,e.distanceFunction=e.distanceFunction||i.sift3Distance;var t=function(e){return e},n=e.suggested||t,r=e.empty||t,o=i.suggest(i.encodeEmail(e.email),e.domains,e.secondLevelDomains,e.topLevelDomains,e.distanceFunction);return o?n(o):r()},suggest:function(e,t,n,r,i){e=e.toLowerCase();var o=this.splitEmail(e);if(n&&r&&-1!==n.indexOf(o.secondLevelDomain)&&-1!==r.indexOf(o.topLevelDomain))return!1;if(l=this.findClosestDomain(o.domain,t,i,this.domainThreshold))return l!=o.domain&&{address:o.address,domain:l,full:o.address+"@"+l};var a=this.findClosestDomain(o.secondLevelDomain,n,i,this.secondLevelThreshold),s=this.findClosestDomain(o.topLevelDomain,r,i,this.topLevelThreshold);if(o.domain){var l=o.domain,c=!1;if(a&&a!=o.secondLevelDomain&&(l=l.replace(o.secondLevelDomain,a),c=!0),s&&s!=o.topLevelDomain&&(l=l.replace(o.topLevelDomain,s),c=!0),1==c)return{address:o.address,domain:l,full:o.address+"@"+l}}return!1},findClosestDomain:function(e,t,n,r){var i;r=r||this.topLevelThreshold;var o=99,a=null;if(!e||!t)return!1;n||(n=this.sift3Distance);for(var s=0;s<t.length;s++){if(e===t[s])return e;(i=n(e,t[s]))<o&&(o=i,a=t[s])}return o<=r&&null!==a&&a},sift3Distance:function(e,t){if(null==e||0===e.length)return null==t||0===t.length?0:t.length;if(null==t||0===t.length)return e.length;for(var n=0,r=0,i=0,o=0;n+r<e.length&&n+i<t.length;){if(e.charAt(n+r)==t.charAt(n+i))o++;else{r=0,i=0;for(var a=0;a<5;a++){if(n+a<e.length&&e.charAt(n+a)==t.charAt(n)){r=a;break}if(n+a<t.length&&e.charAt(n)==t.charAt(n+a)){i=a;break}}}n++}return(e.length+t.length)/2-o},splitEmail:function(e){var t=e.trim().split("@");if(t.length<2)return!1;for(var n=0;n<t.length;n++)if(""===t[n])return!1;var r=t.pop(),i=r.split("."),o="",a="";if(0==i.length)return!1;if(1==i.length)a=i[0];else{o=i[0];for(n=1;n<i.length;n++)a+=i[n]+".";a=a.substring(0,a.length-1)}return{topLevelDomain:a,secondLevelDomain:o,domain:r,address:t.join("@")}},encodeEmail:function(e){var t=encodeURI(e);return t=t.replace("%20"," ").replace("%25","%").replace("%5E","^").replace("%60","`").replace("%7B","{").replace("%7C","|").replace("%7D","}")}};e.exports&&(e.exports=i),void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r),"undefined"!==typeof window&&window.jQuery&&(jQuery.fn.mailcheck=function(e){var t=this;if(e.suggested){var n=e.suggested;e.suggested=function(e){n(t,e)}}if(e.empty){var r=e.empty;e.empty=function(){r.call(null,t)}}e.email=this.val(),i.run(e)})},function(e,t,n){var r=n(10);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,i){return'<p class="js-cc_zipcode_p cc-zipcode-p">\n  <input type=\'hidden\' value=\'true\' name=\'cc_zipcode_required\' class=\'js-cc-zipcode-required\'>\n  <label for="cc_zipcode" class=\'js-cc_zipcode_label\'></label>\n  <input type="text" x-autocompletetype="cc-zip" name="cc_zipcode" class="js-cc_zipcode cc-zipcode" />\n</p>'},useData:!0})},function(e,t,n){"use strict";var r,i;r=[n(2)],void 0===(i=function(e){return e((function(){this.defaultAttrs({cardDataHandlingMode:null}),this.prepareCardData=function(e,t){var n={cardParams:{card_data_handling_mode:this.attr.cardDataHandlingMode}};"undefined"!==typeof t.associatedData&&(n.associatedData=t.associatedData);var r={"stripejs.0":this.prepareCardDataStripeJs_0},i=this.attr.cardDataHandlingMode.split(",")[0];return"undefined"!==typeof r[i]&&r[i].call(this,t,n),!1},this.prepareCardDataStripeJs_0=function(e,t){var n=this,r={address_zip:"undefined"===typeof e.cardData.zipCode?"":e.cardData.zipCode,currency:"usd"};window.grStripe.createToken(e.cardData.cardNumber,r).then((function(r){n.stripeTokenHandler(r,e.cardData.cardNumber,t)})).catch((function(e){console.log("error",e)}))},this.stripeTokenHandler=function(e,t,n){e.error?n.cardParams.stripe_error=e.error:(n.cardParams.stripe_token=e.token.id,n.cardParams.card_country=e.token.card.country,n.cardParams.card_country_source=$('meta[property="gr:stripe:card_country_source"]').attr("value")),this.trigger("dataCardPrepared",n)},this.after("initialize",(function(){this.on("uiNeedsCardPrepared",this.prepareCardData)}))}))}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(545),n(552),n(31)],void 0===(i=function(e,t,n){return function(){n.mixin(this,[e,t]),this.setupPayPalImplementations=function(e,t){var n=this.$node.parents("body#discover-page").length>0&&this.$node.hasClass("js-product-row");!t.clientToken&&this.attr.nativePayPalPaymentDisabled||n||(this.isNativePayPalPaymentEnabled()&&this.setupPayPalNativeImplementation(),t.clientToken&&this.setupPayPalBraintreeImplementation(t.clientToken),this.attr.paypalInitialized=!0,this.enablePayPalButton())},this.handleBraintreePaypalButtonClick=function(e){return e&&e.preventDefault(),this.attr.savedPayPalCardInUse?(this.setupPaymentFormForPayPalPayment(),!1):(this.attr.implementationInUse=this.attr.PayPalImplementations.BRAINTREE,this.initiateBraintreePayPalPayment(),!1)},this.preparePayPalPayment=function(e){if(this.attr.savedPayPalCardInUse)e({});else switch(this.attr.implementationInUse){case this.attr.PayPalImplementations.NATIVE:this.prepareNativePayPalPayment(e);break;case this.attr.PayPalImplementations.BRAINTREE:this.prepareBraintreePayPalPayment(e)}},this.setupPaymentFormForPayPalPayment=function(e,t){if(this.attr.payingWithPayPal=!0,t&&"paypalBuyerEmail"in t&&this.setPayPalEmail(t.paypalBuyerEmail),this.enablePayPalButton(),!this.select("showPaypalCardSelector").hasClass("showing-paypal")){this.select("showPaypalCardSelector").addClass("showing-paypal"),this.attr.savedPayPalCardInUse&&this.setCreditCardFormState("saved"),this.setRequiredFromCardFields(!1),this.select("rememberedSelector").hide();var n=this.attr.paypalBuyerEmail;this.select("customerPayPalEmailContainerSelector").text(n),this.select("showPaypalCardSelector").addClass("showing-paypal"),this.select("paymentFormSelector").length&&(this.setPaymentFormHeight(this.select("paymentFormSelector").outerHeight()-58),setTimeout(function(){this.trigger("uiAnimatePaymentFormHeight",{animate:!0})}.bind(this),500))}},this.resetPayPalPayment=function(e,t){this.resetBraintreePayPalPayment(),this.resetNativePayPalPayment(),this.cancelPayWithPaypal()},this.resetPayPalPaymentForPriceChange=function(){this.attr.implementationInUse==this.attr.PayPalImplementations.NATIVE&&this.resetPayPalPayment()},this.cancelPayWithPaypal=function(e){e&&e.preventDefault(),this.attr.paypalCancelButtonDisabled||(this.attr.payingWithPayPal=!1,this.attr.savedPayPalCardInUse&&(this.setCreditCardFormState("new"),this.isCardSaveRequired()||(this.attr.savedPayPalCardInUse=!1)),this.enablePayPalButton(),this.trigger("uiShouldResetPayButton"),this.setRequiredFromCardFields(!0),this.select("showPaypalCardSelector").removeClass("showing-paypal"),this.attr.onProductPage||this.attr.onOverlayPage?this.showStripeElements(".js-product #card-number",".js-product #card-expiry",".js-product #card-cvc"):this.showStripeElements(),this.select("paymentFormSelector").length&&(this.setPaymentFormHeight(this.select("paymentFormSelector").outerHeight()+58),this.trigger("uiAnimatePaymentFormHeight",{animate:!0})))},this.enablePayPalButton=function(){this.attr.paypalInitialized&&(this.isNativePayPalPaymentEnabled()?this.showNativePaypalButton():this.showBraintreePaypalButton(),this.select("placeholderCardIconSelector").hide(),this.select("payWithPayPalPromptSelector").show(),this.select("defaultCreditCardIconSelector").show(),this.select("orPayWithSelector").show(),this.select("payPalLoadingIndicatorSelector").hide())},this.showBraintreePaypalButton=function(){this.select("grNativePaypalButtonSelector").hide(),this.select("grBraintreePaypalButtonSelector").show()},this.showNativePaypalButton=function(){this.select("grBraintreePaypalButtonSelector").hide(),this.select("grNativePaypalButtonSelector").show()},this.disablePayPalButton=function(){this.select("grPaypalButtonSelector").hide(),this.select("orPayWithSelector").hide(),this.select("payPalLoadingIndicatorSelector").show()},this.payingWithPayPal=function(){return this.attr.payingWithPayPal},this.setPayPalEmail=function(e){this.attr.paypalBuyerEmail=e,this.select("customerPayPalEmailContainerSelector").text(this.attr.paypalBuyerEmail)},this.setSavedPayPalCardInUse=function(e){this.attr.payingWithPayPal=!0,this.attr.savedPayPalCardInUse=!0,this.setPayPalEmail(e),this.select("showPaypalCardSelector").addClass("showing-paypal")},this.after("initialize",(function(){if("true"!=$('meta[property="gr:paypal:pay_with_paypal_enabled"]').attr("value"))return this.select("payPalLoadingIndicatorSelector").remove(),void this.select("defaultCreditCardIconSelector").show();this.attr.PayPalImplementations={NATIVE:"native",BRAINTREE:"braintree"},this.on("click",{cancelPayWithPaypalTrigger:this.cancelPayWithPaypal,grBraintreePaypalButtonSelector:this.handleBraintreePaypalButtonClick}),this.on(document,"dataPurchaseFail",this.resetPayPalPayment),this.on(document,"dataBraintreeClientToken",this.setupPayPalImplementations),this.on(this.node,"uiTotalPriceCentsChanged",this.resetPayPalPaymentForPriceChange),this.on(this.node,"uiHasAuthorizedPayPalBuyer",this.setupPaymentFormForPayPalPayment),this.attr.onDiscoverPage||this.attr.onProductPage||this.attr.onOverlayPage||this.trigger("uiNeedsBraintreeClientTokenFetched",{isOverlay:this.attr.isOverlay,isMultiBuyEnabled:this.attr.onMultiOverlay||this.attr.isMultiBuyEnabled})}))}}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(546),n(548),n(549),n(550),n(551),n(51)],void 0===(i=function(e,t,n,r,i,o){return function(){this.setupPayPalBraintreeImplementation=function(t){e.create({authorization:t,singleUse:!1,container:this.select("actualBraintreePayPalContainerSelector"),paymentMethodNonceInputField:this.select("braintreeNonceFieldSelector")},this.braintreeClientCreationCallback.bind(this))},this.braintreeClientCreationCallback=function(e,r){e||(t.create({client:r},this.paypalInstanceCreationCallback.bind(this)),n.create({client:r,kount:{environment:o.isProduction()?"production":"sandbox"},paypal:!0},this.dataCollectorCallback.bind(this)))},this.paypalInstanceCreationCallback=function(e,t){e||(this.paypalInstance=t,this.paypalButton.onclick=this.onPaypalButtonClick.bind(this))},this.onPaypalButtonClick=function(){this.paypalButton.onclick=null,this.paypalInstance.tokenize({flow:"vault"},this.paypalTokeniationCallback.bind(this))},this.paypalTokeniationCallback=function(e,t){this.paypalButton.onclick=this.onPaypalButtonClick.bind(this),e?this.trigger("uiShowFlashMessage",{message:I18n.t("js.native_paypal_incompatibility_detected_retry_purchase")}):(this.attr.braintreePaymentNonce=t.nonce,this.select("braintreeNonceFieldSelector").val(t.nonce),this.select("actualPayPalDataEmailSelector").text(t.details.email),this.handleBraintreePaypalButtonClick())},this.dataCollectorCallback=function(e,t){e||(this.attr.deviceData=t.deviceData)},this.initiateBraintreePayPalPayment=function(){null!=this.attr.braintreeTransientCustomerStoreKey?this.trigger(this.node,"uiHasAuthorizedPayPalBuyer"):this.attr.braintreePaymentNonce?this.handlePayPalNonce(this.attr.braintreePaymentNonce):this.trigger("uiNeedsToHideVatCountrySelector")},this.handlePayPalNonce=function(e){this.attr.braintreePaymentNonce=e,this.trigger(this.node,"uiHasAuthorizedPayPalBuyer",{paypalBuyerEmail:this.select("actualPayPalDataEmailSelector").text()})},this.handleTransientClientToken=function(e,t){this.attr.braintreeTransientCustomerStoreKey=t.transient_customer_store_key,t.callback&&t.callback(this.getBraintreePayPalCardParams())},this.prepareBraintreePayPalPayment=function(e){var t=this.attr.braintreePaymentNonce||$(this.attr.braintreeNonceFieldSelector).val();t&&this.trigger("uiNeedsBraintreeTransientCustomerTokenFetched",{braintreeNonce:t,callback:e})},this.getBraintreePayPalCardParams=function(){return{cardParams:{braintree_transient_customer_store_key:this.attr.braintreeTransientCustomerStoreKey,braintree_device_data:this.attr.deviceData}}},this.resetBraintreePayPalPayment=function(){this.attr.braintreePaymentNonce=null,this.attr.braintreeTransientCustomerStoreKey=null},this.after("initialize",(function(){r.attachTo(this.$node),i.attachTo(this.$node),this.paypalButton=this.select("actualPayPalButton")[0],this.on(this.node,"dataBraintreeTransientCustomerToken",this.handleTransientClientToken)}))}}.apply(t,r))||(e.exports=i)},function(e,t,n){(function(n){var r,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return i(t[a][1][e]||e)}),c,c.exports,e,t,n,r)}return n[a].exports}for(var o=!1,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.PromiseGlobal=void 0;var i=r(e("promise-polyfill")),o="undefined"!==typeof Promise?Promise:i.default;n.PromiseGlobal=o},{"promise-polyfill":15}],2:[function(e,t,n){"use strict";var r=e("./lib/promise"),i={};function o(e){var t,n=JSON.stringify(e);if(!e.forceScriptReload&&(t=i[n]))return t;var o=document.createElement("script"),a=e.dataAttributes||{},s=e.container||document.head;return o.src=e.src,o.id=e.id||"",o.async=!0,e.crossorigin&&o.setAttribute("crossorigin",""+e.crossorigin),Object.keys(a).forEach((function(e){o.setAttribute("data-"+e,""+a[e])})),t=new r.PromiseGlobal((function(t,n){o.addEventListener("load",(function(){t(o)})),o.addEventListener("error",(function(){n(new Error(e.src+" failed to load."))})),o.addEventListener("abort",(function(){n(new Error(e.src+" has aborted."))})),s.appendChild(o)})),i[n]=t,t}o.clearCache=function(){i={}},t.exports=o},{"./lib/promise":1}],3:[function(e,t,n){t.exports=e("./dist/load-script")},{"./dist/load-script":2}],4:[function(e,t,n){"use strict";var r=e("./is-ie11");t.exports=function(e){return-1!==(e=e||window.navigator.userAgent).indexOf("MSIE")||r(e)}},{"./is-ie11":5}],5:[function(e,t,n){"use strict";t.exports=function(e){return-1!==(e=e||window.navigator.userAgent).indexOf("Trident/7")}},{}],6:[function(e,t,n){"use strict";t.exports=function(e){return-1!==(e=e||window.navigator.userAgent).indexOf("MSIE 9")}},{}],7:[function(e,t,n){t.exports=e("./dist/is-ie")},{"./dist/is-ie":4}],8:[function(e,t,n){t.exports=e("./dist/is-ie9")},{"./dist/is-ie9":6}],9:[function(e,t,n){"use strict";var r="undefined"!==typeof Promise?Promise:null,i=function(){function e(t){var n=this;"function"!==typeof t?(this._promise=new e.Promise((function(e,t){n._resolveFunction=e,n._rejectFunction=t})),t=t||{},this._onResolve=t.onResolve||e.defaultOnResolve,this._onReject=t.onReject||e.defaultOnReject,e.shouldCatchExceptions(t)&&this._promise.catch((function(){})),this._resetState()):this._promise=new e.Promise(t)}return e.defaultOnResolve=function(t){return e.Promise.resolve(t)},e.defaultOnReject=function(t){return e.Promise.reject(t)},e.setPromise=function(t){e.Promise=t},e.shouldCatchExceptions=function(t){return t.hasOwnProperty("suppressUnhandledPromiseMessage")?Boolean(t.suppressUnhandledPromiseMessage):Boolean(e.suppressUnhandledPromiseMessage)},e.all=function(t){return e.Promise.all(t)},e.allSettled=function(t){return e.Promise.allSettled(t)},e.race=function(t){return e.Promise.race(t)},e.reject=function(t){return e.Promise.reject(t)},e.resolve=function(t){return e.Promise.resolve(t)},e.prototype.then=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this._promise).then.apply(e,t)},e.prototype.catch=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this._promise).catch.apply(e,t)},e.prototype.resolve=function(t){var n=this;return this.isFulfilled||(this._setResolved(),e.Promise.resolve().then((function(){return n._onResolve(t)})).then((function(e){n._resolveFunction(e)})).catch((function(e){n._resetState(),n.reject(e)}))),this},e.prototype.reject=function(t){var n=this;return this.isFulfilled||(this._setRejected(),e.Promise.resolve().then((function(){return n._onReject(t)})).then((function(e){n._setResolved(),n._resolveFunction(e)})).catch((function(e){return n._rejectFunction(e)}))),this},e.prototype._resetState=function(){this.isFulfilled=!1,this.isResolved=!1,this.isRejected=!1},e.prototype._setResolved=function(){this.isFulfilled=!0,this.isResolved=!0,this.isRejected=!1},e.prototype._setRejected=function(){this.isFulfilled=!0,this.isResolved=!1,this.isRejected=!0},e.Promise=r,e}();t.exports=i},{}],10:[function(e,t,n){"use strict";t.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}},{}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.deferred=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];setTimeout((function(){try{e.apply(void 0,t)}catch(n){console.log("Error in callback function"),console.log(n)}}),1)}}},{}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.once=function(e){var t=!1;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];t||(t=!0,e.apply(void 0,n))}}},{}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.promiseOrCallback=function(e,t){if(!t)return e;e.then((function(e){return t(null,e)})).catch((function(e){return t(e)}))}},{}],14:[function(e,t,n){"use strict";var r=e("./lib/deferred"),i=e("./lib/once"),o=e("./lib/promise-or-callback");function a(e){return function(){for(var t,n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var s=n[n.length-1];return"function"===typeof s&&(t=n.pop(),t=i.once(r.deferred(t))),o.promiseOrCallback(e.apply(this,n),t)}}a.wrapPrototype=function(e,t){void 0===t&&(t={});var n=t.ignoreMethods||[],r=!0===t.transformPrivateMethods;return Object.getOwnPropertyNames(e.prototype).filter((function(t){var i,o="constructor"!==t&&"function"===typeof e.prototype[t],a=-1===n.indexOf(t);return i=!!r||"_"!==t.charAt(0),o&&i&&a})).forEach((function(t){var n=e.prototype[t];e.prototype[t]=a(n)})),e},t.exports=a},{"./lib/deferred":11,"./lib/once":12,"./lib/promise-or-callback":13}],15:[function(e,t,r){"use strict";var i=setTimeout;function o(e){return Boolean(e&&"undefined"!==typeof e.length)}function a(){}function l(e){if(!(this instanceof l))throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(e,this)}function c(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,l._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(i){return void d(t.promise,i)}u(t.promise,r)}else(1===e._state?u:d)(t.promise,e._value)}))):e._deferreds.push(t)}function u(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===s(t)||"function"===typeof t)){var n=t.then;if(t instanceof l)return e._state=3,e._value=t,void f(e);if("function"===typeof n)return void p((r=n,i=t,function(){r.apply(i,arguments)}),e)}e._state=1,e._value=t,f(e)}catch(o){d(e,o)}var r,i}function d(e,t){e._state=2,e._value=t,f(e)}function f(e){2===e._state&&0===e._deferreds.length&&l._immediateFn((function(){e._handled||l._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)c(e,e._deferreds[t]);e._deferreds=null}function h(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function p(e,t){var n=!1;try{e((function(e){n||(n=!0,u(t,e))}),(function(e){n||(n=!0,d(t,e))}))}catch(r){if(n)return;n=!0,d(t,r)}}l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){var n=new this.constructor(a);return c(this,new h(e,t,n)),n},l.prototype.finally=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))},l.all=function(e){return new l((function(t,n){if(!o(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function a(e,o){try{if(o&&("object"===s(o)||"function"===typeof o)){var l=o.then;if("function"===typeof l)return void l.call(o,(function(t){a(e,t)}),n)}r[e]=o,0===--i&&t(r)}catch(c){n(c)}}for(var l=0;l<r.length;l++)a(l,r[l])}))},l.resolve=function(e){return e&&"object"===s(e)&&e.constructor===l?e:new l((function(t){t(e)}))},l.reject=function(e){return new l((function(t,n){n(e)}))},l.race=function(e){return new l((function(t,n){if(!o(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=e.length;r<i;r++)l.resolve(e[r]).then(t,n)}))},l._immediateFn="function"===typeof n&&function(e){n(e)}||function(e){i(e,0)},l._unhandledRejectionFn=function(e){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.exports=l},{}],16:[function(e,t,n){"use strict";var r=e("@braintree/browser-detection/is-ie"),i=e("@braintree/browser-detection/is-ie9");t.exports={isIe:r,isIe9:i}},{"@braintree/browser-detection/is-ie":7,"@braintree/browser-detection/is-ie9":8}],17:[function(e,t,n){"use strict";var r=e("./constants").BRAINTREE_VERSION,i=e("./request/graphql"),o=e("./request"),a=e("../lib/is-verified-domain"),s=e("../lib/braintree-error"),l=e("../lib/convert-to-braintree-error"),c=e("./get-configuration").getConfiguration,u=e("../lib/create-authorization-data"),d=e("../lib/add-metadata"),f=e("../lib/promise"),h=e("@braintree/wrap-promise"),p=e("../lib/once"),m=e("../lib/deferred"),g=e("../lib/assign").assign,v=e("../lib/analytics"),y=e("./errors"),b=e("../lib/constants").VERSION,w=e("../lib/constants").GRAPHQL_URLS,_=e("../lib/methods"),S=e("../lib/convert-methods-to-error"),C=e("../lib/assets"),x=e("../lib/constants").FRAUDNET_FNCLS,E=e("../lib/constants").FRAUDNET_SOURCE,P=e("../lib/constants").FRAUDNET_URL,k={};function T(e){var t,n;if(e=e||{},t=JSON.stringify(e),!(n=e.gatewayConfiguration))throw new s(y.CLIENT_MISSING_GATEWAY_CONFIGURATION);["assetsUrl","clientApiUrl","configUrl"].forEach((function(e){if(e in n&&!a(n[e]))throw new s({type:y.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,code:y.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,message:e+" property is on an invalid domain."})})),this.getConfiguration=function(){return JSON.parse(t)},this._request=o,this._configuration=this.getConfiguration(),this._clientApiBaseUrl=n.clientApiUrl+"/v1/",n.graphQL&&(this._graphQL=new i({graphQL:n.graphQL}))}T.initialize=function(e){var t,n,r=k[e.authorization];if(r)return v.sendEvent(r,"custom.client.load.cached"),r;try{n=u(e.authorization)}catch(i){return f.reject(new s(y.CLIENT_INVALID_AUTHORIZATION))}return r=c(n).then((function(n){return e.debug&&(n.isDebug=!0),n.authorization=e.authorization,t=new T(n)})),k[e.authorization]=r,v.sendEvent(r,"custom.client.load.initialized"),r.then((function(e){return v.sendEvent(t,"custom.client.load.succeeded"),e})).catch((function(t){return delete k[e.authorization],f.reject(t)}))},T.clearCache=function(){k={}},T.prototype._findOrCreateFraudnetJSON=function(e){var t,n,r,i,o=document.querySelector('script[fncls="'+x+'"]');o||((o=document.body.appendChild(document.createElement("script"))).type="application/json",o.setAttribute("fncls",x)),t=this.getConfiguration(),n={rda_tenant:"bt_card",mid:t.gatewayConfiguration.merchantId},(r=t.authorizationFingerprint)&&r.split("&").forEach((function(e){var t=e.split("=");"customer_id"===t[0]&&t.length>1&&(n.cid=t[1])})),i={f:e.substr(0,32),fp:n,bu:!1,s:E},o.text=JSON.stringify(i)},T.prototype.request=function(e,t){var n=this,i=new f((function(t,i){var o,a,c,u,f,h=Boolean("payment_methods/credit_cards"===e.endpoint&&n.getConfiguration().gatewayConfiguration.creditCards.collectDeviceData);if("graphQLApi"!==e.api&&(e.method?e.endpoint||(o="options.endpoint"):o="options.method"),o)throw new s({type:y.CLIENT_OPTION_REQUIRED.type,code:y.CLIENT_OPTION_REQUIRED.code,message:o+" is required when making a request."});if(a="api"in e?e.api:"clientApi",u={method:e.method,graphQL:n._graphQL,timeout:e.timeout,metadata:n._configuration.analyticsMetadata},"clientApi"===a)c=n._clientApiBaseUrl,u.data=d(n._configuration,e.data);else{if("graphQLApi"!==a)throw new s({type:y.CLIENT_OPTION_INVALID.type,code:y.CLIENT_OPTION_INVALID.code,message:"options.api is invalid."});c=w[n._configuration.gatewayConfiguration.environment],e.endpoint="",u.method="post",u.data=g({clientSdkMetadata:{source:n._configuration.analyticsMetadata.source,integration:n._configuration.analyticsMetadata.integration,sessionId:n._configuration.analyticsMetadata.sessionId}},e.data),u.headers={Authorization:"Bearer "+((f=n._configuration).authorizationFingerprint||f.authorization),"Braintree-Version":r}}u.url=c+e.endpoint,u.sendAnalyticsEvent=function(e){v.sendEvent(n,e)},n._request(u,(function(e,r,o){var c,u;(u=function(e,t){var n;if(-1===e?n=new s(y.CLIENT_REQUEST_TIMEOUT):401===e?n=new s(y.CLIENT_AUTHORIZATION_INVALID):403===e?n=new s(y.CLIENT_AUTHORIZATION_INSUFFICIENT):429===e?n=new s(y.CLIENT_RATE_LIMITED):e>=500?n=new s(y.CLIENT_GATEWAY_NETWORK):(e<200||e>=400)&&(n=l(t,{type:y.CLIENT_REQUEST_ERROR.type,code:y.CLIENT_REQUEST_ERROR.code,message:y.CLIENT_REQUEST_ERROR.message})),n)return n.details=n.details||{},n.details.httpStatus=e,n}(o,e))?i(u):"graphQLApi"===a&&r.errors?i(l(r.errors,{type:y.CLIENT_GRAPHQL_REQUEST_ERROR.type,code:y.CLIENT_GRAPHQL_REQUEST_ERROR.code,message:y.CLIENT_GRAPHQL_REQUEST_ERROR.message})):(c=g({_httpStatus:o},r),h&&c.creditCards&&c.creditCards.length>0&&(n._findOrCreateFraudnetJSON(c.creditCards[0].nonce),C.loadScript({src:P,forceScriptReload:!0})),t(c))}))}));return"function"===typeof t?(t=p(m(t)),void i.then((function(e){t(null,e,e._httpStatus)})).catch((function(e){var n=e&&e.details&&e.details.httpStatus;t(e,null,n)}))):i},T.prototype.toJSON=function(){return this.getConfiguration()},T.prototype.getVersion=function(){return b},T.prototype.teardown=h((function(){return delete k[this.getConfiguration().authorization],S(this,_(T.prototype)),f.resolve()})),t.exports=T},{"../lib/add-metadata":38,"../lib/analytics":39,"../lib/assets":40,"../lib/assign":41,"../lib/braintree-error":42,"../lib/constants":43,"../lib/convert-methods-to-error":44,"../lib/convert-to-braintree-error":45,"../lib/create-authorization-data":46,"../lib/deferred":47,"../lib/is-verified-domain":51,"../lib/methods":53,"../lib/once":54,"../lib/promise":55,"./constants":18,"./errors":19,"./get-configuration":20,"./request":32,"./request/graphql":30,"@braintree/wrap-promise":14}],18:[function(e,t,n){"use strict";t.exports={BRAINTREE_VERSION:"2018-05-10"}},{}],19:[function(e,t,n){"use strict";var r=e("../lib/braintree-error");t.exports={CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN:{type:r.types.MERCHANT,code:"CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN"},CLIENT_OPTION_REQUIRED:{type:r.types.MERCHANT,code:"CLIENT_OPTION_REQUIRED"},CLIENT_OPTION_INVALID:{type:r.types.MERCHANT,code:"CLIENT_OPTION_INVALID"},CLIENT_MISSING_GATEWAY_CONFIGURATION:{type:r.types.INTERNAL,code:"CLIENT_MISSING_GATEWAY_CONFIGURATION",message:"Missing gatewayConfiguration."},CLIENT_INVALID_AUTHORIZATION:{type:r.types.MERCHANT,code:"CLIENT_INVALID_AUTHORIZATION",message:"Authorization is invalid. Make sure your client token or tokenization key is valid."},CLIENT_GATEWAY_NETWORK:{type:r.types.NETWORK,code:"CLIENT_GATEWAY_NETWORK",message:"Cannot contact the gateway at this time."},CLIENT_REQUEST_TIMEOUT:{type:r.types.NETWORK,code:"CLIENT_REQUEST_TIMEOUT",message:"Request timed out waiting for a reply."},CLIENT_REQUEST_ERROR:{type:r.types.NETWORK,code:"CLIENT_REQUEST_ERROR",message:"There was a problem with your request."},CLIENT_GRAPHQL_REQUEST_ERROR:{type:r.types.NETWORK,code:"CLIENT_GRAPHQL_REQUEST_ERROR",message:"There was a problem with your request."},CLIENT_RATE_LIMITED:{type:r.types.MERCHANT,code:"CLIENT_RATE_LIMITED",message:"You are being rate-limited; please try again in a few minutes."},CLIENT_AUTHORIZATION_INSUFFICIENT:{type:r.types.MERCHANT,code:"CLIENT_AUTHORIZATION_INSUFFICIENT",message:"The authorization used has insufficient privileges."},CLIENT_AUTHORIZATION_INVALID:{type:r.types.MERCHANT,code:"CLIENT_AUTHORIZATION_INVALID",message:"Either the client token has expired and a new one should be generated or the tokenization key has been deactivated or deleted."}}},{"../lib/braintree-error":42}],20:[function(e,t,n){"use strict";var r=e("../lib/braintree-error"),i=e("../lib/promise"),o=e("@braintree/wrap-promise"),a=e("./request"),s=e("@braintree/uuid"),l=e("../lib/constants"),c=e("./errors"),u=e("./request/graphql"),d=e("../lib/constants").GRAPHQL_URLS,f=e("../lib/is-date-string-before-or-on"),h=e("./constants").BRAINTREE_VERSION;t.exports={getConfiguration:o((function(e){return new i((function(t,n){var i,o,p,m,g=s(),v={merchantAppId:window.location.host,platform:l.PLATFORM,sdkVersion:l.VERSION,source:l.SOURCE,integration:l.INTEGRATION,integrationType:l.INTEGRATION,sessionId:g};o=e.attrs,p=e.configUrl,o._meta=v,o.braintreeLibraryVersion=l.BRAINTREE_LIBRARY_VERSION,o.configVersion="3",m={url:p,method:"GET",data:o},o.authorizationFingerprint&&e.graphQL?(f(e.graphQL.date,h)&&(m.graphQL=new u({graphQL:{url:e.graphQL.url,features:["configuration"]}})),m.metadata=v):o.tokenizationKey&&(m.graphQL=new u({graphQL:{url:d[e.environment],features:["configuration"]}}),m.metadata=v),a(m,(function(e,a,s){var l;if(e)return l=403===s?c.CLIENT_AUTHORIZATION_INSUFFICIENT:401===s?c.CLIENT_AUTHORIZATION_INVALID:c.CLIENT_GATEWAY_NETWORK,void n(new r({type:l.type,code:l.code,message:l.message,details:{originalError:e}}));i={authorizationType:o.tokenizationKey?"TOKENIZATION_KEY":"CLIENT_TOKEN",authorizationFingerprint:o.authorizationFingerprint,analyticsMetadata:v,gatewayConfiguration:a},t(i)}))}))}))}},{"../lib/braintree-error":42,"../lib/constants":43,"../lib/is-date-string-before-or-on":50,"../lib/promise":55,"./constants":18,"./errors":19,"./request":32,"./request/graphql":30,"@braintree/uuid":10,"@braintree/wrap-promise":14}],21:[function(e,t,n){"use strict";var r=e("../lib/braintree-error"),i=e("./client"),o=e("../lib/promise"),a=e("@braintree/wrap-promise"),s=e("../lib/errors");t.exports={create:a((function(e){return e.authorization?i.initialize(e):o.reject(new r({type:s.INSTANTIATION_OPTION_REQUIRED.type,code:s.INSTANTIATION_OPTION_REQUIRED.code,message:"options.authorization is required when instantiating a client."}))})),VERSION:"3.68.0"}},{"../lib/braintree-error":42,"../lib/errors":49,"../lib/promise":55,"./client":17,"@braintree/wrap-promise":14}],22:[function(e,t,n){"use strict";var r=e("../../lib/querystring"),i=e("../../lib/assign").assign,o=e("./prep-body"),a=e("./parse-body"),s=e("./xhr"),l=s.isAvailable,c=e("./graphql/request"),u=e("./default-request");t.exports={request:function(e,t){!function e(t,n,d){var f,h,p,m,g,v,y,b=t.url,w=t.graphQL,_=t.timeout,S=s.getRequestObject(),C=d,x=Boolean(w&&w.isGraphQLRequest(b,t.data));t.headers=i({"Content-Type":"application/json"},t.headers),b=(p=x?new c(t):new u(t)).getUrl(),m=p.getBody(),g=p.getMethod(),v=p.getHeaders(),"GET"===g&&(b=r.queryify(b,m),m=null),l?S.onreadystatechange=function(){if(4===S.readyState){if(0===S.status&&x)return delete t.graphQL,void e(t,n,d);if(y=a(S.responseText),h=p.adaptResponseBody(y),(f=p.determineStatus(S.status,y))>=400||f<200){if(x&&function(e){var t=!e.data&&e.errors&&e.errors[0]&&e.errors[0].extensions&&e.errors[0].extensions.errorClass;return"UNKNOWN"===t||"INTERNAL"===t}(y))return delete t.graphQL,void e(t,n,d);if(n<1&&function(e){return!e||408===e}(f))return n++,void e(t,n,d);C(h||"error",null,f||500)}else C(null,h,f)}}:(t.headers&&(b=r.queryify(b,v)),S.onload=function(){C(null,a(S.responseText),S.status)},S.onerror=function(){C("error",null,500)},S.onprogress=function(){},S.ontimeout=function(){C("timeout",null,-1)});try{S.open(g,b,!0)}catch(E){if(!x)throw E;return delete t.graphQL,void e(t,n,d)}S.timeout=_,l&&Object.keys(v).forEach((function(e){S.setRequestHeader(e,v[e])}));try{S.send(o(g,m))}catch(P){}}(e,0,t)}}},{"../../lib/assign":41,"../../lib/querystring":56,"./default-request":23,"./graphql/request":31,"./parse-body":35,"./prep-body":36,"./xhr":37}],23:[function(e,t,n){"use strict";function r(e){this._url=e.url,this._data=e.data,this._method=e.method,this._headers=e.headers}r.prototype.getUrl=function(){return this._url},r.prototype.getBody=function(){return this._data},r.prototype.getMethod=function(){return this._method},r.prototype.getHeaders=function(){return this._headers},r.prototype.adaptResponseBody=function(e){return e},r.prototype.determineStatus=function(e){return e},t.exports=r},{}],24:[function(e,t,n){"use strict";t.exports=function(){return window.navigator.userAgent}},{}],25:[function(e,t,n){"use strict";var r=e("./error"),i=e("../../../../lib/assign").assign,o={AMERICAN_EXPRESS:"American Express",DISCOVER:"Discover",INTERNATIONAL_MAESTRO:"Maestro",JCB:"JCB",MASTERCARD:"MasterCard",SOLO:"Solo",UK_MAESTRO:"UK Maestro",UNION_PAY:"UnionPay",VISA:"Visa"},a={VISA:"visa",MASTERCARD:"mastercard",DISCOVER:"discover",AMERICAN_EXPRESS:"amex",INTERNATIONAL_MAESTRO:"maestro"},s={VISA:"Visa",MASTERCARD:"MasterCard",DISCOVER:"Discover",AMERICAN_EXPRESS:"American Express"},l={VISA:"visa",MASTERCARD:"mastercard",DISCOVER:"discover",AMERICAN_EXPRESS:"amex"},c={VISA:"visa",MASTERCARD:"master",DISCOVER:"discover",AMERICAN_EXPRESS:"amex",DINERS:"diners",INTERNATIONAL_MAESTRO:"maestro",JCB:"jcb"};function u(e,t){return e.reduce((function(e,n){return t.hasOwnProperty(n)?e.concat(t[n]):e}),[])}t.exports=function(e,t){return e.data&&!e.errors?function(e,t){var n,r=e.data.clientConfiguration;return n={environment:r.environment.toLowerCase(),clientApiUrl:r.clientApiUrl,assetsUrl:r.assetsUrl,analytics:{url:r.analyticsUrl},merchantId:r.merchantId,venmo:"off"},r.supportedFeatures&&(n.graphQL={url:t._graphQL._config.url,features:r.supportedFeatures.map((function(e){return e.toLowerCase()}))}),r.braintreeApi&&(n.braintreeApi=r.braintreeApi),r.applePayWeb&&(n.applePayWeb=r.applePayWeb,n.applePayWeb.supportedNetworks=u(r.applePayWeb.supportedCardBrands,a),delete n.applePayWeb.supportedCardBrands),r.ideal&&(n.ideal=r.ideal),r.kount&&(n.kount={kountMerchantId:r.kount.merchantId}),r.creditCard?(n.challenges=r.creditCard.challenges.map((function(e){return e.toLowerCase()})),n.creditCards={supportedCardTypes:u(r.creditCard.supportedCardBrands,o)},n.threeDSecureEnabled=r.creditCard.threeDSecureEnabled,n.threeDSecure=r.creditCard.threeDSecure):(n.challenges=[],n.creditCards={supportedCardTypes:[]},n.threeDSecureEnabled=!1),r.googlePay&&(n.androidPay={displayName:r.googlePay.displayName,enabled:!0,environment:r.googlePay.environment.toLowerCase(),googleAuthorizationFingerprint:r.googlePay.googleAuthorization,paypalClientId:r.googlePay.paypalClientId,supportedNetworks:u(r.googlePay.supportedCardBrands,l)}),r.venmo&&(n.payWithVenmo={merchantId:r.venmo.merchantId,accessToken:r.venmo.accessToken,environment:r.venmo.environment.toLowerCase()}),r.paypal?(n.paypalEnabled=!0,n.paypal=i({},r.paypal),n.paypal.currencyIsoCode=n.paypal.currencyCode,n.paypal.environment=n.paypal.environment.toLowerCase(),delete n.paypal.currencyCode):n.paypalEnabled=!1,r.unionPay&&(n.unionPay={enabled:!0,merchantAccountId:r.unionPay.merchantAccountId}),r.visaCheckout&&(n.visaCheckout={apikey:r.visaCheckout.apiKey,externalClientId:r.visaCheckout.externalClientId,supportedCardTypes:u(r.visaCheckout.supportedCardBrands,s)}),r.masterpass&&(n.masterpass={merchantCheckoutId:r.masterpass.merchantCheckoutId,supportedNetworks:u(r.masterpass.supportedCardBrands,c)}),r.usBankAccount&&(n.usBankAccount={routeId:r.usBankAccount.routeId,plaid:{publicKey:r.usBankAccount.plaidPublicKey}}),n}(e,t):r(e)}},{"../../../../lib/assign":41,"./error":27}],26:[function(e,t,n){"use strict";var r=e("./error"),i={AMERICAN_EXPRESS:"American Express",DINERS:"Discover",DISCOVER:"Discover",INTERNATIONAL_MAESTRO:"Maestro",JCB:"JCB",MASTERCARD:"MasterCard",UK_MAESTRO:"Maestro",UNION_PAY:"Union Pay",VISA:"Visa"},o={YES:"Yes",NO:"No",UNKNOWN:"Unknown"},a={PSDTWO:"psd2"};t.exports=function(e){return e.data&&!e.errors?(s=e.data.tokenizeCreditCard,l=s.creditCard,c=l.last4?l.last4.substr(2,4):"",(u=l.binData)&&(["commercial","debit","durbinRegulated","healthcare","payroll","prepaid"].forEach((function(e){u[e]?u[e]=o[u[e]]:u[e]="Unknown"})),["issuingBank","countryOfIssuance","productId"].forEach((function(e){u[e]||(u[e]="Unknown")}))),t={creditCards:[{binData:u,consumed:!1,description:c?"ending in "+c:"",nonce:s.token,details:{cardholderName:l.cardholderName,expirationMonth:l.expirationMonth,expirationYear:l.expirationYear,bin:l.bin||"",cardType:i[l.brandCode]||"Unknown",lastFour:l.last4||"",lastTwo:c},type:"CreditCard",threeDSecureInfo:null}]},s.authenticationInsight&&(n=s.authenticationInsight.customerAuthenticationRegulationEnvironment,t.creditCards[0].authenticationInsight={regulationEnvironment:a[n]||n.toLowerCase()}),t):r(e);var t,n,s,l,c,u}},{"./error":27}],27:[function(e,t,n){"use strict";function r(e){return{creditCard:"Credit card is invalid"}[e[0].field]}t.exports=function(e){var t=e.errors&&e.errors[0]&&e.errors[0].extensions&&e.errors[0].extensions.errorClass;return"VALIDATION"===t?function(e){var t=function(e){var t=[];return e.forEach((function(e){e.extensions&&e.extensions.inputPath&&function e(t,n,r){var i,o=n.extensions.legacyCode,a=t[0];1!==t.length?(r.forEach((function(e){e.field===a&&(i=e)})),i||(i={field:a,fieldErrors:[]},r.push(i)),e(t.slice(1),n,i.fieldErrors)):r.push({code:o,field:a,message:n.message})}(e.extensions.inputPath.slice(1),e,t)})),t}(e.errors);return 0===t.length?{error:{message:e.errors[0].message}}:{error:{message:r(t)},fieldErrors:t}}(e):t?function(e){return{error:{message:e.errors[0].message},fieldErrors:[]}}(e):{error:{message:"There was a problem serving your request"},fieldErrors:[]}}},{}],28:[function(e,t,n){"use strict";t.exports=function(){return{query:"query ClientConfiguration {   clientConfiguration {     analyticsUrl     environment     merchantId     assetsUrl     clientApiUrl     creditCard {       supportedCardBrands       challenges       threeDSecureEnabled       threeDSecure {         cardinalAuthenticationJWT       }     }     applePayWeb {       countryCode       currencyCode       merchantIdentifier       supportedCardBrands     }     googlePay {       displayName       supportedCardBrands       environment       googleAuthorization       paypalClientId     }     ideal {       routeId       assetsUrl     }     kount {       merchantId     }     masterpass {       merchantCheckoutId       supportedCardBrands     }     paypal {       displayName       clientId       privacyUrl       userAgreementUrl       assetsUrl       environment       environmentNoNetwork       unvettedMerchant       braintreeClientId       billingAgreementsEnabled       merchantAccountId       currencyCode       payeeEmail     }     unionPay {       merchantAccountId     }     usBankAccount {       routeId       plaidPublicKey     }     venmo {       merchantId       accessToken       environment     }     visaCheckout {       apiKey       externalClientId       supportedCardBrands     }     braintreeApi {       accessToken       url     }     supportedFeatures   } }",operationName:"ClientConfiguration"}}},{}],29:[function(e,t,n){"use strict";var r=e("../../../../lib/assign").assign;function i(e,t){var n=e.creditCard,i=n&&n.billingAddress,o=n&&n.expirationDate,a=n&&(n.expirationMonth||o&&o.split("/")[0].trim()),s=n&&(n.expirationYear||o&&o.split("/")[1].trim()),l={input:{creditCard:{number:n&&n.number,expirationMonth:a,expirationYear:s,cvv:n&&n.cvv,cardholderName:n&&n.cardholderName},options:{}}};return t.hasAuthenticationInsight&&(l.authenticationInsightInput={merchantAccountId:e.merchantAccountId}),i&&(l.input.creditCard.billingAddress=i),l.input=function(e,t){var n;return e.creditCard&&e.creditCard.options&&"boolean"===typeof e.creditCard.options.validate?n=e.creditCard.options.validate:e.authorizationFingerprint&&e.tokenizationKey||e.authorizationFingerprint?n=!0:e.tokenizationKey&&(n=!1),"boolean"===typeof n&&(t.options=r({validate:n},t.options)),t}(e,l.input),l}t.exports=function(e){var t,n,r,o={hasAuthenticationInsight:Boolean(e.authenticationInsight&&e.merchantAccountId)};return{query:(t=o,n=t.hasAuthenticationInsight,r="mutation TokenizeCreditCard($input: TokenizeCreditCardInput!",n&&(r+=", $authenticationInsightInput: AuthenticationInsightInput!"),r+=") {   tokenizeCreditCard(input: $input) {     token     creditCard {       bin       brandCode       last4       cardholderName       expirationMonth      expirationYear      binData {         prepaid         healthcare         debit         durbinRegulated         commercial         payroll         issuingBank         countryOfIssuance         productId       }     } ",n&&(r+="    authenticationInsight(input: $authenticationInsightInput) {      customerAuthenticationRegulationEnvironment    }"),r+="  } }"),variables:i(e,o),operationName:"TokenizeCreditCard"}}},{"../../../../lib/assign":41}],30:[function(e,t,n){"use strict";var r=e("../../browser-detection"),i={tokenize_credit_cards:"payment_methods/credit_cards",configuration:"configuration"},o=["creditCard.options.unionPayEnrollment"];function a(e){this._config=e.graphQL}a.prototype.getGraphQLEndpoint=function(){return this._config.url},a.prototype.isGraphQLRequest=function(e,t){var n,a=this.getClientApiPath(e);return!(!this._isGraphQLEnabled()||!a||r.isIe9())&&(n=this._config.features.some((function(e){return i[e]===a})),!function(e){return o.some((function(t){return void 0!==t.split(".").reduce((function(e,t){return e&&e[t]}),e)}))}(t)&&n)},a.prototype.getClientApiPath=function(e){var t,n=e.split("/client_api/v1/");return n.length>1&&(t=n[1].split("?")[0]),t},a.prototype._isGraphQLEnabled=function(){return Boolean(this._config)},t.exports=a},{"../../browser-detection":16}],31:[function(e,t,n){"use strict";var r=e("../../constants").BRAINTREE_VERSION,i=e("../../../lib/assign").assign,o=e("./generators/credit-card-tokenization"),a=e("./adapters/credit-card-tokenization"),l=e("./generators/configuration"),c=e("./adapters/configuration"),u={"payment_methods/credit_cards":o,configuration:l},d={"payment_methods/credit_cards":a,configuration:c};function f(e){var t=e.graphQL.getClientApiPath(e.url);this._graphQL=e.graphQL,this._data=e.data,this._method=e.method,this._headers=e.headers,this._clientSdkMetadata={source:e.metadata.source,integration:e.metadata.integration,sessionId:e.metadata.sessionId},this._sendAnalyticsEvent=e.sendAnalyticsEvent||Function.prototype,this._generator=u[t],this._adapter=d[t],this._sendAnalyticsEvent("graphql.init")}f.prototype.getUrl=function(){return this._graphQL.getGraphQLEndpoint()},f.prototype.getBody=function(){var e=function e(t){var n={};return Object.keys(t).forEach((function(r){var i,o=-1===(i=r).indexOf("_")?i:i.toLowerCase().replace(/(\_\w)/g,(function(e){return e[1].toUpperCase()}));"object"===s(t[r])?n[o]=e(t[r]):"number"===typeof t[r]?n[o]=String(t[r]):n[o]=t[r]})),n}(this._data),t=this._generator(e),n=i({clientSdkMetadata:this._clientSdkMetadata},t);return JSON.stringify(n)},f.prototype.getMethod=function(){return"POST"},f.prototype.getHeaders=function(){var e,t;return this._data.authorizationFingerprint?(this._sendAnalyticsEvent("graphql.authorization-fingerprint"),e=this._data.authorizationFingerprint):(this._sendAnalyticsEvent("graphql.tokenization-key"),e=this._data.tokenizationKey),t={Authorization:"Bearer "+e,"Braintree-Version":r},i({},this._headers,t)},f.prototype.adaptResponseBody=function(e){return this._adapter(e,this)},f.prototype.determineStatus=function(e,t){var n,r;return 200===e?(r=t.errors&&t.errors[0]&&t.errors[0].extensions&&t.errors[0].extensions.errorClass,n=t.data&&!t.errors?200:"VALIDATION"===r?422:"AUTHORIZATION"===r?403:"AUTHENTICATION"===r?401:function(e,t){return!e&&t.errors[0].message}(r,t)?403:500):n=e||500,this._sendAnalyticsEvent("graphql.status."+e),this._sendAnalyticsEvent("graphql.determinedStatus."+n),n},t.exports=f},{"../../../lib/assign":41,"../../constants":18,"./adapters/configuration":25,"./adapters/credit-card-tokenization":26,"./generators/configuration":28,"./generators/credit-card-tokenization":29}],32:[function(e,t,n){"use strict";var r,i=e("../../lib/once"),o=e("./jsonp-driver"),a=e("./ajax-driver"),s=e("./get-user-agent"),l=e("./is-http");t.exports=function(e,t){t=i(t||Function.prototype),e.method=(e.method||"GET").toUpperCase(),e.timeout=null==e.timeout?6e4:e.timeout,e.data=e.data||{},null==r&&(r=!(l()&&/MSIE\s(8|9)/.test(s()))),r?a.request(e,t):o.request(e,t)}},{"../../lib/once":54,"./ajax-driver":22,"./get-user-agent":24,"./is-http":33,"./jsonp-driver":34}],33:[function(e,t,n){"use strict";t.exports=function(){return"http:"===window.location.protocol}},{}],34:[function(e,t,n){"use strict";var r,i=e("@braintree/uuid"),o=e("../../lib/querystring"),a={};function s(e){try{delete window[e]}catch(t){window[e]=null}}t.exports={request:function(e,t){var n,l="callback_json_"+i().replace(/-/g,""),c=e.url,u=e.data,d=e.method,f=e.timeout;c=o.queryify(c,u),function(e,t,n){window[n]=function(r){var i=r.status||500,o=null,l=null;delete r.status,i>=400||i<200?o=r:l=r,s(n),function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}(e),clearTimeout(a[n]),t(o,l,i)}}(n=function(e,t){var n=document.createElement("script"),r=!1;return n.src=e,n.async=!0,n.onerror=function(){window[t]({message:"error",status:500})},n.onload=n.onreadystatechange=function(){r||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(r=!0,n.onload=n.onreadystatechange=null)},n}(c=o.queryify(c,{_method:d,callback:l}),l),t,l),function(e,t){a[t]=setTimeout((function(){a[t]=null,window[t]({error:"timeout",status:-1}),window[t]=function(){s(t)}}),e)}(f,l),r||(r=document.getElementsByTagName("head")[0]),r.appendChild(n)}}},{"../../lib/querystring":56,"@braintree/uuid":10}],35:[function(e,t,n){"use strict";t.exports=function(e){try{e=JSON.parse(e)}catch(t){}return e}},{}],36:[function(e,t,n){"use strict";t.exports=function(e,t){if("string"!==typeof e)throw new Error("Method must be a string");return"get"!==e.toLowerCase()&&null!=t&&(t="string"===typeof t?t:JSON.stringify(t)),t}},{}],37:[function(e,t,n){"use strict";var r="undefined"!==typeof window&&window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest;t.exports={isAvailable:r,getRequestObject:function(){return r?new window.XMLHttpRequest:new window.XDomainRequest}}},{}],38:[function(e,t,n){"use strict";var r=e("./create-authorization-data"),i=e("./json-clone"),o=e("./constants");t.exports=function(e,t){var n,a=t?i(t):{},s=r(e.authorization).attrs,l=i(e.analyticsMetadata);for(n in a.braintreeLibraryVersion=o.BRAINTREE_LIBRARY_VERSION,a._meta)a._meta.hasOwnProperty(n)&&(l[n]=a._meta[n]);return a._meta=l,s.tokenizationKey?a.tokenizationKey=s.tokenizationKey:a.authorizationFingerprint=s.authorizationFingerprint,a}},{"./constants":43,"./create-authorization-data":46,"./json-clone":52}],39:[function(e,t,n){"use strict";var r=e("./promise"),i=e("./constants"),o=e("./add-metadata");t.exports={sendEvent:function(e,t,n){var a=Date.now();return r.resolve(e).then((function(e){var r=Date.now(),s=e.getConfiguration(),l=e._request,c=s.gatewayConfiguration.analytics.url,u={analytics:[{kind:i.ANALYTICS_PREFIX+t,isAsync:Math.floor(r/1e3)!==Math.floor(a/1e3),timestamp:a}]};l({url:c,method:"post",data:o(s,u),timeout:i.ANALYTICS_REQUEST_TIMEOUT_MS},n)}))}}},{"./add-metadata":38,"./constants":43,"./promise":55}],40:[function(e,t,n){"use strict";var r=e("@braintree/asset-loader/load-script");t.exports={loadScript:r}},{"@braintree/asset-loader/load-script":3}],41:[function(e,t,n){"use strict";var r="function"===typeof Object.assign?Object.assign:i;function i(e){var t,n,r;for(t=1;t<arguments.length;t++)for(r in n=arguments[t])n.hasOwnProperty(r)&&(e[r]=n[r]);return e}t.exports={assign:r,_assign:i}},{}],42:[function(e,t,n){"use strict";var r=e("./enumerate");function i(e){if(!i.types.hasOwnProperty(e.type))throw new Error(e.type+" is not a valid type.");if(!e.code)throw new Error("Error code required.");if(!e.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=e.code,this.message=e.message,this.type=e.type,this.details=e.details}i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i.types=r(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),i.findRootError=function(e){return e instanceof i&&e.details&&e.details.originalError?i.findRootError(e.details.originalError):e},t.exports=i},{"./enumerate":48}],43:[function(e,t,n){"use strict";var r="3.68.0",i="web";t.exports={ANALYTICS_PREFIX:"web.",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:{production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},CLIENT_API_URLS:{production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",GRAPHQL_URLS:{production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"},INTEGRATION_TIMEOUT_MS:6e4,VERSION:r,INTEGRATION:"custom",SOURCE:"client",PLATFORM:i,BRAINTREE_LIBRARY_VERSION:"braintree/web/3.68.0"}},{}],44:[function(e,t,n){"use strict";var r=e("./braintree-error"),i=e("./errors");t.exports=function(e,t){t.forEach((function(t){e[t]=function(){throw new r({type:i.METHOD_CALLED_AFTER_TEARDOWN.type,code:i.METHOD_CALLED_AFTER_TEARDOWN.code,message:t+" cannot be called after teardown."})}}))}},{"./braintree-error":42,"./errors":49}],45:[function(e,t,n){"use strict";var r=e("./braintree-error");t.exports=function(e,t){return e instanceof r?e:new r({type:t.type,code:t.code,message:t.message,details:{originalError:e}})}},{"./braintree-error":42}],46:[function(e,t,n){"use strict";var r=e("../lib/vendor/polyfill").atob,i=e("../lib/constants").CLIENT_API_URLS;t.exports=function(e){var t,n,o,a,s={attrs:{},configUrl:""};return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(e)?(o=e.split("_"),a=o[0],n={merchantId:o.slice(2).join("_"),environment:a},s.environment=n.environment,s.attrs.tokenizationKey=e,s.configUrl=i[n.environment]+"/merchants/"+n.merchantId+"/client_api/v1/configuration"):(t=JSON.parse(r(e)),s.environment=t.environment,s.attrs.authorizationFingerprint=t.authorizationFingerprint,s.configUrl=t.configUrl,s.graphQL=t.graphQL),s}},{"../lib/constants":43,"../lib/vendor/polyfill":57}],47:[function(e,t,n){"use strict";t.exports=function(e){return function(){var t=arguments;setTimeout((function(){e.apply(null,t)}),1)}}},{}],48:[function(e,t,n){"use strict";t.exports=function(e,t){return t=null==t?"":t,e.reduce((function(e,n){return e[n]=t+n,e}),{})}},{}],49:[function(e,t,n){"use strict";var r=e("./braintree-error");t.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:r.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:r.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:r.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:r.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:r.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":42}],50:[function(e,t,n){"use strict";function r(e){var t=e.split("-");return new Date(t[0],t[1],t[2])}t.exports=function(e,t){return r(e)<=r(t)}},{}],51:[function(e,t,n){"use strict";var r,i={"paypal.com":1,"braintreepayments.com":1,"braintreegateway.com":1,"braintree-api.com":1};t.exports=function(e){var t;return e=e.toLowerCase(),!!/^https:/.test(e)&&((r=r||document.createElement("a")).href=e,t=r.hostname.split(".").slice(-2).join("."),i.hasOwnProperty(t))}},{}],52:[function(e,t,n){"use strict";t.exports=function(e){return JSON.parse(JSON.stringify(e))}},{}],53:[function(e,t,n){"use strict";t.exports=function(e){return Object.keys(e).filter((function(t){return"function"===typeof e[t]}))}},{}],54:[function(e,t,n){"use strict";t.exports=function(e){var t=!1;return function(){t||(t=!0,e.apply(null,arguments))}}},{}],55:[function(e,t,n){"use strict";var r=e("promise-polyfill"),i=e("@braintree/extended-promise"),o="undefined"!==typeof Promise?Promise:r;i.suppressUnhandledPromiseMessage=!0,i.setPromise(o),t.exports=o},{"@braintree/extended-promise":9,"promise-polyfill":15}],56:[function(e,t,n){"use strict";function r(e,t){var n,i,o,a,l=[];for(o in e)e.hasOwnProperty(o)&&(i=e[o],n=t?(a=e)&&"object"===s(a)&&"number"===typeof a.length&&"[object Array]"===Object.prototype.toString.call(a)?t+"[]":t+"["+o+"]":o,"object"===s(i)?l.push(r(i,n)):l.push(encodeURIComponent(n)+"="+encodeURIComponent(i)));return l.join("&")}t.exports={parse:function(e){return e=e||window.location.href,/\?/.test(e)?e.replace(/#.*$/,"").replace(/^.*\?/,"").split("&").reduce((function(e,t){var n=t.split("="),r=decodeURIComponent(n[0]),i=decodeURIComponent(n[1]);return e[r]=i,e}),{}):{}},stringify:r,queryify:function(e,t){return e=e||"",null!=t&&"object"===s(t)&&function(e){var t;for(t in e)if(e.hasOwnProperty(t))return!0;return!1}(t)&&(e+=-1===e.indexOf("?")?"?":"",e+=-1!==e.indexOf("=")?"&":"",e+=r(t)),e}}},{}],57:[function(e,t,n){"use strict";var r="function"===typeof atob?window.atob:i;function i(e){var t,n,r,i,o,a,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="";if(!new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$").test(e))throw new Error("Non base64 encoded input passed to window.atob polyfill");a=0;do{t=(63&s.indexOf(e.charAt(a++)))<<2|(i=s.indexOf(e.charAt(a++)))>>4&3,n=(15&i)<<4|(o=s.indexOf(e.charAt(a++)))>>2&15,r=(3&o)<<6|63&s.indexOf(e.charAt(a++)),l+=String.fromCharCode(t)+(n?String.fromCharCode(n):"")+(r?String.fromCharCode(r):"")}while(a<e.length);return l}t.exports={atob:function(e){return r.call(window,e)},_atob:i}},{}]},{},[21])(21)},"object"===s(t)&&"undefined"!==typeof e?e.exports=a():(i=[],void 0===(o="function"===typeof(r=a)?r.apply(t,i):r)||(e.exports=o))}).call(this,n(185).setImmediate)},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,o,a,s,l=1,c={},u=!1,d=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){p(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){o.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(i=d.documentElement,r=function(e){var t=d.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(p,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"===typeof t.data&&0===t.data.indexOf(a)&&p(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}),f.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return c[l]=i,r(l),l++},f.clearImmediate=h}function h(e){delete c[e]}function p(e){if(u)setTimeout(p,0,e);else{var t=c[e];if(t){u=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{h(e),u=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(76),n(278))},function(e,t,n){(function(n){var r,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return i(t[a][1][e]||e)}),c,c.exports,e,t,n,r)}return n[a].exports}for(var o=!1,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.PromiseGlobal=void 0;var i=r(e("promise-polyfill")),o="undefined"!==typeof Promise?Promise:i.default;n.PromiseGlobal=o},{"promise-polyfill":43}],2:[function(e,t,n){"use strict";var r=e("./lib/promise"),i={};function o(e){var t,n=JSON.stringify(e);if(!e.forceScriptReload&&(t=i[n]))return t;var o=document.createElement("script"),a=e.dataAttributes||{},s=e.container||document.head;return o.src=e.src,o.id=e.id||"",o.async=!0,e.crossorigin&&o.setAttribute("crossorigin",""+e.crossorigin),Object.keys(a).forEach((function(e){o.setAttribute("data-"+e,""+a[e])})),t=new r.PromiseGlobal((function(t,n){o.addEventListener("load",(function(){t(o)})),o.addEventListener("error",(function(){n(new Error(e.src+" failed to load."))})),o.addEventListener("abort",(function(){n(new Error(e.src+" has aborted."))})),s.appendChild(o)})),i[n]=t,t}o.clearCache=function(){i={}},t.exports=o},{"./lib/promise":1}],3:[function(e,t,n){t.exports=e("./dist/load-script")},{"./dist/load-script":2}],4:[function(e,t,n){"use strict";t.exports=function(e){return e=e||window.navigator.userAgent,/Android/.test(e)}},{}],5:[function(e,t,n){"use strict";var r=e("./is-edge"),i=e("./is-samsung");t.exports=function(e){return(-1!==(e=e||window.navigator.userAgent).indexOf("Chrome")||-1!==e.indexOf("CriOS"))&&!r(e)&&!i(e)}},{"./is-edge":6,"./is-samsung":13}],6:[function(e,t,n){"use strict";t.exports=function(e){return-1!==(e=e||window.navigator.userAgent).indexOf("Edge/")}},{}],7:[function(e,t,n){"use strict";var r=e("./is-ie11");t.exports=function(e){return-1!==(e=e||window.navigator.userAgent).indexOf("MSIE")||r(e)}},{"./is-ie11":8}],8:[function(e,t,n){"use strict";t.exports=function(e){return-1!==(e=e||window.navigator.userAgent).indexOf("Trident/7")}},{}],9:[function(e,t,n){"use strict";t.exports=function(e){return e=e||window.navigator.userAgent,/FxiOS/i.test(e)}},{}],10:[function(e,t,n){"use strict";var r=e("./is-ios");t.exports=function(e){return e=e||window.navigator.userAgent,!!r(e)&&(!!function(e){return/\bGSA\b/.test(e)}(e)||/.+AppleWebKit(?!.*Safari)/.test(e))}},{"./is-ios":12}],11:[function(e,t,n){"use strict";var r=e("./is-ios-webview");t.exports=function(e,t){return t="undefined"!==typeof t?t:window.statusbar.visible,r(e)&&t}},{"./is-ios-webview":10}],12:[function(e,t,n){"use strict";t.exports=function(e){return e=e||window.navigator.userAgent,/iPhone|iPod|iPad/i.test(e)}},{}],13:[function(e,t,n){"use strict";t.exports=function(e){return e=e||window.navigator.userAgent,/SamsungBrowser/i.test(e)}},{}],14:[function(e,t,n){"use strict";var r=e("./is-android"),i=e("./is-ios-firefox"),o=e("./is-ios-webview"),a=e("./is-chrome"),s=e("./is-samsung");function l(e){return(e=e||window.navigator.userAgent).indexOf("Opera Mini")>-1}t.exports=function(e){return e=e||window.navigator.userAgent,!(o(e)||i(e)||function(e){return e=e||window.navigator.userAgent,!!r(e)&&/Version\/[\d.]+/.test(e)&&!l(e)}(e)||l(e)||function(e){var t=(e=e||window.navigator.userAgent).match(/CriOS\/(\d+)\./);return!!t&&parseInt(t[1],10)<48}(e)||function(e){return!a(e)&&!s(e)&&/samsung/i.test(e)}(e))}},{"./is-android":4,"./is-chrome":5,"./is-ios-firefox":9,"./is-ios-webview":10,"./is-samsung":13}],15:[function(e,t,n){t.exports=e("./dist/is-ie")},{"./dist/is-ie":7}],16:[function(e,t,n){t.exports=e("./dist/is-ios-wkwebview")},{"./dist/is-ios-wkwebview":11}],17:[function(e,t,n){t.exports=e("./dist/is-ios")},{"./dist/is-ios":12}],18:[function(e,t,n){t.exports=e("./dist/supports-popups")},{"./dist/supports-popups":14}],19:[function(e,t,n){"use strict";var r="undefined"!==typeof Promise?Promise:null,i=function(){function e(t){var n=this;"function"!==typeof t?(this._promise=new e.Promise((function(e,t){n._resolveFunction=e,n._rejectFunction=t})),t=t||{},this._onResolve=t.onResolve||e.defaultOnResolve,this._onReject=t.onReject||e.defaultOnReject,e.shouldCatchExceptions(t)&&this._promise.catch((function(){})),this._resetState()):this._promise=new e.Promise(t)}return e.defaultOnResolve=function(t){return e.Promise.resolve(t)},e.defaultOnReject=function(t){return e.Promise.reject(t)},e.setPromise=function(t){e.Promise=t},e.shouldCatchExceptions=function(t){return t.hasOwnProperty("suppressUnhandledPromiseMessage")?Boolean(t.suppressUnhandledPromiseMessage):Boolean(e.suppressUnhandledPromiseMessage)},e.all=function(t){return e.Promise.all(t)},e.allSettled=function(t){return e.Promise.allSettled(t)},e.race=function(t){return e.Promise.race(t)},e.reject=function(t){return e.Promise.reject(t)},e.resolve=function(t){return e.Promise.resolve(t)},e.prototype.then=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this._promise).then.apply(e,t)},e.prototype.catch=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this._promise).catch.apply(e,t)},e.prototype.resolve=function(t){var n=this;return this.isFulfilled||(this._setResolved(),e.Promise.resolve().then((function(){return n._onResolve(t)})).then((function(e){n._resolveFunction(e)})).catch((function(e){n._resetState(),n.reject(e)}))),this},e.prototype.reject=function(t){var n=this;return this.isFulfilled||(this._setRejected(),e.Promise.resolve().then((function(){return n._onReject(t)})).then((function(e){n._setResolved(),n._resolveFunction(e)})).catch((function(e){return n._rejectFunction(e)}))),this},e.prototype._resetState=function(){this.isFulfilled=!1,this.isResolved=!1,this.isRejected=!1},e.prototype._setResolved=function(){this.isFulfilled=!0,this.isResolved=!0,this.isRejected=!1},e.prototype._setRejected=function(){this.isFulfilled=!0,this.isResolved=!1,this.isRejected=!0},e.Promise=r,e}();t.exports=i},{}],20:[function(e,t,n){"use strict";var r=e("./lib/set-attributes"),i=e("./lib/default-attributes"),o=e("./lib/assign");t.exports=function(e){void 0===e&&(e={});var t=document.createElement("iframe"),n=o.assign({},i.defaultAttributes,e);return n.style&&"string"!==typeof n.style&&(o.assign(t.style,n.style),delete n.style),r.setAttributes(t,n),t.getAttribute("id")||(t.id=t.name),t}},{"./lib/assign":21,"./lib/default-attributes":22,"./lib/set-attributes":23}],21:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.assign=void 0,n.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach((function(t){"object"===s(t)&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}},{}],22:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.defaultAttributes=void 0,n.defaultAttributes={src:"about:blank",frameBorder:0,allowtransparency:!0,scrolling:"no"}},{}],23:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setAttributes=void 0,n.setAttributes=function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];null==r?e.removeAttribute(n):e.setAttribute(n,r)}}},{}],24:[function(e,t,n){"use strict";t.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}},{}],25:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.deferred=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];setTimeout((function(){try{e.apply(void 0,t)}catch(n){console.log("Error in callback function"),console.log(n)}}),1)}}},{}],26:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.once=function(e){var t=!1;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];t||(t=!0,e.apply(void 0,n))}}},{}],27:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.promiseOrCallback=function(e,t){if(!t)return e;e.then((function(e){return t(null,e)})).catch((function(e){return t(e)}))}},{}],28:[function(e,t,n){"use strict";var r=e("./lib/deferred"),i=e("./lib/once"),o=e("./lib/promise-or-callback");function a(e){return function(){for(var t,n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var s=n[n.length-1];return"function"===typeof s&&(t=n.pop(),t=i.once(r.deferred(t))),o.promiseOrCallback(e.apply(this,n),t)}}a.wrapPrototype=function(e,t){void 0===t&&(t={});var n=t.ignoreMethods||[],r=!0===t.transformPrivateMethods;return Object.getOwnPropertyNames(e.prototype).filter((function(t){var i,o="constructor"!==t&&"function"===typeof e.prototype[t],a=-1===n.indexOf(t);return i=!!r||"_"!==t.charAt(0),o&&i&&a})).forEach((function(t){var n=e.prototype[t];e.prototype[t]=a(n)})),e},t.exports=a},{"./lib/deferred":25,"./lib/once":26,"./lib/promise-or-callback":27}],29:[function(e,t,n){"use strict";var r=e("./lib/is-not-string"),i=e("./lib/subscription-args-invalid"),o=e("./lib/broadcast"),a=e("./lib/package-payload"),s=e("./lib/constants");t.exports=function(){function e(e){void 0===e&&(e="*"),this.origin=e}return e.target=function(t){return void 0===t&&(t="*"),new e(t)},e.prototype.include=function(e){return null!=e&&null!=e.Window&&e.constructor===e.Window&&(s.childWindows.push(e),!0)},e.prototype.target=function(t){return e.target(t)},e.prototype.emit=function(e,t,n){var i=this.origin;if(r.isntString(e))return!1;if(r.isntString(i))return!1;"function"===typeof t&&(n=t,t=void 0);var s=a.packagePayload(e,i,t,n);return!!s&&(o.broadcast(window.top||window.self,s,i),!0)},e.prototype.on=function(e,t){var n=this.origin;return!i.subscriptionArgsInvalid(e,t,n)&&(s.subscribers[n]=s.subscribers[n]||{},s.subscribers[n][e]=s.subscribers[n][e]||[],s.subscribers[n][e].push(t),!0)},e.prototype.off=function(e,t){var n=this.origin;if(i.subscriptionArgsInvalid(e,t,n))return!1;var r=s.subscribers[n]&&s.subscribers[n][e];if(!r)return!1;for(var o=0;o<r.length;o++)if(r[o]===t)return r.splice(o,1),!0;return!1},e}()},{"./lib/broadcast":33,"./lib/constants":34,"./lib/is-not-string":37,"./lib/package-payload":39,"./lib/subscription-args-invalid":41}],30:[function(e,t,n){"use strict";var r=e("./lib/attach"),i=new(e("./framebus"));r.attach(),t.exports=i},{"./framebus":29,"./lib/attach":31}],31:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.detach=n.attach=void 0;var r=e("./message"),i=!1;n.attach=function(){i||"undefined"===typeof window||(i=!0,window.addEventListener("message",r.onmessage,!1))},n.detach=function(){i=!1,window.removeEventListener("message",r.onmessage,!1)}},{"./message":38}],32:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.broadcastToChildWindows=void 0;var r=e("./broadcast"),i=e("./constants");n.broadcastToChildWindows=function(e,t,n){for(var o=i.childWindows.length-1;o>=0;o--){var a=i.childWindows[o];a.closed?i.childWindows.splice(o,1):n!==a&&r.broadcast(a.top,e,t)}}},{"./broadcast":33,"./constants":34}],33:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.broadcast=void 0;var r=e("./has-opener");n.broadcast=function e(t,n,i){var o,a=0;try{for(t.postMessage(n,i),r.hasOpener(t)&&e(t.opener.top,n,i);o=t.frames[a];)e(o,n,i),a++}catch(s){}}},{"./has-opener":36}],34:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.subscribers=n.childWindows=n.prefix=void 0,n.prefix="/*framebus*/",n.childWindows=[],n.subscribers={}},{}],35:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.dispatch=void 0;var r=e("./constants");n.dispatch=function(e,t,n,i,o){if(r.subscribers[e]&&r.subscribers[e][t]){var a=[];n&&a.push(n),i&&a.push(i);for(var s=0;s<r.subscribers[e][t].length;s++)r.subscribers[e][t][s].apply(o,a)}}},{"./constants":34}],36:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.hasOpener=void 0,n.hasOpener=function(e){return e.top===e&&null!=e.opener&&e.opener!==e&&!0!==e.opener.closed}},{}],37:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isntString=void 0,n.isntString=function(e){return"string"!==typeof e}},{}],38:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.onmessage=void 0;var r=e("./is-not-string"),i=e("./unpack-payload"),o=e("./dispatch"),a=e("./broadcast-to-child-windows");n.onmessage=function(e){if(!r.isntString(e.data)){var t=i.unpackPayload(e);if(t){var n=t.eventData,s=t.reply;o.dispatch("*",t.event,n,s,e),o.dispatch(e.origin,t.event,n,s,e),a.broadcastToChildWindows(e.data,t.origin,e.source)}}}},{"./broadcast-to-child-windows":32,"./dispatch":35,"./is-not-string":37,"./unpack-payload":42}],39:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.packagePayload=void 0;var r=e("./subscribe-replier"),i=e("./constants");n.packagePayload=function(e,t,n,o){var a,s={event:e,origin:t};"function"===typeof o&&(s.reply=r.subscribeReplier(o,t)),s.eventData=n;try{a=i.prefix+JSON.stringify(s)}catch(l){throw new Error("Could not stringify event: "+l.message)}return a}},{"./constants":34,"./subscribe-replier":40}],40:[function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.subscribeReplier=void 0;var i=e("../framebus"),o=r(e("@braintree/uuid"));n.subscribeReplier=function(e,t){var n=o.default();return i.target(t).on(n,(function r(o,a){e(o,a),i.target(t).off(n,r)})),n}},{"../framebus":29,"@braintree/uuid":24}],41:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.subscriptionArgsInvalid=void 0;var r=e("./is-not-string");n.subscriptionArgsInvalid=function(e,t,n){return!!r.isntString(e)||"function"!==typeof t||r.isntString(n)}},{"./is-not-string":37}],42:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.unpackPayload=void 0;var r=e("./constants"),i=e("./package-payload");n.unpackPayload=function(e){var t;if(e.data.slice(0,r.prefix.length)!==r.prefix)return!1;try{t=JSON.parse(e.data.slice(r.prefix.length))}catch(s){return!1}if(t.reply){var n=e.origin,o=e.source,a=t.reply;t.reply=function(e){if(o){var t=i.packagePayload(a,n,e);t&&o.postMessage(t,n)}}}return t}},{"./constants":34,"./package-payload":39}],43:[function(e,t,r){"use strict";var i=setTimeout;function o(e){return Boolean(e&&"undefined"!==typeof e.length)}function a(){}function l(e){if(!(this instanceof l))throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(e,this)}function c(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,l._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(i){return void d(t.promise,i)}u(t.promise,r)}else(1===e._state?u:d)(t.promise,e._value)}))):e._deferreds.push(t)}function u(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===s(t)||"function"===typeof t)){var n=t.then;if(t instanceof l)return e._state=3,e._value=t,void f(e);if("function"===typeof n)return void p((r=n,i=t,function(){r.apply(i,arguments)}),e)}e._state=1,e._value=t,f(e)}catch(o){d(e,o)}var r,i}function d(e,t){e._state=2,e._value=t,f(e)}function f(e){2===e._state&&0===e._deferreds.length&&l._immediateFn((function(){e._handled||l._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)c(e,e._deferreds[t]);e._deferreds=null}function h(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function p(e,t){var n=!1;try{e((function(e){n||(n=!0,u(t,e))}),(function(e){n||(n=!0,d(t,e))}))}catch(r){if(n)return;n=!0,d(t,r)}}l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){var n=new this.constructor(a);return c(this,new h(e,t,n)),n},l.prototype.finally=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))},l.all=function(e){return new l((function(t,n){if(!o(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function a(e,o){try{if(o&&("object"===s(o)||"function"===typeof o)){var l=o.then;if("function"===typeof l)return void l.call(o,(function(t){a(e,t)}),n)}r[e]=o,0===--i&&t(r)}catch(c){n(c)}}for(var l=0;l<r.length;l++)a(l,r[l])}))},l.resolve=function(e){return e&&"object"===s(e)&&e.constructor===l?e:new l((function(t){t(e)}))},l.reject=function(e){return new l((function(t,n){n(e)}))},l.race=function(e){return new l((function(t,n){if(!o(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=e.length;r<i;r++)l.resolve(e[r]).then(t,n)}))},l._immediateFn="function"===typeof n&&function(e){n(e)}||function(e){i(e,0)},l._unhandledRejectionFn=function(e){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.exports=l},{}],44:[function(e,t,n){"use strict";var r=e("./create-authorization-data"),i=e("./json-clone"),o=e("./constants");t.exports=function(e,t){var n,a=t?i(t):{},s=r(e.authorization).attrs,l=i(e.analyticsMetadata);for(n in a.braintreeLibraryVersion=o.BRAINTREE_LIBRARY_VERSION,a._meta)a._meta.hasOwnProperty(n)&&(l[n]=a._meta[n]);return a._meta=l,s.tokenizationKey?a.tokenizationKey=s.tokenizationKey:a.authorizationFingerprint=s.authorizationFingerprint,a}},{"./constants":53,"./create-authorization-data":57,"./json-clone":75}],45:[function(e,t,n){"use strict";var r=e("./promise"),i=e("./constants"),o=e("./add-metadata");t.exports={sendEvent:function(e,t,n){var a=Date.now();return r.resolve(e).then((function(e){var r=Date.now(),s=e.getConfiguration(),l=e._request,c=s.gatewayConfiguration.analytics.url,u={analytics:[{kind:i.ANALYTICS_PREFIX+t,isAsync:Math.floor(r/1e3)!==Math.floor(a/1e3),timestamp:a}]};l({url:c,method:"post",data:o(s,u),timeout:i.ANALYTICS_REQUEST_TIMEOUT_MS},n)}))}}},{"./add-metadata":44,"./constants":53,"./promise":78}],46:[function(e,t,n){"use strict";var r=e("@braintree/asset-loader/load-script");t.exports={loadScript:r}},{"@braintree/asset-loader/load-script":3}],47:[function(e,t,n){"use strict";var r="function"===typeof Object.assign?Object.assign:i;function i(e){var t,n,r;for(t=1;t<arguments.length;t++)for(r in n=arguments[t])n.hasOwnProperty(r)&&(e[r]=n[r]);return e}t.exports={assign:r,_assign:i}},{}],48:[function(e,t,n){"use strict";var r=e("./braintree-error"),i=e("./promise"),o=e("./errors"),a="3.68.0";t.exports={verify:function(e){var t,n,s;return e?(s=e.name,t=e.client,n=e.authorization,t||n?n||t.getVersion()===a?i.resolve():i.reject(new r({type:o.INCOMPATIBLE_VERSIONS.type,code:o.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+t.getVersion()+") and "+s+" (version 3.68.0) components must be from the same SDK version."})):i.reject(new r({type:o.INSTANTIATION_OPTION_REQUIRED.type,code:o.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating "+s+"."}))):i.reject(new r({type:o.INVALID_USE_OF_INTERNAL_FUNCTION.type,code:o.INVALID_USE_OF_INTERNAL_FUNCTION.code,message:"Options must be passed to basicComponentVerification function."}))}}},{"./braintree-error":49,"./errors":61,"./promise":78}],49:[function(e,t,n){"use strict";var r=e("./enumerate");function i(e){if(!i.types.hasOwnProperty(e.type))throw new Error(e.type+" is not a valid type.");if(!e.code)throw new Error("Error code required.");if(!e.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=e.code,this.message=e.message,this.type=e.type,this.details=e.details}i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i.types=r(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),i.findRootError=function(e){return e instanceof i&&e.details&&e.details.originalError?i.findRootError(e.details.originalError):e},t.exports=i},{"./enumerate":60}],50:[function(e,t,n){"use strict";var r=e("../is-verified-domain");t.exports={checkOrigin:function(e,t){var n,i=document.createElement("a");return i.href=t,n="https:"===i.protocol?i.host.replace(/:443$/,""):"http:"===i.protocol?i.host.replace(/:80$/,""):i.host,i.protocol+"//"+n===e||(i.href=e,r(e))}}},{"../is-verified-domain":74}],51:[function(e,t,n){"use strict";var r=e("../enumerate");t.exports=r(["CONFIGURATION_REQUEST"],"bus:")},{"../enumerate":60}],52:[function(e,t,n){"use strict";var r=e("framebus"),i=e("./events"),o=e("./check-origin").checkOrigin,a=e("../braintree-error");function s(e){if(e=e||{},this.channel=e.channel,!this.channel)throw new a({type:a.types.INTERNAL,code:"MISSING_CHANNEL_ID",message:"Channel ID must be specified."});this.merchantUrl=e.merchantUrl,this._isDestroyed=!1,this._isVerbose=!1,this._listeners=[],this._log("new bus on channel "+this.channel,[location.href])}s.prototype.on=function(e,t){var n,i,a=t,s=this;this._isDestroyed||(this.merchantUrl&&(a=function(){o(this.origin,s.merchantUrl)&&t.apply(this,arguments)}),n=this._namespaceEvent(e),(i=Array.prototype.slice.call(arguments))[0]=n,i[1]=a,this._log("on",i),r.on.apply(r,i),this._listeners.push({eventName:e,handler:a,originalHandler:t}))},s.prototype.emit=function(e){var t;this._isDestroyed||((t=Array.prototype.slice.call(arguments))[0]=this._namespaceEvent(e),this._log("emit",t),r.emit.apply(r,t))},s.prototype._offDirect=function(e){var t=Array.prototype.slice.call(arguments);this._isDestroyed||(t[0]=this._namespaceEvent(e),this._log("off",t),r.off.apply(r,t))},s.prototype.off=function(e,t){var n,r,i=t;if(!this._isDestroyed){if(this.merchantUrl)for(n=0;n<this._listeners.length;n++)(r=this._listeners[n]).originalHandler===t&&(i=r.handler);this._offDirect(e,i)}},s.prototype._namespaceEvent=function(e){return["braintree",this.channel,e].join(":")},s.prototype.teardown=function(){var e,t;for(t=0;t<this._listeners.length;t++)e=this._listeners[t],this._offDirect(e.eventName,e.handler);this._listeners.length=0,this._isDestroyed=!0},s.prototype._log=function(e,t){this._isVerbose&&console.log(e,t)},s.events=i,t.exports=s},{"../braintree-error":49,"./check-origin":50,"./events":51,framebus:30}],53:[function(e,t,n){"use strict";var r="3.68.0",i="web";t.exports={ANALYTICS_PREFIX:"web.",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:{production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},CLIENT_API_URLS:{production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",GRAPHQL_URLS:{production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"},INTEGRATION_TIMEOUT_MS:6e4,VERSION:r,INTEGRATION:"custom",SOURCE:"client",PLATFORM:i,BRAINTREE_LIBRARY_VERSION:"braintree/web/3.68.0"}},{}],54:[function(e,t,n){"use strict";var r=e("./braintree-error"),i=e("./errors");t.exports=function(e,t){t.forEach((function(t){e[t]=function(){throw new r({type:i.METHOD_CALLED_AFTER_TEARDOWN.type,code:i.METHOD_CALLED_AFTER_TEARDOWN.code,message:t+" cannot be called after teardown."})}}))}},{"./braintree-error":49,"./errors":61}],55:[function(e,t,n){"use strict";var r=e("./braintree-error");t.exports=function(e,t){return e instanceof r?e:new r({type:t.type,code:t.code,message:t.message,details:{originalError:e}})}},{"./braintree-error":49}],56:[function(e,t,n){"use strict";var r=e("./constants").ASSETS_URLS;t.exports={create:function(e){return r.production}}},{"./constants":53}],57:[function(e,t,n){"use strict";var r=e("../lib/vendor/polyfill").atob,i=e("../lib/constants").CLIENT_API_URLS;t.exports=function(e){var t,n,o,a,s={attrs:{},configUrl:""};return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(e)?(o=e.split("_"),a=o[0],n={merchantId:o.slice(2).join("_"),environment:a},s.environment=n.environment,s.attrs.tokenizationKey=e,s.configUrl=i[n.environment]+"/merchants/"+n.merchantId+"/client_api/v1/configuration"):(t=JSON.parse(r(e)),s.environment=t.environment,s.attrs.authorizationFingerprint=t.authorizationFingerprint,s.configUrl=t.configUrl,s.graphQL=t.graphQL),s}},{"../lib/constants":53,"../lib/vendor/polyfill":81}],58:[function(e,t,n){"use strict";var r=e("./braintree-error"),i=e("./promise"),o=e("./assets"),a=e("./errors"),s="3.68.0";t.exports={create:function(e){var t=i.resolve();return e.client?i.resolve(e.client):(window.braintree&&window.braintree.client||(t=o.loadScript({src:e.assetsUrl+"/web/3.68.0/js/client.min.js"}).catch((function(e){return i.reject(new r({type:a.CLIENT_SCRIPT_FAILED_TO_LOAD.type,code:a.CLIENT_SCRIPT_FAILED_TO_LOAD.code,message:a.CLIENT_SCRIPT_FAILED_TO_LOAD.message,details:{originalError:e}}))}))),t.then((function(){return window.braintree.client.VERSION!==s?i.reject(new r({type:a.INCOMPATIBLE_VERSIONS.type,code:a.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+window.braintree.client.VERSION+") and "+e.name+" (version 3.68.0) components must be from the same SDK version."})):window.braintree.client.create({authorization:e.authorization,debug:e.debug})})))}}},{"./assets":46,"./braintree-error":49,"./errors":61,"./promise":78}],59:[function(e,t,n){"use strict";t.exports=function(e){return function(){var t=arguments;setTimeout((function(){e.apply(null,t)}),1)}}},{}],60:[function(e,t,n){"use strict";t.exports=function(e,t){return t=null==t?"":t,e.reduce((function(e,n){return e[n]=t+n,e}),{})}},{}],61:[function(e,t,n){"use strict";var r=e("./braintree-error");t.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:r.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:r.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:r.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:r.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:r.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":49}],62:[function(e,t,n){"use strict";var r=e("./strategies/popup"),i=e("./strategies/popup-bridge"),o=e("./strategies/modal"),a=e("../../bus"),s=e("../shared/events"),l=e("../shared/errors"),c=e("../shared/constants"),u=e("@braintree/uuid"),d=e("@braintree/iframer"),f=e("../../braintree-error"),h=e("../shared/browser-detection"),p=e("../../is-https"),m=e("./../../assign").assign,g=["name","dispatchFrameUrl","openFrameUrl"];function v(){}function y(e){!function(e){if(!e)throw new Error("Valid configuration is required");if(g.forEach((function(t){if(!e.hasOwnProperty(t))throw new Error("A valid frame "+t+" must be provided")})),!/^[\w_]+$/.test(e.name))throw new Error("A valid frame name must be provided")}(e),this._serviceId=u().replace(/-/g,""),this._options={name:e.name+"_"+this._serviceId,dispatchFrameUrl:e.dispatchFrameUrl,openFrameUrl:e.openFrameUrl,height:e.height,width:e.width,top:e.top,left:e.left},this.state=e.state||{},this._bus=new a({channel:this._serviceId}),this._setBusEvents()}y.prototype.initialize=function(e){var t=function(){e(),this._bus.off(s.DISPATCH_FRAME_READY,t)}.bind(this);this._bus.on(s.DISPATCH_FRAME_READY,t),this._writeDispatchFrame()},y.prototype._writeDispatchFrame=function(){var e=c.DISPATCH_FRAME_NAME+"_"+this._serviceId,t=this._options.dispatchFrameUrl;this._dispatchFrame=d({"aria-hidden":!0,name:e,title:e,src:t,class:c.DISPATCH_FRAME_CLASS,height:0,width:0,style:{position:"absolute",left:"-9999px"}}),document.body.appendChild(this._dispatchFrame)},y.prototype._setBusEvents=function(){this._bus.on(s.DISPATCH_FRAME_REPORT,function(e,t){this._onCompleteCallback&&this._onCompleteCallback.call(null,e.err,e.payload),this._frame.close(),this._onCompleteCallback=null,t&&t()}.bind(this)),this._bus.on(a.events.CONFIGURATION_REQUEST,function(e){e(this.state)}.bind(this))},y.prototype.open=function(e,t){if(e=e||{},this._frame=this._getFrameForEnvironment(e),this._frame.initialize(t),!(this._frame instanceof i)){if(m(this.state,e.state),this._onCompleteCallback=t,this._frame.open(),this.isFrameClosed())return this._cleanupFrame(),void(t&&t(h.isIE()&&!p.isHTTPS()?new f(l.FRAME_SERVICE_FRAME_OPEN_FAILED_IE_BUG):new f(l.FRAME_SERVICE_FRAME_OPEN_FAILED)));this._pollForPopupClose()}},y.prototype.redirect=function(e){this._frame&&!this.isFrameClosed()&&this._frame.redirect(e)},y.prototype.close=function(){this.isFrameClosed()||this._frame.close()},y.prototype.focus=function(){this.isFrameClosed()||this._frame.focus()},y.prototype.createHandler=function(e){return e=e||{},{close:function(){e.beforeClose&&e.beforeClose(),this.close()}.bind(this),focus:function(){e.beforeFocus&&e.beforeFocus(),this.focus()}.bind(this)}},y.prototype.createNoopHandler=function(){return{close:v,focus:v}},y.prototype.teardown=function(){this.close(),this._dispatchFrame.parentNode.removeChild(this._dispatchFrame),this._dispatchFrame=null,this._cleanupFrame()},y.prototype.isFrameClosed=function(){return null==this._frame||this._frame.isClosed()},y.prototype._cleanupFrame=function(){this._frame=null,clearInterval(this._popupInterval),this._popupInterval=null},y.prototype._pollForPopupClose=function(){return this._popupInterval=setInterval(function(){this.isFrameClosed()&&(this._cleanupFrame(),this._onCompleteCallback&&this._onCompleteCallback(new f(l.FRAME_SERVICE_FRAME_CLOSED)))}.bind(this),c.POPUP_POLL_INTERVAL),this._popupInterval},y.prototype._getFrameForEnvironment=function(e){var t=h.supportsPopups(),n=Boolean(window.popupBridge),a=m({},this._options,e);return n?new i(a):t?new r(a):new o(a)},t.exports=y},{"../../braintree-error":49,"../../bus":52,"../../is-https":73,"../shared/browser-detection":69,"../shared/constants":70,"../shared/errors":71,"../shared/events":72,"./../../assign":47,"./strategies/modal":64,"./strategies/popup":67,"./strategies/popup-bridge":65,"@braintree/iframer":20,"@braintree/uuid":24}],63:[function(e,t,n){"use strict";var r=e("./frame-service");t.exports={create:function(e,t){var n=new r(e);n.initialize((function(){t(n)}))}}},{"./frame-service":62}],64:[function(e,t,n){"use strict";var r=e("@braintree/iframer"),i=e("../../../assign").assign,o=e("../../shared/browser-detection"),a={position:"fixed",top:0,left:0,bottom:0,padding:0,margin:0,border:0,outline:"none",zIndex:20001,background:"#FFFFFF"};function s(){}function l(e){this._closed=null,this._frame=null,this._options=e||{},this._container=this._options.container||document.body}l.prototype.initialize=s,l.prototype.open=function(){var e={src:this._options.openFrameUrl,name:this._options.name,scrolling:"yes",height:"100%",width:"100%",style:i({},a),title:"Lightbox Frame"};o.isIos()?(o.isIosWKWebview()&&(this._lockScrolling(),e.style={}),this._el=document.createElement("div"),i(this._el.style,a,{height:"100%",width:"100%",overflow:"auto","-webkit-overflow-scrolling":"touch"}),this._frame=r(e),this._el.appendChild(this._frame)):this._el=this._frame=r(e),this._closed=!1,this._container.appendChild(this._el)},l.prototype.focus=s,l.prototype.close=function(){this._container.removeChild(this._el),this._frame=null,this._closed=!0,o.isIosWKWebview()&&this._unlockScrolling()},l.prototype.isClosed=function(){return Boolean(this._closed)},l.prototype.redirect=function(e){this._frame.src=e},l.prototype._unlockScrolling=function(){document.body.style.overflow=this._savedBodyProperties.overflowStyle,document.body.style.position=this._savedBodyProperties.positionStyle,window.scrollTo(this._savedBodyProperties.left,this._savedBodyProperties.top),delete this._savedBodyProperties},l.prototype._lockScrolling=function(){var e=document.documentElement;this._savedBodyProperties={left:(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0),top:(window.pageYOffset||e.scrollTop)-(e.clientTop||0),overflowStyle:document.body.style.overflow,positionStyle:document.body.style.position},document.body.style.overflow="hidden",document.body.style.position="fixed",window.scrollTo(0,0)},t.exports=l},{"../../../assign":47,"../../shared/browser-detection":69,"@braintree/iframer":20}],65:[function(e,t,n){"use strict";var r=e("../../../braintree-error"),i=e("../../shared/errors");function o(){}function a(e){this._closed=null,this._options=e}a.prototype.initialize=function(e){var t=this;window.popupBridge.onComplete=function(n,o){var a=!o&&!n;t._closed=!0,n||a?e(new r(i.FRAME_SERVICE_FRAME_CLOSED)):e(null,o)}},a.prototype.open=function(e){var t;t=(e=e||{}).openFrameUrl||this._options.openFrameUrl,this._closed=!1,window.popupBridge.open(t)},a.prototype.focus=o,a.prototype.close=o,a.prototype.isClosed=function(){return Boolean(this._closed)},a.prototype.redirect=function(e){this.open({openFrameUrl:e})},t.exports=a},{"../../../braintree-error":49,"../../shared/errors":71}],66:[function(e,t,n){"use strict";var r=e("../../../shared/constants"),i=e("./position");function o(e,t,n){return"undefined"!==typeof t?t:i[e](n)}t.exports=function(e){var t=e.height||r.DEFAULT_POPUP_HEIGHT,n=e.width||r.DEFAULT_POPUP_WIDTH,i=o("top",e.top,t),a=o("left",e.left,n);return[r.POPUP_BASE_OPTIONS,"height="+t,"width="+n,"top="+i,"left="+a].join(",")}},{"../../../shared/constants":70,"./position":68}],67:[function(e,t,n){"use strict";var r=e("./compose-options");function i(e){this._frame=null,this._options=e||{},this.open()}i.prototype.initialize=function(){},i.prototype.open=function(){this._frame=window.open(this._options.openFrameUrl,this._options.name,r(this._options))},i.prototype.focus=function(){this._frame.focus()},i.prototype.close=function(){this._frame.closed||this._frame.close()},i.prototype.isClosed=function(){return!this._frame||Boolean(this._frame.closed)},i.prototype.redirect=function(e){this._frame.location.href=e},t.exports=i},{"./compose-options":66}],68:[function(e,t,n){"use strict";function r(e,t,n){return(e-t)/2+n}t.exports={top:function(e){return r(window.outerHeight||document.documentElement.clientHeight,e,null==window.screenY?window.screenTop:window.screenY)},left:function(e){return r(window.outerWidth||document.documentElement.clientWidth,e,null==window.screenX?window.screenLeft:window.screenX)},center:r}},{}],69:[function(e,t,n){"use strict";t.exports={isIos:e("@braintree/browser-detection/is-ios"),isIosWKWebview:e("@braintree/browser-detection/is-ios-wkwebview"),isIE:e("@braintree/browser-detection/is-ie"),supportsPopups:e("@braintree/browser-detection/supports-popups")}},{"@braintree/browser-detection/is-ie":15,"@braintree/browser-detection/is-ios":17,"@braintree/browser-detection/is-ios-wkwebview":16,"@braintree/browser-detection/supports-popups":18}],70:[function(e,t,n){"use strict";t.exports={DISPATCH_FRAME_NAME:"dispatch",DISPATCH_FRAME_CLASS:"braintree-dispatch-frame",POPUP_BASE_OPTIONS:"resizable,scrollbars",DEFAULT_POPUP_WIDTH:450,DEFAULT_POPUP_HEIGHT:535,POPUP_POLL_INTERVAL:100,POPUP_CLOSE_TIMEOUT:100}},{}],71:[function(e,t,n){"use strict";var r=e("../../braintree-error");t.exports={FRAME_SERVICE_FRAME_CLOSED:{type:r.types.INTERNAL,code:"FRAME_SERVICE_FRAME_CLOSED",message:"Frame closed before tokenization could occur."},FRAME_SERVICE_FRAME_OPEN_FAILED:{type:r.types.INTERNAL,code:"FRAME_SERVICE_FRAME_OPEN_FAILED",message:"Frame failed to open."},FRAME_SERVICE_FRAME_OPEN_FAILED_IE_BUG:{type:r.types.INTERNAL,code:"FRAME_SERVICE_FRAME_OPEN_FAILED_IE_BUG",message:"Could not open frame. This may be due to a bug in IE browsers when attempting to open an HTTPS page from a HTTP page. https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/11324352/"}}},{"../../braintree-error":49}],72:[function(e,t,n){"use strict";var r=e("../../enumerate");t.exports=r(["DISPATCH_FRAME_READY","DISPATCH_FRAME_REPORT"],"frameService:")},{"../../enumerate":60}],73:[function(e,t,n){"use strict";t.exports={isHTTPS:function(e){return"https:"===(e=e||window.location.protocol)}}},{}],74:[function(e,t,n){"use strict";var r,i={"paypal.com":1,"braintreepayments.com":1,"braintreegateway.com":1,"braintree-api.com":1};t.exports=function(e){var t;return e=e.toLowerCase(),!!/^https:/.test(e)&&((r=r||document.createElement("a")).href=e,t=r.hostname.split(".").slice(-2).join("."),i.hasOwnProperty(t))}},{}],75:[function(e,t,n){"use strict";t.exports=function(e){return JSON.parse(JSON.stringify(e))}},{}],76:[function(e,t,n){"use strict";t.exports=function(e){return Object.keys(e).filter((function(t){return"function"===typeof e[t]}))}},{}],77:[function(e,t,n){"use strict";t.exports=function(e){var t=!1;return function(){t||(t=!0,e.apply(null,arguments))}}},{}],78:[function(e,t,n){"use strict";var r=e("promise-polyfill"),i=e("@braintree/extended-promise"),o="undefined"!==typeof Promise?Promise:r;i.suppressUnhandledPromiseMessage=!0,i.setPromise(o),t.exports=o},{"@braintree/extended-promise":19,"promise-polyfill":43}],79:[function(e,t,n){"use strict";function r(e,t){var n,i,o,a,l=[];for(o in e)e.hasOwnProperty(o)&&(i=e[o],n=t?(a=e)&&"object"===s(a)&&"number"===typeof a.length&&"[object Array]"===Object.prototype.toString.call(a)?t+"[]":t+"["+o+"]":o,"object"===s(i)?l.push(r(i,n)):l.push(encodeURIComponent(n)+"="+encodeURIComponent(i)));return l.join("&")}t.exports={parse:function(e){return e=e||window.location.href,/\?/.test(e)?e.replace(/#.*$/,"").replace(/^.*\?/,"").split("&").reduce((function(e,t){var n=t.split("="),r=decodeURIComponent(n[0]),i=decodeURIComponent(n[1]);return e[r]=i,e}),{}):{}},stringify:r,queryify:function(e,t){return e=e||"",null!=t&&"object"===s(t)&&function(e){var t;for(t in e)if(e.hasOwnProperty(t))return!0;return!1}(t)&&(e+=-1===e.indexOf("?")?"?":"",e+=-1!==e.indexOf("=")?"&":"",e+=r(t)),e}}},{}],80:[function(e,t,n){"use strict";t.exports=function(e){return e?"":".min"}},{}],81:[function(e,t,n){"use strict";var r="function"===typeof atob?window.atob:i;function i(e){var t,n,r,i,o,a,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="";if(!new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$").test(e))throw new Error("Non base64 encoded input passed to window.atob polyfill");a=0;do{t=(63&s.indexOf(e.charAt(a++)))<<2|(i=s.indexOf(e.charAt(a++)))>>4&3,n=(15&i)<<4|(o=s.indexOf(e.charAt(a++)))>>2&15,r=(3&o)<<6|63&s.indexOf(e.charAt(a++)),l+=String.fromCharCode(t)+(n?String.fromCharCode(n):"")+(r?String.fromCharCode(r):"")}while(a<e.length);return l}t.exports={atob:function(e){return r.call(window,e)},_atob:i}},{}],82:[function(e,t,n){"use strict";var r=e("../../lib/frame-service/external"),i=e("../../lib/braintree-error"),o=e("../../lib/convert-to-braintree-error"),a=e("../../lib/use-min"),s=e("../../lib/once"),l="3.68.0",c=e("../shared/constants"),u=e("../../lib/constants").INTEGRATION_TIMEOUT_MS,d=e("../../lib/analytics"),f=e("../../lib/methods"),h=e("../../lib/deferred"),p=e("../shared/errors"),m=e("../../lib/convert-methods-to-error"),g=e("../../lib/querystring"),v=e("../../lib/promise"),y=e("@braintree/wrap-promise");function b(e){this._client=e.client,this._assetsUrl=e.client.getConfiguration().gatewayConfiguration.paypal.assetsUrl+"/web/"+l,this._isDebug=e.client.getConfiguration().isDebug,this._loadingFrameUrl=this._assetsUrl+"/html/paypal-landing-frame"+a(this._isDebug)+".html",this._authorizationInProgress=!1}b.prototype._initialize=function(){var e=this,t=this._client,n=setTimeout((function(){d.sendEvent(t,"paypal.load.timed-out")}),u);return new v((function(i){r.create({name:c.LANDING_FRAME_NAME,dispatchFrameUrl:e._assetsUrl+"/html/dispatch-frame"+a(e._isDebug)+".html",openFrameUrl:e._loadingFrameUrl},(function(r){e._frameService=r,clearTimeout(n),d.sendEvent(t,"paypal.load.succeeded"),i(e)}))}))},b.prototype.tokenize=function(e,t){var n,r,o=this,a=this._client;return t&&(t=s(h(t))),e&&c.FLOW_ENDPOINTS.hasOwnProperty(e.flow)?(n=new v((function(t,n){o._authorizationInProgress?(d.sendEvent(a,"paypal.tokenization.error.already-opened"),n(new i(p.PAYPAL_TOKENIZATION_REQUEST_ACTIVE))):(o._authorizationInProgress=!0,window.popupBridge||d.sendEvent(a,"paypal.tokenization.opened"),!0===e.offerCredit&&d.sendEvent(a,"paypal.credit.offered"),o._navigateFrameToAuth(e).catch(n),o._frameService.open({},o._createFrameServiceCallback(e,t,n)))})),t?(n.then((function(e){t(null,e)})).catch(t),this._frameService.createHandler({beforeClose:function(){d.sendEvent(a,"paypal.tokenization.closed.by-merchant")}})):n):(r=new i(p.PAYPAL_FLOW_OPTION_REQUIRED),t?(t(r),this._frameService.createNoopHandler()):v.reject(r))},b.prototype._createFrameServiceCallback=function(e,t,n){var r=this,o=this._client;return window.popupBridge?function(a,s){var l=s&&s.path&&"/cancel"===s.path.substring(0,7);r._authorizationInProgress=!1,a||l?(d.sendEvent(o,"paypal.tokenization.closed-popupbridge.by-user"),n(new i(p.PAYPAL_POPUP_CLOSED))):s&&r._tokenizePayPal(e,s.queryItems).then(t).catch(n)}:function(a,s){r._authorizationInProgress=!1,a?"FRAME_SERVICE_FRAME_CLOSED"===a.code?(d.sendEvent(o,"paypal.tokenization.closed.by-user"),n(new i(p.PAYPAL_POPUP_CLOSED))):a.code&&a.code.indexOf("FRAME_SERVICE_FRAME_OPEN_FAILED")>-1&&n(new i({code:p.PAYPAL_POPUP_OPEN_FAILED.code,type:p.PAYPAL_POPUP_OPEN_FAILED.type,message:p.PAYPAL_POPUP_OPEN_FAILED.message,details:{originalError:a}})):s&&r._tokenizePayPal(e,s).then(t).catch(n)}},b.prototype._tokenizePayPal=function(e,t){var n=this,r=this._client;return window.popupBridge||this._frameService.redirect(this._loadingFrameUrl),r.request({endpoint:"payment_methods/paypal_accounts",method:"post",data:this._formatTokenizeData(e,t)}).then((function(e){var t=n._formatTokenizePayload(e);return window.popupBridge?d.sendEvent(r,"paypal.tokenization.success-popupbridge"):d.sendEvent(r,"paypal.tokenization.success"),t.creditFinancingOffered&&d.sendEvent(r,"paypal.credit.accepted"),n._frameService.close(),t})).catch((function(e){return window.popupBridge?d.sendEvent(r,"paypal.tokenization.failed-popupbridge"):d.sendEvent(r,"paypal.tokenization.failed"),n._frameService.close(),v.reject(o(e,{type:p.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.type,code:p.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.code,message:p.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.message}))}))},b.prototype._formatTokenizePayload=function(e){var t,n={};return e.paypalAccounts&&(n=e.paypalAccounts[0]),t={nonce:n.nonce,details:{},type:n.type},n.details&&n.details.payerInfo&&(t.details=n.details.payerInfo),n.details&&n.details.creditFinancingOffered&&(t.creditFinancingOffered=n.details.creditFinancingOffered),t},b.prototype._formatTokenizeData=function(e,t){var n=this._client.getConfiguration(),r=n.gatewayConfiguration,i="TOKENIZATION_KEY"===n.authorizationType,o={paypalAccount:{correlationId:t.ba_token||t.token,options:{validate:"vault"===e.flow&&!i}}};return t.ba_token?o.paypalAccount.billingAgreementToken=t.ba_token:(o.paypalAccount.paymentToken=t.paymentId,o.paypalAccount.payerId=t.PayerID,o.paypalAccount.unilateral=r.paypal.unvettedMerchant,e.hasOwnProperty("intent")&&(o.paypalAccount.intent=e.intent)),o},b.prototype._navigateFrameToAuth=function(e){var t=this,n=this._client,r="paypal_hermes/"+c.FLOW_ENDPOINTS[e.flow];return n.request({endpoint:r,method:"post",data:this._formatPaymentResourceData(e)}).then((function(r){var i;i="checkout"===e.flow?r.paymentResource.redirectUrl:r.agreementSetup.approvalUrl,"commit"===e.useraction&&(i=g.queryify(i,{useraction:"commit"})),window.popupBridge&&d.sendEvent(n,"paypal.tokenization.opened-popupbridge"),t._frameService.redirect(i)})).catch((function(e){var n=e.details&&e.details.httpStatus;return t._frameService.close(),t._authorizationInProgress=!1,422===n?v.reject(new i({type:p.PAYPAL_INVALID_PAYMENT_OPTION.type,code:p.PAYPAL_INVALID_PAYMENT_OPTION.code,message:p.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{originalError:e}})):v.reject(o(e,{type:p.PAYPAL_FLOW_FAILED.type,code:p.PAYPAL_FLOW_FAILED.code,message:p.PAYPAL_FLOW_FAILED.message}))}))},b.prototype._formatPaymentResourceData=function(e){var t,n=this._client.getConfiguration().gatewayConfiguration,r=this._frameService._serviceId,i={returnUrl:n.paypal.assetsUrl+"/web/3.68.0/html/redirect-frame"+a(this._isDebug)+".html?channel="+r,cancelUrl:n.paypal.assetsUrl+"/web/3.68.0/html/cancel-frame"+a(this._isDebug)+".html?channel="+r,offerPaypalCredit:!0===e.offerCredit,experienceProfile:{brandName:e.displayName||n.paypal.displayName,localeCode:e.locale,noShipping:(!e.enableShippingAddress).toString(),addressOverride:!1===e.shippingAddressEditable,landingPageType:e.landingPageType}};if(window.popupBridge&&"function"===typeof window.popupBridge.getReturnUrlPrefix&&(i.returnUrl=window.popupBridge.getReturnUrlPrefix()+"return",i.cancelUrl=window.popupBridge.getReturnUrlPrefix()+"cancel"),"checkout"===e.flow)for(t in i.amount=e.amount,i.currencyIsoCode=e.currency,e.hasOwnProperty("intent")&&(i.intent=e.intent),e.shippingAddressOverride)e.shippingAddressOverride.hasOwnProperty(t)&&(i[t]=e.shippingAddressOverride[t]);else i.shippingAddress=e.shippingAddressOverride,e.billingAgreementDescription&&(i.description=e.billingAgreementDescription);return i},b.prototype.closeWindow=function(){this._authorizationInProgress&&d.sendEvent(this._client,"paypal.tokenize.closed.by-merchant"),this._frameService.close()},b.prototype.focusWindow=function(){this._frameService.focus()},b.prototype.teardown=y((function(){var e=this;return e._frameService.teardown(),m(e,f(b.prototype)),d.sendEvent(e._client,"paypal.teardown-completed"),v.resolve()})),t.exports=b},{"../../lib/analytics":45,"../../lib/braintree-error":49,"../../lib/constants":53,"../../lib/convert-methods-to-error":54,"../../lib/convert-to-braintree-error":55,"../../lib/deferred":59,"../../lib/frame-service/external":63,"../../lib/methods":76,"../../lib/once":77,"../../lib/promise":78,"../../lib/querystring":79,"../../lib/use-min":80,"../shared/constants":84,"../shared/errors":85,"@braintree/wrap-promise":28}],83:[function(e,t,n){"use strict";var r=e("../lib/analytics"),i=e("../lib/basic-component-verification"),o=e("../lib/create-deferred-client"),a=e("../lib/create-assets-url"),s=e("../lib/braintree-error"),l=e("./shared/errors"),c=e("./external/paypal"),u=e("@braintree/wrap-promise"),d=e("../lib/promise");t.exports={create:u((function(e){var t="PayPal";return i.verify({name:t,client:e.client,authorization:e.authorization}).then((function(){return o.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:a.create(e.authorization),name:t})})).then((function(t){var n=t.getConfiguration();return e.client=t,!0!==n.gatewayConfiguration.paypalEnabled?d.reject(new s(l.PAYPAL_NOT_ENABLED)):(r.sendEvent(e.client,"paypal.initialized"),new c(e)._initialize())}))})),isSupported:function(){return!0},VERSION:"3.68.0"}},{"../lib/analytics":45,"../lib/basic-component-verification":48,"../lib/braintree-error":49,"../lib/create-assets-url":56,"../lib/create-deferred-client":58,"../lib/promise":78,"./external/paypal":82,"./shared/errors":85,"@braintree/wrap-promise":28}],84:[function(e,t,n){"use strict";t.exports={LANDING_FRAME_NAME:"braintreepaypallanding",FLOW_ENDPOINTS:{checkout:"create_payment_resource",vault:"setup_billing_agreement"}}},{}],85:[function(e,t,n){"use strict";var r=e("../../lib/braintree-error");t.exports={PAYPAL_NOT_ENABLED:{type:r.types.MERCHANT,code:"PAYPAL_NOT_ENABLED",message:"PayPal is not enabled for this merchant."},PAYPAL_TOKENIZATION_REQUEST_ACTIVE:{type:r.types.MERCHANT,code:"PAYPAL_TOKENIZATION_REQUEST_ACTIVE",message:"Another tokenization request is active."},PAYPAL_ACCOUNT_TOKENIZATION_FAILED:{type:r.types.NETWORK,code:"PAYPAL_ACCOUNT_TOKENIZATION_FAILED",message:"Could not tokenize user's PayPal account."},PAYPAL_FLOW_FAILED:{type:r.types.NETWORK,code:"PAYPAL_FLOW_FAILED",message:"Could not initialize PayPal flow."},PAYPAL_FLOW_OPTION_REQUIRED:{type:r.types.MERCHANT,code:"PAYPAL_FLOW_OPTION_REQUIRED",message:"PayPal flow property is invalid or missing."},PAYPAL_POPUP_OPEN_FAILED:{type:r.types.MERCHANT,code:"PAYPAL_POPUP_OPEN_FAILED",message:"PayPal popup failed to open, make sure to tokenize in response to a user action."},PAYPAL_POPUP_CLOSED:{type:r.types.CUSTOMER,code:"PAYPAL_POPUP_CLOSED",message:"Customer closed PayPal popup before authorizing."},PAYPAL_INVALID_PAYMENT_OPTION:{type:r.types.MERCHANT,code:"PAYPAL_INVALID_PAYMENT_OPTION",message:"PayPal payment options are invalid."}}},{"../../lib/braintree-error":49}]},{},[83])(83)},"object"===s(t)&&"undefined"!==typeof e?e.exports=a():(i=[],void 0===(o="function"===typeof(r=a)?r.apply(t,i):r)||(e.exports=o))}).call(this,n(185).setImmediate)},function(e,t,n){(function(n){var r,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return i(t[a][1][e]||e)}),c,c.exports,e,t,n,r)}return n[a].exports}for(var o=!1,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.PromiseGlobal=void 0;var i=r(e("promise-polyfill")),o="undefined"!==typeof Promise?Promise:i.default;n.PromiseGlobal=o},{"promise-polyfill":9}],2:[function(e,t,n){"use strict";var r=e("./lib/promise"),i={};function o(e){var t,n=JSON.stringify(e);if(!e.forceScriptReload&&(t=i[n]))return t;var o=document.createElement("script"),a=e.dataAttributes||{},s=e.container||document.head;return o.src=e.src,o.id=e.id||"",o.async=!0,e.crossorigin&&o.setAttribute("crossorigin",""+e.crossorigin),Object.keys(a).forEach((function(e){o.setAttribute("data-"+e,""+a[e])})),t=new r.PromiseGlobal((function(t,n){o.addEventListener("load",(function(){t(o)})),o.addEventListener("error",(function(){n(new Error(e.src+" failed to load."))})),o.addEventListener("abort",(function(){n(new Error(e.src+" has aborted."))})),s.appendChild(o)})),i[n]=t,t}o.clearCache=function(){i={}},t.exports=o},{"./lib/promise":1}],3:[function(e,t,n){t.exports=e("./dist/load-script")},{"./dist/load-script":2}],4:[function(e,t,n){"use strict";var r="undefined"!==typeof Promise?Promise:null,i=function(){function e(t){var n=this;"function"!==typeof t?(this._promise=new e.Promise((function(e,t){n._resolveFunction=e,n._rejectFunction=t})),t=t||{},this._onResolve=t.onResolve||e.defaultOnResolve,this._onReject=t.onReject||e.defaultOnReject,e.shouldCatchExceptions(t)&&this._promise.catch((function(){})),this._resetState()):this._promise=new e.Promise(t)}return e.defaultOnResolve=function(t){return e.Promise.resolve(t)},e.defaultOnReject=function(t){return e.Promise.reject(t)},e.setPromise=function(t){e.Promise=t},e.shouldCatchExceptions=function(t){return t.hasOwnProperty("suppressUnhandledPromiseMessage")?Boolean(t.suppressUnhandledPromiseMessage):Boolean(e.suppressUnhandledPromiseMessage)},e.all=function(t){return e.Promise.all(t)},e.allSettled=function(t){return e.Promise.allSettled(t)},e.race=function(t){return e.Promise.race(t)},e.reject=function(t){return e.Promise.reject(t)},e.resolve=function(t){return e.Promise.resolve(t)},e.prototype.then=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this._promise).then.apply(e,t)},e.prototype.catch=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this._promise).catch.apply(e,t)},e.prototype.resolve=function(t){var n=this;return this.isFulfilled||(this._setResolved(),e.Promise.resolve().then((function(){return n._onResolve(t)})).then((function(e){n._resolveFunction(e)})).catch((function(e){n._resetState(),n.reject(e)}))),this},e.prototype.reject=function(t){var n=this;return this.isFulfilled||(this._setRejected(),e.Promise.resolve().then((function(){return n._onReject(t)})).then((function(e){n._setResolved(),n._resolveFunction(e)})).catch((function(e){return n._rejectFunction(e)}))),this},e.prototype._resetState=function(){this.isFulfilled=!1,this.isResolved=!1,this.isRejected=!1},e.prototype._setResolved=function(){this.isFulfilled=!0,this.isResolved=!0,this.isRejected=!1},e.prototype._setRejected=function(){this.isFulfilled=!0,this.isResolved=!1,this.isRejected=!0},e.Promise=r,e}();t.exports=i},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.deferred=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];setTimeout((function(){try{e.apply(void 0,t)}catch(n){console.log("Error in callback function"),console.log(n)}}),1)}}},{}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.once=function(e){var t=!1;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];t||(t=!0,e.apply(void 0,n))}}},{}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.promiseOrCallback=function(e,t){if(!t)return e;e.then((function(e){return t(null,e)})).catch((function(e){return t(e)}))}},{}],8:[function(e,t,n){"use strict";var r=e("./lib/deferred"),i=e("./lib/once"),o=e("./lib/promise-or-callback");function a(e){return function(){for(var t,n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var s=n[n.length-1];return"function"===typeof s&&(t=n.pop(),t=i.once(r.deferred(t))),o.promiseOrCallback(e.apply(this,n),t)}}a.wrapPrototype=function(e,t){void 0===t&&(t={});var n=t.ignoreMethods||[],r=!0===t.transformPrivateMethods;return Object.getOwnPropertyNames(e.prototype).filter((function(t){var i,o="constructor"!==t&&"function"===typeof e.prototype[t],a=-1===n.indexOf(t);return i=!!r||"_"!==t.charAt(0),o&&i&&a})).forEach((function(t){var n=e.prototype[t];e.prototype[t]=a(n)})),e},t.exports=a},{"./lib/deferred":5,"./lib/once":6,"./lib/promise-or-callback":7}],9:[function(e,t,r){"use strict";var i=setTimeout;function o(e){return Boolean(e&&"undefined"!==typeof e.length)}function a(){}function l(e){if(!(this instanceof l))throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(e,this)}function c(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,l._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(i){return void d(t.promise,i)}u(t.promise,r)}else(1===e._state?u:d)(t.promise,e._value)}))):e._deferreds.push(t)}function u(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===s(t)||"function"===typeof t)){var n=t.then;if(t instanceof l)return e._state=3,e._value=t,void f(e);if("function"===typeof n)return void p((r=n,i=t,function(){r.apply(i,arguments)}),e)}e._state=1,e._value=t,f(e)}catch(o){d(e,o)}var r,i}function d(e,t){e._state=2,e._value=t,f(e)}function f(e){2===e._state&&0===e._deferreds.length&&l._immediateFn((function(){e._handled||l._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)c(e,e._deferreds[t]);e._deferreds=null}function h(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function p(e,t){var n=!1;try{e((function(e){n||(n=!0,u(t,e))}),(function(e){n||(n=!0,d(t,e))}))}catch(r){if(n)return;n=!0,d(t,r)}}l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){var n=new this.constructor(a);return c(this,new h(e,t,n)),n},l.prototype.finally=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))},l.all=function(e){return new l((function(t,n){if(!o(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function a(e,o){try{if(o&&("object"===s(o)||"function"===typeof o)){var l=o.then;if("function"===typeof l)return void l.call(o,(function(t){a(e,t)}),n)}r[e]=o,0===--i&&t(r)}catch(c){n(c)}}for(var l=0;l<r.length;l++)a(l,r[l])}))},l.resolve=function(e){return e&&"object"===s(e)&&e.constructor===l?e:new l((function(t){t(e)}))},l.reject=function(e){return new l((function(t,n){n(e)}))},l.race=function(e){return new l((function(t,n){if(!o(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=e.length;r<i;r++)l.resolve(e[r]).then(t,n)}))},l._immediateFn="function"===typeof n&&function(e){n(e)}||function(e){i(e,0)},l._unhandledRejectionFn=function(e){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.exports=l},{}],10:[function(e,t,n){"use strict";var r=e("../lib/braintree-error");t.exports={DATA_COLLECTOR_KOUNT_NOT_ENABLED:{type:r.types.MERCHANT,code:"DATA_COLLECTOR_KOUNT_NOT_ENABLED",message:"Kount is not enabled for this merchant."},DATA_COLLECTOR_KOUNT_ERROR:{type:r.types.MERCHANT,code:"DATA_COLLECTOR_KOUNT_ERROR"},DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS:{type:r.types.MERCHANT,code:"DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS",message:"Data Collector must be created with Kount and/or PayPal."}}},{"../lib/braintree-error":17}],11:[function(e,t,n){"use strict";var r,i=e("../lib/constants").FRAUDNET_FNCLS,o=e("../lib/constants").FRAUDNET_SOURCE,a=e("../lib/constants").FRAUDNET_URL,s=e("../lib/assets").loadScript,l=e("../lib/promise");function c(){}function u(e){e&&e.parentNode&&e.parentNode.removeChild(e)}c.prototype.initialize=function(){var e,t,n=this;return this.sessionId=r=function(){var e,t="";for(e=0;e<32;e++)t+=Math.floor(16*Math.random()).toString(16);return t}(),this._beaconId=(e=this.sessionId,t=(new Date).getTime()/1e3,"https://b.stats.paypal.com/counter.cgi?i=127.0.0.1&p="+e+"&t="+t+"&a=14"),this._parameterBlock=function(e,t){var n=document.body.appendChild(document.createElement("script"));return n.type="application/json",n.setAttribute("fncls",i),n.text=JSON.stringify({f:e,s:o,b:t}),n}(this.sessionId,this._beaconId),s({src:a}).then((function(e){return n._thirdPartyBlock=e,n})).catch((function(){return null}))},c.prototype.teardown=function(){u(document.querySelector('iframe[title="ppfniframe"]')),u(document.querySelector('iframe[title="pbf"]')),u(this._parameterBlock),u(this._thirdPartyBlock)},t.exports={setup:function(){var e=new c;return r?(e.sessionId=r,l.resolve(e)):e.initialize()},clearSessionIdCache:function(){r=null}}},{"../lib/assets":15,"../lib/constants":19,"../lib/promise":26}],12:[function(e,t,n){"use strict";var r=e("./kount"),i=e("./fraudnet"),o=e("../lib/braintree-error"),a=e("../lib/basic-component-verification"),s=e("../lib/create-deferred-client"),l=e("../lib/create-assets-url"),c=e("../lib/methods"),u=e("../lib/convert-methods-to-error"),d=e("../lib/promise"),f=e("@braintree/wrap-promise"),h=e("./errors");t.exports={create:f((function(e){var t,n="Data Collector",p={_instances:[]};return a.verify({name:n,client:e.client,authorization:e.authorization}).then((function(){return p._instantiatedWithAClient=!e.useDeferredClient,p._createPromise=s.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:l.create(e.authorization),name:n}).then((function(n){var i,a=n.getConfiguration();if(!0===e.kount&&a.gatewayConfiguration.kount){try{i=r.setup({environment:a.gatewayConfiguration.environment,merchantId:a.gatewayConfiguration.kount.kountMerchantId})}catch(s){return d.reject(new o({type:h.DATA_COLLECTOR_KOUNT_ERROR.type,code:h.DATA_COLLECTOR_KOUNT_ERROR.code,message:s.message}))}t=i.deviceData,p._instances.push(i)}else t={};return d.resolve()})).then((function(){return i.setup().then((function(e){e&&(t.correlation_id=e.sessionId,p._instances.push(e))}))})).then((function(){return 0===p._instances.length?d.reject(new o(h.DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS)):(p.deviceData=JSON.stringify(t),p.rawDeviceData=t,p)})),p.teardown=function(e){return f((function(){return e._createPromise.then((function(){e._instances.forEach((function(e){e&&e.teardown()})),u(e,c(e))}))}))}(p),p.getDeviceData=function(e){return f((function(t){return t=t||{},e._createPromise.then((function(){return t.raw?d.resolve(e.rawDeviceData):d.resolve(e.deviceData)}))}))}(p),p._instantiatedWithAClient?p._createPromise:p}))})),VERSION:"3.68.0"}},{"../lib/basic-component-verification":16,"../lib/braintree-error":17,"../lib/convert-methods-to-error":20,"../lib/create-assets-url":21,"../lib/create-deferred-client":22,"../lib/methods":25,"../lib/promise":26,"./errors":10,"./fraudnet":11,"./kount":13,"@braintree/wrap-promise":8}],13:[function(e,t,n){"use strict";var r=e("./vendor/sjcl"),i=e("../lib/camel-case-to-snake-case"),o="https://assets.qa.braintreepayments.com/data",a={development:o,qa:o,sandbox:"https://assets.braintreegateway.com/sandbox/data",production:"https://assets.braintreegateway.com/data"},s={};function l(e){var t=l.getCachedDeviceData(e.merchantId);if(t)return this.deviceData=t,void(this._isCached=!0);this._currentEnvironment=this._initializeEnvironment(e),r.random.startCollectors(),this._deviceSessionId=this._generateDeviceSessionId(),this.deviceData=this._getDeviceData(),l.setCachedDeviceData(e.merchantId,this.deviceData),this._iframe=this._setupIFrame()}l.getCachedDeviceData=function(e){return s[e]},l.setCachedDeviceData=function(e,t){s[e]=t},l.prototype.teardown=function(){this._isCached||(r.random.stopCollectors(),this._removeIframe())},l.prototype._removeIframe=function(){this._iframe.parentNode.removeChild(this._iframe)},l.prototype._getDeviceData=function(){return i({deviceSessionId:this._deviceSessionId,fraudMerchantId:this._currentEnvironment.id})},l.prototype._generateDeviceSessionId=function(){var e;return e=r.random.randomWords(4,0),r.codec.hex.fromBits(e)},l.prototype._setupIFrame=function(){var e,t,n=this;return e="?m="+this._currentEnvironment.id+"&s="+this._deviceSessionId,(t=document.createElement("iframe")).width=1,t.id="braintreeDataFrame-"+this._deviceSessionId,t.height=1,t.frameBorder=0,t.scrolling="no",t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",t.title="Braintree-Kount-iframe",t.setAttribute("aria-hidden","true"),document.body.appendChild(t),setTimeout((function(){t.src=n._currentEnvironment.url+"/logo.htm"+e,t.innerHTML='<img src="'+n._currentEnvironment.url+"/logo.gif"+e+'" alt="" />'}),10),t},l.prototype._initializeEnvironment=function(e){var t=a[e.environment];if(null==t)throw new Error(e.environment+" is not a valid environment for kount.environment");return{url:t,name:e.environment,id:e.merchantId}},t.exports={setup:function(e){return new l(null!=e?e:{})},Kount:l,environmentUrls:a}},{"../lib/camel-case-to-snake-case":18,"./vendor/sjcl":14}],14:[function(e,t,n){"use strict";var r={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(e){this.toString=function(){return"CORRUPT: "+this.message},this.message=e},invalid:function(e){this.toString=function(){return"INVALID: "+this.message},this.message=e},bug:function(e){this.toString=function(){return"BUG: "+this.message},this.message=e},notReady:function(e){this.toString=function(){return"NOT READY: "+this.message},this.message=e}}};function i(e,t,n){if(4!==t.length)throw new r.exception.invalid("invalid aes block size");var i=e.b[n],o=t[0]^i[0],a=t[n?3:1]^i[1],s=t[2]^i[2];t=t[n?1:3]^i[3];var l,c,u,d,f=i.length/4-2,h=4,p=[0,0,0,0];e=(l=e.l[n])[0];var m=l[1],g=l[2],v=l[3],y=l[4];for(d=0;d<f;d++)l=e[o>>>24]^m[a>>16&255]^g[s>>8&255]^v[255&t]^i[h],c=e[a>>>24]^m[s>>16&255]^g[t>>8&255]^v[255&o]^i[h+1],u=e[s>>>24]^m[t>>16&255]^g[o>>8&255]^v[255&a]^i[h+2],t=e[t>>>24]^m[o>>16&255]^g[a>>8&255]^v[255&s]^i[h+3],h+=4,o=l,a=c,s=u;for(d=0;4>d;d++)p[n?3&-d:d]=y[o>>>24]<<24^y[a>>16&255]<<16^y[s>>8&255]<<8^y[255&t]^i[h++],l=o,o=a,a=s,s=t,t=l;return p}function o(e,t){var n,r,i,o=e.u,a=e.b,s=o[0],l=o[1],c=o[2],u=o[3],d=o[4],f=o[5],h=o[6],p=o[7];for(n=0;64>n;n++)16>n?r=t[n]:(r=t[n+1&15],i=t[n+14&15],r=t[15&n]=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(i>>>17^i>>>19^i>>>10^i<<15^i<<13)+t[15&n]+t[n+9&15]|0),r=r+p+(d>>>6^d>>>11^d>>>25^d<<26^d<<21^d<<7)+(h^d&(f^h))+a[n],p=h,h=f,f=d,d=u+r|0,u=c,c=l,s=r+((l=s)&c^u&(l^c))+(l>>>2^l>>>13^l>>>22^l<<30^l<<19^l<<10)|0;o[0]=o[0]+s|0,o[1]=o[1]+l|0,o[2]=o[2]+c|0,o[3]=o[3]+u|0,o[4]=o[4]+d|0,o[5]=o[5]+f|0,o[6]=o[6]+h|0,o[7]=o[7]+p|0}function a(e,t){var n,i=r.random.B[e],o=[];for(n in i)i.hasOwnProperty(n)&&o.push(i[n]);for(n=0;n<o.length;n++)o[n](t)}function l(e,t){"undefined"!==typeof window&&window.performance&&"function"===typeof window.performance.now?e.addEntropy(window.performance.now(),t,"loadtime"):e.addEntropy((new Date).valueOf(),t,"loadtime")}function c(e){e.b=u(e).concat(u(e)),e.C=new r.cipher.aes(e.b)}function u(e){for(var t=0;4>t&&(e.g[t]=e.g[t]+1|0,!e.g[t]);t++);return e.C.encrypt(e.g)}function d(e,t){return function(){t.apply(e,arguments)}}r.cipher.aes=function(e){this.l[0][0][0]||this.G();var t,n,i,o,a=this.l[0][4],s=this.l[1],l=1;if(4!==(t=e.length)&&6!==t&&8!==t)throw new r.exception.invalid("invalid aes key size");for(this.b=[i=e.slice(0),o=[]],e=t;e<4*t+28;e++)n=i[e-1],(0===e%t||8===t&&4===e%t)&&(n=a[n>>>24]<<24^a[n>>16&255]<<16^a[n>>8&255]<<8^a[255&n],0===e%t&&(n=n<<8^n>>>24^l<<24,l=l<<1^283*(l>>7))),i[e]=i[e-t]^n;for(t=0;e;t++,e--)n=i[3&t?e:e-4],o[t]=4>=e||4>t?n:s[0][a[n>>>24]]^s[1][a[n>>16&255]]^s[2][a[n>>8&255]]^s[3][a[255&n]]},r.cipher.aes.prototype={encrypt:function(e){return i(this,e,0)},decrypt:function(e){return i(this,e,1)},l:[[[],[],[],[],[]],[[],[],[],[],[]]],G:function(){var e,t,n,r,i,o,a,s=this.l[0],l=this.l[1],c=s[4],u=l[4],d=[],f=[];for(e=0;256>e;e++)f[(d[e]=e<<1^283*(e>>7))^e]=e;for(t=n=0;!c[t];t^=r||1,n=f[n]||1)for(o=(o=n^n<<1^n<<2^n<<3^n<<4)>>8^255&o^99,c[t]=o,u[o]=t,a=16843009*(i=d[e=d[r=d[t]]])^65537*e^257*r^16843008*t,i=257*d[o]^16843008*o,e=0;4>e;e++)s[e][t]=i=i<<24^i>>>8,l[e][o]=a=a<<24^a>>>8;for(e=0;5>e;e++)s[e]=s[e].slice(0),l[e]=l[e].slice(0)}},r.bitArray={bitSlice:function(e,t,n){return e=r.bitArray.M(e.slice(t/32),32-(31&t)).slice(1),void 0===n?e:r.bitArray.clamp(e,n-t)},extract:function(e,t,n){var r=Math.floor(-t-n&31);return(-32&(t+n-1^t)?e[t/32|0]<<32-r^e[t/32+1|0]>>>r:e[t/32|0]>>>r)&(1<<n)-1},concat:function(e,t){if(0===e.length||0===t.length)return e.concat(t);var n=e[e.length-1],i=r.bitArray.getPartial(n);return 32===i?e.concat(t):r.bitArray.M(t,i,0|n,e.slice(0,e.length-1))},bitLength:function(e){var t=e.length;return 0===t?0:32*(t-1)+r.bitArray.getPartial(e[t-1])},clamp:function(e,t){if(32*e.length<t)return e;var n=(e=e.slice(0,Math.ceil(t/32))).length;return t&=31,0<n&&t&&(e[n-1]=r.bitArray.partial(t,e[n-1]&2147483648>>t-1,1)),e},partial:function(e,t,n){return 32===e?t:(n?0|t:t<<32-e)+1099511627776*e},getPartial:function(e){return Math.round(e/1099511627776)||32},equal:function(e,t){if(r.bitArray.bitLength(e)!==r.bitArray.bitLength(t))return!1;var n,i=0;for(n=0;n<e.length;n++)i|=e[n]^t[n];return 0===i},M:function(e,t,n,i){var o;for(o=0,void 0===i&&(i=[]);32<=t;t-=32)i.push(n),n=0;if(0===t)return i.concat(e);for(o=0;o<e.length;o++)i.push(n|e[o]>>>t),n=e[o]<<32-t;return o=e.length?e[e.length-1]:0,e=r.bitArray.getPartial(o),i.push(r.bitArray.partial(t+e&31,32<t+e?n:i.pop(),1)),i},Y:function(e,t){return[e[0]^t[0],e[1]^t[1],e[2]^t[2],e[3]^t[3]]},byteswapM:function(e){var t,n;for(t=0;t<e.length;++t)n=e[t],e[t]=n>>>24|n>>>8&65280|(65280&n)<<8|n<<24;return e}},r.codec.utf8String={fromBits:function(e){var t,n,i="",o=r.bitArray.bitLength(e);for(t=0;t<o/8;t++)0===(3&t)&&(n=e[t/4]),i+=String.fromCharCode(n>>>8>>>8>>>8),n<<=8;return decodeURIComponent(escape(i))},toBits:function(e){e=unescape(encodeURIComponent(e));var t,n=[],i=0;for(t=0;t<e.length;t++)i=i<<8|e.charCodeAt(t),3===(3&t)&&(n.push(i),i=0);return 3&t&&n.push(r.bitArray.partial(8*(3&t),i)),n}},r.codec.hex={fromBits:function(e){var t,n="";for(t=0;t<e.length;t++)n+=(0xf00000000000+(0|e[t])).toString(16).substr(4);return n.substr(0,r.bitArray.bitLength(e)/4)},toBits:function(e){var t,n,i=[];for(n=(e=e.replace(/\s|0x/g,"")).length,e+="00000000",t=0;t<e.length;t+=8)i.push(0^parseInt(e.substr(t,8),16));return r.bitArray.clamp(i,4*n)}},r.hash.sha256=function(e){this.b[0]||this.G(),e?(this.u=e.u.slice(0),this.o=e.o.slice(0),this.h=e.h):this.reset()},r.hash.sha256.hash=function(e){return(new r.hash.sha256).update(e).finalize()},r.hash.sha256.prototype={blockSize:512,reset:function(){return this.u=this.K.slice(0),this.o=[],this.h=0,this},update:function(e){"string"===typeof e&&(e=r.codec.utf8String.toBits(e));var t,n=this.o=r.bitArray.concat(this.o,e);if(t=this.h,9007199254740991<(e=this.h=t+r.bitArray.bitLength(e)))throw new r.exception.invalid("Cannot hash more than 2^53 - 1 bits");if("undefined"!==typeof Uint32Array){var i=new Uint32Array(n),a=0;for(t=512+t-(512+t&511);t<=e;t+=512)o(this,i.subarray(16*a,16*(a+1))),a+=1;n.splice(0,16*a)}else for(t=512+t-(512+t&511);t<=e;t+=512)o(this,n.splice(0,16));return this},finalize:function(){var e,t=this.o,n=this.u;for(e=(t=r.bitArray.concat(t,[r.bitArray.partial(1,1)])).length+2;15&e;e++)t.push(0);for(t.push(Math.floor(this.h/4294967296)),t.push(0|this.h);t.length;)o(this,t.splice(0,16));return this.reset(),n},K:[],b:[],G:function(){function e(e){return 4294967296*(e-Math.floor(e))|0}for(var t,n,r=0,i=2;64>r;i++){for(n=!0,t=2;t*t<=i;t++)if(0===i%t){n=!1;break}n&&(8>r&&(this.K[r]=e(Math.pow(i,.5))),this.b[r]=e(Math.pow(i,1/3)),r++)}}},r.prng=function(e){this.c=[new r.hash.sha256],this.i=[0],this.H=0,this.v={},this.F=0,this.J={},this.L=this.f=this.j=this.T=0,this.b=[0,0,0,0,0,0,0,0],this.g=[0,0,0,0],this.C=void 0,this.D=e,this.s=!1,this.B={progress:{},seeded:{}},this.m=this.S=0,this.w=1,this.A=2,this.O=65536,this.I=[0,48,64,96,128,192,256,384,512,768,1024],this.P=3e4,this.N=80},r.prng.prototype={randomWords:function(e,t){var n,i,o=[];if((n=this.isReady(t))===this.m)throw new r.exception.notReady("generator isn't seeded");if(n&this.A){n=!(n&this.w),i=[];var a,s=0;for(this.L=i[0]=(new Date).valueOf()+this.P,a=0;16>a;a++)i.push(4294967296*Math.random()|0);for(a=0;a<this.c.length&&(i=i.concat(this.c[a].finalize()),s+=this.i[a],this.i[a]=0,n||!(this.H&1<<a));a++);for(this.H>=1<<this.c.length&&(this.c.push(new r.hash.sha256),this.i.push(0)),this.f-=s,s>this.j&&(this.j=s),this.H++,this.b=r.hash.sha256.hash(this.b.concat(i)),this.C=new r.cipher.aes(this.b),n=0;4>n&&(this.g[n]=this.g[n]+1|0,!this.g[n]);n++);}for(n=0;n<e;n+=4)0===(n+1)%this.O&&c(this),i=u(this),o.push(i[0],i[1],i[2],i[3]);return c(this),o.slice(0,e)},setDefaultParanoia:function(e,t){if(0===e&&"Setting paranoia=0 will ruin your security; use it only for testing"!==t)throw new r.exception.invalid("Setting paranoia=0 will ruin your security; use it only for testing");this.D=e},addEntropy:function(e,t,n){n=n||"user";var i,o,l=(new Date).valueOf(),c=this.v[n],u=this.isReady(),d=0;switch(void 0===(i=this.J[n])&&(i=this.J[n]=this.T++),void 0===c&&(c=this.v[n]=0),this.v[n]=(this.v[n]+1)%this.c.length,s(e)){case"number":void 0===t&&(t=1),this.c[c].update([i,this.F++,1,t,l,1,0|e]);break;case"object":if("[object Uint32Array]"===(n=Object.prototype.toString.call(e))){for(o=[],n=0;n<e.length;n++)o.push(e[n]);e=o}else for("[object Array]"!==n&&(d=1),n=0;n<e.length&&!d;n++)"number"!==typeof e[n]&&(d=1);if(!d){if(void 0===t)for(n=t=0;n<e.length;n++)for(o=e[n];0<o;)t++,o>>>=1;this.c[c].update([i,this.F++,2,t,l,e.length].concat(e))}break;case"string":void 0===t&&(t=e.length),this.c[c].update([i,this.F++,3,t,l,e.length]),this.c[c].update(e);break;default:d=1}if(d)throw new r.exception.bug("random: addEntropy only supports number, array of numbers or string");this.i[c]+=t,this.f+=t,u===this.m&&(this.isReady()!==this.m&&a("seeded",Math.max(this.j,this.f)),a("progress",this.getProgress()))},isReady:function(e){return e=this.I[void 0!==e?e:this.D],this.j&&this.j>=e?this.i[0]>this.N&&(new Date).valueOf()>this.L?this.A|this.w:this.w:this.f>=e?this.A|this.m:this.m},getProgress:function(e){return e=this.I[e||this.D],this.j>=e||this.f>e?1:this.f/e},startCollectors:function(){if(!this.s){if(this.a={loadTimeCollector:d(this,this.V),mouseCollector:d(this,this.W),keyboardCollector:d(this,this.U),accelerometerCollector:d(this,this.R),touchCollector:d(this,this.X)},window.addEventListener)window.addEventListener("load",this.a.loadTimeCollector,!1),window.addEventListener("mousemove",this.a.mouseCollector,!1),window.addEventListener("keypress",this.a.keyboardCollector,!1),window.addEventListener("devicemotion",this.a.accelerometerCollector,!1),window.addEventListener("touchmove",this.a.touchCollector,!1);else{if(!document.attachEvent)throw new r.exception.bug("can't attach event");document.attachEvent("onload",this.a.loadTimeCollector),document.attachEvent("onmousemove",this.a.mouseCollector),document.attachEvent("keypress",this.a.keyboardCollector)}this.s=!0}},stopCollectors:function(){this.s&&(window.removeEventListener?(window.removeEventListener("load",this.a.loadTimeCollector,!1),window.removeEventListener("mousemove",this.a.mouseCollector,!1),window.removeEventListener("keypress",this.a.keyboardCollector,!1),window.removeEventListener("devicemotion",this.a.accelerometerCollector,!1),window.removeEventListener("touchmove",this.a.touchCollector,!1)):document.detachEvent&&(document.detachEvent("onload",this.a.loadTimeCollector),document.detachEvent("onmousemove",this.a.mouseCollector),document.detachEvent("keypress",this.a.keyboardCollector)),this.s=!1)},addEventListener:function(e,t){this.B[e][this.S++]=t},removeEventListener:function(e,t){var n,r,i=this.B[e],o=[];for(r in i)i.hasOwnProperty(r)&&i[r]===t&&o.push(r);for(n=0;n<o.length;n++)delete i[r=o[n]]},U:function(){l(this,1)},W:function(e){var t,n;try{t=e.x||e.clientX||e.offsetX||0,n=e.y||e.clientY||e.offsetY||0}catch(r){n=t=0}0!=t&&0!=n&&this.addEntropy([t,n],2,"mouse"),l(this,0)},X:function(e){e=e.touches[0]||e.changedTouches[0],this.addEntropy([e.pageX||e.clientX,e.pageY||e.clientY],1,"touch"),l(this,0)},V:function(){l(this,2)},R:function(e){if(e=e.accelerationIncludingGravity.x||e.accelerationIncludingGravity.y||e.accelerationIncludingGravity.z,window.orientation){var t=window.orientation;"number"===typeof t&&this.addEntropy(t,1,"accelerometer")}e&&this.addEntropy(e,2,"accelerometer"),l(this,0)}},r.random=new r.prng(6);e:try{var f,h,p,m;if(m="undefined"!==typeof t&&t.exports){var g;try{g=e("crypto")}catch(v){g=null}m=h=g}if(m&&h.randomBytes)f=h.randomBytes(128),f=new Uint32Array(new Uint8Array(f).buffer),r.random.addEntropy(f,1024,"crypto['randomBytes']");else if("undefined"!==typeof window&&"undefined"!==typeof Uint32Array){if(p=new Uint32Array(32),window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(p);else{if(!window.msCrypto||!window.msCrypto.getRandomValues)break e;window.msCrypto.getRandomValues(p)}r.random.addEntropy(p,1024,"crypto['getRandomValues']")}}catch(v){"undefined"!==typeof window&&window.console&&(console.log("There was an error collecting entropy from the browser:"),console.log(v))}"undefined"!==typeof t&&t.exports&&(t.exports=r)},{crypto:void 0}],15:[function(e,t,n){"use strict";var r=e("@braintree/asset-loader/load-script");t.exports={loadScript:r}},{"@braintree/asset-loader/load-script":3}],16:[function(e,t,n){"use strict";var r=e("./braintree-error"),i=e("./promise"),o=e("./errors"),a="3.68.0";t.exports={verify:function(e){var t,n,s;return e?(s=e.name,t=e.client,n=e.authorization,t||n?n||t.getVersion()===a?i.resolve():i.reject(new r({type:o.INCOMPATIBLE_VERSIONS.type,code:o.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+t.getVersion()+") and "+s+" (version 3.68.0) components must be from the same SDK version."})):i.reject(new r({type:o.INSTANTIATION_OPTION_REQUIRED.type,code:o.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating "+s+"."}))):i.reject(new r({type:o.INVALID_USE_OF_INTERNAL_FUNCTION.type,code:o.INVALID_USE_OF_INTERNAL_FUNCTION.code,message:"Options must be passed to basicComponentVerification function."}))}}},{"./braintree-error":17,"./errors":24,"./promise":26}],17:[function(e,t,n){"use strict";var r=e("./enumerate");function i(e){if(!i.types.hasOwnProperty(e.type))throw new Error(e.type+" is not a valid type.");if(!e.code)throw new Error("Error code required.");if(!e.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=e.code,this.message=e.message,this.type=e.type,this.details=e.details}i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i.types=r(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),i.findRootError=function(e){return e instanceof i&&e.details&&e.details.originalError?i.findRootError(e.details.originalError):e},t.exports=i},{"./enumerate":23}],18:[function(e,t,n){"use strict";t.exports=function(e){return Object.keys(e).reduce((function(t,n){return t[function(e){return e.replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1_$2").toLowerCase()}(n)]=e[n],t}),{})}},{}],19:[function(e,t,n){"use strict";var r="3.68.0",i="web";t.exports={ANALYTICS_PREFIX:"web.",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:{production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},CLIENT_API_URLS:{production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",GRAPHQL_URLS:{production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"},INTEGRATION_TIMEOUT_MS:6e4,VERSION:r,INTEGRATION:"custom",SOURCE:"client",PLATFORM:i,BRAINTREE_LIBRARY_VERSION:"braintree/web/3.68.0"}},{}],20:[function(e,t,n){"use strict";var r=e("./braintree-error"),i=e("./errors");t.exports=function(e,t){t.forEach((function(t){e[t]=function(){throw new r({type:i.METHOD_CALLED_AFTER_TEARDOWN.type,code:i.METHOD_CALLED_AFTER_TEARDOWN.code,message:t+" cannot be called after teardown."})}}))}},{"./braintree-error":17,"./errors":24}],21:[function(e,t,n){"use strict";var r=e("./constants").ASSETS_URLS;t.exports={create:function(e){return r.production}}},{"./constants":19}],22:[function(e,t,n){"use strict";var r=e("./braintree-error"),i=e("./promise"),o=e("./assets"),a=e("./errors"),s="3.68.0";t.exports={create:function(e){var t=i.resolve();return e.client?i.resolve(e.client):(window.braintree&&window.braintree.client||(t=o.loadScript({src:e.assetsUrl+"/web/3.68.0/js/client.min.js"}).catch((function(e){return i.reject(new r({type:a.CLIENT_SCRIPT_FAILED_TO_LOAD.type,code:a.CLIENT_SCRIPT_FAILED_TO_LOAD.code,message:a.CLIENT_SCRIPT_FAILED_TO_LOAD.message,details:{originalError:e}}))}))),t.then((function(){return window.braintree.client.VERSION!==s?i.reject(new r({type:a.INCOMPATIBLE_VERSIONS.type,code:a.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+window.braintree.client.VERSION+") and "+e.name+" (version 3.68.0) components must be from the same SDK version."})):window.braintree.client.create({authorization:e.authorization,debug:e.debug})})))}}},{"./assets":15,"./braintree-error":17,"./errors":24,"./promise":26}],23:[function(e,t,n){"use strict";t.exports=function(e,t){return t=null==t?"":t,e.reduce((function(e,n){return e[n]=t+n,e}),{})}},{}],24:[function(e,t,n){"use strict";var r=e("./braintree-error");t.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:r.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:r.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:r.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:r.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:r.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":17}],25:[function(e,t,n){"use strict";t.exports=function(e){return Object.keys(e).filter((function(t){return"function"===typeof e[t]}))}},{}],26:[function(e,t,n){"use strict";var r=e("promise-polyfill"),i=e("@braintree/extended-promise"),o="undefined"!==typeof Promise?Promise:r;i.suppressUnhandledPromiseMessage=!0,i.setPromise(o),t.exports=o},{"@braintree/extended-promise":4,"promise-polyfill":9}]},{},[12])(12)},"object"===s(t)&&"undefined"!==typeof e?e.exports=a():(i=[],void 0===(o="function"===typeof(r=a)?r.apply(t,i):r)||(e.exports=o))}).call(this,n(185).setImmediate)},function(e,t,n){"use strict";var r,i;r=[n(2)],void 0===(i=function(e){return e((function(){this.fetchBraintreeClientToken=function(e,t){(t.isOverlay&&!t.isMultiBuyEnabled||!window.grBraintreeClientSetup)&&(window.grBraintreeClientSetup=!0,$.ajax({type:"GET",url:Routes.braintree_client_token_path(),dataType:"json"}).done(function(e){this.trigger("dataBraintreeClientToken",e)}.bind(this)))},this.after("initialize",(function(){this.on("uiNeedsBraintreeClientTokenFetched",this.fetchBraintreeClientToken)}))}))}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(2)],void 0===(i=function(e){return e((function(){this.tokenizeNonceForUserProfilePurchase=function(e,t){$.ajax({type:"POST",url:Routes.generate_braintree_transient_customer_token_path(),data:{braintree_nonce:t.braintreeNonce},dataType:"json"}).done(function(e){this.trigger(this.node,"dataBraintreeTransientCustomerToken",{transient_customer_store_key:e.transient_customer_store_key,callback:t.callback})}.bind(this))},this.after("initialize",(function(){this.on("uiNeedsBraintreeTransientCustomerTokenFetched",this.tokenizeNonceForUserProfilePurchase)}))}))}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(54),n(186),n(51),n(553)],void 0===(i=function(e,t,n,r){return function(){this.defaultAttrs({metaPayPalClientIDSelector:'meta[property="paypal:client_id"]',metaNativePayPalPaymentDisabledSelector:'meta[property="gr:paypal:native_paypal_payment_disabled"]',nativePayPalCompatible:!0}),this.setupPayPalNativeImplementation=function(){this.select("grNativePaypalButtonSelector").each($.proxy((function(e,t){paypal.Buttons(this.paypalSetupConfiguration()).render("#".concat(t.id))}),this))},this.paypalSetupConfiguration=function(){return{env:n.isProduction()?"production":"sandbox",style:{layout:"horizontal",color:"silver",shape:"pill",height:25,label:"paypal",tagline:!1},createBillingAgreement:function(){var e=function(e){if(e.billing_agreement_token_id)return e.billing_agreement_token_id;var t={error_message:I18n.t("js.something_went_wrong_not_charged_notice")};return this.attr.productsInBundle||(t.permalink=this.attr.permalink),this.trigger("dataPurchaseFail",t),null}.bind(this);return $.ajax({url:Routes.billing_agreement_token_paypal_path(),type:"POST",contentType:"application/json"}).then(e)}.bind(this),onApprove:function(e){this.trigger("uiShouldDisablePayButton"),this.attr.paypalOrderDetails={billingToken:e.billingToken},this.attr.paypalPayerId=e.payerID,this.attr.implementationInUse=this.attr.PayPalImplementations.NATIVE,this.trigger("uiCreateBillingAgreement",{billing_agreement_token_id:e.billingToken,successCallbackEvent:"setupPaypalPaymentForm",errorCallbackEvent:"setupPaypalPaymentForm"})}.bind(this)}},this.setupPaypalForm=function(e,t){var n="";t.payer&&t.payer.payer_info.email?(n=t.payer.payer_info.email,this.trigger("uiHasAuthorizedPayPalBuyer",{paypalBuyerEmail:n}),this.trigger("uiShouldEnablePayButton")):this.trigger("dataPurchaseFail")},this.prepareNativePayPalPayment=function(e){if(this.attr.paypalPayerId){if(!this.attr.paypalOrderDetails)return this.trigger("uiNeedsToShowCreditCardError",{error_message:I18n.t("js.something_went_wrong_not_charged_notice")}),this.trigger(this.$node,"uiShouldResetPayButton"),this.trigger("uiHideReceiptWithoutAnimation"),void this.resetPayPalPayment();e&&e({cardParams:this.attr.paypalOrderDetails})}},this.resetNativePayPalPayment=function(){this.attr.implementationInUse=null,this.attr.paypalPayerId=null,this.attr.authorizedAmountCents=null},this.isNativePayPalPaymentEnabled=function(){return!this.attr.nativePayPalPaymentDisabled},this.billingAgreementDone=function(e,t){this.attr.paypalOrderDetails&&(this.attr.paypalOrderDetails.billing_agreement_id=t.id,this.attr.paypalOrderDetails.visual=t.payer.payer_info.email,this.attr.paypalOrderDetails.card_country=t.payer.payer_info.billing_address.country_code,this.trigger("setupPaypalPaymentForm",t))},this.after("initialize",(function(){r.attachTo(this.$node),this.attr.nativePayPalPaymentDisabled="true"===$(this.attr.metaNativePayPalPaymentDisabledSelector).attr("value"),this.on(document,"setupPaypalPaymentForm",this.setupPaypalForm),this.on(document,"billingAgreementDone",this.billingAgreementDone)}))}}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r=n(2);e.exports=r((function(){this.createBillingAgreement=function(e,t){$.ajax({type:"POST",url:Routes.billing_agreement_paypal_path(),dataType:"json",data:{billing_agreement_token_id:t.billing_agreement_token_id},error:function(e,n,r){this.trigger(t.errorCallbackEvent,{})}.bind(this)}).done(function(e){this.trigger("billingAgreementDone",e)}.bind(this))},this.after("initialize",(function(){this.on(document,"uiCreateBillingAgreement",this.createBillingAgreement)}))}))},function(e,t){(function(){var e,t,n,r,i,o,a,s,l,c,u,d,f,h,p,m,g,v,y,b,w,_,S,C,x=[].slice,E=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};(e=window.jQuery||window.Zepto||window.$).payment={},e.payment.fn={},e.fn.payment=function(){var t,n;return n=arguments[0],t=2<=arguments.length?x.call(arguments,1):[],e.payment.fn[n].apply(this,t)},i=/(\d{1,4})/g,e.payment.cards=r=[{type:"maestro",patterns:[5018,502,503,506,56,58,639,6220,67],format:i,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"forbrugsforeningen",patterns:[600],format:i,length:[16],cvcLength:[3],luhn:!0},{type:"dankort",patterns:[5019],format:i,length:[16],cvcLength:[3],luhn:!0},{type:"visa",patterns:[4],format:i,length:[13,16],cvcLength:[3],luhn:!0},{type:"mastercard",patterns:[51,52,53,54,55,22,23,24,25,26,27],format:i,length:[16],cvcLength:[3],luhn:!0},{type:"amex",patterns:[34,37],format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[3,4],luhn:!0},{type:"dinersclub",patterns:[30,36,38,39],format:/(\d{1,4})(\d{1,6})?(\d{1,4})?/,length:[14],cvcLength:[3],luhn:!0},{type:"discover",patterns:[60,64,65,622],format:i,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",patterns:[62,88],format:i,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"jcb",patterns:[35],format:i,length:[16],cvcLength:[3],luhn:!0}],t=function(e){var t,n,i,o,a,s,l;for(e=(e+"").replace(/\D/g,""),i=0,a=r.length;i<a;i++)for(o=0,s=(l=(t=r[i]).patterns).length;o<s;o++)if(n=l[o]+"",e.substr(0,n.length)===n)return t},n=function(e){var t,n,i;for(n=0,i=r.length;n<i;n++)if((t=r[n]).type===e)return t},f=function(e){var t,n,r,i,o,a;for(r=!0,i=0,o=0,a=(n=(e+"").split("").reverse()).length;o<a;o++)t=n[o],t=parseInt(t,10),(r=!r)&&(t*=2),t>9&&(t-=9),i+=t;return i%10===0},d=function(e){var t;return null!=e.prop("selectionStart")&&e.prop("selectionStart")!==e.prop("selectionEnd")||!(null==("undefined"!==typeof document&&null!==document&&null!=(t=document.selection)?t.createRange:void 0)||!document.selection.createRange().text)},S=function(e,t){var n,r,i,o,a;try{r=t.prop("selectionStart")}catch(s){s,r=null}if(o=t.val(),t.val(e),null!==r&&t.is(":focus"))return r===o.length&&(r=e.length),o!==e&&(a=o.slice(r-1,+r+1||9e9),n=e.slice(r-1,+r+1||9e9),i=e[r],/\d/.test(i)&&a===i+" "&&n===" "+i&&(r+=1)),t.prop("selectionStart",r),t.prop("selectionEnd",r)},v=function(e){var t,n,r,i,o,a;for(null==e&&(e=""),"\uff10\uff11\uff12\uff13\uff14\uff15\uff16\uff17\uff18\uff19","0123456789",i="",o=0,a=(t=e.split("")).length;o<a;o++)n=t[o],(r="\uff10\uff11\uff12\uff13\uff14\uff15\uff16\uff17\uff18\uff19".indexOf(n))>-1&&(n="0123456789"[r]),i+=n;return i},g=function(t){var n;return n=e(t.currentTarget),setTimeout((function(){var e;return e=n.val(),e=(e=v(e)).replace(/\D/g,""),S(e,n)}))},p=function(t){var n;return n=e(t.currentTarget),setTimeout((function(){var t;return t=n.val(),t=v(t),t=e.payment.formatCardNumber(t),S(t,n)}))},s=function(n){var r,i,o,a,s,l,c;if(o=String.fromCharCode(n.which),/^\d+$/.test(o)&&(r=e(n.currentTarget),c=r.val(),i=t(c+o),a=(c.replace(/\D/g,"")+o).length,l=16,i&&(l=i.length[i.length.length-1]),!(a>=l)&&(null==r.prop("selectionStart")||r.prop("selectionStart")===c.length)))return(s=i&&"amex"===i.type?/^(\d{4}|\d{4}\s\d{6})$/:/(?:^|\s)(\d{4})$/).test(c)?(n.preventDefault(),setTimeout((function(){return r.val(c+" "+o)}))):s.test(c+o)?(n.preventDefault(),setTimeout((function(){return r.val(c+o+" ")}))):void 0},o=function(t){var n,r;if(n=e(t.currentTarget),r=n.val(),8===t.which&&(null==n.prop("selectionStart")||n.prop("selectionStart")===r.length))return/\d\s$/.test(r)?(t.preventDefault(),setTimeout((function(){return n.val(r.replace(/\d\s$/,""))}))):/\s\d?$/.test(r)?(t.preventDefault(),setTimeout((function(){return n.val(r.replace(/\d$/,""))}))):void 0},m=function(t){var n;return n=e(t.currentTarget),setTimeout((function(){var t;return t=n.val(),t=v(t),t=e.payment.formatExpiry(t),S(t,n)}))},l=function(t){var n,r,i;if(r=String.fromCharCode(t.which),/^\d+$/.test(r))return n=e(t.currentTarget),i=n.val()+r,/^\d$/.test(i)&&"0"!==i&&"1"!==i?(t.preventDefault(),setTimeout((function(){return n.val("0"+i+" / ")}))):/^\d\d$/.test(i)?(t.preventDefault(),setTimeout((function(){var e,t;return e=parseInt(i[0],10),(t=parseInt(i[1],10))>2&&0!==e?n.val("0"+e+" / "+t):n.val(i+" / ")}))):void 0},c=function(t){var n,r,i;if(r=String.fromCharCode(t.which),/^\d+$/.test(r))return i=(n=e(t.currentTarget)).val(),/^\d\d$/.test(i)?n.val(i+" / "):void 0},u=function(t){var n,r,i;if("/"===(i=String.fromCharCode(t.which))||" "===i)return r=(n=e(t.currentTarget)).val(),/^\d$/.test(r)&&"0"!==r?n.val("0"+r+" / "):void 0},a=function(t){var n,r;if(n=e(t.currentTarget),r=n.val(),8===t.which&&(null==n.prop("selectionStart")||n.prop("selectionStart")===r.length))return/\d\s\/\s$/.test(r)?(t.preventDefault(),setTimeout((function(){return n.val(r.replace(/\d\s\/\s$/,""))}))):void 0},h=function(t){var n;return n=e(t.currentTarget),setTimeout((function(){var e;return e=n.val(),e=(e=v(e)).replace(/\D/g,"").slice(0,4),S(e,n)}))},_=function(e){var t;return!(!e.metaKey&&!e.ctrlKey)||32!==e.which&&(0===e.which||(e.which<33||(t=String.fromCharCode(e.which),!!/[\d\s]/.test(t))))},b=function(n){var r,i,o,a;if(r=e(n.currentTarget),o=String.fromCharCode(n.which),/^\d+$/.test(o)&&!d(r))return a=(r.val()+o).replace(/\D/g,""),(i=t(a))?a.length<=i.length[i.length.length-1]:a.length<=16},w=function(t){var n,r;if(n=e(t.currentTarget),r=String.fromCharCode(t.which),/^\d+$/.test(r)&&!d(n))return!((n.val()+r).replace(/\D/g,"").length>6)&&void 0},y=function(t){var n,r;if(n=e(t.currentTarget),r=String.fromCharCode(t.which),/^\d+$/.test(r)&&!d(n))return(n.val()+r).length<=4},C=function(t){var n,i,o,a,s;if(s=(n=e(t.currentTarget)).val(),a=e.payment.cardType(s)||"unknown",!n.hasClass(a))return i=function(){var e,t,n;for(n=[],e=0,t=r.length;e<t;e++)o=r[e],n.push(o.type);return n}(),n.removeClass("unknown"),n.removeClass(i.join(" ")),n.addClass(a),n.toggleClass("identified","unknown"!==a),n.trigger("payment.cardType",a)},e.payment.fn.formatCardCVC=function(){return this.on("keypress",_),this.on("keypress",y),this.on("paste",h),this.on("change",h),this.on("input",h),this},e.payment.fn.formatCardExpiry=function(){return this.on("keypress",_),this.on("keypress",w),this.on("keypress",l),this.on("keypress",u),this.on("keypress",c),this.on("keydown",a),this.on("change",m),this.on("input",m),this},e.payment.fn.formatCardNumber=function(){return this.on("keypress",_),this.on("keypress",b),this.on("keypress",s),this.on("keydown",o),this.on("keyup",C),this.on("paste",p),this.on("change",p),this.on("input",p),this.on("input",C),this},e.payment.fn.restrictNumeric=function(){return this.on("keypress",_),this.on("paste",g),this.on("change",g),this.on("input",g),this},e.payment.fn.cardExpiryVal=function(){return e.payment.cardExpiryVal(e(this).val())},e.payment.cardExpiryVal=function(e){var t,n,r;return t=(r=e.split(/[\s\/]+/,2))[0],2===(null!=(n=r[1])?n.length:void 0)&&/^\d+$/.test(n)&&(n=(new Date).getFullYear().toString().slice(0,2)+n),{month:t=parseInt(t,10),year:n=parseInt(n,10)}},e.payment.validateCardNumber=function(e){var n,r;return e=(e+"").replace(/\s+|-/g,""),!!/^\d+$/.test(e)&&(!!(n=t(e))&&(r=e.length,E.call(n.length,r)>=0&&(!1===n.luhn||f(e))))},e.payment.validateCardExpiry=function(t,n){var r,i,o;return"object"===typeof t&&"month"in t&&(t=(o=t).month,n=o.year),!(!t||!n)&&(t=e.trim(t),n=e.trim(n),!!/^\d+$/.test(t)&&(!!/^\d+$/.test(n)&&(1<=t&&t<=12&&(2===n.length&&(n=n<70?"20"+n:"19"+n),4===n.length&&(i=new Date(n,t),r=new Date,i.setMonth(i.getMonth()-1),i.setMonth(i.getMonth()+1,1),i>r)))))},e.payment.validateCardCVC=function(t,r){var i,o;return t=e.trim(t),!!/^\d+$/.test(t)&&(null!=(i=n(r))?(o=t.length,E.call(i.cvcLength,o)>=0):t.length>=3&&t.length<=4)},e.payment.cardType=function(e){var n;return e&&(null!=(n=t(e))?n.type:void 0)||null},e.payment.formatCardNumber=function(n){var r,i,o,a;return n=n.replace(/\D/g,""),(r=t(n))?(o=r.length[r.length.length-1],n=n.slice(0,o),r.format.global?null!=(a=n.match(r.format))?a.join(" "):void 0:null!=(i=r.format.exec(n))?(i.shift(),(i=e.grep(i,(function(e){return e}))).join(" ")):void 0):n},e.payment.formatExpiry=function(e){var t,n,r,i;return(n=e.match(/^\D*(\d{1,2})(\D+)?(\d{1,4})?/))?(t=n[1]||"",r=n[2]||"",(i=n[3]||"").length>0?r=" / ":" /"===r?(t=t.substring(0,1),r=""):2===t.length||r.length>0?r=" / ":1===t.length&&"0"!==t&&"1"!==t&&(t="0"+t,r=" / "),t+r+i):""}}).call(this)},function(e,t,n){"use strict";n.r(t),n.d(t,"getTwitterShareUrl",(function(){return r}));var r=function(e){return"https://twitter.com/intent/tweet?text="+encodeURI(e)}},function(e,t,n){var r=n(10);e.exports=(r.default||r).template({1:function(e,t,r,i,o){var a,s=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <li class="receipt-entry">\n    <div class="product-details">\n      <h2 class="product-name">'+s((a=n(3),a&&(a.__esModule?a.default:a)).call(null!=t?t:e.nullContext||{},"total_amount",{name:"t",hash:{},data:o,loc:{start:{line:4,column:31},end:{line:4,column:51}}}))+'</h2>\n      <span class="receipt-price">'+s(e.lambda(null!=t?l(t,"total_price_including_tax_and_shipping"):t,t))+"</span>\n    </div>\n  </li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"has_sales_tax_or_shipping_to_show"):t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:1,column:0},end:{line:8,column:7}}}))?o:""},useData:!0})},function(e,t,n){var r=n(10);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,r,i,o){return'<div class="try-again js-try-again">\n  <a href="#" class="button button-default button-block button-small">'+e.escapeExpression((a=n(3),a&&(a.__esModule?a.default:a)).call(null!=t?t:e.nullContext||{},"try_again_prompt",{name:"t",hash:{},data:o,loc:{start:{line:2,column:70},end:{line:2,column:96}}}))+"</a>\n</div>\n";var a},useData:!0})},function(e,t,n){"use strict";var r,i;function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}r=[n(45),n(24),n(31),n(35),n(559),n(188)],void 0===(i=function(e,t,n,r){return function(){n.mixin(this,[e,t]),this.defaultAttrs({productMainSelector:".product-main",productContentSelector:".product-content",productInformationSelector:".js-product-information",previewContainerSelector:".preview-container",processingPreviewContainerSelector:".processing.preview_container",productLeftContainerSelector:".products-left-container",productLeftSelector:".products-left",contentHeaderSelector:".product-content h1",wantContainerSelector:".want-container",wantFormSelector:".js-i-want-this-form",alreadyBoughtNoticeSelector:".js-already-bought-notice",alreadyBoughtNoticeButtonSelector:".js-already-bought-notice-button",alreadyBoughtNoticeLabelSelector:".js-already-bought-notice-label",alreadyBoughtTierNameSelector:".js-already-bought-tier-name",alreadyBoughtTierDescriptionSelector:".js-already-bought-tier-description",alreadyBoughtTierPriceSelector:".js-already-bought-tier-price",manageMembershipButtonSelector:".js-manage-membership-button",actionsContainerSelector:".actions-container",wantThisContainerSelector:".i-want-this-container",wantButtonSelector:".i_want_this_button",territoryBlockedSelector:".territory_blocked",notForSaleNoticeSelector:".not-for-sale-notice",descriptionContainerSelector:".description-container",descriptionSelector:".description-container .product-description",noneRemainingNoticeSelector:".none-remaining-notice",canGiftSelector:'input[name="can_gift"]',creatorProfileLinkSelector:".js-creator-profile-link",wantThis:!1,showingAddToBundle:!1,isOutboundEmbed:!1,isUsingBundle:!0,quickAddToCart:!1}),this.redirectToPaymentForm=function(){window.top.location.href=this.getPaymentFormUrlForEmbedRedirect()},this.trackAction=function(){this.attr.onDiscoverPage||this.attr.onOverlayPage&&this.attr.isMultiBuyEnabled||this.trigger("uiNeedsToTrackActivityWithSellerAnalytics",{permalink:this.attr.permalink,action:"iwantthis"}),this.trigger("uiNeedsToTrackProductSpecificEvent",{name:"i_want_this",permalink:this.attr.permalink,wasProductRecommended:this.attr.wasProductRecommended})},this.canShowPaymentFormFromOverlay=function(){if(this.attr.isOverlayPage&&this.attr.wantThis){if(this.attr.overlayDuration)return this.triggerPaymentOptionUpdate(),this.attr.overlayDuration=!1,!1;if(this.getHasVariants()&&!this.attr.variantsHaveBeenShown)return this.attr.variantSelectionRequired=!0,!1}return!0},this.showPaymentFormIfPossible=function(e,t){if(e&&e.preventDefault(),void 0===t&&(t=!0),this.attr.isOutboundEmbed)this.redirectToPaymentForm();else if(!(this.attr.user&&this.attr.purchase&&this.attr.user.purchase.should_show_receipt)&&this.validateForm(this.select("wantFormSelector"))&&this.validatePriceRange())if(this.trackAction(),this.isMultiBuyable()){if(!this.canShowPaymentFormFromOverlay())return void this.trigger("uiCannotShowPaymentForm");this.addSelfToBundle(),this.trigger("uiCanShowPaymentForm")}else this.attr.isCurrentUserSet&&(this.attr.onOverlayPage&&!this.attr.singleProductMode?this.trigger("uiCanShowPaymentForm"):(this.switchToPaymentForm(t),this.trigger("uiCannotShowPaymentForm")));else this.trigger("uiCannotShowPaymentForm")},this.showPaymentForm=function(){this.switchToPaymentForm(!0)},this.setPreviewProcessing=function(){"test"==this.attr.user.card.credit&&this.select("processingPreviewContainerSelector").fadeIn()},this.updateDefaultHeightAttributes=function(){this.attr.defaultProductMainHeight=this.select("productMainSelector").outerHeight(),this.attr.previewHeightOnInitialize=this.select("productSelector").find(".preview-container").outerHeight()},this.updateDefaultHeight=function(){"undefined"==typeof this.attr.defaultProductMainHeight&&this.updateDefaultHeightAttributes()},this.setRemaining=function(){(this.attr.user.product.remaining||0==this.attr.user.product.remaining)&&(this.select("productLeftSelector").text(I18n.t("js.left_with_count",{count:this.attr.user.product.remaining})),this.select("productLeftContainerSelector").show(),this.attr.hasPreview||this.select("contentHeaderSelector").css("padding-left",50),0==this.attr.user.product.remaining&&(this.select("noneRemainingNoticeSelector").show(),this.select("wantThisContainerSelector").hide(),this.attr.isProductDisabled=!0))},this.setTerritoryBlockedNotice=function(){this.attr.user.product.compliance_blocked&&(this.select("territoryBlockedSelector").show(),this.select("wantThisContainerSelector").hide())},this.updateProductDescription=function(e,t){null!=t.html?this.select("descriptionSelector").html(t.html):this.select("descriptionSelector").html("")},this.updateWantButtonText=function(e,t){this.select("wantButtonSelector").text(t.buttonText)},this.setAlreadyBought=function(){this.attr.user.purchase.should_show_receipt&&(this.select("alreadyBoughtNoticeButtonSelector").text(this.attr.user.purchase.view_content_button_text).attr("href",this.attr.user.purchase.content_url),this.select("alreadyBoughtNoticeSelector").show(),this.attr.user.purchase.show_view_content_button_on_product_page||(this.select("alreadyBoughtNoticeButtonSelector").hide(),this.select("alreadyBoughtNoticeLabelSelector").hide()),this.trigger("uiShouldResizeOverlay"),this.trigger(document,"uiSetInitialRating",{purchase_id:this.attr.user.purchase.id,rating:this.attr.user.purchase.product_rating,preorder:this.attr.productCheckoutStore.getState().productData.is_preorder}),void 0!==this.attr.user.purchase.manage_membership_url?(this.select("alreadyBoughtTierNameSelector").text(this.attr.user.purchase.tier_name),this.select("alreadyBoughtTierDescriptionSelector").text(this.attr.user.purchase.tier_description),this.select("alreadyBoughtTierPriceSelector").text(this.attr.user.purchase.total_price_including_tax_and_shipping),this.select("manageMembershipButtonSelector").attr("href",this.attr.user.purchase.manage_membership_url),this.select("wantThisContainerSelector").hide()):this.select("wantButtonSelector").text(I18n.t("js.purchase_again")))},this.setRecommendedBy=function(){var e=this.select("creatorProfileLinkSelector");if(e.attr("href")&&this.attr.recommendedBy){var t=r.parseUrl(e.attr("href")),n=a(a({},t.query),{},{recommended_by:this.attr.recommendedBy}),i="".concat(t.url,"?").concat(r.stringify(n));e.attr("href",i)}},this.after("initialize",(function(){this.setRecommendedBy(),this.attr.hasPreview=this.select("previewContainerSelector").length>0,this.attr.canGift=this.select("canGiftSelector").length>0;var e=this.select("productSelector").find(".preview-container"),t=this.select("productSelector").find(".image-preview-container img");t.load(function(){e.data("height",t.height()),"undefined"!=typeof this.attr.defaultProductMainHeight&&(this.attr.defaultProductMainHeight+=e.outerHeight()-this.attr.previewHeightOnInitialize),this.attr.isShowingPaymentForm||this.attr.isShowingReceipt||this.switchToProductMain(!1),this.trigger("uiNeedsToToggleScrollButton")}.bind(this)),this.isMultiBuyable()&&this.select("wantButtonSelector").text(I18n.t("js.add_to_cart")),this.on(document,"uiForceShowPaymentForm",this.showPaymentForm),this.on(document,"uiShowPaymentForm",this.showPaymentFormIfPossible),this.on(document,"uiUpdateProductDescription",this.updateProductDescription),this.on(document,"uiUpdateWantButton",this.updateWantButtonText),this.on("click",{wantButtonSelector:this.showPaymentFormIfPossible}),this.attr.quickAddToCart&&this.select("wantButtonSelector").click(),this.trigger("uiNeedsToToggleScrollButton")}))}}.apply(t,r))||(e.exports=i)},function(e,t){var n,r,i;n=jQuery,i="ui-effects-",n.effects={effect:{}},function(e,t){function n(e,t,n){var r=u[t.type]||{};return null==e?n||!t.def?null:t.def:(e=r.floor?~~e:parseFloat(e),isNaN(e)?t.def:r.mod?(e+r.mod)%r.mod:0>e?0:e>r.max?r.max:e)}function r(n){var r=l(),i=r._rgba=[];return n=n.toLowerCase(),h(s,(function(e,o){var a,s=o.re.exec(n),l=s&&o.parse(s),u=o.space||"rgba";return l?(a=r[u](l),r[c[u].cache]=a[c[u].cache],i=r._rgba=a._rgba,!1):t})),i.length?("0,0,0,0"===i.join()&&e.extend(i,o.transparent),r):o[n]}function i(e,t,n){return 1>6*(n=(n+1)%1)?e+6*(t-e)*n:1>2*n?t:2>3*n?e+6*(t-e)*(2/3-n):e}var o,a=/^([\-+])=\s*(\d+\.?\d*)/,s=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],l=e.Color=function(t,n,r,i){return new e.Color.fn.parse(t,n,r,i)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=l.support={},f=e("<p>")[0],h=e.each;f.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=f.style.backgroundColor.indexOf("rgba")>-1,h(c,(function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}})),l.fn=e.extend(l.prototype,{parse:function(i,a,s,u){if(i===t)return this._rgba=[null,null,null,null],this;(i.jquery||i.nodeType)&&(i=e(i).css(a),a=t);var d=this,f=e.type(i),p=this._rgba=[];return a!==t&&(i=[i,a,s,u],f="array"),"string"===f?this.parse(r(i)||o._default):"array"===f?(h(c.rgba.props,(function(e,t){p[t.idx]=n(i[t.idx],t)})),this):"object"===f?(h(c,i instanceof l?function(e,t){i[t.cache]&&(d[t.cache]=i[t.cache].slice())}:function(t,r){var o=r.cache;h(r.props,(function(e,t){if(!d[o]&&r.to){if("alpha"===e||null==i[e])return;d[o]=r.to(d._rgba)}d[o][t.idx]=n(i[e],t,!0)})),d[o]&&0>e.inArray(null,d[o].slice(0,3))&&(d[o][3]=1,r.from&&(d._rgba=r.from(d[o])))}),this):t},is:function(e){var n=l(e),r=!0,i=this;return h(c,(function(e,o){var a,s=n[o.cache];return s&&(a=i[o.cache]||o.to&&o.to(i._rgba)||[],h(o.props,(function(e,n){return null!=s[n.idx]?r=s[n.idx]===a[n.idx]:t}))),r})),r},_space:function(){var e=[],t=this;return h(c,(function(n,r){t[r.cache]&&e.push(n)})),e.pop()},transition:function(e,t){var r=l(e),i=r._space(),o=c[i],a=0===this.alpha()?l("transparent"):this,s=a[o.cache]||o.to(a._rgba),d=s.slice();return r=r[o.cache],h(o.props,(function(e,i){var o=i.idx,a=s[o],l=r[o],c=u[i.type]||{};null!==l&&(null===a?d[o]=l:(c.mod&&(l-a>c.mod/2?a+=c.mod:a-l>c.mod/2&&(a-=c.mod)),d[o]=n((l-a)*t+a,i)))})),this[i](d)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),r=n.pop(),i=l(t)._rgba;return l(e.map(n,(function(e,t){return(1-r)*i[t]+r*e})))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,(function(e,t){return null==e?t>2?1:0:e}));return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),(function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e}));return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),r=n.pop();return t&&n.push(~~(255*r)),"#"+e.map(n,(function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e})).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,c.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,r=e[0]/255,i=e[1]/255,o=e[2]/255,a=e[3],s=Math.max(r,i,o),l=Math.min(r,i,o),c=s-l,u=s+l,d=.5*u;return t=l===s?0:r===s?60*(i-o)/c+360:i===s?60*(o-r)/c+120:60*(r-i)/c+240,n=0===c?0:.5>=d?c/u:c/(2-u),[Math.round(t)%360,n,d,null==a?1:a]},c.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],r=e[2],o=e[3],a=.5>=r?r*(1+n):r+n-r*n,s=2*r-a;return[Math.round(255*i(s,a,t+1/3)),Math.round(255*i(s,a,t)),Math.round(255*i(s,a,t-1/3)),o]},h(c,(function(r,i){var o=i.props,s=i.cache,c=i.to,u=i.from;l.fn[r]=function(r){if(c&&!this[s]&&(this[s]=c(this._rgba)),r===t)return this[s].slice();var i,a=e.type(r),d="array"===a||"object"===a?r:arguments,f=this[s].slice();return h(o,(function(e,t){var r=d["object"===a?e:t.idx];null==r&&(r=f[t.idx]),f[t.idx]=n(r,t)})),u?((i=l(u(f)))[s]=f,i):l(f)},h(o,(function(t,n){l.fn[t]||(l.fn[t]=function(i){var o,s=e.type(i),l="alpha"===t?this._hsla?"hsla":"rgba":r,c=this[l](),u=c[n.idx];return"undefined"===s?u:("function"===s&&(i=i.call(this,u),s=e.type(i)),null==i&&n.empty?this:("string"===s&&(o=a.exec(i))&&(i=u+parseFloat(o[2])*("+"===o[1]?1:-1)),c[n.idx]=i,this[l](c)))})}))})),l.hook=function(t){var n=t.split(" ");h(n,(function(t,n){e.cssHooks[n]={set:function(t,i){var o,a,c="";if("transparent"!==i&&("string"!==e.type(i)||(o=r(i)))){if(i=l(o||i),!d.rgba&&1!==i._rgba[3]){for(a="backgroundColor"===n?t.parentNode:t;(""===c||"transparent"===c)&&a&&a.style;)try{c=e.css(a,"backgroundColor"),a=a.parentNode}catch(s){}i=i.blend(c&&"transparent"!==c?c:"_default")}i=i.toRgbaString()}try{t.style[n]=i}catch(s){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=l(t.elem,n),t.end=l(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}}))},l.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),e.cssHooks.borderColor={expand:function(e){var t={};return h(["Top","Right","Bottom","Left"],(function(n,r){t["border"+r+"Color"]=e})),t}},o=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function e(e){var t,r,i=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(i&&i.length&&i[0]&&i[i[0]])for(r=i.length;r--;)"string"==typeof i[t=i[r]]&&(o[n.camelCase(t)]=i[t]);else for(t in i)"string"==typeof i[t]&&(o[t]=i[t]);return o}function t(e,t){var r,i,a={};for(r in t)i=t[r],e[r]!==i&&(o[r]||(n.fx.step[r]||!isNaN(parseFloat(i)))&&(a[r]=i));return a}var i=["add","remove","toggle"],o={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};n.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],(function(e,t){n.fx.step[t]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(jQuery.style(e.elem,t,e.end),e.setAttr=!0)}})),n.fn.addBack||(n.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),n.effects.animateClass=function(r,o,a,s){var l=n.speed(o,a,s);return this.queue((function(){var o,a=n(this),s=a.attr("class")||"",c=l.children?a.find("*").addBack():a;c=c.map((function(){return{el:n(this),start:e(this)}})),(o=function(){n.each(i,(function(e,t){r[t]&&a[t+"Class"](r[t])}))})(),c=c.map((function(){return this.end=e(this.el[0]),this.diff=t(this.start,this.end),this})),a.attr("class",s),c=c.map((function(){var e=this,t=n.Deferred(),r=n.extend({},l,{queue:!1,complete:function(){t.resolve(e)}});return this.el.animate(this.diff,r),t.promise()})),n.when.apply(n,c.get()).done((function(){o(),n.each(arguments,(function(){var e=this.el;n.each(this.diff,(function(t){e.css(t,"")}))})),l.complete.call(a[0])}))}))},n.fn.extend({addClass:function(e){return function(t,r,i,o){return r?n.effects.animateClass.call(this,{add:t},r,i,o):e.apply(this,arguments)}}(n.fn.addClass),removeClass:function(e){return function(t,r,i,o){return arguments.length>1?n.effects.animateClass.call(this,{remove:t},r,i,o):e.apply(this,arguments)}}(n.fn.removeClass),toggleClass:function(e){return function(t,i,o,a,s){return"boolean"==typeof i||i===r?o?n.effects.animateClass.call(this,i?{add:t}:{remove:t},o,a,s):e.apply(this,arguments):n.effects.animateClass.call(this,{toggle:t},i,o,a)}}(n.fn.toggleClass),switchClass:function(e,t,r,i,o){return n.effects.animateClass.call(this,{add:t,remove:e},r,i,o)}})}(),function(){function e(e,t,r,i){return n.isPlainObject(e)&&(t=e,e=e.effect),e={effect:e},null==t&&(t={}),n.isFunction(t)&&(i=t,r=null,t={}),("number"==typeof t||n.fx.speeds[t])&&(i=r,r=t,t={}),n.isFunction(r)&&(i=r,r=null),t&&n.extend(e,t),r=r||t.duration,e.duration=n.fx.off?0:"number"==typeof r?r:r in n.fx.speeds?n.fx.speeds[r]:n.fx.speeds._default,e.complete=i||t.complete,e}function t(e){return!(e&&"number"!=typeof e&&!n.fx.speeds[e])||"string"==typeof e&&!n.effects.effect[e]||!!n.isFunction(e)||"object"==typeof e&&!e.effect}n.extend(n.effects,{version:"1.10.4",save:function(e,t){for(var n=0;t.length>n;n++)null!==t[n]&&e.data(i+t[n],e[0].style[t[n]])},restore:function(e,t){var n,o;for(o=0;t.length>o;o++)null!==t[o]&&((n=e.data(i+t[o]))===r&&(n=""),e.css(t[o],n))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,r;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=e[1]/t.width}return{x:r,y:n}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var t={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},r=n("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),i={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(a){o=document.body}return e.wrap(r),(e[0]===o||n.contains(e[0],o))&&n(o).focus(),r=e.parent(),"static"===e.css("position")?(r.css({position:"relative"}),e.css({position:"relative"})):(n.extend(t,{position:e.css("position"),zIndex:e.css("z-index")}),n.each(["top","left","bottom","right"],(function(n,r){t[r]=e.css(r),isNaN(parseInt(t[r],10))&&(t[r]="auto")})),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(i),r.css(t).show()},removeWrapper:function(e){var t=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===t||n.contains(e[0],t))&&n(t).focus()),e},setTransition:function(e,t,r,i){return i=i||{},n.each(t,(function(t,n){var o=e.cssUnit(n);o[0]>0&&(i[n]=o[0]*r+o[1])})),i}}),n.fn.extend({effect:function(){function t(e){function t(){n.isFunction(o)&&o.call(i[0]),n.isFunction(e)&&e()}var i=n(this),o=r.complete,s=r.mode;(i.is(":hidden")?"hide"===s:"show"===s)?(i[s](),t()):a.call(i[0],r,t)}var r=e.apply(this,arguments),i=r.mode,o=r.queue,a=n.effects.effect[r.effect];return n.fx.off||!a?i?this[i](r.duration,r.complete):this.each((function(){r.complete&&r.complete.call(this)})):!1===o?this.each(t):this.queue(o||"fx",t)},show:function(n){return function(r){if(t(r))return n.apply(this,arguments);var i=e.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(n.fn.show),hide:function(n){return function(r){if(t(r))return n.apply(this,arguments);var i=e.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(n.fn.hide),toggle:function(n){return function(r){if(t(r)||"boolean"==typeof r)return n.apply(this,arguments);var i=e.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(n.fn.toggle),cssUnit:function(e){var t=this.css(e),r=[];return n.each(["em","px","%","pt"],(function(e,n){t.indexOf(n)>0&&(r=[parseFloat(t),n])})),r}})}(),function(){var e={};n.each(["Quad","Cubic","Quart","Quint","Expo"],(function(t,n){e[n]=function(e){return Math.pow(e,t+2)}})),n.extend(e,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;((t=Math.pow(2,--n))-1)/11>e;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),n.each(e,(function(e,t){n.easing["easeIn"+e]=t,n.easing["easeOut"+e]=function(e){return 1-t(1-e)},n.easing["easeInOut"+e]=function(e){return.5>e?t(2*e)/2:1-t(-2*e+2)/2}}))}()},function(e,t,n){"use strict";function r(){this.defaultAttrs({isMultiBuyEnabled:!1,completedBundle:!1}),this.isMultiBuyable=function(){return this.attr.isMultiBuyEnabled&&!this.attr.completedBundle&&!this.attr.singleProductMode},this.completedBundle=function(){this.attr.completedBundle=!0},this.addSelfToBundle=function(){var e=this,t=this.serializeForBundle(),n=this.attr.isOverlay&&this.attr.wantThis?this.getInitialOfferCodeName():null;this.attr.addedToBundle=!0;var r=this.select("productSelector");r.addClass("to-animate-to-bundle"),setTimeout((function(){var i=r.height(),o=r.width(),a=r.offset().left;r.addClass("animate-to-bundle").css({top:30-i/2,left:$(window).width()-160-o/2-a}),e.trigger("addProductToBundle",{product:t,overlayOfferCodeName:n}),setTimeout((function(){e.trigger("uiNeedsToHideProductOverlay",{permalink:e.attr.permalink})}),1e3)}),10)},this.after("initialize",(function(){this.on(document,"completedBundle",this.completedBundle),this.attr.singleProductMode=$(".js-product-display").data("single-product-mode")}))}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){"use strict";var r;void 0===(r=function(){return function(){this.defaultAttrs({averageRatingContainerSelector:".js-average-rating-container",averageRatingStarSelector:".js-average-rating-star",reviewsCountSelector:".js-reviews-count",reviewsBoxSelector:".js-ratings-box",ratingPercentContainer:".js-rating-percent-container",ratingPercent:".js-rating-percent",ratingPercentBar:".js-rating-percent-bar",fullStarClass:"full-star",halfStarClass:"half-star",emptyStarClass:"empty-star",maxReviewCountShownWithText:999}),this.displayReviewsSection=function(){var e=this.attr.user.product.average_rating,t=this.attr.user.product.reviews_count,n=this.attr.user.product.reviews_count_delimited,r=this.attr.fullStarClass,i=this.attr.halfStarClass,o=this.attr.emptyStarClass,a=[r,i,o];e&&t&&(this.select("averageRatingStarSelector").each((function(t,n){$(n).removeClass(a.join(" "));var s=$(n).data("value");s<=e||Math.ceil(e)===s&&e%1>.5?$(n).addClass(r):s===Math.ceil(e)?$(n).addClass(i):$(n).addClass(o)})),t>this.attr.maxReviewCountShownWithText?this.select("reviewsCountSelector").text(n):this.select("reviewsCountSelector").text(I18n.t("ratings_count",{count:t})),this.displayRatingsHistogram(),this.select("averageRatingContainerSelector").show(),this.trigger("uiShouldResizeOverlay"))},this.displayRatingsHistogram=function(){if("undefined"!==typeof this.attr.user.product.rating_distribution){var e=this.attr.user.product.rating_distribution.percentages;this.select("ratingPercentContainer").each(function(t,n){var r=$(n),i=r.data("value");"undefined"!==typeof e[i]&&(r.find(this.attr.ratingPercent).text(I18n.t("rating_percent",{percent:e[i]})),r.find(this.attr.ratingPercentBar).css("width",e[i]+"%"))}.bind(this))}},this.toggleHistogram=function(){this.select("reviewsBoxSelector").toggleClass("showing-histogram"),this.trigger("uiShouldResizeOverlay")},this.after("initialize",(function(){this.on("click",{averageRatingContainerSelector:this.toggleHistogram})}))}}.apply(t,[]))||(e.exports=r)},function(e,t,n){"use strict";var r;void 0===(r=function(){return function(){this.defaultAttrs({trackProductClickEventSelector:".js-track-product-click-event"}),this.trackProductClickEvent=function(e){this.trigger("uiNeedsToTrackProductSpecificEvent",{name:$(e.target).data("product-event-name"),permalink:this.attr.permalink})},this.after("initialize",(function(){this.on("click",{trackProductClickEventSelector:this.trackProductClickEvent})}))}}.apply(t,[]))||(e.exports=r)},function(e,t,n){var r={"./BundleCustomFields":283,"./BundleCustomFields.tsx":283,"./BundleProductListContent":285,"./BundleProductListContent.tsx":285,"./CheckoutOfferCodeInput":286,"./CheckoutOfferCodeInput.tsx":286,"./CheckoutPaymentBlurb":298,"./CheckoutPaymentBlurb.tsx":298,"./CheckoutPaymentRecurrenceMessage":287,"./CheckoutPaymentRecurrenceMessage.tsx":287,"./DownloadPage/FileList":299,"./DownloadPage/FileList.tsx":299,"./DownloadPage/Interactions":63,"./DownloadPage/Interactions.tsx":63,"./DownloadPage/PostList":297,"./DownloadPage/PostList.tsx":297,"./ManageSubscription":288,"./ManageSubscription.tsx":288,"./ProductAttributesAndInfo":289,"./ProductAttributesAndInfo.tsx":289,"./ProductCheckoutNameAndPrice":290,"./ProductCheckoutNameAndPrice.tsx":290,"./ProductCheckoutPurchaseNotice":291,"./ProductCheckoutPurchaseNotice.tsx":291,"./ProductCheckoutStripePaymentRequest":300,"./ProductCheckoutStripePaymentRequest.tsx":300,"./ProductCheckoutWant":133,"./ProductCheckoutWant/":133,"./ProductCheckoutWant/PWYWInput":86,"./ProductCheckoutWant/PWYWInput.tsx":86,"./ProductCheckoutWant/QuantitySelector":145,"./ProductCheckoutWant/QuantitySelector.tsx":145,"./ProductCheckoutWant/RentBuySelector":144,"./ProductCheckoutWant/RentBuySelector.tsx":144,"./ProductCheckoutWant/VariantSelector":68,"./ProductCheckoutWant/VariantSelector/":68,"./ProductCheckoutWant/VariantSelector/RecurrenceSelector":139,"./ProductCheckoutWant/VariantSelector/RecurrenceSelector.tsx":139,"./ProductCheckoutWant/VariantSelector/index":68,"./ProductCheckoutWant/VariantSelector/index.tsx":68,"./ProductCheckoutWant/VariantSelector/useSelectedRecurrence":140,"./ProductCheckoutWant/VariantSelector/useSelectedRecurrence.ts":140,"./ProductCheckoutWant/VariantSelector/useVariantSelectionState":141,"./ProductCheckoutWant/VariantSelector/useVariantSelectionState.ts":141,"./ProductCheckoutWant/index":133,"./ProductCheckoutWant/index.tsx":133,"./ProductPriceTag":143,"./ProductPriceTag.tsx":143,"./ProductRatingsForDownloadPage":292,"./ProductRatingsForDownloadPage.tsx":292,"./ProductRatingsForProductPage":293,"./ProductRatingsForProductPage.tsx":293,"./SingleProductCustomFields":138,"./SingleProductCustomFields.tsx":138,"./SubscriptionManager/ContactInfo":142,"./SubscriptionManager/ContactInfo.tsx":142};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=563},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(0),o=n(184),a=n(565);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(s(227));var l=new Set,c={};function u(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(c[e]=t,e=0;e<t.length;e++)l.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,m={},g={};function v(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(r(t)){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function y(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){b[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];b[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){b[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){b[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){b[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){b[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){b[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){b[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){b[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var w=/[\-:]([a-z])/g;function _(e){return e[1].toUpperCase()}function S(e,t,n,r){var i=b.hasOwnProperty(t)?b[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(v(t,n,i,r)&&(n=null),r||null===i?function(e){return!!p.call(g,e)||!p.call(m,e)&&(h.test(e)?g[e]=!0:(m[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(w,_);b[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(w,_);b[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(w,_);b[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){b[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),b.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){b[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var C=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,E=60106,P=60107,k=60108,T=60114,A=60109,O=60110,I=60112,j=60113,N=60120,D=60115,R=60116,F=60121,M=60128,L=60129,B=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var z=Symbol.for;x=z("react.element"),E=z("react.portal"),P=z("react.fragment"),k=z("react.strict_mode"),T=z("react.profiler"),A=z("react.provider"),O=z("react.context"),I=z("react.forward_ref"),j=z("react.suspense"),N=z("react.suspense_list"),D=z("react.memo"),R=z("react.lazy"),F=z("react.block"),z("react.scope"),M=z("react.opaque.id"),L=z("react.debug_trace_mode"),B=z("react.offscreen"),U=z("react.legacy_hidden")}var H,W="function"===typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!==r(e)?null:"function"===typeof(e=W&&e[W]||e["@@iterator"])?e:null}function V(e){if(void 0===H)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);H=t&&t[1]||""}return"\n"+H+e}var $=!1;function Y(e,t){if(!e||$)return"";$=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===("undefined"===typeof Reflect?"undefined":r(Reflect))&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),a=i.stack.split("\n"),s=o.length-1,l=a.length-1;1<=s&&0<=l&&o[s]!==a[l];)l--;for(;1<=s&&0<=l;s--,l--)if(o[s]!==a[l]){if(1!==s||1!==l)do{if(s--,0>--l||o[s]!==a[l])return"\n"+o[s].replace(" at new "," at ")}while(1<=s&&0<=l);break}}}finally{$=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function G(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=Y(e.type,!1);case 11:return e=Y(e.type.render,!1);case 22:return e=Y(e.type._render,!1);case 1:return e=Y(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case P:return"Fragment";case E:return"Portal";case T:return"Profiler";case k:return"StrictMode";case j:return"Suspense";case N:return"SuspenseList"}if("object"===r(e))switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case D:return K(e.type);case F:return K(e._render);case R:t=e._payload,e=e._init;try{return K(e(t))}catch(n){}}return null}function Q(e){switch(r(e)){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function X(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function J(e){e._valueTracker||(e._valueTracker=function(e){var t=X(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=X(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ee(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function te(e,t){var n=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ne(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function re(e,t){null!=(t=t.checked)&&S(e,"checked",t,!1)}function ie(e,t){re(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ae(e,t.type,n):t.hasOwnProperty("defaultValue")&&ae(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function oe(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ae(e,t,n){"number"===t&&ee(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function se(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function le(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ce(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function de(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function fe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml",pe="http://www.w3.org/2000/svg";function me(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ge(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?me(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ye,be=(ye=function(e,t){if(e.namespaceURI!==pe||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ye(e,t)}))}:ye);function we(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var _e={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Se=["Webkit","ms","Moz","O"];function Ce(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||_e.hasOwnProperty(e)&&_e[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Ce(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(_e).forEach((function(e){Se.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_e[t]=_e[e]}))}));var Ee=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pe(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==r(t.dangerouslySetInnerHTML)||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==r(t.style))throw Error(s(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ae=null,Oe=null,Ie=null;function je(e){if(e=ti(e)){if("function"!==typeof Ae)throw Error(s(280));var t=e.stateNode;t&&(t=ri(t),Ae(e.stateNode,e.type,t))}}function Ne(e){Oe?Ie?Ie.push(e):Ie=[e]:Oe=e}function De(){if(Oe){var e=Oe,t=Ie;if(Ie=Oe=null,je(e),t)for(e=0;e<t.length;e++)je(t[e])}}function Re(e,t){return e(t)}function Fe(e,t,n,r,i){return e(t,n,r,i)}function Me(){}var Le=Re,Be=!1,Ue=!1;function ze(){null===Oe&&null===Ie||(Me(),De())}function He(e,t){var n=e.stateNode;if(null===n)return null;var i=ri(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,r(n)));return n}var We=!1;if(f)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){We=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(ye){We=!1}function Ve(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var $e=!1,Ye=null,Ge=!1,Ke=null,Qe={onError:function(e){$e=!0,Ye=e}};function Xe(e,t,n,r,i,o,a,s,l){$e=!1,Ye=null,Ve.apply(Qe,arguments)}function Je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function et(e){if(Je(e)!==e)throw Error(s(188))}function tt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return et(i),e;if(o===r)return et(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function nt(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var rt,it,ot,at,st=!1,lt=[],ct=null,ut=null,dt=null,ft=new Map,ht=new Map,pt=[],mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ct=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":dt=null;break;case"pointerover":case"pointerout":ft.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ht.delete(t.pointerId)}}function yt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=gt(t,n,r,i,o),null!==t&&(null!==(t=ti(t))&&it(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function bt(e){var t=ei(e.target);if(null!==t){var n=Je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ze(n)))return e.blockedOn=t,void at(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){ot(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=tn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ti(n))&&it(t),e.blockedOn=n,!1;t.shift()}return!0}function _t(e,t,n){wt(e)&&n.delete(t)}function St(){for(st=!1;0<lt.length;){var e=lt[0];if(null!==e.blockedOn){null!==(e=ti(e.blockedOn))&&rt(e);break}for(var t=e.targetContainers;0<t.length;){var n=tn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&lt.shift()}null!==ct&&wt(ct)&&(ct=null),null!==ut&&wt(ut)&&(ut=null),null!==dt&&wt(dt)&&(dt=null),ft.forEach(_t),ht.forEach(_t)}function Ct(e,t){e.blockedOn===t&&(e.blockedOn=null,st||(st=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,St)))}function xt(e){function t(t){return Ct(t,e)}if(0<lt.length){Ct(lt[0],e);for(var n=1;n<lt.length;n++){var r=lt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ct&&Ct(ct,e),null!==ut&&Ct(ut,e),null!==dt&&Ct(dt,e),ft.forEach(t),ht.forEach(t),n=0;n<pt.length;n++)(r=pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<pt.length&&null===(n=pt[0]).blockedOn;)bt(n),null===n.blockedOn&&pt.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pt={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},kt={},Tt={};function At(e){if(kt[e])return kt[e];if(!Pt[e])return e;var t,n=Pt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return kt[e]=n[t];return e}f&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete Pt.animationend.animation,delete Pt.animationiteration.animation,delete Pt.animationstart.animation),"TransitionEvent"in window||delete Pt.transitionend.transition);var Ot=At("animationend"),It=At("animationiteration"),jt=At("animationstart"),Nt=At("transitionend"),Dt=new Map,Rt=new Map,Ft=["abort","abort",Ot,"animationEnd",It,"animationIteration",jt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Nt,"transitionEnd","waiting","waiting"];function Mt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),Dt.set(r,i),u(i,[r])}}(0,a.unstable_now)();var Lt=8;function Bt(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ut(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!==(o=134217727&n)){var l=o&~a;0!==l?(r=Bt(l),i=Lt):0!==(s&=o)&&(r=Bt(s),i=Lt)}else 0!==(o=n&~a)?(r=Bt(o),i=Lt):0!==s&&(r=Bt(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-$t(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Bt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-$t(t)),r|=e[n],t&=~i;return r}function zt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ht(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Wt(24&~t))?Ht(10,t):e;case 10:return 0===(e=Wt(192&~t))?Ht(8,t):e;case 8:return 0===(e=Wt(3584&~t))&&(0===(e=Wt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Wt(805306368&~t))&&(t=268435456),t}throw Error(s(358,e))}function Wt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-$t(t)]=n}var $t=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Yt(e)/Gt|0)|0},Yt=Math.log,Gt=Math.LN2;var Kt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,Xt=!0;function Jt(e,t,n,r){Be||Me();var i=en,o=Be;Be=!0;try{Fe(i,e,t,n,r)}finally{(Be=o)||ze()}}function Zt(e,t,n,r){Qt(Kt,en.bind(null,e,t,n,r))}function en(e,t,n,r){var i;if(Xt)if((i=0===(4&t))&&0<lt.length&&-1<mt.indexOf(e))e=gt(null,e,t,n,r),lt.push(e);else{var o=tn(e,t,n,r);if(null===o)i&&vt(e,r);else{if(i){if(-1<mt.indexOf(e))return e=gt(o,e,t,n,r),void lt.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ct=yt(ct,e,t,n,r,i),!0;case"dragenter":return ut=yt(ut,e,t,n,r,i),!0;case"mouseover":return dt=yt(dt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ft.set(o,yt(ft.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ht.set(o,yt(ht.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;vt(e,r)}Nr(e,t,r,null,n)}}}function tn(e,t,n,r){var i=Te(r);if(null!==(i=ei(i))){var o=Je(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Ze(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Nr(e,t,r,i,n),null}var nn=null,rn=null,on=null;function an(){if(on)return on;var e,t,n=rn,r=n.length,i="value"in nn?nn.value:nn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return on=i.slice(e,1<t?1-t:void 0)}function sn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ln(){return!0}function cn(){return!1}function un(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?ln:cn,this.isPropagationStopped=cn,this}return o(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ln)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ln)},persist:function(){},isPersistent:ln}),t}var dn,fn,hn,pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mn=un(pn),gn=o({},pn,{view:0,detail:0}),vn=un(gn),yn=o({},gn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hn&&(hn&&"mousemove"===e.type?(dn=e.screenX-hn.screenX,fn=e.screenY-hn.screenY):fn=dn=0,hn=e),dn)},movementY:function(e){return"movementY"in e?e.movementY:fn}}),bn=un(yn),wn=un(o({},yn,{dataTransfer:0})),_n=un(o({},gn,{relatedTarget:0})),Sn=un(o({},pn,{animationName:0,elapsedTime:0,pseudoElement:0})),Cn=un(o({},pn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),xn=un(o({},pn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function An(){return Tn}var On=un(o({},gn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=sn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?sn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?sn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),In=un(o({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=un(o({},gn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),Nn=un(o({},pn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=un(o({},yn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Rn=[9,13,27,32],Fn=f&&"CompositionEvent"in window,Mn=null;f&&"documentMode"in document&&(Mn=document.documentMode);var Ln=f&&"TextEvent"in window&&!Mn,Bn=f&&(!Fn||Mn&&8<Mn&&11>=Mn),Un=String.fromCharCode(32),zn=!1;function Hn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===r(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Yn(e,t,n,r){Ne(r),0<(t=Rr(t,"onChange")).length&&(n=new mn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Qn(e){kr(e,0)}function Xn(e){if(Z(ni(e)))return e}function Jn(e,t){if("change"===e)return t}var Zn=!1;if(f){var er;if(f){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"===typeof nr.oninput}er=tr}else er=!1;Zn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Gn&&(Gn.detachEvent("onpropertychange",ir),Kn=Gn=null)}function ir(e){if("value"===e.propertyName&&Xn(Kn)){var t=[];if(Yn(t,Kn,e,Te(e)),e=Qn,Be)e(t);else{Be=!0;try{Re(e,t)}finally{Be=!1,ze()}}}}function or(e,t,n){"focusin"===e?(rr(),Kn=n,(Gn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Kn)}function sr(e,t){if("click"===e)return Xn(t)}function lr(e,t){if("input"===e||"change"===e)return Xn(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ur=Object.prototype.hasOwnProperty;function dr(e,t){if(cr(e,t))return!0;if("object"!==r(e)||null===e||"object"!==r(t)||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!ur.call(t,n[i])||!cr(e[n[i]],t[n[i]]))return!1;return!0}function fr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hr(e,t){var n,r=fr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fr(r)}}function pr(){for(var e=window,t=ee();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ee((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,vr=null,yr=null,br=null,wr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==vr||vr!==ee(r)||("selectionStart"in(r=vr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&dr(br,r)||(br=r,0<(r=Rr(yr,"onSelect")).length&&(t=new mn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}Mt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Mt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Mt(Ft,2);for(var Sr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Cr=0;Cr<Sr.length;Cr++)Rt.set(Sr[Cr],0);d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Er=new Set("cancel close invalid load scroll toggle".split(" ").concat(xr));function Pr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(Xe.apply(this,arguments),$e){if(!$e)throw Error(s(198));var u=Ye;$e=!1,Ye=null,Ge||(Ge=!0,Ke=u)}}(r,t,void 0,e),e.currentTarget=null}function kr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Pr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Pr(i,s,c),o=l}}}if(Ge)throw e=Ke,Ge=!1,Ke=null,e}function Tr(e,t){var n=ii(t),r=e+"__bubble";n.has(r)||(jr(t,e,2,!1),n.add(r))}var Ar="_reactListening"+Math.random().toString(36).slice(2);function Or(e){e[Ar]||(e[Ar]=!0,l.forEach((function(t){Er.has(t)||Ir(t,!1,e,null),Ir(t,!0,e,null)})))}function Ir(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Er.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ii(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),jr(o,e,i,t),a.add(s))}function jr(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=Jt;break;case 1:i=Zt;break;default:i=en}n=i.bind(null,t,n,e),i=void 0,!We||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Nr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ei(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Ue)return e(t,n);Ue=!0;try{Le(e,t,n)}finally{Ue=!1,ze()}}((function(){var r=o,i=Te(n),a=[];e:{var s=Dt.get(e);if(void 0!==s){var l=mn,c=e;switch(e){case"keypress":if(0===sn(n))break e;case"keydown":case"keyup":l=On;break;case"focusin":c="focus",l=_n;break;case"focusout":c="blur",l=_n;break;case"beforeblur":case"afterblur":l=_n;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=wn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=jn;break;case Ot:case It:case jt:l=Sn;break;case Nt:l=Nn;break;case"scroll":l=vn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=Cn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&t),d=!u&&"scroll"===e,f=u?null!==s?s+"Capture":null:s;u=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==f&&(null!=(m=He(p,f))&&u.push(Dr(p,m,h)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ei(c)&&!c[Jr])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ei(c):null)&&(c!==(d=Je(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=bn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,m="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?s:ni(l),h=null==c?s:ni(c),(s=new u(m,p+"leave",l,n,i)).target=d,s.relatedTarget=h,m=null,ei(i)===r&&((u=new u(f,p+"enter",c,n,i)).target=h,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(f=c,p=0,h=u=l;h;h=Fr(h))p++;for(h=0,m=f;m;m=Fr(m))h++;for(;0<p-h;)u=Fr(u),p--;for(;0<h-p;)f=Fr(f),h--;for(;p--;){if(u===f||null!==f&&u===f.alternate)break e;u=Fr(u),f=Fr(f)}u=null}else u=null;null!==l&&Mr(a,s,l,u,!1),null!==c&&null!==d&&Mr(a,d,c,u,!0)}if("select"===(l=(s=r?ni(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Jn;else if($n(s))if(Zn)g=lr;else{g=ar;var v=or}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=sr);switch(g&&(g=g(e,r))?Yn(a,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ae(s,"number",s.value)),v=r?ni(r):window,e){case"focusin":($n(v)||"true"===v.contentEditable)&&(vr=v,yr=r,br=null);break;case"focusout":br=yr=vr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,_r(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(a,n,i)}var y;if(Fn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?Hn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Bn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(y=an()):(rn="value"in(nn=i)?nn.value:nn.textContent,qn=!0)),0<(v=Rr(r,b)).length&&(b=new xn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Wn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(zn=!0,Un);case"textInput":return(e=t.data)===Un&&zn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Fn&&Hn(e,t)?(e=an(),on=rn=nn=null,qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Rr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}kr(a,t)}))}function Dr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Rr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=He(e,n))&&r.unshift(Dr(e,o,i)),null!=(o=He(e,t))&&r.push(Dr(e,o,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Mr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=He(n,o))&&a.unshift(Dr(n,l,s)):i||null!=(l=He(n,o))&&a.push(Dr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Lr(){}var Br=null,Ur=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===r(t.dangerouslySetInnerHTML)&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,qr="function"===typeof clearTimeout?clearTimeout:void 0;function Vr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function $r(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Gr=0;var Kr=Math.random().toString(36).slice(2),Qr="__reactFiber$"+Kr,Xr="__reactProps$"+Kr,Jr="__reactContainer$"+Kr,Zr="__reactEvents$"+Kr;function ei(e){var t=e[Qr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jr]||n[Qr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[Qr])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ti(e){return!(e=e[Qr]||e[Jr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ni(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function ri(e){return e[Xr]||null}function ii(e){var t=e[Zr];return void 0===t&&(t=e[Zr]=new Set),t}var oi=[],ai=-1;function si(e){return{current:e}}function li(e){0>ai||(e.current=oi[ai],oi[ai]=null,ai--)}function ci(e,t){ai++,oi[ai]=e.current,e.current=t}var ui={},di=si(ui),fi=si(!1),hi=ui;function pi(e,t){var n=e.type.contextTypes;if(!n)return ui;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(fi),li(di)}function vi(e,t,n){if(di.current!==ui)throw Error(s(168));ci(di,t),ci(fi,n)}function yi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(s(108,K(t)||"Unknown",i));return o({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,hi=di.current,ci(di,e),ci(fi,fi.current),!0}function wi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=yi(e,t,hi),r.__reactInternalMemoizedMergedChildContext=e,li(fi),li(di),ci(di,e)):li(fi),ci(fi,n)}var _i=null,Si=null,Ci=a.unstable_runWithPriority,xi=a.unstable_scheduleCallback,Ei=a.unstable_cancelCallback,Pi=a.unstable_shouldYield,ki=a.unstable_requestPaint,Ti=a.unstable_now,Ai=a.unstable_getCurrentPriorityLevel,Oi=a.unstable_ImmediatePriority,Ii=a.unstable_UserBlockingPriority,ji=a.unstable_NormalPriority,Ni=a.unstable_LowPriority,Di=a.unstable_IdlePriority,Ri={},Fi=void 0!==ki?ki:function(){},Mi=null,Li=null,Bi=!1,Ui=Ti(),zi=1e4>Ui?Ti:function(){return Ti()-Ui};function Hi(){switch(Ai()){case Oi:return 99;case Ii:return 98;case ji:return 97;case Ni:return 96;case Di:return 95;default:throw Error(s(332))}}function Wi(e){switch(e){case 99:return Oi;case 98:return Ii;case 97:return ji;case 96:return Ni;case 95:return Di;default:throw Error(s(332))}}function qi(e,t){return e=Wi(e),Ci(e,t)}function Vi(e,t,n){return e=Wi(e),xi(e,t,n)}function $i(){if(null!==Li){var e=Li;Li=null,Ei(e)}Yi()}function Yi(){if(!Bi&&null!==Mi){Bi=!0;var e=0;try{var t=Mi;qi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Mi=null}catch(n){throw null!==Mi&&(Mi=Mi.slice(e+1)),xi(Oi,$i),n}finally{Bi=!1}}}var Gi=C.ReactCurrentBatchConfig;function Ki(e,t){if(e&&e.defaultProps){for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Qi=si(null),Xi=null,Ji=null,Zi=null;function eo(){Zi=Ji=Xi=null}function to(e){var t=Qi.current;li(Qi),e.type._context._currentValue=t}function no(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ro(e,t){Xi=e,Zi=Ji=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ra=!0),e.firstContext=null)}function io(e,t){if(Zi!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Zi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ji){if(null===Xi)throw Error(s(308));Ji=t,Xi.dependencies={lanes:0,firstContext:t,responders:null}}else Ji=Ji.next=t;return e._currentValue}var oo=!1;function ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function so(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function co(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function uo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fo(e,t,n,r){var i=e.updateQueue;oo=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(null!==l){i.shared.pending=null;var c=l,u=c.next;c.next=null,null===s?a=u:s.next=u,s=c;var d=e.alternate;if(null!==d){var f=(d=d.updateQueue).lastBaseUpdate;f!==s&&(null===f?d.firstBaseUpdate=u:f.next=u,d.lastBaseUpdate=c)}}if(null!==a){for(f=i.baseState,s=0,d=u=c=null;;){l=a.lane;var h=a.eventTime;if((r&l)===l){null!==d&&(d=d.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(l=t,h=n,m.tag){case 1:if("function"===typeof(p=m.payload)){f=p.call(h,f,l);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(l="function"===typeof(p=m.payload)?p.call(h,f,l):p)||void 0===l)break e;f=o({},f,l);break e;case 2:oo=!0}}null!==a.callback&&(e.flags|=32,null===(l=i.effects)?i.effects=[a]:l.push(a))}else h={eventTime:h,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(u=d=h,c=f):d=d.next=h,s|=l;if(null===(a=a.next)){if(null===(l=i.shared.pending))break;a=l.next,l.next=null,i.lastBaseUpdate=l,i.shared.pending=null}}null===d&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,Ms|=s,e.lanes=s,e.memoizedState=f}}function ho(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var po=(new i.Component).refs;function mo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:o({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var go={isMounted:function(e){return!!(e=e._reactInternals)&&Je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ll(),i=cl(e),o=lo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),co(e,o),ul(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ll(),i=cl(e),o=lo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),co(e,o),ul(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ll(),r=cl(e),i=lo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),co(e,i),ul(e,r,n)}};function vo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!dr(n,r)||!dr(i,o))}function yo(e,t,n){var i=!1,o=ui,a=t.contextType;return"object"===r(a)&&null!==a?a=io(a):(o=mi(t)?hi:di.current,a=(i=null!==(i=t.contextTypes)&&void 0!==i)?pi(e,o):ui),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=go,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function bo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function wo(e,t,n,i){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=po,ao(e);var a=t.contextType;"object"===r(a)&&null!==a?o.context=io(a):(a=mi(t)?hi:di.current,o.context=pi(e,a)),fo(e,n,o,i),o.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(mo(e,t,a,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&go.enqueueReplaceState(o,o.state,null),fo(e,n,o,i),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4)}var _o=Array.isArray;function So(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==r(e)){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=i.refs;t===po&&(t=i.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Co(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function xo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Hl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function l(t){return e&&null===t.alternate&&(t.flags=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=$l(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=o(t,n.props)).ref=So(e,t,n),r.return=e,r):((r=Wl(n.type,n.key,n.props,null,e.mode,r)).ref=So(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Yl(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=ql(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=$l(""+t,e.mode,n)).return=e,t;if("object"===r(t)&&null!==t){switch(t.$$typeof){case x:return(n=Wl(t.type,t.key,t.props,null,e.mode,n)).ref=So(e,null,t),n.return=e,n;case E:return(t=Yl(t,e.mode,n)).return=e,t}if(_o(t)||q(t))return(t=ql(t,e.mode,n,null)).return=e,t;Co(e,t)}return null}function p(e,t,n,i){var o=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==o?null:c(e,t,""+n,i);if("object"===r(n)&&null!==n){switch(n.$$typeof){case x:return n.key===o?n.type===P?f(e,t,n.props.children,i,o):u(e,t,n,i):null;case E:return n.key===o?d(e,t,n,i):null}if(_o(n)||q(n))return null!==o?null:f(e,t,n,i,null);Co(e,n)}return null}function m(e,t,n,i,o){if("string"===typeof i||"number"===typeof i)return c(t,e=e.get(n)||null,""+i,o);if("object"===r(i)&&null!==i){switch(i.$$typeof){case x:return e=e.get(null===i.key?n:i.key)||null,i.type===P?f(t,e,i.props.children,o,i.key):u(t,e,i,o);case E:return d(t,e=e.get(null===i.key?n:i.key)||null,i,o)}if(_o(i)||q(i))return f(t,e=e.get(n)||null,i,o,null);Co(t,i)}return null}function g(r,o,s,l){for(var c=null,u=null,d=o,f=o=0,g=null;null!==d&&f<s.length;f++){d.index>f?(g=d,d=null):g=d.sibling;var v=p(r,d,s[f],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(r,d),o=a(v,o,f),null===u?c=v:u.sibling=v,u=v,d=g}if(f===s.length)return n(r,d),c;if(null===d){for(;f<s.length;f++)null!==(d=h(r,s[f],l))&&(o=a(d,o,f),null===u?c=d:u.sibling=d,u=d);return c}for(d=i(r,d);f<s.length;f++)null!==(g=m(d,r,f,s[f],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?f:g.key),o=a(g,o,f),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(r,e)})),c}function v(r,o,l,c){var u=q(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,f=o,g=o=0,v=null,y=l.next();null!==f&&!y.done;g++,y=l.next()){f.index>g?(v=f,f=null):v=f.sibling;var b=p(r,f,y.value,c);if(null===b){null===f&&(f=v);break}e&&f&&null===b.alternate&&t(r,f),o=a(b,o,g),null===d?u=b:d.sibling=b,d=b,f=v}if(y.done)return n(r,f),u;if(null===f){for(;!y.done;g++,y=l.next())null!==(y=h(r,y.value,c))&&(o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return u}for(f=i(r,f);!y.done;g++,y=l.next())null!==(y=m(f,r,g,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?g:y.key),o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&f.forEach((function(e){return t(r,e)})),u}return function(e,i,a,c){var u="object"===r(a)&&null!==a&&a.type===P&&null===a.key;u&&(a=a.props.children);var d="object"===r(a)&&null!==a;if(d)switch(a.$$typeof){case x:e:{for(d=a.key,u=i;null!==u;){if(u.key===d){switch(u.tag){case 7:if(a.type===P){n(e,u.sibling),(i=o(u,a.props.children)).return=e,e=i;break e}break;default:if(u.elementType===a.type){n(e,u.sibling),(i=o(u,a.props)).ref=So(e,u,a),i.return=e,e=i;break e}}n(e,u);break}t(e,u),u=u.sibling}a.type===P?((i=ql(a.props.children,e.mode,c,a.key)).return=e,e=i):((c=Wl(a.type,a.key,a.props,null,e.mode,c)).ref=So(e,i,a),c.return=e,e=c)}return l(e);case E:e:{for(u=a.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(e,i.sibling),(i=o(i,a.children||[])).return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}(i=Yl(a,e.mode,c)).return=e,e=i}return l(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==i&&6===i.tag?(n(e,i.sibling),(i=o(i,a)).return=e,e=i):(n(e,i),(i=$l(a,e.mode,c)).return=e,e=i),l(e);if(_o(a))return g(e,i,a,c);if(q(a))return v(e,i,a,c);if(d&&Co(e,a),"undefined"===typeof a&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,K(e.type)||"Component"))}return n(e,i)}}var Eo=xo(!0),Po=xo(!1),ko={},To=si(ko),Ao=si(ko),Oo=si(ko);function Io(e){if(e===ko)throw Error(s(174));return e}function jo(e,t){switch(ci(Oo,t),ci(Ao,e),ci(To,ko),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ge(null,"");break;default:t=ge(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(To),ci(To,t)}function No(){li(To),li(Ao),li(Oo)}function Do(e){Io(Oo.current);var t=Io(To.current),n=ge(t,e.type);t!==n&&(ci(Ao,e),ci(To,n))}function Ro(e){Ao.current===e&&(li(To),li(Ao))}var Fo=si(0);function Mo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Lo=null,Bo=null,Uo=!1;function zo(e,t){var n=Ul(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ho(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Wo(e){if(Uo){var t=Bo;if(t){var n=t;if(!Ho(e,t)){if(!(t=$r(n.nextSibling))||!Ho(e,t))return e.flags=-1025&e.flags|2,Uo=!1,void(Lo=e);zo(Lo,n)}Lo=e,Bo=$r(t.firstChild)}else e.flags=-1025&e.flags|2,Uo=!1,Lo=e}}function qo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Lo=e}function Vo(e){if(e!==Lo)return!1;if(!Uo)return qo(e),Uo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=Bo;t;)zo(e,t),t=$r(t.nextSibling);if(qo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Bo=$r(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Bo=null}}else Bo=Lo?$r(e.stateNode.nextSibling):null;return!0}function $o(){Bo=Lo=null,Uo=!1}var Yo=[];function Go(){for(var e=0;e<Yo.length;e++)Yo[e]._workInProgressVersionPrimary=null;Yo.length=0}var Ko=C.ReactCurrentDispatcher,Qo=C.ReactCurrentBatchConfig,Xo=0,Jo=null,Zo=null,ea=null,ta=!1,na=!1;function ra(){throw Error(s(321))}function ia(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function oa(e,t,n,r,i,o){if(Xo=o,Jo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ko.current=null===e||null===e.memoizedState?Ia:ja,e=n(r,i),na){o=0;do{if(na=!1,!(25>o))throw Error(s(301));o+=1,ea=Zo=null,t.updateQueue=null,Ko.current=Na,e=n(r,i)}while(na)}if(Ko.current=Oa,t=null!==Zo&&null!==Zo.next,Xo=0,ea=Zo=Jo=null,ta=!1,t)throw Error(s(300));return e}function aa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ea?Jo.memoizedState=ea=e:ea=ea.next=e,ea}function sa(){if(null===Zo){var e=Jo.alternate;e=null!==e?e.memoizedState:null}else e=Zo.next;var t=null===ea?Jo.memoizedState:ea.next;if(null!==t)ea=t,Zo=e;else{if(null===e)throw Error(s(310));e={memoizedState:(Zo=e).memoizedState,baseState:Zo.baseState,baseQueue:Zo.baseQueue,queue:Zo.queue,next:null},null===ea?Jo.memoizedState=ea=e:ea=ea.next=e}return ea}function la(e,t){return"function"===typeof t?t(e):t}function ca(e){var t=sa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=Zo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=a=o=null,c=i;do{var u=c.lane;if((Xo&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(a=l=d,o=r):l=l.next=d,Jo.lanes|=u,Ms|=u}c=c.next}while(null!==c&&c!==i);null===l?o=r:l.next=a,cr(r,t.memoizedState)||(Ra=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ua(e){var t=sa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);cr(o,t.memoizedState)||(Ra=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function da(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xo&e)===e)&&(t._workInProgressVersionPrimary=r,Yo.push(t))),e)return n(t._source);throw Yo.push(t),Error(s(350))}function fa(e,t,n,r){var i=As;if(null===i)throw Error(s(349));var o=t._getVersion,a=o(t._source),l=Ko.current,c=l.useState((function(){return da(i,t,n)})),u=c[1],d=c[0];c=ea;var f=e.memoizedState,h=f.refs,p=h.getSnapshot,m=f.source;f=f.subscribe;var g=Jo;return e.memoizedState={refs:h,source:t,subscribe:r},l.useEffect((function(){h.getSnapshot=n,h.setSnapshot=u;var e=o(t._source);if(!cr(a,e)){e=n(t._source),cr(d,e)||(u(e),e=cl(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,s=e;0<s;){var l=31-$t(s),c=1<<l;r[l]|=e,s&=~c}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=cl(g);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),cr(p,n)&&cr(m,t)&&cr(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:d}).dispatch=u=Aa.bind(null,Jo,e),c.queue=e,c.baseQueue=null,d=da(i,t,n),c.memoizedState=c.baseState=d),d}function ha(e,t,n){return fa(sa(),e,t,n)}function pa(e){var t=aa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:e}).dispatch=Aa.bind(null,Jo,e),[t.memoizedState,e]}function ma(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Jo.updateQueue)?(t={lastEffect:null},Jo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ga(e){return e={current:e},aa().memoizedState=e}function va(){return sa().memoizedState}function ya(e,t,n,r){var i=aa();Jo.flags|=e,i.memoizedState=ma(1|t,n,void 0,void 0===r?null:r)}function ba(e,t,n,r){var i=sa();r=void 0===r?null:r;var o=void 0;if(null!==Zo){var a=Zo.memoizedState;if(o=a.destroy,null!==r&&ia(r,a.deps))return void ma(t,n,o,r)}Jo.flags|=e,i.memoizedState=ma(1|t,n,o,r)}function wa(e,t){return ya(516,4,e,t)}function _a(e,t){return ba(516,4,e,t)}function Sa(e,t){return ba(4,2,e,t)}function Ca(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function xa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ba(4,2,Ca.bind(null,t,e),n)}function Ea(){}function Pa(e,t){var n=sa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ia(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ka(e,t){var n=sa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ia(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ta(e,t){var n=Hi();qi(98>n?98:n,(function(){e(!0)})),qi(97<n?97:n,(function(){var n=Qo.transition;Qo.transition=1;try{e(!1),t()}finally{Qo.transition=n}}))}function Aa(e,t,n){var r=ll(),i=cl(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Jo||null!==a&&a===Jo)na=ta=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=a(s,n);if(o.eagerReducer=a,o.eagerState=l,cr(l,s))return}catch(c){}ul(e,i,r)}}var Oa={readContext:io,useCallback:ra,useContext:ra,useEffect:ra,useImperativeHandle:ra,useLayoutEffect:ra,useMemo:ra,useReducer:ra,useRef:ra,useState:ra,useDebugValue:ra,useDeferredValue:ra,useTransition:ra,useMutableSource:ra,useOpaqueIdentifier:ra,unstable_isNewReconciler:!1},Ia={readContext:io,useCallback:function(e,t){return aa().memoizedState=[e,void 0===t?null:t],e},useContext:io,useEffect:wa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ya(4,2,Ca.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ya(4,2,e,t)},useMemo:function(e,t){var n=aa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=aa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Aa.bind(null,Jo,e),[r.memoizedState,e]},useRef:ga,useState:pa,useDebugValue:Ea,useDeferredValue:function(e){var t=pa(e),n=t[0],r=t[1];return wa((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=pa(!1),t=e[0];return ga(e=Ta.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=aa();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},fa(r,e,t,n)},useOpaqueIdentifier:function(){if(Uo){var e=!1,t=function(e){return{$$typeof:M,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Gr++).toString(36))),Error(s(355))})),n=pa(t)[1];return 0===(2&Jo.mode)&&(Jo.flags|=516,ma(5,(function(){n("r:"+(Gr++).toString(36))}),void 0,null)),t}return pa(t="r:"+(Gr++).toString(36)),t},unstable_isNewReconciler:!1},ja={readContext:io,useCallback:Pa,useContext:io,useEffect:_a,useImperativeHandle:xa,useLayoutEffect:Sa,useMemo:ka,useReducer:ca,useRef:va,useState:function(){return ca(la)},useDebugValue:Ea,useDeferredValue:function(e){var t=ca(la),n=t[0],r=t[1];return _a((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=ca(la)[0];return[va().current,e]},useMutableSource:ha,useOpaqueIdentifier:function(){return ca(la)[0]},unstable_isNewReconciler:!1},Na={readContext:io,useCallback:Pa,useContext:io,useEffect:_a,useImperativeHandle:xa,useLayoutEffect:Sa,useMemo:ka,useReducer:ua,useRef:va,useState:function(){return ua(la)},useDebugValue:Ea,useDeferredValue:function(e){var t=ua(la),n=t[0],r=t[1];return _a((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=ua(la)[0];return[va().current,e]},useMutableSource:ha,useOpaqueIdentifier:function(){return ua(la)[0]},unstable_isNewReconciler:!1},Da=C.ReactCurrentOwner,Ra=!1;function Fa(e,t,n,r){t.child=null===e?Po(t,null,n,r):Eo(t,e.child,n,r)}function Ma(e,t,n,r,i){n=n.render;var o=t.ref;return ro(t,i),r=oa(e,t,n,r,o,i),null===e||Ra?(t.flags|=1,Fa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,rs(e,t,i))}function La(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||zl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Wl(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ba(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:dr)(i,r)&&e.ref===t.ref)?rs(e,t,o):(t.flags|=1,(e=Hl(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ba(e,t,n,r,i,o){if(null!==e&&dr(e.memoizedProps,r)&&e.ref===t.ref){if(Ra=!1,0===(o&i))return t.lanes=e.lanes,rs(e,t,o);0!==(16384&e.flags)&&(Ra=!0)}return Ha(e,t,n,r,o)}function Ua(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},yl(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},yl(t,e),null;t.memoizedState={baseLanes:0},yl(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,yl(t,r);return Fa(e,t,i,n),t.child}function za(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ha(e,t,n,r,i){var o=mi(n)?hi:di.current;return o=pi(t,o),ro(t,i),n=oa(e,t,n,r,o,i),null===e||Ra?(t.flags|=1,Fa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,rs(e,t,i))}function Wa(e,t,n,i,o){if(mi(n)){var a=!0;bi(t)}else a=!1;if(ro(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),yo(t,n,i),wo(t,n,i,o),i=!0;else if(null===e){var s=t.stateNode,l=t.memoizedProps;s.props=l;var c=s.context,u=n.contextType;"object"===r(u)&&null!==u?u=io(u):u=pi(t,u=mi(n)?hi:di.current);var d=n.getDerivedStateFromProps,f="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate;f||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(l!==i||c!==u)&&bo(t,s,i,u),oo=!1;var h=t.memoizedState;s.state=h,fo(t,i,s,o),c=t.memoizedState,l!==i||h!==c||fi.current||oo?("function"===typeof d&&(mo(t,n,d,i),c=t.memoizedState),(l=oo||vo(t,n,l,i,h,c,u))?(f||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4)):("function"===typeof s.componentDidMount&&(t.flags|=4),t.memoizedProps=i,t.memoizedState=c),s.props=i,s.state=c,s.context=u,i=l):("function"===typeof s.componentDidMount&&(t.flags|=4),i=!1)}else{s=t.stateNode,so(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ki(t.type,l),s.props=u,f=t.pendingProps,h=s.context,"object"===r(c=n.contextType)&&null!==c?c=io(c):c=pi(t,c=mi(n)?hi:di.current);var p=n.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(l!==f||h!==c)&&bo(t,s,i,c),oo=!1,h=t.memoizedState,s.state=h,fo(t,i,s,o);var m=t.memoizedState;l!==f||h!==m||fi.current||oo?("function"===typeof p&&(mo(t,n,p,i),m=t.memoizedState),(u=oo||vo(t,n,u,i,h,m,c))?(d||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(i,m,c),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,m,c)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof s.componentDidUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=i,t.memoizedState=m),s.props=i,s.state=m,s.context=c,i=u):("function"!==typeof s.componentDidUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),i=!1)}return qa(e,t,n,i,a,o)}function qa(e,t,n,r,i,o){za(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&wi(t,n,!1),rs(e,t,o);r=t.stateNode,Da.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Eo(t,e.child,null,o),t.child=Eo(t,null,s,o)):Fa(e,t,s,o),t.memoizedState=r.state,i&&wi(t,n,!0),t.child}function Va(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),jo(e,t.containerInfo)}var $a,Ya,Ga,Ka={dehydrated:null,retryLane:0};function Qa(e,t,n){var r,i=t.pendingProps,o=Fo.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ci(Fo,1&o),null===e?(void 0!==i.fallback&&Wo(t),e=i.children,o=i.fallback,a?(e=Xa(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ka,e):"number"===typeof i.unstable_expectedLoadTime?(e=Xa(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ka,t.lanes=33554432,e):((n=Vl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=Za(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ka,i):(n=Ja(e,t,i.children,n),t.memoizedState=null,n))}function Xa(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Vl(t,i,0,null),n=ql(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Ja(e,t,n,r){var i=e.child;return e=i.sibling,n=Hl(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Za(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hl(a,s),null!==e?r=Hl(e,r):(r=ql(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function es(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),no(e.return,t)}function ts(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function ns(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Fa(e,t,r.children,n),0!==(2&(r=Fo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&es(e,n);else if(19===e.tag)es(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ci(Fo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Mo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ts(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Mo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ts(t,!0,n,null,o,t.lastEffect);break;case"together":ts(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function rs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Hl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function is(e,t){if(!Uo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function os(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return mi(t.type)&&gi(),null;case 3:return No(),li(fi),li(di),Go(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Vo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ro(t);var i=Io(Oo.current);if(n=t.type,null!==e&&null!=t.stateNode)Ya(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(s(166));return null}if(e=Io(To.current),Vo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Qr]=t,r[Xr]=a,n){case"dialog":Tr("cancel",r),Tr("close",r);break;case"iframe":case"object":case"embed":Tr("load",r);break;case"video":case"audio":for(e=0;e<xr.length;e++)Tr(xr[e],r);break;case"source":Tr("error",r);break;case"img":case"image":case"link":Tr("error",r),Tr("load",r);break;case"details":Tr("toggle",r);break;case"input":ne(r,a),Tr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Tr("invalid",r);break;case"textarea":ue(r,a),Tr("invalid",r)}for(var l in Pe(n,a),e=null,a)a.hasOwnProperty(l)&&(i=a[l],"children"===l?"string"===typeof i?r.textContent!==i&&(e=["children",i]):"number"===typeof i&&r.textContent!==""+i&&(e=["children",""+i]):c.hasOwnProperty(l)&&null!=i&&"onScroll"===l&&Tr("scroll",r));switch(n){case"input":J(r),oe(r,a,!0);break;case"textarea":J(r),fe(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Lr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(l=9===i.nodeType?i:i.ownerDocument,e===he&&(e=me(n)),e===he?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Qr]=t,e[Xr]=r,$a(e,t),t.stateNode=e,l=ke(n,r),n){case"dialog":Tr("cancel",e),Tr("close",e),i=r;break;case"iframe":case"object":case"embed":Tr("load",e),i=r;break;case"video":case"audio":for(i=0;i<xr.length;i++)Tr(xr[i],e);i=r;break;case"source":Tr("error",e),i=r;break;case"img":case"image":case"link":Tr("error",e),Tr("load",e),i=r;break;case"details":Tr("toggle",e),i=r;break;case"input":ne(e,r),i=te(e,r),Tr("invalid",e);break;case"option":i=se(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=o({},r,{value:void 0}),Tr("invalid",e);break;case"textarea":ue(e,r),i=ce(e,r),Tr("invalid",e);break;default:i=r}Pe(n,i);var u=i;for(a in u)if(u.hasOwnProperty(a)){var d=u[a];"style"===a?xe(e,d):"dangerouslySetInnerHTML"===a?null!=(d=d?d.__html:void 0)&&be(e,d):"children"===a?"string"===typeof d?("textarea"!==n||""!==d)&&we(e,d):"number"===typeof d&&we(e,""+d):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(c.hasOwnProperty(a)?null!=d&&"onScroll"===a&&Tr("scroll",e):null!=d&&S(e,a,d,l))}switch(n){case"input":J(e),oe(e,r,!1);break;case"textarea":J(e),fe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?le(e,!!r.multiple,a,!1):null!=r.defaultValue&&le(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Lr)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ga(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));n=Io(Oo.current),Io(To.current),Vo(t)?(r=t.stateNode,n=t.memoizedProps,r[Qr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Qr]=t,t.stateNode=r)}return null;case 13:return li(Fo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Vo(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fo.current)?0===Ds&&(Ds=3):(0!==Ds&&3!==Ds||(Ds=4),null===As||0===(134217727&Ms)&&0===(134217727&Ls)||pl(As,Is))),(r||n)&&(t.flags|=4),null);case 4:return No(),null===e&&Or(t.stateNode.containerInfo),null;case 10:return to(t),null;case 17:return mi(t.type)&&gi(),null;case 19:if(li(Fo),null===(r=t.memoizedState))return null;if(a=0!==(64&t.flags),null===(l=r.rendering))if(a)is(r,!1);else{if(0!==Ds||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=Mo(e))){for(t.flags|=64,is(r,!1),null!==(a=l.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ci(Fo,1&Fo.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Hs&&(t.flags|=64,a=!0,is(r,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=Mo(l))){if(t.flags|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),is(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!Uo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Hs&&1073741824!==n&&(t.flags|=64,a=!0,is(r,!1),t.lanes=33554432);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Fo.current,ci(Fo,a?1&t|2:1&t),n):null;case 23:case 24:return bl(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(s(156,t.tag))}function as(e){switch(e.tag){case 1:mi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(No(),li(fi),li(di),Go(),0!==(64&(t=e.flags)))throw Error(s(285));return e.flags=-4097&t|64,e;case 5:return Ro(e),null;case 13:return li(Fo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fo),null;case 4:return No(),null;case 10:return to(e),null;case 23:case 24:return bl(),null;default:return null}}function ss(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}$a=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ya=function(e,t,n,i){var a=e.memoizedProps;if(a!==i){e=t.stateNode,Io(To.current);var s,l=null;switch(n){case"input":a=te(e,a),i=te(e,i),l=[];break;case"option":a=se(e,a),i=se(e,i),l=[];break;case"select":a=o({},a,{value:void 0}),i=o({},i,{value:void 0}),l=[];break;case"textarea":a=ce(e,a),i=ce(e,i),l=[];break;default:"function"!==typeof a.onClick&&"function"===typeof i.onClick&&(e.onclick=Lr)}for(f in Pe(n,i),n=null,a)if(!i.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var u=a[f];for(s in u)u.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(c.hasOwnProperty(f)?l||(l=[]):(l=l||[]).push(f,null));for(f in i){var d=i[f];if(u=null!=a?a[f]:void 0,i.hasOwnProperty(f)&&d!==u&&(null!=d||null!=u))if("style"===f)if(u){for(s in u)!u.hasOwnProperty(s)||d&&d.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in d)d.hasOwnProperty(s)&&u[s]!==d[s]&&(n||(n={}),n[s]=d[s])}else n||(l||(l=[]),l.push(f,n)),n=d;else"dangerouslySetInnerHTML"===f?(d=d?d.__html:void 0,u=u?u.__html:void 0,null!=d&&u!==d&&(l=l||[]).push(f,d)):"children"===f?"string"!==typeof d&&"number"!==typeof d||(l=l||[]).push(f,""+d):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(c.hasOwnProperty(f)?(null!=d&&"onScroll"===f&&Tr("scroll",e),l||u===d||(l=[])):"object"===r(d)&&null!==d&&d.$$typeof===M?d.toString():(l=l||[]).push(f,d))}n&&(l=l||[]).push("style",n);var f=l;(t.updateQueue=f)&&(t.flags|=4)}},Ga=function(e,t,n,r){n!==r&&(t.flags|=4)};var cs="function"===typeof WeakMap?WeakMap:Map;function us(e,t,n){(n=lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$s||($s=!0,Ys=r),ls(0,t)},n}function ds(e,t,n){(n=lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var fs="function"===typeof WeakSet?WeakSet:Set;function hs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Fl(e,n)}else t.current=null}function ps(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ki(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Vr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(s(163))}function ms(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Nl(n,e),jl(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ki(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&ho(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}ho(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(s(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=Ce("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function vs(e,t){if(Si&&"function"===typeof Si.onCommitFiberUnmount)try{Si.onCommitFiberUnmount(_i,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Nl(t,n);else{r=t;try{i()}catch(o){Fl(r,o)}}n=n.next}while(n!==e)}break;case 1:if(hs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Fl(t,o)}break;case 5:hs(t);break;case 4:_s(e,t)}}function ys(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function bs(e){return 5===e.tag||3===e.tag||4===e.tag}function ws(e){e:{for(var t=e.return;null!==t;){if(bs(t))break e;t=t.return}throw Error(s(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.flags&&(we(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||bs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=Lr));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function _s(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(s(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var a=e,l=i,c=l;;)if(vs(a,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break e;for(;null===c.sibling;){if(null===c.return||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(a=n,l=i.stateNode,8===a.nodeType?a.parentNode.removeChild(l):a.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(vs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Ss(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Xr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&re(n,r),ke(e,i),t=ke(e,r),i=0;i<o.length;i+=2){var a=o[i],l=o[i+1];"style"===a?xe(n,l):"dangerouslySetInnerHTML"===a?be(n,l):"children"===a?we(n,l):S(n,a,l,t)}switch(e){case"input":ie(n,r);break;case"textarea":de(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?le(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?le(n,!!r.multiple,r.defaultValue,!0):le(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(zs=zi(),gs(t.child,!0)),void Cs(t);case 19:return void Cs(t);case 17:return;case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(s(163))}function Cs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new fs),t.forEach((function(t){var r=Ll.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function xs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Es=Math.ceil,Ps=C.ReactCurrentDispatcher,ks=C.ReactCurrentOwner,Ts=0,As=null,Os=null,Is=0,js=0,Ns=si(0),Ds=0,Rs=null,Fs=0,Ms=0,Ls=0,Bs=0,Us=null,zs=0,Hs=1/0;function Ws(){Hs=zi()+500}var qs,Vs=null,$s=!1,Ys=null,Gs=null,Ks=!1,Qs=null,Xs=90,Js=[],Zs=[],el=null,tl=0,nl=null,rl=-1,il=0,ol=0,al=null,sl=!1;function ll(){return 0!==(48&Ts)?zi():-1!==rl?rl:rl=zi()}function cl(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Hi()?1:2;if(0===il&&(il=Fs),0!==Gi.transition){0!==ol&&(ol=null!==Us?Us.pendingLanes:0),e=il;var t=4186112&~ol;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Hi(),0!==(4&Ts)&&98===e?e=Ht(12,il):e=Ht(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),il),e}function ul(e,t,n){if(50<tl)throw tl=0,nl=null,Error(s(185));if(null===(e=dl(e,t)))return null;Vt(e,t,n),e===As&&(Ls|=t,4===Ds&&pl(e,Is));var r=Hi();1===t?0!==(8&Ts)&&0===(48&Ts)?ml(e):(fl(e,n),0===Ts&&(Ws(),$i())):(0===(4&Ts)||98!==r&&99!==r||(null===el?el=new Set([e]):el.add(e)),fl(e,n)),Us=e}function dl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function fl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-$t(a),c=1<<l,u=o[l];if(-1===u){if(0===(c&r)||0!==(c&i)){u=t,Bt(c);var d=Lt;o[l]=10<=d?u+250:6<=d?u+5e3:-1}}else u<=t&&(e.expiredLanes|=c);a&=~c}if(r=Ut(e,e===As?Is:0),t=Lt,0===r)null!==n&&(n!==Ri&&Ei(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ri&&Ei(n)}15===t?(n=ml.bind(null,e),null===Mi?(Mi=[n],Li=xi(Oi,Yi)):Mi.push(n),n=Ri):14===t?n=Vi(99,ml.bind(null,e)):n=Vi(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,e))}}(t),hl.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function hl(e){if(rl=-1,ol=il=0,0!==(48&Ts))throw Error(s(327));var t=e.callbackNode;if(Il()&&e.callbackNode!==t)return null;var n=Ut(e,e===As?Is:0);if(0===n)return null;var r=n,i=Ts;Ts|=16;var o=Sl();for(As===e&&Is===r||(Ws(),wl(e,r));;)try{El();break}catch(l){_l(e,l)}if(eo(),Ps.current=o,Ts=i,null!==Os?r=0:(As=null,Is=0,r=Ds),0!==(Fs&Ls))wl(e,0);else if(0!==r){if(2===r&&(Ts|=64,e.hydrate&&(e.hydrate=!1,Vr(e.containerInfo)),0!==(n=zt(e))&&(r=Cl(e,n))),1===r)throw t=Rs,wl(e,0),pl(e,n),fl(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(s(345));case 2:Tl(e);break;case 3:if(pl(e,n),(62914560&n)===n&&10<(r=zs+500-zi())){if(0!==Ut(e,0))break;if(((i=e.suspendedLanes)&n)!==n){ll(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Tl.bind(null,e),r);break}Tl(e);break;case 4:if(pl(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-$t(n);o=1<<a,(a=r[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Es(n/1960))-n)){e.timeoutHandle=Wr(Tl.bind(null,e),n);break}Tl(e);break;case 5:Tl(e);break;default:throw Error(s(329))}}return fl(e,zi()),e.callbackNode===t?hl.bind(null,e):null}function pl(e,t){for(t&=~Bs,t&=~Ls,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-$t(t),r=1<<n;e[n]=-1,t&=~r}}function ml(e){if(0!==(48&Ts))throw Error(s(327));if(Il(),e===As&&0!==(e.expiredLanes&Is)){var t=Is,n=Cl(e,t);0!==(Fs&Ls)&&(n=Cl(e,t=Ut(e,t)))}else n=Cl(e,t=Ut(e,0));if(0!==e.tag&&2===n&&(Ts|=64,e.hydrate&&(e.hydrate=!1,Vr(e.containerInfo)),0!==(t=zt(e))&&(n=Cl(e,t))),1===n)throw n=Rs,wl(e,0),pl(e,t),fl(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tl(e),fl(e,zi()),null}function gl(e,t){var n=Ts;Ts|=1;try{return e(t)}finally{0===(Ts=n)&&(Ws(),$i())}}function vl(e,t){var n=Ts;Ts&=-2,Ts|=8;try{return e(t)}finally{0===(Ts=n)&&(Ws(),$i())}}function yl(e,t){ci(Ns,js),js|=t,Fs|=t}function bl(){js=Ns.current,li(Ns)}function wl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,qr(n)),null!==Os)for(n=Os.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:No(),li(fi),li(di),Go();break;case 5:Ro(r);break;case 4:No();break;case 13:case 19:li(Fo);break;case 10:to(r);break;case 23:case 24:bl()}n=n.return}As=e,Os=Hl(e.current,null),Is=js=Fs=t,Ds=0,Rs=null,Bs=Ls=Ms=0}function _l(e,t){for(;;){var n=Os;try{if(eo(),Ko.current=Oa,ta){for(var i=Jo.memoizedState;null!==i;){var o=i.queue;null!==o&&(o.pending=null),i=i.next}ta=!1}if(Xo=0,ea=Zo=Jo=null,na=!1,ks.current=null,null===n||null===n.return){Ds=1,Rs=t,Os=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Is,l.flags|=2048,l.firstEffect=l.lastEffect=null,null!==c&&"object"===r(c)&&"function"===typeof c.then){var u=c;if(0===(2&l.mode)){var d=l.alternate;d?(l.updateQueue=d.updateQueue,l.memoizedState=d.memoizedState,l.lanes=d.lanes):(l.updateQueue=null,l.memoizedState=null)}var f=0!==(1&Fo.current),h=s;do{var p;if(p=13===h.tag){var m=h.memoizedState;if(null!==m)p=null!==m.dehydrated;else{var g=h.memoizedProps;p=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!f)}}if(p){var v=h.updateQueue;if(null===v){var y=new Set;y.add(u),h.updateQueue=y}else v.add(u);if(0===(2&h.mode)){if(h.flags|=64,l.flags|=16384,l.flags&=-2981,1===l.tag)if(null===l.alternate)l.tag=17;else{var b=lo(-1,1);b.tag=2,co(l,b)}l.lanes|=1;break e}c=void 0,l=t;var w=a.pingCache;if(null===w?(w=a.pingCache=new cs,c=new Set,w.set(u,c)):void 0===(c=w.get(u))&&(c=new Set,w.set(u,c)),!c.has(l)){c.add(l);var _=Ml.bind(null,a,u,l);u.then(_,_)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);c=Error((K(l.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ds&&(Ds=2),c=ss(c,l),h=s;do{switch(h.tag){case 3:a=c,h.flags|=4096,t&=-t,h.lanes|=t,uo(h,us(0,a,t));break e;case 1:a=c;var S=h.type,C=h.stateNode;if(0===(64&h.flags)&&("function"===typeof S.getDerivedStateFromError||null!==C&&"function"===typeof C.componentDidCatch&&(null===Gs||!Gs.has(C)))){h.flags|=4096,t&=-t,h.lanes|=t,uo(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}kl(n)}catch(x){t=x,Os===n&&null!==n&&(Os=n=n.return);continue}break}}function Sl(){var e=Ps.current;return Ps.current=Oa,null===e?Oa:e}function Cl(e,t){var n=Ts;Ts|=16;var r=Sl();for(As===e&&Is===t||wl(e,t);;)try{xl();break}catch(i){_l(e,i)}if(eo(),Ts=n,Ps.current=r,null!==Os)throw Error(s(261));return As=null,Is=0,Ds}function xl(){for(;null!==Os;)Pl(Os)}function El(){for(;null!==Os&&!Pi();)Pl(Os)}function Pl(e){var t=qs(e.alternate,e,js);e.memoizedProps=e.pendingProps,null===t?kl(e):Os=t,ks.current=null}function kl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=os(n,t,js)))return void(Os=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&js)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=as(t)))return n.flags&=2047,void(Os=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Os=t);Os=t=e}while(null!==t);0===Ds&&(Ds=5)}function Tl(e){var t=Hi();return qi(99,Al.bind(null,e,t)),null}function Al(e,t){do{Il()}while(null!==Qs);if(0!==(48&Ts))throw Error(s(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,l=e.expirationTimes;0<o;){var c=31-$t(o),u=1<<c;i[c]=0,a[c]=-1,l[c]=-1,o&=~u}if(null!==el&&0===(24&r)&&el.has(e)&&el.delete(e),e===As&&(Os=As=null,Is=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ts,Ts|=32,ks.current=null,Br=Xt,mr(a=pr())){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else e:if(l=(l=a.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&0!==u.rangeCount){l=u.anchorNode,o=u.anchorOffset,c=u.focusNode,u=u.focusOffset;try{l.nodeType,c.nodeType}catch(P){l=null;break e}var d=0,f=-1,h=-1,p=0,m=0,g=a,v=null;t:for(;;){for(var y;g!==l||0!==o&&3!==g.nodeType||(f=d+o),g!==c||0!==u&&3!==g.nodeType||(h=d+u),3===g.nodeType&&(d+=g.nodeValue.length),null!==(y=g.firstChild);)v=g,g=y;for(;;){if(g===a)break t;if(v===l&&++p===o&&(f=d),v===c&&++m===u&&(h=d),null!==(y=g.nextSibling))break;v=(g=v).parentNode}g=y}l=-1===f||-1===h?null:{start:f,end:h}}else l=null;l=l||{start:0,end:0}}else l=null;Ur={focusedElem:a,selectionRange:l},Xt=!1,al=null,sl=!1,Vs=r;do{try{Ol()}catch(P){if(null===Vs)throw Error(s(330));Fl(Vs,P),Vs=Vs.nextEffect}}while(null!==Vs);al=null,Vs=r;do{try{for(a=e;null!==Vs;){var b=Vs.flags;if(16&b&&we(Vs.stateNode,""),128&b){var w=Vs.alternate;if(null!==w){var _=w.ref;null!==_&&("function"===typeof _?_(null):_.current=null)}}switch(1038&b){case 2:ws(Vs),Vs.flags&=-3;break;case 6:ws(Vs),Vs.flags&=-3,Ss(Vs.alternate,Vs);break;case 1024:Vs.flags&=-1025;break;case 1028:Vs.flags&=-1025,Ss(Vs.alternate,Vs);break;case 4:Ss(Vs.alternate,Vs);break;case 8:_s(a,l=Vs);var S=l.alternate;ys(l),null!==S&&ys(S)}Vs=Vs.nextEffect}}catch(P){if(null===Vs)throw Error(s(330));Fl(Vs,P),Vs=Vs.nextEffect}}while(null!==Vs);if(_=Ur,w=pr(),b=_.focusedElem,a=_.selectionRange,w!==b&&b&&b.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(b.ownerDocument.documentElement,b)){null!==a&&mr(b)&&(w=a.start,void 0===(_=a.end)&&(_=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(_,b.value.length)):(_=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(_=_.getSelection(),l=b.textContent.length,S=Math.min(a.start,l),a=void 0===a.end?S:Math.min(a.end,l),!_.extend&&S>a&&(l=a,a=S,S=l),l=hr(b,S),o=hr(b,a),l&&o&&(1!==_.rangeCount||_.anchorNode!==l.node||_.anchorOffset!==l.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&((w=w.createRange()).setStart(l.node,l.offset),_.removeAllRanges(),S>a?(_.addRange(w),_.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),_.addRange(w))))),w=[];for(_=b;_=_.parentNode;)1===_.nodeType&&w.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(_=w[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Xt=!!Br,Ur=Br=null,e.current=n,Vs=r;do{try{for(b=e;null!==Vs;){var C=Vs.flags;if(36&C&&ms(b,Vs.alternate,Vs),128&C){w=void 0;var x=Vs.ref;if(null!==x){var E=Vs.stateNode;switch(Vs.tag){case 5:w=E;break;default:w=E}"function"===typeof x?x(w):x.current=w}}Vs=Vs.nextEffect}}catch(P){if(null===Vs)throw Error(s(330));Fl(Vs,P),Vs=Vs.nextEffect}}while(null!==Vs);Vs=null,Fi(),Ts=i}else e.current=n;if(Ks)Ks=!1,Qs=e,Xs=t;else for(Vs=r;null!==Vs;)t=Vs.nextEffect,Vs.nextEffect=null,8&Vs.flags&&((C=Vs).sibling=null,C.stateNode=null),Vs=t;if(0===(r=e.pendingLanes)&&(Gs=null),1===r?e===nl?tl++:(tl=0,nl=e):tl=0,n=n.stateNode,Si&&"function"===typeof Si.onCommitFiberRoot)try{Si.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(P){}if(fl(e,zi()),$s)throw $s=!1,e=Ys,Ys=null,e;return 0!==(8&Ts)||$i(),null}function Ol(){for(;null!==Vs;){var e=Vs.alternate;sl||null===al||(0!==(8&Vs.flags)?nt(Vs,al)&&(sl=!0):13===Vs.tag&&xs(e,Vs)&&nt(Vs,al)&&(sl=!0));var t=Vs.flags;0!==(256&t)&&ps(e,Vs),0===(512&t)||Ks||(Ks=!0,Vi(97,(function(){return Il(),null}))),Vs=Vs.nextEffect}}function Il(){if(90!==Xs){var e=97<Xs?97:Xs;return Xs=90,qi(e,Dl)}return!1}function jl(e,t){Js.push(t,e),Ks||(Ks=!0,Vi(97,(function(){return Il(),null})))}function Nl(e,t){Zs.push(t,e),Ks||(Ks=!0,Vi(97,(function(){return Il(),null})))}function Dl(){if(null===Qs)return!1;var e=Qs;if(Qs=null,0!==(48&Ts))throw Error(s(331));var t=Ts;Ts|=32;var n=Zs;Zs=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"===typeof a)try{a()}catch(c){if(null===o)throw Error(s(330));Fl(o,c)}}for(n=Js,Js=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(c){if(null===o)throw Error(s(330));Fl(o,c)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Ts=t,$i(),!0}function Rl(e,t,n){co(e,t=us(0,t=ss(n,t),1)),t=ll(),null!==(e=dl(e,1))&&(Vt(e,1,t),fl(e,t))}function Fl(e,t){if(3===e.tag)Rl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Rl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){var i=ds(n,e=ss(t,e),1);if(co(n,i),i=ll(),null!==(n=dl(n,1)))Vt(n,1,i),fl(n,i);else if("function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Ml(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ll(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Is&n)===n&&(4===Ds||3===Ds&&(62914560&Is)===Is&&500>zi()-zs?wl(e,0):Bs|=n),fl(e,t)}function Ll(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Hi()?1:2:(0===il&&(il=Fs),0===(t=Wt(62914560&~il))&&(t=4194304))),n=ll(),null!==(e=dl(e,t))&&(Vt(e,t,n),fl(e,n))}function Bl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ul(e,t,n,r){return new Bl(e,t,n,r)}function zl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hl(e,t){var n=e.alternate;return null===n?((n=Ul(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wl(e,t,n,i,o,a){var l=2;if(i=e,"function"===typeof e)zl(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case P:return ql(n.children,o,a,t);case L:l=8,o|=16;break;case k:l=8,o|=1;break;case T:return(e=Ul(12,n,t,8|o)).elementType=T,e.type=T,e.lanes=a,e;case j:return(e=Ul(13,n,t,o)).type=j,e.elementType=j,e.lanes=a,e;case N:return(e=Ul(19,n,t,o)).elementType=N,e.lanes=a,e;case B:return Vl(n,o,a,t);case U:return(e=Ul(24,n,t,o)).elementType=U,e.lanes=a,e;default:if("object"===r(e)&&null!==e)switch(e.$$typeof){case A:l=10;break e;case O:l=9;break e;case I:l=11;break e;case D:l=14;break e;case R:l=16,i=null;break e;case F:l=22;break e}throw Error(s(130,null==e?e:r(e),""))}return(t=Ul(l,n,t,o)).elementType=e,t.type=i,t.lanes=a,t}function ql(e,t,n,r){return(e=Ul(7,e,r,t)).lanes=n,e}function Vl(e,t,n,r){return(e=Ul(23,e,r,t)).elementType=B,e.lanes=n,e}function $l(e,t,n){return(e=Ul(6,e,null,t)).lanes=n,e}function Yl(e,t,n){return(t=Ul(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Kl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ql(e,t,n,r){var i=t.current,o=ll(),a=cl(i);e:if(n){t:{if(Je(n=n._reactInternals)!==n||1!==n.tag)throw Error(s(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(mi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(s(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=yi(n,c,l);break e}}n=l}else n=ui;return null===t.context?t.context=n:t.pendingContext=n,(t=lo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),co(i,t),ul(i,a,o),a}function Xl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Jl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Zl(e,t){Jl(e,t),(e=e.alternate)&&Jl(e,t)}function ec(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Gl(e,t,null!=n&&!0===n.hydrate),t=Ul(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ao(t),e[Jr]=n.current,Or(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function tc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function nc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Xl(a);s.call(e)}}Ql(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ec(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var l=i;i=function(){var e=Xl(a);l.call(e)}}vl((function(){Ql(t,a,e,i)}))}return Xl(a)}function rc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!tc(t))throw Error(s(200));return Kl(e,t,null,n)}qs=function(e,t,n){var i=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||fi.current)Ra=!0;else{if(0===(n&i)){switch(Ra=!1,t.tag){case 3:Va(t),$o();break;case 5:Do(t);break;case 1:mi(t.type)&&bi(t);break;case 4:jo(t,t.stateNode.containerInfo);break;case 10:i=t.memoizedProps.value;var o=t.type._context;ci(Qi,o._currentValue),o._currentValue=i;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Qa(e,t,n):(ci(Fo,1&Fo.current),null!==(t=rs(e,t,n))?t.sibling:null);ci(Fo,1&Fo.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(64&e.flags)){if(i)return ns(e,t,n);t.flags|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),ci(Fo,Fo.current),i)break;return null;case 23:case 24:return t.lanes=0,Ua(e,t,n)}return rs(e,t,n)}Ra=0!==(16384&e.flags)}else Ra=!1;switch(t.lanes=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=pi(t,di.current),ro(t,n),o=oa(null,t,i,e,o,n),t.flags|=1,"object"===r(o)&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(i)){var a=!0;bi(t)}else a=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,ao(t);var l=i.getDerivedStateFromProps;"function"===typeof l&&mo(t,i,l,e),o.updater=go,t.stateNode=o,o._reactInternals=t,wo(t,i,e,n),t=qa(null,t,i,!0,a,n)}else t.tag=0,Fa(null,t,o,n),t=t.child;return t;case 16:o=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=(a=o._init)(o._payload),t.type=o,a=t.tag=function(e){if("function"===typeof e)return zl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===D)return 14}return 2}(o),e=Ki(o,e),a){case 0:t=Ha(null,t,o,e,n);break e;case 1:t=Wa(null,t,o,e,n);break e;case 11:t=Ma(null,t,o,e,n);break e;case 14:t=La(null,t,o,Ki(o.type,e),i,n);break e}throw Error(s(306,o,""))}return t;case 0:return i=t.type,o=t.pendingProps,Ha(e,t,i,o=t.elementType===i?o:Ki(i,o),n);case 1:return i=t.type,o=t.pendingProps,Wa(e,t,i,o=t.elementType===i?o:Ki(i,o),n);case 3:if(Va(t),i=t.updateQueue,null===e||null===i)throw Error(s(282));if(i=t.pendingProps,o=null!==(o=t.memoizedState)?o.element:null,so(e,t),fo(t,i,null,n),(i=t.memoizedState.element)===o)$o(),t=rs(e,t,n);else{if((a=(o=t.stateNode).hydrate)&&(Bo=$r(t.stateNode.containerInfo.firstChild),Lo=t,a=Uo=!0),a){if(null!=(e=o.mutableSourceEagerHydrationData))for(o=0;o<e.length;o+=2)(a=e[o])._workInProgressVersionPrimary=e[o+1],Yo.push(a);for(n=Po(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fa(e,t,i,n),$o();t=t.child}return t;case 5:return Do(t),null===e&&Wo(t),i=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,l=o.children,Hr(i,o)?l=null:null!==a&&Hr(i,a)&&(t.flags|=16),za(e,t),Fa(e,t,l,n),t.child;case 6:return null===e&&Wo(t),null;case 13:return Qa(e,t,n);case 4:return jo(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Eo(t,null,i,n):Fa(e,t,i,n),t.child;case 11:return i=t.type,o=t.pendingProps,Ma(e,t,i,o=t.elementType===i?o:Ki(i,o),n);case 7:return Fa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fa(e,t,t.pendingProps.children,n),t.child;case 10:e:{i=t.type._context,o=t.pendingProps,l=t.memoizedProps,a=o.value;var c=t.type._context;if(ci(Qi,c._currentValue),c._currentValue=a,null!==l)if(c=l.value,0===(a=cr(c,a)?0:0|("function"===typeof i._calculateChangedBits?i._calculateChangedBits(c,a):1073741823))){if(l.children===o.children&&!fi.current){t=rs(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var u=c.dependencies;if(null!==u){l=c.child;for(var d=u.firstContext;null!==d;){if(d.context===i&&0!==(d.observedBits&a)){1===c.tag&&((d=lo(-1,n&-n)).tag=2,co(c,d)),c.lanes|=n,null!==(d=c.alternate)&&(d.lanes|=n),no(c.return,n),u.lanes|=n;break}d=d.next}}else l=10===c.tag&&c.type===t.type?null:c.child;if(null!==l)l.return=c;else for(l=c;null!==l;){if(l===t){l=null;break}if(null!==(c=l.sibling)){c.return=l.return,l=c;break}l=l.return}c=l}Fa(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,i=(a=t.pendingProps).children,ro(t,n),i=i(o=io(o,a.unstable_observedBits)),t.flags|=1,Fa(e,t,i,n),t.child;case 14:return a=Ki(o=t.type,t.pendingProps),La(e,t,o,a=Ki(o.type,a),i,n);case 15:return Ba(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Ki(i,o),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(i)?(e=!0,bi(t)):e=!1,ro(t,n),yo(t,i,o),wo(t,i,o,n),qa(null,t,i,!0,e,n);case 19:return ns(e,t,n);case 23:case 24:return Ua(e,t,n)}throw Error(s(156,t.tag))},ec.prototype.render=function(e){Ql(e,this._internalRoot,null,null)},ec.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ql(null,e,null,(function(){t[Jr]=null}))},rt=function(e){13===e.tag&&(ul(e,4,ll()),Zl(e,4))},it=function(e){13===e.tag&&(ul(e,67108864,ll()),Zl(e,67108864))},ot=function(e){if(13===e.tag){var t=ll(),n=cl(e);ul(e,n,t),Zl(e,n)}},at=function(e,t){return t()},Ae=function(e,t,n){switch(t){case"input":if(ie(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ri(r);if(!i)throw Error(s(90));Z(r),ie(r,i)}}}break;case"textarea":de(e,n);break;case"select":null!=(t=n.value)&&le(e,!!n.multiple,t,!1)}},Re=gl,Fe=function(e,t,n,r,i){var o=Ts;Ts|=4;try{return qi(98,e.bind(null,t,n,r,i))}finally{0===(Ts=o)&&(Ws(),$i())}},Me=function(){0===(49&Ts)&&(function(){if(null!==el){var e=el;el=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,fl(e,zi())}))}$i()}(),Il())},Le=function(e,t){var n=Ts;Ts|=2;try{return e(t)}finally{0===(Ts=n)&&(Ws(),$i())}};var ic={Events:[ti,ni,ri,Ne,De,Il,{current:!1}]},oc={findFiberByHostInstance:ei,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},ac={bundleType:oc.bundleType,version:oc.version,rendererPackageName:oc.rendererPackageName,rendererConfig:oc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=tt(e))?null:e.stateNode},findFiberByHostInstance:oc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{_i=sc.inject(ac),Si=sc}catch(ye){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ic,t.createPortal=rc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return e=null===(e=tt(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ts;if(0!==(48&n))return e(t);Ts|=1;try{if(e)return qi(99,e.bind(null,t))}finally{Ts=n,$i()}},t.hydrate=function(e,t,n){if(!tc(t))throw Error(s(200));return nc(null,e,t,!0,n)},t.render=function(e,t,n){if(!tc(t))throw Error(s(200));return nc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!tc(e))throw Error(s(40));return!!e._reactRootContainer&&(vl((function(){nc(null,null,e,!1,(function(){e._reactRootContainer=null,e[Jr]=null}))})),!0)},t.unstable_batchedUpdates=gl,t.unstable_createPortal=function(e,t){return rc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!tc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return nc(e,t,n,!1,r)},t.version="17.0.1"},function(e,t,n){"use strict";e.exports=n(566)},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i,o,a,s;if("object"===("undefined"===typeof performance?"undefined":r(performance))&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var d=null,f=null,h=function e(){if(null!==d)try{var n=t.unstable_now();d(!0,n),d=null}catch(r){throw setTimeout(e,0),r}};i=function(e){null!==d?setTimeout(i,0,e):(d=e,setTimeout(h,0))},o=function(e,t){f=setTimeout(e,t)},a=function(){clearTimeout(f)},t.unstable_shouldYield=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,m=window.clearTimeout;if("undefined"!==typeof console){var g=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,y=null,b=-1,w=5,_=0;t.unstable_shouldYield=function(){return t.unstable_now()>=_},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<e?Math.floor(1e3/e):5};var S=new MessageChannel,C=S.port2;S.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();_=e+w;try{y(!0,e)?C.postMessage(null):(v=!1,y=null)}catch(n){throw C.postMessage(null),n}}else v=!1},i=function(e){y=e,v||(v=!0,C.postMessage(null))},o=function(e,n){b=p((function(){e(t.unstable_now())}),n)},a=function(){m(b),b=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<k(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function P(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>k(a,n))void 0!==l&&0>k(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==l&&0>k(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],A=[],O=1,I=null,j=3,N=!1,D=!1,R=!1;function F(e){for(var t=E(A);null!==t;){if(null===t.callback)P(A);else{if(!(t.startTime<=e))break;P(A),t.sortIndex=t.expirationTime,x(T,t)}t=E(A)}}function M(e){if(R=!1,F(e),!D)if(null!==E(T))D=!0,i(L);else{var t=E(A);null!==t&&o(M,t.startTime-e)}}function L(e,n){D=!1,R&&(R=!1,a()),N=!0;var r=j;try{for(F(n),I=E(T);null!==I&&(!(I.expirationTime>n)||e&&!t.unstable_shouldYield());){var i=I.callback;if("function"===typeof i){I.callback=null,j=I.priorityLevel;var s=i(I.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?I.callback=s:I===E(T)&&P(T),F(n)}else P(T);I=E(T)}if(null!==I)var l=!0;else{var c=E(A);null!==c&&o(M,c.startTime-n),l=!1}return l}finally{I=null,j=r,N=!1}}var B=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||N||(D=!0,i(L))},t.unstable_getCurrentPriorityLevel=function(){return j},t.unstable_getFirstCallbackNode=function(){return E(T)},t.unstable_next=function(e){switch(j){case 1:case 2:case 3:var t=3;break;default:t=j}var n=j;j=t;try{return e()}finally{j=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=B,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=j;j=e;try{return t()}finally{j=n}},t.unstable_scheduleCallback=function(e,n,s){var l=t.unstable_now();switch("object"===r(s)&&null!==s?s="number"===typeof(s=s.delay)&&0<s?l+s:l:s=l,e){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return e={id:O++,callback:n,priorityLevel:e,startTime:s,expirationTime:c=s+c,sortIndex:-1},s>l?(e.sortIndex=s,x(A,e),null===E(T)&&e===E(A)&&(R?a():R=!0,o(M,s-l))):(e.sortIndex=c,x(T,e),D||N||(D=!0,i(L))),e},t.unstable_wrapCallback=function(e){var t=j;return function(){var n=j;j=t;try{return e.apply(this,arguments)}finally{j=n}}}},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),a=new k(r||[]);return o._invoke=function(e,t,n){var r=u;return function(i,o){if(r===f)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===u)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var l=c(e,t,n);if("normal"===l.type){if(r=n.done?h:d,l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=h,n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=l;var u="suspendedStart",d="suspendedYield",f="executing",h="completed",p={};function m(){}function g(){}function v(){}var y={};y[o]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(T([])));w&&w!==n&&r.call(w,o)&&(y=w);var _=v.prototype=m.prototype=Object.create(y);function S(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function C(e,t){var n;this._invoke=function(i,o){function a(){return new t((function(n,a){!function n(i,o,a,s){var l=c(e[i],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"===typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}(i,o,n,a)}))}return n=n?n.then(a,a):a()}}function x(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,p;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:A}}function A(){return{value:t,done:!0}}return g.prototype=_.constructor=v,v.constructor=g,v[s]=g.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},S(C.prototype),C.prototype[a]=function(){return this},e.AsyncIterator=C,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new C(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(_),_[s]="Generator",_[o]=function(){return this},_.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(0),o=n(32),a=n(569),s=n(571),l=n(294),c=n(577),u={CLASS_NAME_ATTR:"data-react-class",PROPS_ATTR:"data-react-props",RENDER_ATTR:"data-hydrate",CACHE_ID_ATTR:"data-react-cache-id",TURBOLINKS_PERMANENT_ATTR:"data-turbolinks-permanent",jQuery:"undefined"!==typeof window&&"undefined"!==typeof window.jQuery&&window.jQuery,components:{},findDOMNodes:function(e){var t,n,i=u.CLASS_NAME_ATTR;switch(r(e)){case"undefined":t="["+i+"]",n=document;break;case"object":t="["+i+"]",n=e;break;case"string":t=e+"["+i+"], "+e+" ["+i+"]",n=document}return u.jQuery?u.jQuery(t,n):n.querySelectorAll(t)},getConstructor:l,useContext:function(e){this.getConstructor=c(e)},serverRender:function(e,t,n){var r=this.getConstructor(t),o=i.createElement(r,n);return a[e](o)},mountComponents:function(e){for(var t=u,n=t.findDOMNodes(e),r=0;r<n.length;++r){var a=n[r],s=a.getAttribute(t.CLASS_NAME_ATTR),l=t.getConstructor(s),c=a.getAttribute(t.PROPS_ATTR),d=c&&JSON.parse(c),f=a.getAttribute(t.RENDER_ATTR),h=a.getAttribute(t.CACHE_ID_ATTR),p=a.hasAttribute(t.TURBOLINKS_PERMANENT_ATTR);if(!l){var m="Cannot find component: '"+s+"'";throw console&&console.log&&console.log("%c[react-rails] %c"+m+" for element","font-weight: bold","",a),new Error(m+". Make sure your component is available to render.")}var g=this.components[h];void 0===g&&(g=i.createElement(l,d),p&&(this.components[h]=g)),g=f&&"function"===typeof o.hydrate?o.hydrate(g,a):o.render(g,a)}},unmountComponents:function(e){for(var t=u.findDOMNodes(e),n=0;n<t.length;++n){var r=t[n];o.unmountComponentAtNode(r)}},detectEvents:function(){s(this)},handleMount:function(e){var t=void 0;e&&e.target&&(t=e.target),u.mountComponents(t)},handleUnmount:function(e){var t=void 0;e&&e.target&&(t=e.target),u.unmountComponents(t)}};"undefined"!==typeof window&&u.detectEvents(),self.ReactRailsUJS=u,e.exports=u},function(e,t,n){"use strict";e.exports=n(570)},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(184),o=n(0);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=60106,l=60107,c=60108,u=60114,d=60109,f=60110,h=60112,p=60113,m=60120,g=60115,v=60116,y=60121,b=60117,w=60119,_=60129,S=60131;if("function"===typeof Symbol&&Symbol.for){var C=Symbol.for;s=C("react.portal"),l=C("react.fragment"),c=C("react.strict_mode"),u=C("react.profiler"),d=C("react.provider"),f=C("react.context"),h=C("react.forward_ref"),p=C("react.suspense"),m=C("react.suspense_list"),g=C("react.memo"),v=C("react.lazy"),y=C("react.block"),b=C("react.fundamental"),w=C("react.scope"),_=C("react.debug_trace_mode"),S=C("react.legacy_hidden")}function x(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case l:return"Fragment";case s:return"Portal";case u:return"Profiler";case c:return"StrictMode";case p:return"Suspense";case m:return"SuspenseList"}if("object"===r(e))switch(e.$$typeof){case f:return(e.displayName||"Context")+".Consumer";case d:return(e._context.displayName||"Context")+".Provider";case h:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case g:return x(e.type);case y:return x(e._render);case v:t=e._payload,e=e._init;try{return x(e(t))}catch(n){}}return null}var E=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P={};function k(e,t){for(var n=0|e._threadCount;n<=t;n++)e[n]=e._currentValue2,e._threadCount=n+1}for(var T=new Uint16Array(16),A=0;15>A;A++)T[A]=A+1;T[15]=0;var O=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I=Object.prototype.hasOwnProperty,j={},N={};function D(e){return!!I.call(N,e)||!I.call(j,e)&&(O.test(e)?N[e]=!0:(j[e]=!0,!1))}function R(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(r(t)){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function F(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){M[e]=new F(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];M[t]=new F(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){M[e]=new F(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){M[e]=new F(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){M[e]=new F(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){M[e]=new F(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){M[e]=new F(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){M[e]=new F(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){M[e]=new F(e,5,!1,e.toLowerCase(),null,!1,!1)}));var L=/[\-:]([a-z])/g;function B(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(L,B);M[t]=new F(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(L,B);M[t]=new F(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(L,B);M[t]=new F(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){M[e]=new F(e,1,!1,e.toLowerCase(),null,!1,!1)})),M.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){M[e]=new F(e,1,!1,e.toLowerCase(),null,!0,!0)}));var U=/["'&<>]/;function z(e){if("boolean"===typeof e||"number"===typeof e)return""+e;e=""+e;var t=U.exec(e);if(t){var n,r="",i=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==n&&(r+=e.substring(i,n)),i=n+1,r+=t}e=i!==n?r+e.substring(i,n):r}return e}function H(e,t){var n,r=M.hasOwnProperty(e)?M[e]:null;return(n="style"!==e)&&(n=null!==r?0===r.type:2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])),n||R(e,t,r,!1)?"":null!==r?(e=r.attributeName,3===(n=r.type)||4===n&&!0===t?e+'=""':(r.sanitizeURL&&(t=""+t),e+'="'+z(t)+'"')):D(e)?e+'="'+z(t)+'"':""}var W="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},q=null,V=null,$=null,Y=!1,G=!1,K=null,Q=0;function X(){if(null===q)throw Error(a(321));return q}function J(){if(0<Q)throw Error(a(312));return{memoizedState:null,queue:null,next:null}}function Z(){return null===$?null===V?(Y=!1,V=$=J()):(Y=!0,$=V):null===$.next?(Y=!1,$=$.next=J()):(Y=!0,$=$.next),$}function ee(e,t,n,r){for(;G;)G=!1,Q+=1,$=null,n=e(t,r);return te(),n}function te(){q=null,G=!1,V=null,Q=0,$=K=null}function ne(e,t){return"function"===typeof t?t(e):t}function re(e,t,n){if(q=X(),$=Z(),Y){var r=$.queue;if(t=r.dispatch,null!==K&&void 0!==(n=K.get(r))){K.delete(r),r=$.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return $.memoizedState=r,[r,t]}return[$.memoizedState,t]}return e=e===ne?"function"===typeof t?t():t:void 0!==n?n(t):t,$.memoizedState=e,e=(e=$.queue={last:null,dispatch:null}).dispatch=oe.bind(null,q,e),[$.memoizedState,e]}function ie(e,t){if(q=X(),t=void 0===t?null:t,null!==($=Z())){var n=$.memoizedState;if(null!==n&&null!==t){var r=n[1];e:if(null===r)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!W(t[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),$.memoizedState=[e,t],e}function oe(e,t,n){if(!(25>Q))throw Error(a(301));if(e===q)if(G=!0,e={action:n,next:null},null===K&&(K=new Map),void 0===(n=K.get(t)))K.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function ae(){}var se=null,le={readContext:function(e){var t=se.threadID;return k(e,t),e[t]},useContext:function(e){X();var t=se.threadID;return k(e,t),e[t]},useMemo:ie,useReducer:re,useRef:function(e){q=X();var t=($=Z()).memoizedState;return null===t?(e={current:e},$.memoizedState=e):t},useState:function(e){return re(ne,e)},useLayoutEffect:function(){},useCallback:function(e,t){return ie((function(){return e}),t)},useImperativeHandle:ae,useEffect:ae,useDebugValue:ae,useDeferredValue:function(e){return X(),e},useTransition:function(){return X(),[function(e){e()},!1]},useOpaqueIdentifier:function(){return(se.identifierPrefix||"")+"R:"+(se.uniqueID++).toString(36)},useMutableSource:function(e,t){return X(),t(e._source)}},ce="http://www.w3.org/1999/xhtml";function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var de={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},fe=i({menuitem:!0},de),he={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var me=/([A-Z])/g,ge=/^ms-/,ve=o.Children.toArray,ye=E.ReactCurrentDispatcher,be={listing:!0,pre:!0,textarea:!0},we=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,_e={},Se={};var Ce=Object.prototype.hasOwnProperty,xe={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function Ee(e,t){if(void 0===e)throw Error(a(152,x(t)||"Component"))}function Pe(e,t,n){function s(o,s){var l=s.prototype&&s.prototype.isReactComponent,c=function(e,t,n,i){if(i&&"object"===r(i=e.contextType)&&null!==i)return k(i,n),i[n];if(e=e.contextTypes){for(var o in n={},e)n[o]=t[o];t=n}else t=P;return t}(s,t,n,l),u=[],d=!1,f={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===u)return null},enqueueReplaceState:function(e,t){d=!0,u=[t]},enqueueSetState:function(e,t){if(null===u)return null;u.push(t)}};if(l){if(l=new s(o.props,c,f),"function"===typeof s.getDerivedStateFromProps){var h=s.getDerivedStateFromProps.call(null,o.props,l.state);null!=h&&(l.state=i({},l.state,h))}}else if(q={},l=s(o.props,c,f),null==(l=ee(s,o.props,l,c))||null==l.render)return void Ee(e=l,s);if(l.props=o.props,l.context=c,l.updater=f,void 0===(f=l.state)&&(l.state=f=null),"function"===typeof l.UNSAFE_componentWillMount||"function"===typeof l.componentWillMount)if("function"===typeof l.componentWillMount&&"function"!==typeof s.getDerivedStateFromProps&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&"function"!==typeof s.getDerivedStateFromProps&&l.UNSAFE_componentWillMount(),u.length){f=u;var p=d;if(u=null,d=!1,p&&1===f.length)l.state=f[0];else{h=p?f[0]:l.state;var m=!0;for(p=p?1:0;p<f.length;p++){var g=f[p];null!=(g="function"===typeof g?g.call(l,h,o.props,c):g)&&(m?(m=!1,h=i({},h,g)):i(h,g))}l.state=h}}else u=null;if(Ee(e=l.render(),s),"function"===typeof l.getChildContext&&"object"===r(o=s.childContextTypes)){var v=l.getChildContext();for(var y in v)if(!(y in o))throw Error(a(108,x(s)||"Unknown",y))}v&&(t=i({},t,v))}for(;o.isValidElement(e);){var l=e,c=l.type;if("function"!==typeof c)break;s(l,c)}return{child:e,context:t}}var ke=function(){function e(e,t,n){o.isValidElement(e)?e.type!==l?e=[e]:(e=e.props.children,e=o.isValidElement(e)?[e]:ve(e)):e=ve(e),e={type:null,domNamespace:ce,children:e,childIndex:0,context:P,footer:""};var r=T[0];if(0===r){var i=T,s=2*(r=i.length);if(!(65536>=s))throw Error(a(304));var c=new Uint16Array(s);for(c.set(i),(T=c)[0]=r+1,i=r;i<s-1;i++)T[i]=i+1;T[s-1]=0}else T[0]=T[r];this.threadID=r,this.stack=[e],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=t,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[],this.uniqueID=0,this.identifierPrefix=n&&n.identifierPrefix||""}var t=e.prototype;return t.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var e=this.threadID;T[e]=T[0],T[0]=e}},t.pushProvider=function(e){var t=++this.contextIndex,n=e.type._context,r=this.threadID;k(n,r);var i=n[r];this.contextStack[t]=n,this.contextValueStack[t]=i,n[r]=e.props.value},t.popProvider=function(){var e=this.contextIndex,t=this.contextStack[e],n=this.contextValueStack[e];this.contextStack[e]=null,this.contextValueStack[e]=null,this.contextIndex--,t[this.threadID]=n},t.clearProviders=function(){for(var e=this.contextIndex;0<=e;e--)this.contextStack[e][this.threadID]=this.contextValueStack[e]},t.read=function(e){if(this.exhausted)return null;var t=se;se=this;var n=ye.current;ye.current=le;try{for(var r=[""],i=!1;r[0].length<e;){if(0===this.stack.length){this.exhausted=!0;var o=this.threadID;T[o]=T[0],T[0]=o;break}var s=this.stack[this.stack.length-1];if(i||s.childIndex>=s.children.length){var l=s.footer;if(""!==l&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===s.type)this.currentSelectValue=null;else if(null!=s.type&&null!=s.type.type&&s.type.type.$$typeof===d)this.popProvider(s.type);else if(s.type===p){this.suspenseDepth--;var c=r.pop();if(i){i=!1;var u=s.fallbackFrame;if(!u)throw Error(a(303));this.stack.push(u),r[this.suspenseDepth]+="\x3c!--$!--\x3e";continue}r[this.suspenseDepth]+=c}r[this.suspenseDepth]+=l}else{var f=s.children[s.childIndex++],h="";try{h+=this.render(f,s.context,s.domNamespace)}catch(m){if(null!=m&&"function"===typeof m.then)throw Error(a(294));throw m}r.length<=this.suspenseDepth&&r.push(""),r[this.suspenseDepth]+=h}}return r[0]}finally{ye.current=n,se=t,te()}},t.render=function(e,t,n){if("string"===typeof e||"number"===typeof e)return""===(n=""+e)?"":this.makeStaticMarkup?z(n):this.previousWasTextNode?"\x3c!-- --\x3e"+z(n):(this.previousWasTextNode=!0,z(n));if(e=(t=Pe(e,t,this.threadID)).child,t=t.context,null===e||!1===e)return"";if(!o.isValidElement(e)){if(null!=e&&null!=e.$$typeof){if((n=e.$$typeof)===s)throw Error(a(257));throw Error(a(258,n.toString()))}return e=ve(e),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""}var y=e.type;if("string"===typeof y)return this.renderDOM(e,t,n);switch(y){case S:case _:case c:case u:case m:case l:return e=ve(e.props.children),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case p:throw Error(a(294));case w:throw Error(a(343))}if("object"===r(y)&&null!==y)switch(y.$$typeof){case h:q={};var C=y.render(e.props,e.ref);return C=ee(y.render,e.props,C,e.ref),C=ve(C),this.stack.push({type:null,domNamespace:n,children:C,childIndex:0,context:t,footer:""}),"";case g:return e=[o.createElement(y.type,i({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case d:return n={type:e,domNamespace:n,children:y=ve(e.props.children),childIndex:0,context:t,footer:""},this.pushProvider(e),this.stack.push(n),"";case f:y=e.type,C=e.props;var x=this.threadID;return k(y,x),y=ve(C.children(y[x])),this.stack.push({type:e,domNamespace:n,children:y,childIndex:0,context:t,footer:""}),"";case b:throw Error(a(338));case v:return y=(C=(y=e.type)._init)(y._payload),e=[o.createElement(y,i({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""}throw Error(a(130,null==y?y:r(y),""))},t.renderDOM=function(e,t,n){var s=e.type.toLowerCase();if(n===ce&&ue(s),!_e.hasOwnProperty(s)){if(!we.test(s))throw Error(a(65,s));_e[s]=!0}var l=e.props;if("input"===s)l=i({type:void 0},l,{defaultChecked:void 0,defaultValue:void 0,value:null!=l.value?l.value:l.defaultValue,checked:null!=l.checked?l.checked:l.defaultChecked});else if("textarea"===s){var c=l.value;if(null==c){c=l.defaultValue;var u=l.children;if(null!=u){if(null!=c)throw Error(a(92));if(Array.isArray(u)){if(!(1>=u.length))throw Error(a(93));u=u[0]}c=""+u}null==c&&(c="")}l=i({},l,{value:void 0,children:""+c})}else if("select"===s)this.currentSelectValue=null!=l.value?l.value:l.defaultValue,l=i({},l,{value:void 0});else if("option"===s){u=this.currentSelectValue;var d=function(e){if(void 0===e||null===e)return e;var t="";return o.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(l.children);if(null!=u){var f=null!=l.value?l.value+"":d;if(c=!1,Array.isArray(u)){for(var h=0;h<u.length;h++)if(""+u[h]===f){c=!0;break}}else c=""+u===f;l=i({selected:void 0,children:void 0},l,{selected:c,children:d})}}if(c=l){if(fe[s]&&(null!=c.children||null!=c.dangerouslySetInnerHTML))throw Error(a(137,s));if(null!=c.dangerouslySetInnerHTML){if(null!=c.children)throw Error(a(60));if("object"!==r(c.dangerouslySetInnerHTML)||!("__html"in c.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=c.style&&"object"!==r(c.style))throw Error(a(62))}c=l,u=this.makeStaticMarkup,d=1===this.stack.length,f="<"+e.type;e:if(-1===s.indexOf("-"))h="string"===typeof c.is;else switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":h=!1;break e;default:h=!0}for(S in c)if(Ce.call(c,S)){var p=c[S];if(null!=p){if("style"===S){var m=void 0,g="",v="";for(m in p)if(p.hasOwnProperty(m)){var y=0===m.indexOf("--"),b=p[m];if(null!=b){if(y)var w=m;else if(w=m,Se.hasOwnProperty(w))w=Se[w];else{var _=w.replace(me,"-$1").toLowerCase().replace(ge,"-ms-");w=Se[w]=_}g+=v+w+":",v=m,g+=y=null==b||"boolean"===typeof b||""===b?"":y||"number"!==typeof b||0===b||he.hasOwnProperty(v)&&he[v]?(""+b).trim():b+"px",v=";"}}p=g||null}m=null,h?xe.hasOwnProperty(S)||(m=D(m=S)&&null!=p?m+'="'+z(p)+'"':""):m=H(S,p),m&&(f+=" "+m)}}u||d&&(f+=' data-reactroot=""');var S=f;c="",de.hasOwnProperty(s)?S+="/>":(S+=">",c="</"+e.type+">");e:{if(null!=(u=l.dangerouslySetInnerHTML)){if(null!=u.__html){u=u.__html;break e}}else if("string"===typeof(u=l.children)||"number"===typeof u){u=z(u);break e}u=null}return null!=u?(l=[],be.hasOwnProperty(s)&&"\n"===u.charAt(0)&&(S+="\n"),S+=u):l=ve(l.children),e=e.type,n=null==n||"http://www.w3.org/1999/xhtml"===n?ue(e):"http://www.w3.org/2000/svg"===n&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":n,this.stack.push({domNamespace:n,type:s,children:l,childIndex:0,context:t,footer:c}),this.previousWasTextNode=!1,S},e}();t.renderToNodeStream=function(){throw Error(a(207))},t.renderToStaticMarkup=function(e,t){e=new ke(e,!0,t);try{return e.read(1/0)}finally{e.destroy()}},t.renderToStaticNodeStream=function(){throw Error(a(208))},t.renderToString=function(e,t){e=new ke(e,!1,t);try{return e.read(1/0)}finally{e.destroy()}},t.version="17.0.1"},function(e,t,n){var r=n(572),i=n(573),o=n(574),a=n(575),s=n(576);e.exports=function(e){e.handleEvent&&("undefined"!==typeof Turbolinks&&"undefined"!==typeof Turbolinks.EVENTS&&s.teardown(e),o.teardown(e),a.teardown(e),i.teardown(e),r.teardown(e)),"addEventListener"in window?(e.handleEvent=function(e,t){document.addEventListener(e,t)},e.removeEvent=function(e,t){document.removeEventListener(e,t)}):(e.handleEvent=function(e,t){window.attachEvent(e,t)},e.removeEvent=function(e,t){window.detachEvent(e,t)}),"undefined"!==typeof Turbolinks&&Turbolinks.supported?"undefined"!==typeof Turbolinks.EVENTS?s.setup(e):"undefined"!==typeof Turbolinks.controller?o.setup(e):a.setup(e):"undefined"!==typeof $&&"function"===typeof $.pjax?i.setup(e):r.setup(e)}},function(e,t){e.exports={setup:function(e){"addEventListener"in window?e.handleEvent("DOMContentLoaded",e.handleMount):e.handleEvent("onload",e.handleMount)},teardown:function(e){e.removeEvent("DOMContentLoaded",e.handleMount),e.removeEvent("onload",e.handleMount)}}},function(e,t){e.exports={setup:function(e){e.handleEvent("ready",e.handleMount),e.handleEvent("pjax:end",e.handleMount),e.handleEvent("pjax:beforeReplace",e.handleUnmount)},teardown:function(e){e.removeEvent("ready",e.handleMount),e.removeEvent("pjax:end",e.handleMount),e.removeEvent("pjax:beforeReplace",e.handleUnmount)}}},function(e,t){e.exports={setup:function(e){e.handleEvent("turbolinks:load",e.handleMount),e.handleEvent("turbolinks:before-render",e.handleUnmount)},teardown:function(e){e.removeEvent("turbolinks:load",e.handleMount),e.removeEvent("turbolinks:before-render",e.handleUnmount)}}},function(e,t){e.exports={setup:function(e){Turbolinks.pagesCached(0),e.handleEvent("page:change",e.handleMount),e.handleEvent("page:receive",e.handleUnmount)},teardown:function(e){e.removeEvent("page:change",e.handleMount),e.removeEvent("page:receive",e.handleUnmount)}}},function(e,t){e.exports={setup:function(e){e.handleEvent(Turbolinks.EVENTS.CHANGE,e.handleMount),e.handleEvent(Turbolinks.EVENTS.BEFORE_UNLOAD,e.handleUnmount)},teardown:function(e){e.removeEvent(Turbolinks.EVENTS.CHANGE,e.handleMount),e.removeEvent(Turbolinks.EVENTS.BEFORE_UNLOAD,e.handleUnmount)}}},function(e,t,n){var r=n(294),i=n(578);e.exports=function(e){var t=i(e);return function(e){var n;try{n=t(e)}catch(i){try{n=r(e)}catch(o){console.error(i),console.error(o)}}return n}}},function(e,t){e.exports=function(e){return function(t){var n=t.split("."),r=n.shift(),i=n,o=e("./"+r);return i.forEach((function(e){o=o[e]})),o.__esModule&&(o=o.default),o}}},,,,,,,,,,,,,,,,,function(e,t,n){(function(e){var n,r,i,o;function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===a(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),i=document.createRange();i.selectNodeContents(e),r.removeAllRanges(),r.addRange(i),t=r.toString()}return t}},function(e,t){function n(){}n.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function i(){r.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var o=0,a=r.length;o<a;o++)r[o].fn!==t&&r[o].fn._!==t&&i.push(r[o]);return i.length?n[e]=i:delete n[e],this}},e.exports=n,e.exports.TinyEmitter=n},function(e,t,n){var r=n(3),i=n(4);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!r.string(t))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(r.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,n)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,n)}))}}}(e,t,n);if(r.string(e))return function(e,t,n){return i(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"===typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t,n){var r=n(5);function i(e,t,n,r,i){var a=o.apply(this,arguments);return e.addEventListener(n,a,i),{destroy:function(){e.removeEventListener(n,a,i)}}}function o(e,t,n,i){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&i.call(e,n)}}e.exports=function(e,t,n,r,o){return"function"===typeof e.addEventListener?i.apply(null,arguments):"function"===typeof n?i.bind(null,document).apply(null,arguments):("string"===typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return i(e,t,n,r,o)})))}},function(e,t){if("undefined"!==typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"===typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o="function"===typeof Symbol&&"symbol"===a(Symbol.iterator)?function(e){return a(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":a(e)},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}return s(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=i()(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=i()(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==("undefined"===typeof e?"undefined":o(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}(),c=n(1),u=n.n(c),d=n(2),f=n.n(d),h="function"===typeof Symbol&&"symbol"===a(Symbol.iterator)?function(e){return a(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":a(e)},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==a(t)&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.resolveOptions(n),r.listenClick(e),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+a(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),p(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"===typeof e.action?e.action:this.defaultAction,this.target="function"===typeof e.target?e.target:this.defaultTarget,this.text="function"===typeof e.text?e.text:this.defaultText,this.container="object"===h(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=f()(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new l({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return g("action",e)}},{key:"defaultTarget",value:function(e){var t=g("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return g("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"===typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach((function(e){n=n&&!!document.queryCommandSupported(e)})),n}}]),t}(u.a);function g(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}t.default=m}]).default},"object"===a(t)&&"object"===a(e)?e.exports=o():(r=[],void 0===(i="function"===typeof(n=o)?n.apply(t,r):n)||(e.exports=i))}).call(this,n(98)(e))},,,,,,,,,,,,,,function(e,t,n){"use strict";var r,i;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}r=[n(2)],void 0===(i=function(e){return e((function(){var e,t="viewed",n="iwantthis",r="purchased",i=(o(e={},t,"viewed product"),o(e,n,'clicked "I want this!" button'),o(e,r,"purchased a product"),e);this.trackProductEvent=function(e,o){if("undefined"!==typeof ga){var a=0;"undefined"!==typeof o.value&&(a=parseInt(o.value));var s=["sellerTracker.send","event","product-"+o.permalink,o.action,i[o.action],a];switch(o.action){case t:case n:ga.apply(void 0,s);break;case r:(o.trackFreeSales||0!==o.value)&&ga.apply(void 0,s)}}},this.trackVirtualPageView=function(e,o){if("undefined"!==typeof ga){var a=window.location.pathname+window.location.search,s=i[o.action];switch(o.action){case t:ga("sellerTracker.send","pageview",{page:a,title:s});break;case n:a+="?"+o.action,ga("sellerTracker.send","pageview",{page:a,title:s});break;case r:(o.trackFreeSales||0!==o.value)&&(a+="?"+o.action,ga("sellerTracker.send","pageview",{page:a,title:s}))}}},this.trackECommerceForSeller=function(e,t){if("undefined"!==typeof ga&&(t.trackFreeSales||0!==t.price)){var n=(t.price/(t.priceIsSingleUnit?1:100)).toString(),r={id:t.purchase_external_id,name:t.product_name,sku:t.permalink,price:n,quantity:t.quantity},i={id:t.purchase_external_id,affiliation:"Gumroad",revenue:n,tax:t.tax,currency:t.currency};ga("sellerTracker.ecommerce:addTransaction",i),ga("sellerTracker.ecommerce:addItem",r),ga("sellerTracker.ecommerce:send")}},this.startTrackingForSeller=function(e,t){if("undefined"!==typeof ga&&t.googleAnalyticsId){if(t.googleAnalyticsCrossDomains){var n={allowLinker:!0,cookieFlags:"SameSite=None; Secure"};t.googleAnalyticsClientId&&(n.clientId=t.googleAnalyticsClientId),ga("create",t.googleAnalyticsId,"gumroad.com","sellerTracker",n),ga("sellerTracker.require","linker"),ga("sellerTracker.linker:autoLink",$.map(t.googleAnalyticsCrossDomains.split(","),(function(e){return e.trim()})))}else ga("create",t.googleAnalyticsId,"gumroad.com","sellerTracker",{cookieFlags:"SameSite=None; Secure"});ga("sellerTracker.require","ecommerce")}},this.after("initialize",(function(){this.on("uiNeedsToTrackActivityWithSellerGoogleAnalytics",this.trackProductEvent),this.on("uiNeedsToTrackActivityWithSellerGoogleAnalytics",this.trackVirtualPageView),this.on("uiNeedsToStartTrackingForSellerGoogleAnalytics",this.startTrackingForSeller),this.on("uiNeedsToTrackECommerceEventWithSellerGoogleAnalytics",this.trackECommerceForSeller)}))}))}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r=n(2),i=n(195);e.exports=r((function(){this.startTrackingForSeller=function(e,t){var n=t.facebookPixelId;n&&this.sellerFbPixelInit(n.toString())},this.trackProductEvent=function(e,t){switch(t.action){case"viewed":this.sellerFbPixelTrack("ViewContent",{content_ids:[t.permalink],content_type:"product"});break;case"iwantthis":this.sellerFbPixelTrack("InitiateCheckout",{content_ids:[t.permalink],content_type:"product"});break;case"purchased":(t.trackFreeSales||0!==t.value)&&this.sellerFbPixelTrack("Purchase",{content_ids:[t.permalink],content_type:"product",value:t.value/(t.valueIsSingleUnit?1:100),currency:t.currency})}},this.after("initialize",(function(){this.on("uiNeedsToStartTrackingForSellerFacebookPixel",this.startTrackingForSeller),this.on("uiNeedsToTrackActivityWithSellerFacebookPixel",this.trackProductEvent)}))}),i)},,,,,,,,,,,,,,,,,,,,function(e,t,n){var r,i,o,a=n(52);n(52);(function(){function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}i=[n(52),n(10),n(227),n(631)],void 0===(o="function"===typeof(r=function(e,t,n){this.MediumInsert=this.MediumInsert||{},this.MediumInsert.Templates=this.MediumInsert.Templates||{},this.MediumInsert.Templates["src/js/templates/core-buttons.hbs"]=t.template({1:function(e,t,n,r,i){var o,a,l=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,u="function",d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <li><button data-addon="'+e.escapeExpression(s(a=null!=(a=d(n,"key")||i&&d(i,"key"))?a:c)===u?a.call(l,{name:"key",hash:{},data:i,loc:{start:{line:5,column:36},end:{line:5,column:44}}}):a)+'" data-action="add" class="medium-insert-action" type="button">'+(null!=(o=s(a=null!=(a=d(n,"label")||(null!=t?d(t,"label"):t))?a:c)===u?a.call(l,{name:"label",hash:{},data:i,loc:{start:{line:5,column:107},end:{line:5,column:118}}}):a)?o:"")+"</button>\n            </li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="medium-insert-buttons" contenteditable="false" style="display: none">\n    <button class="medium-insert-buttons-show" type="button"><span>+</span></button>\n    <ul class="medium-insert-buttons-addons" style="display: none">\n'+(null!=(o=a(n,"each").call(null!=t?t:e.nullContext||{},null!=t?a(t,"addons"):t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:4,column:8},end:{line:7,column:17}}}))?o:"")+'        <input type="file" id="medium-insert-file-selector">\n    </ul>\n</div>\n'},useData:!0}),this.MediumInsert.Templates["src/js/templates/core-caption.hbs"]=t.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<p class="figcaption" contenteditable="true" class="medium-insert-caption-placeholder" data-placeholder="'+e.escapeExpression("function"===typeof(o=null!=(o=a(n,"placeholder")||(null!=t?a(t,"placeholder"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"placeholder",hash:{},data:i,loc:{start:{line:1,column:105},end:{line:1,column:120}}}):o)+'"></figcaption>'},useData:!0}),this.MediumInsert.Templates["src/js/templates/core-empty-line.hbs"]=t.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,i){return"<p><br></p>\n"},useData:!0}),this.MediumInsert.Templates["src/js/templates/embeds-toolbar.hbs"]=t.template({1:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="medium-insert-embeds-toolbar medium-editor-toolbar medium-toolbar-arrow-under medium-editor-toolbar-active">\n        <ul class="medium-editor-toolbar-actions clearfix">\n'+(null!=(o=a(n,"each").call(null!=t?t:e.nullContext||{},null!=t?a(t,"styles"):t,{name:"each",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i,loc:{start:{line:4,column:12},end:{line:10,column:21}}}))?o:"")+"        </ul>\n    </div>\n"},2:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"label"):t,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i,loc:{start:{line:5,column:16},end:{line:9,column:23}}}))?o:""},3:function(e,t,n,r,i){var o,a,l=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,u="function",d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                    <li>\n                        <button class="medium-editor-action" data-action="'+e.escapeExpression(s(a=null!=(a=d(n,"key")||i&&d(i,"key"))?a:c)===u?a.call(l,{name:"key",hash:{},data:i,loc:{start:{line:7,column:74},end:{line:7,column:82}}}):a)+'">'+(null!=(o=s(a=null!=(a=d(n,"label")||(null!=t?d(t,"label"):t))?a:c)===u?a.call(l,{name:"label",hash:{},data:i,loc:{start:{line:7,column:84},end:{line:7,column:95}}}):a)?o:"")+"</button>\n                    </li>\n"},5:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="medium-insert-embeds-toolbar2 medium-editor-toolbar medium-editor-toolbar-active">\n        <ul class="medium-editor-toolbar-actions clearfix">\n'+(null!=(o=a(n,"each").call(null!=t?t:e.nullContext||{},null!=t?a(t,"actions"):t,{name:"each",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i,loc:{start:{line:18,column:12},end:{line:24,column:21}}}))?o:"")+"        </ul>\n    </div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,i){var o,a=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=s(n,"if").call(a,null!=t?s(t,"styles"):t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:1,column:0},end:{line:13,column:7}}}))?o:"")+"\n"+(null!=(o=s(n,"if").call(a,null!=t?s(t,"actions"):t,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i,loc:{start:{line:15,column:0},end:{line:27,column:7}}}))?o:"")},useData:!0}),this.MediumInsert.Templates["src/js/templates/embeds-wrapper.hbs"]=t.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,i){var o,a,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="medium-insert-embeds" contenteditable="false">\n\t<figure>\n\t\t<div class="medium-insert-embed">\n\t\t\t'+(null!=(o="function"===typeof(a=null!=(a=s(n,"html")||(null!=t?s(t,"html"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"html",hash:{},data:i,loc:{start:{line:4,column:3},end:{line:4,column:13}}}):a)?o:"")+'\n\t\t</div>\n\t</figure>\n\t<div class="medium-insert-embeds-overlay"></div>\n</div>'},useData:!0}),this.MediumInsert.Templates["src/js/templates/images-image.hbs"]=t.template({1:function(e,t,n,r,i){return'        <div class="medium-insert-images-progress"></div>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<figure contenteditable="false">\n    <img src="'+e.escapeExpression("function"===typeof(a=null!=(a=l(n,"img")||(null!=t?l(t,"img"):t))?a:e.hooks.helperMissing)?a.call(s,{name:"img",hash:{},data:i,loc:{start:{line:2,column:14},end:{line:2,column:21}}}):a)+'" alt="" />\n'+(null!=(o=l(n,"if").call(s,null!=t?l(t,"progress"):t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:3,column:4},end:{line:5,column:11}}}))?o:"")+"</figure>\n"},useData:!0}),this.MediumInsert.Templates["src/js/templates/images-progressbar.hbs"]=t.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,i){return'<progress min="0" max="100" value="0">0</progress>'},useData:!0}),this.MediumInsert.Templates["src/js/templates/images-toolbar.hbs"]=t.template({1:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"label"):t,{name:"if",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i,loc:{start:{line:4,column:12},end:{line:8,column:19}}}))?o:""},2:function(e,t,n,r,i){var o,a,l=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,u="function",d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <li>\n                    <button class="medium-editor-action" data-action="'+e.escapeExpression(s(a=null!=(a=d(n,"key")||i&&d(i,"key"))?a:c)===u?a.call(l,{name:"key",hash:{},data:i,loc:{start:{line:6,column:70},end:{line:6,column:78}}}):a)+'">'+(null!=(o=s(a=null!=(a=d(n,"label")||(null!=t?d(t,"label"):t))?a:c)===u?a.call(l,{name:"label",hash:{},data:i,loc:{start:{line:6,column:80},end:{line:6,column:91}}}):a)?o:"")+"</button>\n                </li>\n"},4:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t<div class="medium-insert-images-toolbar2 medium-editor-toolbar medium-editor-toolbar-active">\n\t\t<ul class="medium-editor-toolbar-actions clearfix">\n'+(null!=(o=a(n,"each").call(null!=t?t:e.nullContext||{},null!=t?a(t,"actions"):t,{name:"each",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i,loc:{start:{line:16,column:9},end:{line:22,column:18}}}))?o:"")+"    \t</ul>\n    </div>\n"},5:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"label"):t,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i,loc:{start:{line:17,column:13},end:{line:21,column:20}}}))?o:""},6:function(e,t,n,r,i){var o,a,l=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,u="function",d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        \t        <li>\n        \t            <button class="medium-editor-action" data-action="'+e.escapeExpression(s(a=null!=(a=d(n,"key")||i&&d(i,"key"))?a:c)===u?a.call(l,{name:"key",hash:{},data:i,loc:{start:{line:19,column:71},end:{line:19,column:79}}}):a)+'">'+(null!=(o=s(a=null!=(a=d(n,"label")||(null!=t?d(t,"label"):t))?a:c)===u?a.call(l,{name:"label",hash:{},data:i,loc:{start:{line:19,column:81},end:{line:19,column:92}}}):a)?o:"")+"</button>\n        \t        </li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,i){var o,a=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="medium-insert-images-toolbar medium-editor-toolbar medium-toolbar-arrow-under medium-editor-toolbar-active">\n    <ul class="medium-editor-toolbar-actions clearfix">\n'+(null!=(o=s(n,"each").call(a,null!=t?s(t,"styles"):t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:3,column:8},end:{line:9,column:17}}}))?o:"")+"    </ul>\n</div>\n\n"+(null!=(o=s(n,"if").call(a,null!=t?s(t,"actions"):t,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i,loc:{start:{line:13,column:0},end:{line:25,column:7}}}))?o:"")},useData:!0}),window.MediumInsert=this.MediumInsert,function(e,t,n,r){"use strict";var i="mediumInsert",o={editor:null,enabled:!0,addons:{images:!0,embeds:!0}};function a(e){return e.charAt(0).toUpperCase()+e.slice(1)}function l(n,a){var s;this.el=n,this.$el=e(n),this.templates=t.MediumInsert.Templates,a&&(s=a.editor,a.editor=null),this.options=e.extend(!0,{},o,a),this.options.editor=s,a&&(a.editor=s),this._defaults=o,this._name=i,this.options&&this.options.editor&&(this.options.editor._serialize===r&&(this.options.editor._serialize=this.options.editor.serialize),this.options.editor._destroy===r&&(this.options.editor._destroy=this.options.editor.destroy),this.options.editor._setup===r&&(this.options.editor._setup=this.options.editor.setup),this.options.editor._hideInsertButtons=this.hideButtons,this.options.editor.serialize=this.editorSerialize,this.options.editor.destroy=this.editorDestroy,this.options.editor.setup=this.editorSetup,this.options.editor.getExtensionByName("placeholder")!==r&&(this.options.editor.getExtensionByName("placeholder").updatePlaceholder=this.editorUpdatePlaceholder))}l.prototype.init=function(){this.$el.addClass("medium-editor-insert-plugin"),"object"===s(this.options.addons)&&0!==Object.keys(this.options.addons).length||this.disable(),this.initAddons(),this.clean(),this.events()},l.prototype.events=function(){var n=this;this.$el.on("dragover drop",(function(e){e.preventDefault()})).on("keyup click",e.proxy(this,"toggleButtons")).on("selectstart mousedown",".medium-insert, .medium-insert-buttons",e.proxy(this,"disableSelection")).on("click",".medium-insert-buttons-show",e.proxy(this,"toggleAddons")).on("click",".medium-insert-action",e.proxy(this,"addonAction")).on("mousedown",".medium-insert-images img",(function(){return!1})).on("paste",".medium-insert-caption-placeholder",(function(t){e.proxy(n,"removeCaptionPlaceholder")(e(t.target))})),e(t).on("resize",e.proxy(this,"positionButtons",null))},l.prototype.getEditor=function(){return this.options.editor},l.prototype.editorSerialize=function(){var t=this._serialize();return e.each(t,(function(n){var r=e("<div />").html(t[n].value);r.find(".medium-insert-buttons").remove(),r.find(".medium-insert-active").removeClass("medium-insert-active"),r.find("[data-embed-code]").each((function(){var t=e(this),n=e("<div />").html(t.attr("data-embed-code")).text();t.html(n)})),t[n].value=r.html()})),t},l.prototype.editorDestroy=function(){e.each(this.elements,(function(t,n){e(n).data("plugin_"+i)instanceof l&&e(n).data("plugin_"+i).disable()})),this._destroy()},l.prototype.editorSetup=function(){this._setup(),e.each(this.elements,(function(t,n){e(n).data("plugin_"+i)instanceof l&&e(n).data("plugin_"+i).enable()}))},l.prototype.editorUpdatePlaceholder=function(t,n){var r=e(t).children().not(".medium-insert-buttons").contents();n||1!==r.length||"br"!==r[0].nodeName.toLowerCase()?this.hidePlaceholder(t):(this.showPlaceholder(t),this.base._hideInsertButtons(e(t)))},l.prototype.triggerInput=function(){this.getEditor()&&this.getEditor().trigger("editableInput",null,this.el)},l.prototype.deselect=function(){n.getSelection().removeAllRanges()},l.prototype.disable=function(){this.options.enabled=!1,this.$el.find(".medium-insert-buttons").addClass("hide")},l.prototype.enable=function(){this.options.enabled=!0,this.$el.find(".medium-insert-buttons").removeClass("hide")},l.prototype.disableSelection=function(t){var n=e(t.target);(!1===n.is("img")||n.hasClass("medium-insert-buttons-show"))&&t.preventDefault()},l.prototype.initAddons=function(){var t=this;this.options.addons&&0!==this.options.addons.length&&e.each(this.options.addons,(function(e,n){var r=i+a(e);!1!==n?(t.$el[r](n),t.options.addons[e]=t.$el.data("plugin_"+r).options):delete t.options.addons[e]}))},l.prototype.clean=function(){var t,n,r=this;!1!==this.options.enabled&&(0===this.$el.html().length&&this.$el.html(this.templates["src/js/templates/core-empty-line.hbs"]().trim()),this.$el.contents().filter((function(){return"#text"===this.nodeName&&""!==e.trim(e(this).text())||"br"===this.nodeName.toLowerCase()})).each((function(){e(this).wrap("<p />"),r.moveCaret(e(this).parent(),e(this).text().length)})),this.addButtons(),(n=(t=this.$el.find(".medium-insert-buttons")).prev()).attr("class")&&n.attr("class").match(/medium\-insert(?!\-active)/)&&t.before(this.templates["src/js/templates/core-empty-line.hbs"]().trim()))},l.prototype.getButtons=function(){if(!1!==this.options.enabled)return this.templates["src/js/templates/core-buttons.hbs"]({addons:this.options.addons}).trim()},l.prototype.addButtons=function(){0===this.$el.find(".medium-insert-buttons").length&&this.$el.append(this.getButtons())},l.prototype.toggleButtons=function(n){var r,i,o,a,s=e(n.target),l=t.getSelection(),c=this;!1!==this.options.enabled&&(l&&0!==l.rangeCount?(r=l.getRangeAt(0),i=e(r.commonAncestorContainer)):i=s,i.hasClass("medium-editor-insert-plugin")&&(i=i.find("p:first")),o=i.is("p")?i:i.closest("p"),this.clean(),!1===s.hasClass("medium-editor-placeholder")&&0===s.closest(".medium-insert-buttons").length&&0===i.closest(".medium-insert-buttons").length&&(this.$el.find(".medium-insert-active").removeClass("medium-insert-active"),e.each(this.options.addons,(function(e){if(s.closest(".medium-insert-"+e).length&&(i=s),i.closest(".medium-insert-"+e).length)return o=i.closest(".medium-insert-"+e),void(a=e)})),o.length&&(""===o.text().trim()&&!a||"images"===a)?(o.addClass("medium-insert-active"),"images"===a?this.$el.find(".medium-insert-buttons").attr("data-active-addon",a):this.$el.find(".medium-insert-buttons").removeAttr("data-active-addon"),setTimeout((function(){a||(c.positionButtons(a),c.showButtons(a))}),a?100:0)):this.hideButtons()))},l.prototype.showButtons=function(e){var t=this.$el.find(".medium-insert-buttons");t.show(),t.find("li").show(),e&&(t.find("li").hide(),t.find('button[data-addon="'+e+'"]').parent().show())},l.prototype.hideButtons=function(e){(e=e||this.$el).find(".medium-insert-buttons").hide(),e.find(".medium-insert-buttons-addons").hide(),e.find(".medium-insert-buttons-show").removeClass("medium-insert-buttons-rotate")},l.prototype.positionButtons=function(n){var r=this.$el.find(".medium-insert-buttons"),i=this.$el.find(".medium-insert-active"),o=i.hasClass("medium-insert-images-grid")?[]:i.find("figure:last p.figcaption"),a=this.getEditor()?this.getEditor().options.elementsContainer:e("body").get(0),s=["absolute","fixed"].indexOf(t.getComputedStyle(a).getPropertyValue("position"))>-1,l={};i.length&&(l.left=i.position().left,l.top=i.position().top,n?(l.left+=i.width()-r.find(".medium-insert-buttons-show").width()-10,l.top+=i.height()-20+(o.length?-o.height()-parseInt(o.css("margin-top"),10):10)):(l.left+=-parseInt(r.find(".medium-insert-buttons-addons").css("left"),10)-parseInt(r.find(".medium-insert-buttons-addons button:first").css("margin-left"),10),l.top+=parseInt(i.css("margin-top"),10)),s&&(l.top+=a.scrollTop),!1===this.$el.hasClass("medium-editor-placeholder")&&l.left<0&&(l.left=i.position().left),r.css(l))},l.prototype.toggleAddons=function(){"images"!==this.$el.find(".medium-insert-buttons").attr("data-active-addon")?(this.$el.find(".medium-insert-buttons-addons").fadeToggle(),this.$el.find(".medium-insert-buttons-show").toggleClass("medium-insert-buttons-rotate")):this.$el.find(".medium-insert-buttons").find('button[data-addon="images"]').click()},l.prototype.hideAddons=function(){this.$el.find(".medium-insert-buttons-addons").hide(),this.$el.find(".medium-insert-buttons-show").removeClass("medium-insert-buttons-rotate")},l.prototype.addonAction=function(t){var n=e(t.currentTarget),r=n.data("addon"),o=n.data("action");this.$el.data("plugin_"+i+a(r))[o]()},l.prototype.moveCaret=function(e,r){var i,o,a,s;r=r||0,i=n.createRange(),o=t.getSelection(),(a=e.get(0)).childNodes.length||(s=n.createTextNode(" "),a.appendChild(s)),i.setStart(a.childNodes[0],r),i.collapse(!0),o.removeAllRanges(),o.addRange(i)},l.prototype.addCaption=function(e,t){0===e.find("p.figcaption").length&&e.append(this.templates["src/js/templates/core-caption.hbs"]({placeholder:t}))},l.prototype.removeCaptions=function(t){var n=this.$el.find("p.figcaption");t&&(n=n.not(t)),n.each((function(){(e(this).hasClass("medium-insert-caption-placeholder")||""===e(this).text().trim())&&e(this).remove()}))},l.prototype.removeCaptionPlaceholder=function(e){var t=e.is("p.figcaption")?e:e.find("p.figcaption");t.length&&t.removeClass("medium-insert-caption-placeholder").removeAttr("data-placeholder")},e.fn[i]=function(t){return this.each((function(){var n,r=this;e(r).is("textarea")&&(n=e(r).attr("medium-editor-textarea-id"),r=e(r).siblings('[medium-editor-textarea-id="'+n+'"]').get(0)),e.data(r,"plugin_"+i)?"string"===typeof t&&e.data(r,"plugin_"+i)[t]&&e.data(r,"plugin_"+i)[t]():(e.data(r,"plugin_"+i,new l(r,t)),e.data(r,"plugin_"+i).init())}))}}(a,window,document),function(e,t,r,i){"use strict";var o="mediumInsert",a="Embeds",s={label:'<span class="fa fa-youtube-play"></span>',placeholder:"Paste a YouTube, Vimeo, Facebook, Twitter or Instagram link and press Enter",oembedProxy:"http://medium.iframe.ly/api/oembed?iframe=1",captions:!0,captionPlaceholder:"Type caption (optional)",storeMeta:!1,styles:{wide:{label:'<span class="fa fa-align-justify"></span>'},left:{label:'<span class="fa fa-align-left"></span>'},right:{label:'<span class="fa fa-align-right"></span>'}},actions:{remove:{label:'<span class="fa fa-times"></span>',clicked:function(){var t=e.Event("keydown");t.which=8,e(r).trigger(t)}}},parseOnPaste:!1};function l(n,r){this.el=n,this.$el=e(n),this.templates=t.MediumInsert.Templates,this.core=this.$el.data("plugin_"+o),this.options=e.extend(!0,{},s,r),this._defaults=s,this._name=o,this.core.getEditor()&&(this.core.getEditor()._serializePreEmbeds=this.core.getEditor().serialize,this.core.getEditor().serialize=this.editorSerialize),this.init()}l.prototype.init=function(){var t=this.$el.find(".medium-insert-embeds");t.attr("contenteditable",!1),t.each((function(){0===e(this).find(".medium-insert-embeds-overlay").length&&e(this).append(e("<div />").addClass("medium-insert-embeds-overlay"))})),this.events(),this.backwardsCompatibility()},l.prototype.events=function(){e(r).on("click",e.proxy(this,"unselectEmbed")).on("keydown",e.proxy(this,"removeEmbed")).on("click",".medium-insert-embeds-toolbar .medium-editor-action",e.proxy(this,"toolbarAction")).on("click",".medium-insert-embeds-toolbar2 .medium-editor-action",e.proxy(this,"toolbar2Action")),this.$el.on("keyup click paste",e.proxy(this,"togglePlaceholder")).on("keydown",e.proxy(this,"processLink")).on("click",".medium-insert-embeds-overlay",e.proxy(this,"selectEmbed")).on("contextmenu",".medium-insert-embeds-placeholder",e.proxy(this,"fixRightClickOnPlaceholder")),this.options.parseOnPaste&&this.$el.on("paste",e.proxy(this,"processPasted")),e(t).on("resize",e.proxy(this,"autoRepositionToolbars"))},l.prototype.backwardsCompatibility=function(){var t=this;this.$el.find(".mediumInsert-embeds").removeClass("mediumInsert-embeds").addClass("medium-insert-embeds"),this.$el.find(".medium-insert-embeds").each((function(){0===e(this).find(".medium-insert-embed").length&&(e(this).after(t.templates["src/js/templates/embeds-wrapper.hbs"]({html:e(this).html()})),e(this).remove())}))},l.prototype.editorSerialize=function(){var t=this._serializePreEmbeds();return e.each(t,(function(n){var r=e("<div />").html(t[n].value),i=r.find(".medium-insert-embeds");i.removeAttr("contenteditable"),i.find("p.figcaption").removeAttr("contenteditable"),r.find(".medium-insert-embeds-overlay").remove(),t[n].value=r.html()})),t},l.prototype.add=function(){var e=this.$el.find(".medium-insert-active");e.html(this.templates["src/js/templates/core-empty-line.hbs"]().trim()),e.is("p")&&(e.replaceWith('<div class="medium-insert-active">'+e.html()+"</div>"),e=this.$el.find(".medium-insert-active"),this.core.moveCaret(e)),e.addClass("medium-insert-embeds medium-insert-embeds-input medium-insert-embeds-active"),this.togglePlaceholder({target:e.get(0)}),e.click(),this.core.hideButtons()},l.prototype.togglePlaceholder=function(n){var r,i,o,a=e(n.target),s=t.getSelection();s&&0!==s.rangeCount&&(r=s.getRangeAt(0),(i=e(r.commonAncestorContainer)).hasClass("medium-insert-embeds-active")?a=i:i.closest(".medium-insert-embeds-active").length&&(a=i.closest(".medium-insert-embeds-active")),a.hasClass("medium-insert-embeds-active")?""===(o=a.text().trim())&&!1===a.hasClass("medium-insert-embeds-placeholder")?a.addClass("medium-insert-embeds-placeholder").attr("data-placeholder",this.options.placeholder):""!==o&&a.hasClass("medium-insert-embeds-placeholder")&&a.removeClass("medium-insert-embeds-placeholder").removeAttr("data-placeholder"):this.$el.find(".medium-insert-embeds-active").remove())},l.prototype.fixRightClickOnPlaceholder=function(t){this.core.moveCaret(e(t.target))},l.prototype.processLink=function(e){var t,n=this.$el.find(".medium-insert-embeds-active");n.length&&(""!==(t=n.text().trim())||-1===[8,46,13].indexOf(e.which)?13===e.which&&(e.preventDefault(),e.stopPropagation(),this.options.oembedProxy?this.oembed(t):this.parseUrl(t)):n.remove())},l.prototype.processPasted=function(t){var n;e(".medium-insert-embeds-active").length||(n=t.originalEvent.clipboardData.getData("text"),new RegExp("^(http(s?):)?//","i").test(n)&&(this.options.oembedProxy?this.oembed(n,!0):this.parseUrl(n,!0)))},l.prototype.oembed=function(n,r){var i=this;e.support.cors=!0,e.ajax({crossDomain:!0,cache:!1,url:this.options.oembedProxy,dataType:"json",data:{url:n},success:function(t){var o=t&&t.html;i.options.storeMeta&&(o+='<div class="medium-insert-embeds-meta"><script type="text/json">'+JSON.stringify(t)+"<\/script></div>"),t&&!o&&"photo"===t.type&&t.url&&(o='<img src="'+t.url+'" alt="">'),o?r?e.proxy(i,"embed",o,n)():e.proxy(i,"embed",o)():e.proxy(i,"convertBadEmbed",n)()},error:function(r,o,a){var s=function(){try{return JSON.parse(r.responseText)}catch(e){}}();"undefined"!==typeof t.console?t.console.log(s&&s.error||r.status||a.message):t.alert("Error requesting media from "+i.options.oembedProxy+" to insert: "+a+" (response status: "+r.status+")"),e.proxy(i,"convertBadEmbed",n)()}})},l.prototype.parseUrl=function(t,n){var r;return new RegExp(["youtube","youtu.be","vimeo","instagram","twitter","facebook"].join("|")).test(t)?(r=t.replace(/\n?/g,"").replace(/^((http(s)?:\/\/)?(www\.)?(youtube\.com|youtu\.be)\/(watch\?v=|v\/)?)([a-zA-Z0-9\-_]+)(.*)?$/,'<div class="video video-youtube"><iframe width="420" height="315" src="//www.youtube.com/embed/$7" frameborder="0" allowfullscreen></iframe></div>').replace(/^https?:\/\/vimeo\.com(\/.+)?\/([0-9]+)$/,'<div class="video video-vimeo"><iframe src="//player.vimeo.com/video/$2" width="500" height="281" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>').replace(/^https:\/\/twitter\.com\/(\w+)\/status\/(\d+)\/?$/,'<blockquote class="twitter-tweet" align="center" lang="en"><a href="https://twitter.com/$1/statuses/$2"></a></blockquote><script async src="//platform.twitter.com/widgets.js" charset="utf-8"><\/script>').replace(/^(https:\/\/www\.facebook\.com\/(.*))$/,'<script src="//connect.facebook.net/en_US/sdk.js#xfbml=1&amp;version=v2.2" async><\/script><div class="fb-post" data-href="$1"><div class="fb-xfbml-parse-ignore"><a href="$1">Loading Facebook post...</a></div></div>').replace(/^https?:\/\/instagram\.com\/p\/(.+)\/?$/,'<span class="instagram"><iframe src="//instagram.com/p/$1/embed/" width="612" height="710" frameborder="0" scrolling="no" allowtransparency="true"></iframe></span>'),this.options.storeMeta&&(r+='<div class="medium-insert-embeds-meta"><script type="text/json">'+JSON.stringify({})+"<\/script></div>"),!1===/<("[^"]*"|'[^']*'|[^'">])*>/.test(r)?(e.proxy(this,"convertBadEmbed",t)(),!1):void(n?this.embed(r,t):this.embed(r))):(e.proxy(this,"convertBadEmbed",t)(),!1)},l.prototype.embed=function(t,n){var r,i=this.$el.find(".medium-insert-embeds-active");if(!t)return alert("Incorrect URL format specified"),!1;t.indexOf("<\/script>")>-1&&(r=e("<div>").attr("data-embed-code",e("<div />").text(t).html()).html(t),t=e("<div>").append(r).html()),n?((i=this.$el.find(":not(iframe, script, style)").contents().filter((function(){return 3===this.nodeType&&this.textContent.indexOf(n)>-1})).parent()).after(this.templates["src/js/templates/embeds-wrapper.hbs"]({html:t})),i.text(i.text().replace(n,"")),i.after(this.templates["src/js/templates/core-empty-line.hbs"]().trim())):(i.after(this.templates["src/js/templates/embeds-wrapper.hbs"]({html:t})),i.remove()),this.core.triggerInput(),-1!==t.indexOf("facebook")&&"undefined"!==typeof FB&&setTimeout((function(){FB.XFBML.parse()}),2e3)},l.prototype.convertBadEmbed=function(t){var n,r,i,o=this.templates["src/js/templates/core-empty-line.hbs"]().trim();n=this.$el.find(".medium-insert-embeds-active"),i=e(o),n.before(i),n.remove(),i.html(t),r=e(o),i.after(r),this.core.triggerInput(),this.core.moveCaret(r)},l.prototype.selectEmbed=function(t){var n,r=this;this.core.options.enabled&&((n=e(t.target).hasClass("medium-insert-embeds")?e(t.target):e(t.target).closest(".medium-insert-embeds")).addClass("medium-insert-embeds-selected"),setTimeout((function(){r.addToolbar(),r.options.captions&&r.core.addCaption(n.find("figure"),r.options.captionPlaceholder)}),50))},l.prototype.unselectEmbed=function(t){var n=e(t.target).hasClass("medium-insert-embeds")?e(t.target):e(t.target).closest(".medium-insert-embeds"),r=this.$el.find(".medium-insert-embeds-selected");if(n.hasClass("medium-insert-embeds-selected"))return r.not(n).removeClass("medium-insert-embeds-selected"),e(".medium-insert-embeds-toolbar, .medium-insert-embeds-toolbar2").remove(),this.core.removeCaptions(n.find("p.figcaption")),void((e(t.target).is(".medium-insert-caption-placeholder")||e(t.target).is("p.figcaption"))&&(n.removeClass("medium-insert-embeds-selected"),this.core.removeCaptionPlaceholder(n.find("figure"))));r.removeClass("medium-insert-embeds-selected"),e(".medium-insert-embeds-toolbar, .medium-insert-embeds-toolbar2").remove(),e(t.target).is(".medium-insert-caption-placeholder")?this.core.removeCaptionPlaceholder(n.find("figure")):!1===e(t.target).is("p.figcaption")&&this.core.removeCaptions()},l.prototype.removeEmbed=function(i){var o,a,s,l,c,u,d,f,h=[],p=this.$el.find(".medium-insert-embeds-selected");if(8!==i.which&&46!==i.which||(p.length&&h.push(p),(a=t.getSelection())&&a.rangeCount&&(c="#text"===(s=a.getRangeAt(0).commonAncestorContainer).nodeName||"BR"===s.nodeName?e(s).parent():e(s),l=n.selection.getCaretOffsets(s).left,8===i.which&&0===l?u=c.prev():46===i.which&&l===c.text().length&&(u=c.next()),u&&u.hasClass("medium-insert-embeds")&&h.push(u),(d=n.selection.getSelectionHtml(r))&&e("<div></div>").html(d).find(".medium-insert-embeds").each((function(){h.push(e(this))})))),h.length){for(f=0;f<h.length;f++)i.preventDefault(),e(".medium-insert-embeds-toolbar, .medium-insert-embeds-toolbar2").remove(),o=e(this.templates["src/js/templates/core-empty-line.hbs"]().trim()),h[f].before(o),h[f].remove(),this.core.hideAddons(),this.core.moveCaret(o),this.core.triggerInput();this.core.hideAddons(),!d&&o&&(i.preventDefault(),this.core.moveCaret(o)),e(".medium-insert-embeds-toolbar, .medium-insert-embeds-toolbar2").remove(),this.core.triggerInput()}},l.prototype.addToolbar=function(){if(this.options.toolbar){var t,n,r,i=this.$el.find(".medium-insert-embeds-selected"),o=!1;if(0===i.length)return;r=this.core.getEditor().options.elementsContainer||"body",e(r).append(this.templates["src/js/templates/embeds-toolbar.hbs"]({styles:this.options.styles,actions:this.options.actions}).trim()),t=e(".medium-insert-embeds-toolbar"),n=e(".medium-insert-embeds-toolbar2"),t.find("button").each((function(){i.hasClass("medium-insert-embeds-"+e(this).data("action"))&&(e(this).addClass("medium-editor-button-active"),o=!0)})),!1===o&&t.find("button").first().addClass("medium-editor-button-active"),this.repositionToolbars(),t.fadeIn(),n.fadeIn()}},l.prototype.autoRepositionToolbars=function(){setTimeout(function(){this.repositionToolbars(),this.repositionToolbars()}.bind(this),0)},l.prototype.repositionToolbars=function(){var n=e(".medium-insert-embeds-toolbar"),r=e(".medium-insert-embeds-toolbar2"),i=this.$el.find(".medium-insert-embeds-selected"),o=this.core.getEditor().options.elementsContainer,a=["absolute","fixed"].indexOf(t.getComputedStyle(o).getPropertyValue("position"))>-1,s=a?o.getBoundingClientRect():null,l=e(t).width(),c={};r.length&&(c.top=i.offset().top+2,c.left=i.offset().left+i.width()-r.width()-4,a&&(c.top+=o.scrollTop-s.top,c.left-=s.left,l=e(o).width()),c.left+r.width()>l&&(c.left=l-r.width()),r.css(c)),n.length&&(c.left=i.offset().left+i.width()/2-n.width()/2,c.top=i.offset().top-n.height()-8-2-5,a&&(c.top+=o.scrollTop-s.top,c.left-=s.left),c.top<0&&(c.top=0),n.css(c))},l.prototype.toolbarAction=function(t){var n=e(t.target).is("button")?e(t.target):e(t.target).closest("button"),r=n.closest("li"),i=r.closest("ul").find("li"),o=this.$el.find(".medium-insert-embeds-selected"),a=this;n.addClass("medium-editor-button-active"),r.siblings().find(".medium-editor-button-active").removeClass("medium-editor-button-active"),i.find("button").each((function(){var t="medium-insert-embeds-"+e(this).data("action");e(this).hasClass("medium-editor-button-active")?(o.addClass(t),(a.options.styles[e(this).data("action")]||{}).added&&a.options.styles[e(this).data("action")].added(o)):(o.removeClass(t),(a.options.styles[e(this).data("action")]||{}).removed&&a.options.styles[e(this).data("action")].removed(o))})),this.core.triggerInput()},l.prototype.toolbar2Action=function(t){var n=e(t.target).is("button")?e(t.target):e(t.target).closest("button"),r=(this.options.actions[n.data("action")]||{}).clicked;r&&r(this.$el.find(".medium-insert-embeds-selected")),this.core.triggerInput()},e.fn[o+a]=function(t){return this.each((function(){e.data(this,"plugin_"+o+a)||e.data(this,"plugin_"+o+a,new l(this,t))}))}}(a,window,document),function(e,t,r,i,o){"use strict";var a="mediumInsert",s="Images",l={label:'<span class="fa fa-camera"></span>',deleteMethod:"POST",deleteScript:"delete.php",preview:!0,captions:!0,captionPlaceholder:"Type caption for image (optional)",autoGrid:3,fileUploadOptions:{url:null,acceptFileTypes:/(\.|\/)(gif|jpe?g|png)$/i},fileDeleteOptions:{},styles:{wide:{label:'<span class="fa fa-align-justify"></span>'},left:{label:'<span class="fa fa-align-left"></span>'},right:{label:'<span class="fa fa-align-right"></span>'},grid:{label:'<span class="fa fa-th"></span>'}},actions:{remove:{label:'<span class="fa fa-times"></span>',clicked:function(){var t=e.Event("keydown");t.which=8,e(r).trigger(t)}}},sorting:function(){},messages:{acceptFileTypesError:"This file is not in a supported format: ",maxFileSizeError:"This file is too big: "}};function c(n,r){this.el=n,this.$el=e(n),this.$currentImage=null,this.templates=t.MediumInsert.Templates,this.core=this.$el.data("plugin_"+a),this.options=e.extend(!0,{},l,r),this._defaults=l,this._name=a,this.options.preview&&!t.FileReader&&(this.options.preview=!1),this.core.getEditor()&&(this.core.getEditor()._serializePreImages=this.core.getEditor().serialize,this.core.getEditor().serialize=this.editorSerialize),this.init()}function u(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t}c.prototype.init=function(){var e=this.$el.find(".medium-insert-images");e.find("p.figcaption").attr("contenteditable",!0),e.find("figure").attr("contenteditable",!1),this.events(),this.backwardsCompatibility(),this.sorting()},c.prototype.events=function(){e(r).on("click",e.proxy(this,"unselectImage")).on("keydown",e.proxy(this,"removeImage")).on("click",".medium-insert-images-toolbar .medium-editor-action",e.proxy(this,"toolbarAction")).on("click",".medium-insert-images-toolbar2 .medium-editor-action",e.proxy(this,"toolbar2Action")),this.$el.on("click",".medium-insert-images img",e.proxy(this,"selectImage")),e(t).on("resize",e.proxy(this,"autoRepositionToolbars"))},c.prototype.backwardsCompatibility=function(){this.$el.find(".mediumInsert").removeClass("mediumInsert").addClass("medium-insert-images"),this.$el.find(".medium-insert-images.small").removeClass("small").addClass("medium-insert-images-left")},c.prototype.editorSerialize=function(){var t=this._serializePreImages();return e.each(t,(function(n){var r=e("<div />").html(t[n].value);r.find(".medium-insert-images").find("p.figcaption, figure").removeAttr("contenteditable"),r.find(".medium-insert-images-progress").remove(),t[n].value=r.html()})),t},c.prototype.add=function(){var t=this,n=this.$el.find("#medium-insert-file-selector"),r={dataType:"json",add:function(n,r){e.proxy(t,"uploadAdd",n,r)()},done:function(n,r){e.proxy(t,"uploadDone",n,r)()}};(new XMLHttpRequest).upload&&(r.progress=function(n,r){e.proxy(t,"uploadProgress",n,r)()},r.progressall=function(n,r){e.proxy(t,"uploadProgressall",n,r)()}),n.fileupload(e.extend(!0,{},this.options.fileUploadOptions,r)),n.hasClass("skip-dialog")||n.click()},c.prototype.uploadAdd=function(n,i){var o,a=this.$el.find(".medium-insert-active"),s=this,l=[],c=i.files[0],u=this.options.fileUploadOptions.acceptFileTypes,d=this.options.fileUploadOptions.maxFileSize;if(u&&!u.test(c.type)?l.push(this.options.messages.acceptFileTypesError+c.name):d&&c.size>d&&l.push(this.options.messages.maxFileSizeError+c.name),l.length>0)return this.options.uploadFailed&&"function"===typeof this.options.uploadFailed?void this.options.uploadFailed(l,i):void alert(l.join("\n"));this.core.hideButtons(),a.is("p")&&(a.replaceWith('<div class="medium-insert-active">'+a.html()+"</div>"),(a=this.$el.find(".medium-insert-active")).next().is("p")||a.after("<p><br></p>"),this.core.moveCaret(a.next())),a.addClass("medium-insert-images"),!1===this.options.preview&&0===a.find("progress").length&&(new XMLHttpRequest).upload&&a.append(this.templates["src/js/templates/images-progressbar.hbs"]()),e(n.target).fileupload(),(i.autoUpload||!1!==i.autoUpload&&e(n.target).fileupload("option","autoUpload"))&&i.process().done((function(){s.options.preview?(o=r.createElement("img"),t.URL=t.URL||t.webkitURL,o.src=t.URL.createObjectURL(i.files[0]),o.onload=function(){e.proxy(s,"showImage",this.src,i)(),setTimeout((function(){t.URL.revokeObjectURL(this.src)}))}):i.submit()}))},c.prototype.uploadProgressall=function(e,t){var n,r;!1===this.options.preview&&(n=parseInt(t.loaded/t.total*100,10),(r=this.$el.find(".medium-insert-active").find("progress")).attr("value",n).text(n),100===n&&r.remove())},c.prototype.uploadProgress=function(e,t){var n,r;this.options.preview&&(n=100-parseInt(t.loaded/t.total*100,10),(r=t.context.find(".medium-insert-images-progress")).css("width",n+"%"),0===n&&r.remove())},c.prototype.uploadDone=function(t,n){e.proxy(this,"showImage",n.result.files[0].url,n)(),this.core.clean(),this.sorting()},c.prototype.showImage=function(t,n){var r,i,o=this.$el.find(".medium-insert-active"),a=u(n.files[0].name+n.files[0].size);return o.click(),o.addClass("contains-image-"+a),i=this,this.options.preview&&n.context?((r=this.getDOMImage()).onload=function(){n.context.find("img").attr("src",t),this.options.uploadCompleted&&this.options.uploadCompleted(n.context,n),i.core.triggerInput()}.bind(this),r.src=t):(n.context=e(this.templates["src/js/templates/images-image.hbs"]({img:t,progress:this.options.preview})).appendTo(o),o.find("br").remove(),this.options.autoGrid&&o.find("figure").length>=this.options.autoGrid&&(e.each(this.options.styles,(function(e,t){var n="medium-insert-images-"+e;o.removeClass(n),t.removed&&t.removed(o)})),o.addClass("medium-insert-images-grid"),this.options.styles.grid.added&&this.options.styles.grid.added(o)),this.options.onImageSelect&&this.options.onImageSelect.call(this.options.context,n.files[0])),this.core.triggerInput(),n.context},c.prototype.getDOMImage=function(){return new t.Image},c.prototype.selectImage=function(t){var n,r=this;this.core.options.enabled&&(n=e(t.target),this.$currentImage=n,this.$el.blur(),n.addClass("medium-insert-image-active"),n.closest(".medium-insert-images").addClass("medium-insert-active"),setTimeout((function(){r.addToolbar(),r.options.captions&&r.core.addCaption(n.closest("figure"),r.options.captionPlaceholder)}),50))},c.prototype.unselectImage=function(t){var n=e(t.target),r=this.$el.find(".medium-insert-image-active");if(n.is("img")&&n.hasClass("medium-insert-image-active"))return r.not(n).removeClass("medium-insert-image-active"),e(".medium-insert-images-toolbar, .medium-insert-images-toolbar2").remove(),void this.core.removeCaptions(n);r.removeClass("medium-insert-image-active"),e(".medium-insert-images-toolbar, .medium-insert-images-toolbar2").remove(),n.is(".medium-insert-caption-placeholder")?this.core.removeCaptionPlaceholder(r.closest("figure")):!1===n.is("p.figcaption")&&this.core.removeCaptions(),this.$currentImage=null},c.prototype.removeImage=function(i){var o,a,s,l,c,u,d,f,h,p=[],m=this.$el.find(".medium-insert-image-active");if((8===i.which||46===i.which)&&(m.length&&p.push(m),(s=t.getSelection())&&s.rangeCount&&(u="#text"===(l=s.getRangeAt(0).commonAncestorContainer).nodeName||"BR"===l.nodeName?e(l).parent():e(l),c=n.selection.getCaretOffsets(l).left,8===i.which&&0===c?d=u.prev():46===i.which&&c===u.text().length&&(d=u.next()),d&&d.hasClass("medium-insert-images")&&p.push(d.find("img")),(f=n.selection.getSelectionHtml(r))&&e("<div></div>").html(f).find(".medium-insert-images img").each((function(){p.push(e(this))}))),p.length)){for(h=0;h<p.length;h++)this.deleteFile(p[h].attr("src"),p[h]),o=p[h].closest(".medium-insert-images"),p[h].closest("figure").remove(),0===o.find("figure").length&&(!1!==(a=o.next()).is("p")&&""===a.text()||(a=e(this.templates["src/js/templates/core-empty-line.hbs"]().trim()),o.before(a)),o.remove());this.core.hideAddons(),!f&&a&&(i.preventDefault(),this.core.moveCaret(a)),e(".medium-insert-images-toolbar, .medium-insert-images-toolbar2").remove(),this.core.triggerInput()}},c.prototype.deleteFile=function(t,n){this.options.deleteScript&&("function"===typeof this.options.deleteScript?this.options.deleteScript(t,n):e.ajax(e.extend(!0,{},{url:this.options.deleteScript,type:this.options.deleteMethod||"POST",data:{file:t}},this.options.fileDeleteOptions)))},c.prototype.addToolbar=function(){if(this.options.toolbar){var t,n,r=this.$el.find(".medium-insert-image-active").closest(".medium-insert-images"),i=!1,o=this.core.getEditor().options.elementsContainer||"body";e(o).append(this.templates["src/js/templates/images-toolbar.hbs"]({styles:this.options.styles,actions:this.options.actions}).trim()),t=e(".medium-insert-images-toolbar"),n=e(".medium-insert-images-toolbar2"),t.find("button").each((function(){r.hasClass("medium-insert-images-"+e(this).data("action"))&&(e(this).addClass("medium-editor-button-active"),i=!0)})),!1===i&&t.find("button").first().addClass("medium-editor-button-active"),this.repositionToolbars(),t.fadeIn(),n.fadeIn()}},c.prototype.autoRepositionToolbars=function(){setTimeout(function(){this.repositionToolbars(),this.repositionToolbars()}.bind(this),0)},c.prototype.repositionToolbars=function(){var n=e(".medium-insert-images-toolbar"),r=e(".medium-insert-images-toolbar2"),i=this.$el.find(".medium-insert-image-active"),o=this.core.getEditor().options.elementsContainer,a=["absolute","fixed"].indexOf(t.getComputedStyle(o).getPropertyValue("position"))>-1,s=a?o.getBoundingClientRect():null,l=e(t).width(),c={};r.length&&(c.top=i.offset().top+2,c.left=i.offset().left+i.width()-r.width()-4,a&&(c.top+=o.scrollTop-s.top,c.left-=s.left,l=e(o).width()),c.left+r.width()>l&&(c.left=l-r.width()),r.css(c)),n.length&&(i.closest(".medium-insert-images-grid-active").length&&(i=i.closest(".medium-insert-images-grid-active")),c.top=i.offset().top-n.height()-8-2-5,c.left=i.offset().left+i.width()/2-n.width()/2,a&&(c.top+=o.scrollTop-s.top,c.left-=s.left),c.top<0&&(c.top=0),n.css(c))},c.prototype.toolbarAction=function(t){var n,r,i,o,a=this;null!==this.$currentImage&&(i=(r=(n=e(t.target).is("button")?e(t.target):e(t.target).closest("button")).closest("li")).closest("ul").find("li"),o=this.$el.find(".medium-insert-active"),n.addClass("medium-editor-button-active"),r.siblings().find(".medium-editor-button-active").removeClass("medium-editor-button-active"),i.find("button").each((function(){var t="medium-insert-images-"+e(this).data("action");e(this).hasClass("medium-editor-button-active")?(o.addClass(t),a.options.styles[e(this).data("action")].added&&a.options.styles[e(this).data("action")].added(o)):(o.removeClass(t),a.options.styles[e(this).data("action")].removed&&a.options.styles[e(this).data("action")].removed(o))})),this.core.hideButtons(),this.core.triggerInput())},c.prototype.toolbar2Action=function(t){var n,r;null!==this.$currentImage&&(n=e(t.target).is("button")?e(t.target):e(t.target).closest("button"),(r=this.options.actions[n.data("action")].clicked)&&r(this.$el.find(".medium-insert-image-active")),this.core.hideButtons(),this.core.triggerInput())},c.prototype.sorting=function(){e.proxy(this.options.sorting,this)()},e.fn[a+s]=function(t){return this.each((function(){e.data(this,"plugin_"+a+s)||e.data(this,"plugin_"+a+s,new c(this,t))}))}}(a,window,document,n.util)})?r.apply(t,i):r)||(e.exports=o)}).call(window)},function(e,t,n){function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){"use strict";"object"===r(t)?e(n(52),n(632)):e(window.jQuery)}((function(e){"use strict";function t(t){var n="dragover"===t;return function(r){r.dataTransfer=r.originalEvent&&r.originalEvent.dataTransfer;var i=r.dataTransfer;i&&-1!==e.inArray("Files",i.types)&&!1!==this._trigger(t,e.Event(t,{delegatedEvent:r}))&&(r.preventDefault(),n&&(i.dropEffect="copy"))}}e.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||e('<input type="file"/>').prop("disabled")),e.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,uniqueFilenames:void 0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,n){return t=this.messages[t]||t.toString(),n&&e.each(n,(function(e,n){t=t.replace("{"+e+"}",n)})),t},formData:function(e){return e.serializeArray()},add:function(t,n){if(t.isDefaultPrevented())return!1;(n.autoUpload||!1!==n.autoUpload&&e(this).fileupload("option","autoUpload"))&&n.process().done((function(){n.submit()}))},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var r=e-this.timestamp;return(!this.bitrate||!n||r>n)&&(this.bitrate=(t-this.loaded)*(1e3/r)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var n;return"function"===e.type(t.formData)?t.formData(t.form):e.isArray(t.formData)?t.formData:"object"===e.type(t.formData)?(n=[],e.each(t.formData,(function(e,t){n.push({name:e,value:t})})),n):[]},_getTotal:function(t){var n=0;return e.each(t,(function(e,t){n+=t.size||1})),n},_initProgressObject:function(t){var n={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,n):t._progress=n},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(t,n){if(t.lengthComputable){var r,i=Date.now?Date.now():(new Date).getTime();if(n._time&&n.progressInterval&&i-n._time<n.progressInterval&&t.loaded!==t.total)return;n._time=i,r=Math.floor(t.loaded/t.total*(n.chunkSize||n._progress.total))+(n.uploadedBytes||0),this._progress.loaded+=r-n._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(i,this._progress.loaded,n.bitrateInterval),n._progress.loaded=n.loaded=r,n._progress.bitrate=n.bitrate=n._bitrateTimer.getBitrate(i,r,n.bitrateInterval),this._trigger("progress",e.Event("progress",{delegatedEvent:t}),n),this._trigger("progressall",e.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var n=this,r=t.xhr?t.xhr():e.ajaxSettings.xhr();r.upload&&(e(r.upload).bind("progress",(function(e){var r=e.originalEvent;e.lengthComputable=r.lengthComputable,e.loaded=r.loaded,e.total=r.total,n._onProgress(e,t)})),t.xhr=function(){return r})},_deinitProgressListener:function(t){var n=t.xhr?t.xhr():e.ajaxSettings.xhr();n.upload&&e(n.upload).unbind("progress")},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_getUniqueFilename:function(e,t){return t[e=String(e)]?(e=e.replace(/(?: \(([\d]+)\))?(\.[^.]+)?$/,(function(e,t,n){return" ("+(t?Number(t)+1:1)+")"+(n||"")})),this._getUniqueFilename(e,t)):(t[e]=!0,e)},_initXHRData:function(t){var n,r=this,i=t.files[0],o=t.multipart||!e.support.xhrFileUpload,a="array"===e.type(t.paramName)?t.paramName[0]:t.paramName;t.headers=e.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange),o&&!t.blob&&this._isInstanceOf("File",i)||(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(i.uploadName||i.name)+'"'),o?e.support.xhrFormDataFileUpload&&(t.postMessage?(n=this._getFormData(t),t.blob?n.push({name:a,value:t.blob}):e.each(t.files,(function(r,i){n.push({name:"array"===e.type(t.paramName)&&t.paramName[r]||a,value:i})}))):(r._isInstanceOf("FormData",t.formData)?n=t.formData:(n=new FormData,e.each(this._getFormData(t),(function(e,t){n.append(t.name,t.value)}))),t.blob?n.append(a,t.blob,i.uploadName||i.name):e.each(t.files,(function(i,o){if(r._isInstanceOf("File",o)||r._isInstanceOf("Blob",o)){var s=o.uploadName||o.name;t.uniqueFilenames&&(s=r._getUniqueFilename(s,t.uniqueFilenames)),n.append("array"===e.type(t.paramName)&&t.paramName[i]||a,o,s)}}))),t.data=n):(t.contentType=i.type||"application/octet-stream",t.data=t.blob||i),t.blob=null},_initIframeSettings:function(t){var n=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&n&&n!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var n=e(t.fileInput),r=t.paramName;return r?e.isArray(r)||(r=[r]):(r=[],n.each((function(){for(var t=e(this),n=t.prop("name")||"files[]",i=(t.prop("files")||[1]).length;i;)r.push(n),i-=1})),r.length||(r=[n.prop("name")||"files[]"])),r},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||"string"===e.type(t.form.prop("method"))&&t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var n=e.extend({},this.options,t);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,n,r){var i=e.Deferred(),o=i.promise();return n=n||this.options.context||o,!0===t?i.resolveWith(n,r):!1===t&&i.rejectWith(n,r),o.abort=i.promise,this._enhancePromise(o)},_addConvenienceMethods:function(t,n){var r=this,i=function(t){return e.Deferred().resolveWith(r,t).promise()};n.process=function(t,o){return(t||o)&&(n._processQueue=this._processQueue=(this._processQueue||i([this])).then((function(){return n.errorThrown?e.Deferred().rejectWith(r,[n]).promise():i(arguments)})).then(t,o)),this._processQueue||i([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=!1!==r._trigger("submit",e.Event("submit",{delegatedEvent:t}),this)&&r._onSend(t,this)),this.jqXHR||r._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",r._trigger("fail",null,this),r._getXHRPromise(!1))},n.state=function(){return this.jqXHR?r._getDeferredState(this.jqXHR):this._processQueue?r._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===r._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),n=t&&t.split("-"),r=n&&n.length>1&&parseInt(n[1],10);return r&&r+1},_chunkedUpload:function(t,n){t.uploadedBytes=t.uploadedBytes||0;var r,i,o=this,a=t.files[0],s=a.size,l=t.uploadedBytes,c=t.maxChunkSize||s,u=this._blobSlice,d=e.Deferred(),f=d.promise();return!(!(this._isXHRUpload(t)&&u&&(l||("function"===e.type(c)?c(t):c)<s))||t.data)&&(!!n||(l>=s?(a.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",a.error])):(i=function(){var n=e.extend({},t),f=n._progress.loaded;n.blob=u.call(a,l,l+("function"===e.type(c)?c(n):c),a.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+l+"-"+(l+n.chunkSize-1)+"/"+s,o._trigger("chunkbeforesend",null,n),o._initXHRData(n),o._initProgressListener(n),r=(!1!==o._trigger("chunksend",null,n)&&e.ajax(n)||o._getXHRPromise(!1,n.context)).done((function(r,a,c){l=o._getUploadedBytes(c)||l+n.chunkSize,f+n.chunkSize-n._progress.loaded&&o._onProgress(e.Event("progress",{lengthComputable:!0,loaded:l-n.uploadedBytes,total:l-n.uploadedBytes}),n),t.uploadedBytes=n.uploadedBytes=l,n.result=r,n.textStatus=a,n.jqXHR=c,o._trigger("chunkdone",null,n),o._trigger("chunkalways",null,n),l<s?i():d.resolveWith(n.context,[r,a,c])})).fail((function(e,t,r){n.jqXHR=e,n.textStatus=t,n.errorThrown=r,o._trigger("chunkfail",null,n),o._trigger("chunkalways",null,n),d.rejectWith(n.context,[e,t,r])})).always((function(){o._deinitProgressListener(n)}))},this._enhancePromise(f),f.abort=function(){return r.abort()},i(),f)))},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,n,r,i){var o=i._progress.total,a=i._response;i._progress.loaded<o&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:o,total:o}),i),a.result=i.result=t,a.textStatus=i.textStatus=n,a.jqXHR=i.jqXHR=r,this._trigger("done",null,i)},_onFail:function(e,t,n,r){var i=r._response;r.recalculateProgress&&(this._progress.loaded-=r._progress.loaded,this._progress.total-=r._progress.total),i.jqXHR=r.jqXHR=e,i.textStatus=r.textStatus=t,i.errorThrown=r.errorThrown=n,this._trigger("fail",null,r)},_onAlways:function(e,t,n,r){this._trigger("always",null,r)},_onSend:function(t,n){n.submit||this._addConvenienceMethods(t,n);var r,i,o,a,s=this,l=s._getAJAXSettings(n),c=function(){return s._sending+=1,l._bitrateTimer=new s._BitrateTimer,r=r||((i||!1===s._trigger("send",e.Event("send",{delegatedEvent:t}),l))&&s._getXHRPromise(!1,l.context,i)||s._chunkedUpload(l)||e.ajax(l)).done((function(e,t,n){s._onDone(e,t,n,l)})).fail((function(e,t,n){s._onFail(e,t,n,l)})).always((function(e,t,n){if(s._deinitProgressListener(l),s._onAlways(e,t,n,l),s._sending-=1,s._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>s._sending)for(var r=s._slots.shift();r;){if("pending"===s._getDeferredState(r)){r.resolve();break}r=s._slots.shift()}0===s._active&&s._trigger("stop")}))};return this._beforeSend(t,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=e.Deferred(),this._slots.push(o),a=o.then(c)):(this._sequence=this._sequence.then(c,c),a=this._sequence),a.abort=function(){return i=[void 0,"abort","abort"],r?r.abort():(o&&o.rejectWith(l.context,i),c())},this._enhancePromise(a)):c()},_onAdd:function(t,n){var r,i,o,a,s=this,l=!0,c=e.extend({},this.options,n),u=n.files,d=u.length,f=c.limitMultiFileUploads,h=c.limitMultiFileUploadSize,p=c.limitMultiFileUploadSizeOverhead,m=0,g=this._getParamName(c),v=0;if(!d)return!1;if(h&&void 0===u[0].size&&(h=void 0),(c.singleFileUploads||f||h)&&this._isXHRUpload(c))if(c.singleFileUploads||h||!f)if(!c.singleFileUploads&&h)for(o=[],r=[],a=0;a<d;a+=1)m+=u[a].size+p,(a+1===d||m+u[a+1].size+p>h||f&&a+1-v>=f)&&(o.push(u.slice(v,a+1)),(i=g.slice(v,a+1)).length||(i=g),r.push(i),v=a+1,m=0);else r=g;else for(o=[],r=[],a=0;a<d;a+=f)o.push(u.slice(a,a+f)),(i=g.slice(a,a+f)).length||(i=g),r.push(i);else o=[u],r=[g];return n.originalFiles=u,e.each(o||u,(function(i,a){var c=e.extend({},n);return c.files=o?a:[a],c.paramName=r[i],s._initResponseObject(c),s._initProgressObject(c),s._addConvenienceMethods(t,c),l=s._trigger("add",e.Event("add",{delegatedEvent:t}),c)})),l},_replaceFileInput:function(t){var n=t.fileInput,r=n.clone(!0),i=n.is(document.activeElement);t.fileInputClone=r,e("<form></form>").append(r)[0].reset(),n.after(r).detach(),i&&r.focus(),e.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map((function(e,t){return t===n[0]?r[0]:t})),n[0]===this.element[0]&&(this.element=r)},_handleFileTreeEntry:function(t,n){var r,i=this,o=e.Deferred(),a=[],s=function(e){e&&!e.entry&&(e.entry=t),o.resolve([e])};return n=n||"",t.isFile?t._file?(t._file.relativePath=n,o.resolve(t._file)):t.file((function(e){e.relativePath=n,o.resolve(e)}),s):t.isDirectory?(r=t.createReader(),function e(){r.readEntries((function(r){r.length?(a=a.concat(r),e()):function(e){i._handleFileTreeEntries(e,n+t.name+"/").done((function(e){o.resolve(e)})).fail(s)}(a)}),s)}()):o.resolve([]),o.promise()},_handleFileTreeEntries:function(t,n){var r=this;return e.when.apply(e,e.map(t,(function(e){return r._handleFileTreeEntry(e,n)}))).then((function(){return Array.prototype.concat.apply([],arguments)}))},_getDroppedFiles:function(t){var n=(t=t||{}).items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(e.map(n,(function(e){var t;return e.webkitGetAsEntry?((t=e.webkitGetAsEntry())&&(t._file=e.getAsFile()),t):e.getAsEntry()}))):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){var n,r,i=(t=e(t)).prop("webkitEntries")||t.prop("entries");if(i&&i.length)return this._handleFileTreeEntries(i);if((n=e.makeArray(t.prop("files"))).length)void 0===n[0].name&&n[0].fileName&&e.each(n,(function(e,t){t.name=t.fileName,t.size=t.fileSize}));else{if(!(r=t.prop("value")))return e.Deferred().resolve([]).promise();n=[{name:r.replace(/^.*\\/,"")}]}return e.Deferred().resolve(n).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).then((function(){return Array.prototype.concat.apply([],arguments)})):this._getSingleFileInputFiles(t)},_onChange:function(t){var n=this,r={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(r.fileInput).always((function(i){r.files=i,n.options.replaceFileInput&&n._replaceFileInput(r),!1!==n._trigger("change",e.Event("change",{delegatedEvent:t}),r)&&n._onAdd(t,r)}))},_onPaste:function(t){var n=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,r={files:[]};n&&n.length&&(e.each(n,(function(e,t){var n=t.getAsFile&&t.getAsFile();n&&r.files.push(n)})),!1!==this._trigger("paste",e.Event("paste",{delegatedEvent:t}),r)&&this._onAdd(t,r))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var n=this,r=t.dataTransfer,i={};r&&r.files&&r.files.length&&(t.preventDefault(),this._getDroppedFiles(r).always((function(r){i.files=r,!1!==n._trigger("drop",e.Event("drop",{delegatedEvent:t}),i)&&n._onAdd(t,i)})))},_onDragOver:t("dragover"),_onDragEnter:t("dragenter"),_onDragLeave:t("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_destroy:function(){this._destroyEventHandlers()},_setOption:function(t,n){var r=-1!==e.inArray(t,this._specialOptions);r&&this._destroyEventHandlers(),this._super(t,n),r&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),n=t.pop();return t.shift(),new RegExp(t.join("/"),n)},_isRegExpOption:function(t,n){return"url"!==t&&"string"===e.type(n)&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var t=this,n=this.options,r=this.element.data();e.each(this.element[0].attributes,(function(e,i){var o,a=i.name.toLowerCase();/^data-/.test(a)&&(a=a.slice(5).replace(/-[a-z]/g,(function(e){return e.charAt(1).toUpperCase()})),o=r[a],t._isRegExpOption(a,o)&&(o=t._getRegExp(o)),n[a]=o)}))},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var n=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always((function(e){t.files=e,n._onAdd(null,t)})):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var n,r,i=this,o=e.Deferred(),a=o.promise();return a.abort=function(){return r=!0,n?n.abort():(o.reject(null,"abort","abort"),a)},this._getFileInputFiles(t.fileInput).always((function(e){r||(e.length?(t.files=e,(n=i._onSend(null,t)).then((function(e,t,n){o.resolve(e,t,n)}),(function(e,t,n){o.reject(e,t,n)}))):o.reject())})),this._enhancePromise(a)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}))},function(e,t,n){var r,i,o;i=[n(52)],void 0===(o="function"===typeof(r=function(e){e.ui=e.ui||{},e.ui.version="1.12.1";var t,n=0,r=Array.prototype.slice;e.cleanData=(t=e.cleanData,function(n){var r,i,o;for(o=0;null!=(i=n[o]);o++)try{(r=e._data(i,"events"))&&r.remove&&e(i).triggerHandler("remove")}catch(a){}t(n)}),e.widget=function(t,n,r){var i,o,a,s={},l=t.split(".")[0],c=l+"-"+(t=t.split(".")[1]);return r||(r=n,n=e.Widget),e.isArray(r)&&(r=e.extend.apply(null,[{}].concat(r))),e.expr[":"][c.toLowerCase()]=function(t){return!!e.data(t,c)},e[l]=e[l]||{},i=e[l][t],o=e[l][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},e.extend(o,i,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),(a=new n).options=e.widget.extend({},a.options),e.each(r,(function(t,r){e.isFunction(r)?s[t]=function(){function e(){return n.prototype[t].apply(this,arguments)}function i(e){return n.prototype[t].apply(this,e)}return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=i,t=r.apply(this,arguments),this._super=n,this._superApply=o,t}}():s[t]=r})),o.prototype=e.widget.extend(a,{widgetEventPrefix:i&&a.widgetEventPrefix||t},s,{constructor:o,namespace:l,widgetName:t,widgetFullName:c}),i?(e.each(i._childConstructors,(function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,o,n._proto)})),delete i._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var n,i,o=r.call(arguments,1),a=0,s=o.length;a<s;a++)for(n in o[a])i=o[a][n],o[a].hasOwnProperty(n)&&void 0!==i&&(e.isPlainObject(i)?t[n]=e.isPlainObject(t[n])?e.widget.extend({},t[n],i):e.widget.extend({},i):t[n]=i);return t},e.widget.bridge=function(t,n){var i=n.prototype.widgetFullName||t;e.fn[t]=function(o){var a="string"===typeof o,s=r.call(arguments,1),l=this;return a?this.length||"instance"!==o?this.each((function(){var n,r=e.data(this,i);return"instance"===o?(l=r,!1):r?e.isFunction(r[o])&&"_"!==o.charAt(0)?(n=r[o].apply(r,s))!==r&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")})):l=void 0:(s.length&&(o=e.widget.extend.apply(null,[o].concat(s))),this.each((function(){var t=e.data(this,i);t?(t.option(o||{}),t._init&&t._init()):e.data(this,i,new n(o,this))}))),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,(function(e,n){t._removeClass(n,e)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var r,i,o,a=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"===typeof t)if(a={},r=t.split("."),t=r.shift(),r.length){for(i=a[t]=e.widget.extend({},this.options[t]),o=0;o<r.length-1;o++)i[r[o]]=i[r[o]]||{},i=i[r[o]];if(t=r.pop(),1===arguments.length)return void 0===i[t]?null:i[t];i[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];a[t]=n}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var n,r,i;for(n in t)i=this.classesElementLookup[n],t[n]!==this.options.classes[n]&&i&&i.length&&(r=e(i.get()),this._removeClass(i,n),r.addClass(this._classes({element:r,keys:n,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){var n=[],r=this;function i(i,o){var a,s;for(s=0;s<i.length;s++)a=r.classesElementLookup[i[s]]||e(),a=t.add?e(e.unique(a.get().concat(t.element.get()))):e(a.not(t.element).get()),r.classesElementLookup[i[s]]=a,n.push(i[s]),o&&t.classes[i[s]]&&n.push(t.classes[i[s]])}return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&i(t.keys.match(/\S+/g)||[],!0),t.extra&&i(t.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(t){var n=this;e.each(n.classesElementLookup,(function(r,i){-1!==e.inArray(t.target,i)&&(n.classesElementLookup[r]=e(i.not(t.target).get()))}))},_removeClass:function(e,t,n){return this._toggleClass(e,t,n,!1)},_addClass:function(e,t,n){return this._toggleClass(e,t,n,!0)},_toggleClass:function(e,t,n,r){r="boolean"===typeof r?r:n;var i="string"===typeof e||null===e,o={extra:i?t:n,keys:i?e:t,element:i?this.element:e,add:r};return o.element.toggleClass(this._classes(o),r),this},_on:function(t,n,r){var i,o=this;"boolean"!==typeof t&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,(function(r,a){function s(){if(t||!0!==o.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"===typeof a?o[a]:a).apply(o,arguments)}"string"!==typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var l=r.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?i.on(c,u,s):n.on(c,s)}))},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(n).off(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"===typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,n,r){var i,o,a=this.options[t];if(r=r||{},(n=e.Event(n)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(i in o)i in n||(n[i]=o[i]);return this.element.trigger(n,r),!(e.isFunction(a)&&!1===a.apply(this.element[0],[n].concat(r))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},(function(t,n){e.Widget.prototype["_"+t]=function(r,i,o){var a;"string"===typeof i&&(i={effect:i});var s=i?!0===i||"number"===typeof i?n:i.effect||n:t;"number"===typeof(i=i||{})&&(i={duration:i}),a=!e.isEmptyObject(i),i.complete=o,i.delay&&r.delay(i.delay),a&&e.effects&&e.effects.effect[s]?r[t](i):s!==t&&r[s]?r[s](i.duration,i.easing,o):r.queue((function(n){e(this)[t](),o&&o.call(r[0]),n()}))}})),e.widget})?r.apply(t,i):r)||(e.exports=o)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(35),i=n(1),o=n(88),a=n(60),s=n(5),l=n(12),c=n(43);var u=function(e){if(null!=e&&""!==e&&!Array.isArray(e))return e},d=function(e){if(null!=e&&""!==e&&!Array.isArray(e)&&Number(e)%1===0)return parseInt(e)},f=function(e,t){if(null!=e.offer_code&&"string"===typeof e.offer_code)return e.offer_code;var n=t.match(/\/.*\/.*\/(.*)\//);return n||(n=t.match(/\/.*\/.*\/(.*)/)),n?decodeURIComponent(n[1]):void 0},h=function(e,t){if(null!=e){var n=t.reduce((function(t,n){var r=e[n];return null==r||(t[n]=r.toString()),t}),{});return Object.keys(n).length>0?n:void 0}},p=n(26),m=n(41),g=n.n(m);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=function(){this.defaultAttrs({productDataAndCheckoutStateHydrateDataSelector:".js-product-data-and-checkout-state-hydrate-holder",productCheckoutStore:void 0}),this.performProductCheckoutStateAction=function(e){this.attr.addedToBundle||this.attr.productCheckoutStore.dispatch(e)},this.initializeProductDataAndCheckoutState=function(){var e=this,t=this.select("productDataAndCheckoutStateHydrateDataSelector");if(null==t)throw new Error("Hydration data is missing for product");var n=t.data("product-data"),l=Object(s.e)(n);if(i.c(l))throw new Error("Hydration data is missing for product");var p=Object(s.d)(l),m=Object(s.l)({flightComponent:this,stateGetter:function(){return e.attr.productCheckoutStore.getState()},stateDispatch:function(t){return e.performProductCheckoutStateAction(t)}}).effectRunner,g=function(){e.trigger(document,"uiSyncCheckoutProductState",{permalink:e.attr.productCheckoutStore.getState().productData.permalink,productCheckoutState:e.attr.productCheckoutStore.getState()})};this.attr.productCheckoutStore=Object(o.a)(p,s.g,Object(a.a)((function(e){var t=e.onChanged,n=e.onAction;m({onAction:n,onChanged:t}),t((function(e){return e}),"reference",(function(){g()}))})));var v,y,b,w={supportedCustomFieldNames:p.productData.custom_fields.map((function(e){return e.name}))};this.attr.initialProductPreset=this.attr.isOverlay?(v=this.attr,y=w.supportedCustomFieldNames,{variants:null!=(b=v.overlayTier||v.overlayVariant)&&""!==b?b.split(",").map((function(e){return decodeURIComponent(e)})):void 0,price:u(v.overlayPrice),quantity:d(v.overlayQuantity),offerCode:v.overlayOfferCode,customFields:h(v.overlayUrlParams,y)}):function(e,t,n){var i=n.supportedCustomFieldNames,o=r.parse(e,{arrayFormat:"comma"}),a=o.tier||o.variant;return{variants:null!=a&&""!==a?Array.isArray(a)?a:[a]:void 0,price:u(o.price),quantity:d(o.quantity),offerCode:f(o,t),customFields:h(o,i)}}(window.location.search,window.location.pathname,w),this.on(document,"uiShouldUpdatePreviewBoxProductData",(function(t,n){e.performProductCheckoutStateAction({type:"reset-product-data",newPartialProductData:n.partialData})})),this.on(document,"uiPerformProductCheckoutStateAction",(function(t,n){t.preventDefault();var r=p.productData.permalink;n.permalink===r&&e.performProductCheckoutStateAction(n.action)})),this.on(this.$node,"dataCustomerSurcharge",(function(t,n){e.performProductCheckoutStateAction({type:"pass-through-payment-action",action:{type:"receive-surcharge-data-for-product",productUid:s.b,surchargeData:Object(c.c)(n)}})})),g(),this.performProductCheckoutStateAction({type:"set-interactive"}),setTimeout((function(){e.setPrice()}),0)},this.getIsForBundle=function(){return!1},this.getHasVariants=function(){return s.i.getHasVariants(this.attr.productCheckoutStore.getState())},this.getIsSingleUnit=function(){return this.attr.productCheckoutStore.getState().productData.currency.is_single_unit},this.getIsPreorder=function(){return this.attr.productCheckoutStore.getState().productData.is_preorder},this.getIsRecurringBilling=function(){return s.i.getIsRecurringBilling(this.attr.productCheckoutStore.getState())},this.getCurrencySymbol=function(){return this.attr.productCheckoutStore.getState().productData.currency.currency_symbol},this.getUnitPriceCents=function(){var e=this.attr.productCheckoutStore.getState();return s.i.getPriceCentsAfterDiscount(e)},this.getTotalPriceCents=function(){var e=this.attr.productCheckoutStore.getState();return s.i.getTotalPriceCents(e)},this.getTotalShippingCents=function(){var e=this.attr.productCheckoutStore.getState();return l.g.getTotalShippingInUSDCents(e.paymentState)},this.getIsFreePurchase=function(){return s.i.getIsFreePurchase(this.attr.productCheckoutStore.getState())},this.getQuantity=function(){return this.attr.productCheckoutStore.getState().selection.quantity},this.getIsTaxedExclusively=function(){return this.attr.productCheckoutStore.getState().productData.is_price_tax_exclusive},this.getAllowIncreasingOfQuantity=function(){return s.i.getAllowIncreasingOfQuantity(this.attr.productCheckoutStore.getState())},this.getIsValidQuantity=function(){return s.i.getIsValidQuantity(this.attr.productCheckoutStore.getState())},this.getZeroPlusEnabled=function(){var e=this.attr.productCheckoutStore.getState(),t=s.i.getIsPayWhatYouWant(e),n=s.i.getMinimumPWYWCents(e);return t&&0===n},this.getVatID=function(){return l.g.getVATID(this.attr.productCheckoutStore.getState().paymentState)},this.getTaxCountry=function(){return l.g.getTaxCountry(this.attr.productCheckoutStore.getState().paymentState)},this.selectRecurrence=function(e){this.performProductCheckoutStateAction({type:"switch-recurrence",recurrenceId:e})},this.selectVariantsByNames=function(e){this.performProductCheckoutStateAction({type:"select-variant-options-by-names",optionNames:e})},this.decreaseQuantity=function(){this.performProductCheckoutStateAction({type:"decrease-quantity"})},this.increaseQuantity=function(){this.performProductCheckoutStateAction({type:"increase-quantity"})},this.resetQuantity=function(){this.performProductCheckoutStateAction({type:"reset-quantity"})},this.validateQuantity=function(){var e=this.attr.productCheckoutStore.getState();return!!s.i.getIsValidQuantity(e)||(this.trigger("uiShowFlashMessage",{message:I18n.t("js.exceeding_quantity")}),this.trigger("uiForceCheckoutComponentValidation",{}),!1)},this.updatePrecomputedPricing=function(e){this.performProductCheckoutStateAction({type:"update-precomputed-pricing",pricing:e})},this.setPaymentBlurb=function(e){this.performProductCheckoutStateAction({type:"pass-through-payment-action",action:{type:"receive-surcharge-data-for-product",productUid:s.b,surchargeData:Object(c.e)(e)}})},this.validateCustomFields=function(){var e=this.attr.productCheckoutStore.getState();return!!s.i.getAreCustomFieldsValid(e)||(this.trigger("uiForceCheckoutComponentValidation",{}),!1)},this.validatePriceRange=function(){var e=this.attr.productCheckoutStore.getState();return!!s.i.getIsValidPWYWInput(e)||(this.trigger("uiForceCheckoutComponentValidation",{}),!1)},this.initiatePriceInformationUpdate=function(){var e=this.attr.productCheckoutStore.getState().productData,t=e.is_physical;this.trigger("uiNeedsProductCustomerSurcharge",{externalId:e.external_id,priceCents:this.getTotalPriceCents(),sellerId:e.seller_id,postalCode:t?this.select("zipCodeSelector").val():"",country:t?this.select("countrySelector").val():this.getTaxCountry(),vatId:this.getVatID(),isPhysical:t,isTaxExclusive:this.getIsTaxedExclusively(),productNode:this.$node,quantity:this.getQuantity()})},this.formatPrice=function(e){var t=this.getCurrencySymbol(),n=this.getIsSingleUnit()?0:2;return Object(p.a)(t,e,n)},this.serializeForBundle=function(){var e=this.attr.productCheckoutStore.getState(),t=g.a.generate();return Object(s.k)(e,{uid:t,wasRecommended:this.attr.wasProductRecommended,recommendedBy:this.attr.recommendedBy,supportsNativePaypalPayment:this.attr.supportsNativePaypalPayment,serializedForm:this.getSerializedFormExcludingCreditCard()})},this.serializePaymentForm=function(){var e=this.attr.productCheckoutStore.getState();return Object(s.j)(e,{wasRecommended:this.attr.wasProductRecommended,recommendedBy:this.attr.recommendedBy})},this.getPaymentFormUrlForEmbedRedirect=function(){var e=this.attr.productCheckoutStore.getState(),t=s.i.getSelectedPriceInfo(e),n=e.selection.quantity,i={wanted:"true",referrer:document.referrer};return t&&(i[t.recurrence]="true"),n&&(i.quantity=n),Routes.short_link_path(e.productData.permalink)+"?"+r.stringify(i)},this.setVariants=function(){if(this.getHasVariants()){this.attr.variantSelectionRequired&&delete this.attr.variantSelectionRequired;var e=this.attr.initialProductPreset.variants;e&&this.selectVariantsByNames(e),this.attr.variantsHaveBeenShown=!0,this.setPrice(),this.trigger("uiShouldResizeOverlay")}},this.setInitialPWYWPriceAndQuantity=function(){var e=this.attr.productCheckoutStore.getState(),t=e.productData,n=this.attr.initialProductPreset,r=s.i.getIsPayWhatYouWant(e)?n.price:void 0,i=t.quantity_enabled?n.quantity:void 0;this.performProductCheckoutStateAction({type:"set-initial-customized-price-and-quantity",priceQueryParam:r||null,quantity:i||null,withOfferCode:!!n.offerCode})},this.getInitialOfferCodeName=function(){return this.attr.initialProductPreset.offerCode},this.setInitialOfferCodeObject=function(e){var t=this.attr.initialProductPreset;e.is_valid&&this.trigger(document,"dataOfferCode",{error_code:null,error_message:null,offer_code_name:t.offerCode||"",products_data:v({},s.b,{offer_code_amount:e.amount,is_percent:e.is_percent})})},this.setInitialOfferCodeName=function(){var e=this.attr.initialProductPreset;null!=e.offerCode&&this.performProductCheckoutStateAction({type:"pass-through-payment-action",action:{type:"set-offer-code-from-query-params",offerCodeName:e.offerCode}})},this.setCustomFieldsFromUrlParams=function(){var e=this,t=this.attr.initialProductPreset.customFields;t&&Object.keys(t).forEach((function(n){var r=t[n];e.performProductCheckoutStateAction({type:"pass-through-payment-action",action:{type:"set-custom-field-value",productUid:s.b,fieldName:n,value:""===r?null:r}})}))},this.setPrice=function(){var e=this,t=Object(s.f)(this.attr.productCheckoutStore.getState());setTimeout((function(){e.updatePrecomputedPricing(t)}),0)},this.after("initialize",(function(){this.setInitialPWYWPriceAndQuantity(),this.setInitialOfferCodeName()}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return V}));var r=n(17),i=n(14);function o(e){Object(i.a)(1,arguments);var t=Object(r.a)(e);return!isNaN(t)}var a=n(151);function s(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function l(e,t){Object(i.a)(2,arguments);var n=Object(r.a)(e).getTime(),o=s(t);return new Date(n+o)}function c(e,t){Object(i.a)(2,arguments);var n=s(t);return l(e,-n)}function u(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var d={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return u("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):u(n+1,2)},d:function(e,t){return u(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":case"aaa":return n.toUpperCase();case"aaaaa":return n[0];case"aaaa":default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return u(e.getUTCHours()%12||12,t.length)},H:function(e,t){return u(e.getUTCHours(),t.length)},m:function(e,t){return u(e.getUTCMinutes(),t.length)},s:function(e,t){return u(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return u(Math.floor(r*Math.pow(10,n-3)),t.length)}},f=864e5;function h(e){Object(i.a)(1,arguments);var t=1,n=Object(r.a)(e),o=n.getUTCDay(),a=(o<t?7:0)+o-t;return n.setUTCDate(n.getUTCDate()-a),n.setUTCHours(0,0,0,0),n}function p(e){Object(i.a)(1,arguments);var t=Object(r.a)(e),n=t.getUTCFullYear(),o=new Date(0);o.setUTCFullYear(n+1,0,4),o.setUTCHours(0,0,0,0);var a=h(o),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var l=h(s);return t.getTime()>=a.getTime()?n+1:t.getTime()>=l.getTime()?n:n-1}function m(e){Object(i.a)(1,arguments);var t=p(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=h(n);return r}var g=6048e5;function v(e,t){Object(i.a)(1,arguments);var n=t||{},o=n.locale,a=o&&o.options&&o.options.weekStartsOn,l=null==a?0:s(a),c=null==n.weekStartsOn?l:s(n.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=Object(r.a)(e),d=u.getUTCDay(),f=(d<c?7:0)+d-c;return u.setUTCDate(u.getUTCDate()-f),u.setUTCHours(0,0,0,0),u}function y(e,t){Object(i.a)(1,arguments);var n=Object(r.a)(e,t),o=n.getUTCFullYear(),a=t||{},l=a.locale,c=l&&l.options&&l.options.firstWeekContainsDate,u=null==c?1:s(c),d=null==a.firstWeekContainsDate?u:s(a.firstWeekContainsDate);if(!(d>=1&&d<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(o+1,0,d),f.setUTCHours(0,0,0,0);var h=v(f,t),p=new Date(0);p.setUTCFullYear(o,0,d),p.setUTCHours(0,0,0,0);var m=v(p,t);return n.getTime()>=h.getTime()?o+1:n.getTime()>=m.getTime()?o:o-1}function b(e,t){Object(i.a)(1,arguments);var n=t||{},r=n.locale,o=r&&r.options&&r.options.firstWeekContainsDate,a=null==o?1:s(o),l=null==n.firstWeekContainsDate?a:s(n.firstWeekContainsDate),c=y(e,t),u=new Date(0);u.setUTCFullYear(c,0,l),u.setUTCHours(0,0,0,0);var d=v(u,t);return d}var w=6048e5;var _="midnight",S="noon",C="morning",x="afternoon",E="evening",P="night";function k(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(0===o)return n+String(i);var a=t||"";return n+String(i)+a+u(o,2)}function T(e,t){return e%60===0?(e>0?"-":"+")+u(Math.abs(e)/60,2):A(e,t)}function A(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+u(Math.floor(i/60),2)+n+u(i%60,2)}var O={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return d.y(e,t)},Y:function(e,t,n,r){var i=y(e,r),o=i>0?i:1-i;return"YY"===t?u(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):u(o,t.length)},R:function(e,t){return u(p(e),t.length)},u:function(e,t){return u(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return u(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return u(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return d.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return u(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,o){var a=function(e,t){Object(i.a)(1,arguments);var n=Object(r.a)(e),o=v(n,t).getTime()-b(n,t).getTime();return Math.round(o/w)+1}(e,o);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):u(a,t.length)},I:function(e,t,n){var o=function(e){Object(i.a)(1,arguments);var t=Object(r.a)(e),n=h(t).getTime()-m(t).getTime();return Math.round(n/g)+1}(e);return"Io"===t?n.ordinalNumber(o,{unit:"week"}):u(o,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):d.d(e,t)},D:function(e,t,n){var o=function(e){Object(i.a)(1,arguments);var t=Object(r.a)(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var o=t.getTime(),a=n-o;return Math.floor(a/f)+1}(e);return"Do"===t?n.ordinalNumber(o,{unit:"dayOfYear"}):u(o,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return u(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return u(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return u(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?S:0===i?_:i/12>=1?"pm":"am",t){case"b":case"bb":case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?E:i>=12?x:i>=4?C:P,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return d.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):d.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):u(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):u(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):d.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):d.s(e,t)},S:function(e,t){return d.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return T(i);case"XXXX":case"XX":return A(i);case"XXXXX":case"XXX":default:return A(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return T(i);case"xxxx":case"xx":return A(i);case"xxxxx":case"xxx":default:return A(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+k(i,":");case"OOOO":default:return"GMT"+A(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+k(i,":");case"zzzz":default:return"GMT"+A(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e;return u(Math.floor(i.getTime()/1e3),t.length)},T:function(e,t,n,r){return u((r._originalDate||e).getTime(),t.length)}};function I(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function j(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}var N={p:j,P:function(e,t){var n,r=e.match(/(P+)(p+)?/),i=r[1],o=r[2];if(!o)return I(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;case"PPPP":default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",I(i,t)).replace("{{time}}",j(o,t))}},D=n(112),R=["D","DD"],F=["YY","YYYY"];function M(e){return-1!==R.indexOf(e)}function L(e){return-1!==F.indexOf(e)}function B(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}var U=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,z=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,H=/^'([^]*?)'?$/,W=/''/g,q=/[a-zA-Z]/;function V(e,t,n){Object(i.a)(2,arguments);var l=String(t),u=n||{},d=u.locale||a.a,f=d.options&&d.options.firstWeekContainsDate,h=null==f?1:s(f),p=null==u.firstWeekContainsDate?h:s(u.firstWeekContainsDate);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=d.options&&d.options.weekStartsOn,g=null==m?0:s(m),v=null==u.weekStartsOn?g:s(u.weekStartsOn);if(!(v>=0&&v<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!d.localize)throw new RangeError("locale must contain localize property");if(!d.formatLong)throw new RangeError("locale must contain formatLong property");var y=Object(r.a)(e);if(!o(y))throw new RangeError("Invalid time value");var b=Object(D.a)(y),w=c(y,b),_={firstWeekContainsDate:p,weekStartsOn:v,locale:d,_originalDate:y},S=l.match(z).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,N[t])(e,d.formatLong,_):e})).join("").match(U).map((function(n){if("''"===n)return"'";var r=n[0];if("'"===r)return $(n);var i=O[r];if(i)return!u.useAdditionalWeekYearTokens&&L(n)&&B(n,t,e),!u.useAdditionalDayOfYearTokens&&M(n)&&B(n,t,e),i(w,n,d.localize,_);if(r.match(q))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");return n})).join("");return S}function $(e){return e.match(H)[1].replace(W,"'")}}]]);